<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for wavproperties.cpp &amp; aiffproperties.cpp</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for wavproperties.cpp &amp; aiffproperties.cpp
      </h3>
<h1 align="center">
        64.0%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>wavproperties.cpp (59.388645%)<th>aiffproperties.cpp (69.38776%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(82-137)<td><a href="#" name="0">(67-122)</a><td align="center"><font color="#ff0000">85</font>
<tr onclick='openModal("#f63526")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#f63526"><font color="#f63526">-</font><td><a href="#" name="1">(152-167)<td><a href="#" name="1">(146-160)</a><td align="center"><font color="#480000">24</font>
<tr onclick='openModal("#980517")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#980517"><font color="#980517">-</font><td><a href="#" name="2">(56-73)<td><a href="#" name="2">(44-65)</a><td align="center"><font color="#2d0000">15</font>
<tr onclick='openModal("#53858b")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#53858b"><font color="#53858b">-</font><td><a href="#" name="3">(139-149)<td><a href="#" name="3">(134-144)</a><td align="center"><font color="#240000">12</font>
</td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>wavproperties.cpp</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 #include &lt;tdebug.h&gt;
2 #include "wavfile.h"
3 #include "wavproperties.h"
4 using namespace TagLib;
5 namespace
6 {
7   enum WaveFormat
8   {
9     FORMAT_UNKNOWN = 0x0000,
10     FORMAT_PCM     = 0x0001,
11     FORMAT_IEEE_FLOAT = 0x0003
12   };
13 }
14 class RIFF::WAV::Properties::PropertiesPrivate
15 {
16 public:
17   PropertiesPrivate() :
18     format(0),
19     length(0),
20     bitrate(0),
21     sampleRate(0),
22     channels(0),
23     bitsPerSample(0),
24 <a name="2"></a>    sampleFrames(0) {}
25   int format;
26 <font color="#980517"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>  int length;
27   int bitrate;
28   int sampleRate;
29   int channels;
30   int bitsPerSample;
31   unsigned int sampleFrames;
32 };
33 RIFF::WAV::Properties::Properties(const ByteVector &amp;, ReadStyle style) :
34   AudioProperties(style),
35   d(new PropertiesPrivate())
36 {
37   debug("RIFF::WAV::Properties::Properties() -- This constructor is no longer used.");
38 }</b></font>
39 RIFF::WAV::Properties::Properties(const ByteVector &amp;, unsigned int, ReadStyle style) :
40   AudioProperties(style),
41   d(new PropertiesPrivate())
42 {
43 <a name="0"></a>  debug("RIFF::WAV::Properties::Properties() -- This constructor is no longer used.");
44 }
45 <font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>TagLib::RIFF::WAV::Properties::Properties(File *file, ReadStyle style) :
46   AudioProperties(style),
47   d(new PropertiesPrivate())
48 {
49   read(file);
50 }
51 RIFF::WAV::Properties::~Properties()
52 {
53   delete d;
54 }
55 int RIFF::WAV::Properties::length() const
56 {
57   return lengthInSeconds();
58 }
59 int RIFF::WAV::Properties::lengthInSeconds() const
60 {
61   return d-&gt;length / 1000;
62 }
63 int RIFF::WAV::Properties::lengthInMilliseconds() const
64 {
65   return d-&gt;length;
66 }
67 int RIFF::WAV::Properties::bitrate() const
68 {
69   return d-&gt;bitrate;
70 }
71 int RIFF::WAV::Properties::sampleRate() const
72 {
73   return d-&gt;sampleRate;
74 }
75 int RIFF::WAV::Properties::channels() const
76 {
77   return d-&gt;channels;
78 }
79 int RIFF::WAV::Properties::bitsPerSample() const
80 {
81   return d-&gt;bitsPerSample;
82 }
83 int RIFF::WAV::Properties::sampleWidth() const
84 {
85   return bitsPerSample();
86 }
87 unsigned int RIFF::WAV::Properties::sampleFrames() const
88 {
89 <a name="3"></a>  return d-&gt;sampleFrames;
90 }</b></font>
91 <font color="#53858b"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>int RIFF::WAV::Properties::format() const
92 {
93   return d-&gt;format;
94 }
95 void RIFF::WAV::Properties::read(File *file)
96 <a name="1"></a>{</b></font>
97   ByteVector data;
98   unsigned int streamLength = 0;
99 <font color="#f63526"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>  unsigned int totalSamples = 0;
100   for(unsigned int i = 0; i &lt; file-&gt;chunkCount(); ++i) {
101     const ByteVector name = file-&gt;chunkName(i);
102     if(name == "fmt ") {
103       if(data.isEmpty())
104         data = file-&gt;chunkData(i);
105       else
106         debug("RIFF::WAV::Properties::read() - Duplicate 'fmt ' chunk found.");
107     }
108     else if(name == "data") {
109       if(streamLength == 0)
110         streamLength = file-&gt;chunkDataSize(i) + file-&gt;chunkPadding(i);
111       else
112         debug("RIFF::WAV::Properties::read() - Duplicate 'data' chunk found.");
113     }</b></font>
114     else if(name == "fact") {
115       if(totalSamples == 0)
116         totalSamples = file-&gt;chunkData(i).toUInt(0, false);
117       else
118         debug("RIFF::WAV::Properties::read() - Duplicate 'fact' chunk found.");
119     }
120   }
121   if(data.size() &lt; 16) {
122     debug("RIFF::WAV::Properties::read() - 'fmt ' chunk not found or too short.");
123     return;
124   }
125   if(streamLength == 0) {
126     debug("RIFF::WAV::Properties::read() - 'data' chunk not found.");
127     return;
128   }
129   d-&gt;format = data.toShort(0, false);
130   if((d-&gt;format &amp; 0xffff) == 0xfffe) {
131     if(data.size() != 40) {
132       debug("RIFF::WAV::Properties::read() - extensible size incorrect");
133       return;
134     }
135     d-&gt;format = data.toShort(24, false);
136   }
137   if(d-&gt;format != FORMAT_PCM &amp;&amp; d-&gt;format != FORMAT_IEEE_FLOAT &amp;&amp; totalSamples == 0) {
138     debug("RIFF::WAV::Properties::read() - Non-PCM format, but 'fact' chunk not found.");
139     return;
140   }
141   d-&gt;channels      = data.toShort(2, false);
142   d-&gt;sampleRate    = data.toUInt(4, false);
143   d-&gt;bitsPerSample = data.toShort(14, false);
144   if(d-&gt;format != FORMAT_PCM &amp;&amp; !(d-&gt;format == FORMAT_IEEE_FLOAT &amp;&amp; totalSamples == 0))
145     d-&gt;sampleFrames = totalSamples;
146   else if(d-&gt;channels &gt; 0 &amp;&amp; d-&gt;bitsPerSample &gt; 0)
147     d-&gt;sampleFrames = streamLength / (d-&gt;channels * ((d-&gt;bitsPerSample + 7) / 8));
148   if(d-&gt;sampleFrames &gt; 0 &amp;&amp; d-&gt;sampleRate &gt; 0) {
149     const double length = d-&gt;sampleFrames * 1000.0 / d-&gt;sampleRate;
150     d-&gt;length  = static_cast&lt;int&gt;(length + 0.5);
151     d-&gt;bitrate = static_cast&lt;int&gt;(streamLength * 8.0 / length + 0.5);
152   }
153   else {
154     const unsigned int byteRate = data.toUInt(8, false);
155     if(byteRate &gt; 0) {
156       d-&gt;length  = static_cast&lt;int&gt;(streamLength * 1000.0 / byteRate + 0.5);
157       d-&gt;bitrate = static_cast&lt;int&gt;(byteRate * 8.0 / 1000.0 + 0.5);
158     }
159   }
160 }
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>aiffproperties.cpp</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 #include &lt;tstring.h&gt;
2 #include &lt;tdebug.h&gt;
3 #include "aifffile.h"
4 #include "aiffproperties.h"
5 using namespace TagLib;
6 class RIFF::AIFF::Properties::PropertiesPrivate
7 {
8 public:
9   PropertiesPrivate() :
10     length(0),
11     bitrate(0),
12     sampleRate(0),
13     channels(0),
14 <a name="2"></a>    bitsPerSample(0),
15     sampleFrames(0) {}
16 <font color="#980517"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>  int length;
17   int bitrate;
18   int sampleRate;
19   int channels;
20   int bitsPerSample;
21   ByteVector compressionType;
22   String compressionName;
23   unsigned int sampleFrames;
24 };
25 RIFF::AIFF::Properties::Properties(const ByteVector &amp;, ReadStyle style) :
26   AudioProperties(style),
27   d(new PropertiesPrivate())
28 {
29 <a name="0"></a>  debug("RIFF::AIFF::Properties::Properties() - This constructor is no longer used.");
30 }</b></font>
31 <font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>RIFF::AIFF::Properties::Properties(File *file, ReadStyle style) :
32   AudioProperties(style),
33   d(new PropertiesPrivate())
34 {
35   read(file);
36 }
37 RIFF::AIFF::Properties::~Properties()
38 {
39   delete d;
40 }
41 int RIFF::AIFF::Properties::length() const
42 {
43   return lengthInSeconds();
44 }
45 int RIFF::AIFF::Properties::lengthInSeconds() const
46 {
47   return d-&gt;length / 1000;
48 }
49 int RIFF::AIFF::Properties::lengthInMilliseconds() const
50 {
51   return d-&gt;length;
52 }
53 int RIFF::AIFF::Properties::bitrate() const
54 {
55   return d-&gt;bitrate;
56 }
57 int RIFF::AIFF::Properties::sampleRate() const
58 {
59   return d-&gt;sampleRate;
60 }
61 int RIFF::AIFF::Properties::channels() const
62 {
63   return d-&gt;channels;
64 }
65 int RIFF::AIFF::Properties::bitsPerSample() const
66 {
67   return d-&gt;bitsPerSample;
68 }
69 int RIFF::AIFF::Properties::sampleWidth() const
70 {
71   return bitsPerSample();
72 }
73 unsigned int RIFF::AIFF::Properties::sampleFrames() const
74 {
75   return d-&gt;sampleFrames;
76 }</b></font>
77 bool RIFF::AIFF::Properties::isAiffC() const
78 {
79   return (!d-&gt;compressionType.isEmpty());
80 }
81 ByteVector RIFF::AIFF::Properties::compressionType() const
82 {
83 <a name="3"></a>  return d-&gt;compressionType;
84 }
85 <font color="#53858b"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>String RIFF::AIFF::Properties::compressionName() const
86 {
87   return d-&gt;compressionName;
88 }
89 <a name="1"></a>void RIFF::AIFF::Properties::read(File *file)
90 {</b></font>
91   ByteVector data;
92 <font color="#f63526"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>  unsigned int streamLength = 0;
93   for(unsigned int i = 0; i &lt; file-&gt;chunkCount(); i++) {
94     const ByteVector name = file-&gt;chunkName(i);
95     if(name == "COMM") {
96       if(data.isEmpty())
97         data = file-&gt;chunkData(i);
98       else
99         debug("RIFF::AIFF::Properties::read() - Duplicate 'COMM' chunk found.");
100     }
101     else if(name == "SSND") {
102       if(streamLength == 0)
103         streamLength = file-&gt;chunkDataSize(i) + file-&gt;chunkPadding(i);
104       else
105         debug("RIFF::AIFF::Properties::read() - Duplicate 'SSND' chunk found.");
106     }</b></font>
107   }
108   if(data.size() &lt; 18) {
109     debug("RIFF::AIFF::Properties::read() - 'COMM' chunk not found or too short.");
110     return;
111   }
112   if(streamLength == 0) {
113     debug("RIFF::AIFF::Properties::read() - 'SSND' chunk not found.");
114     return;
115   }
116   d-&gt;channels      = data.toShort(0U);
117   d-&gt;sampleFrames  = data.toUInt(2U);
118   d-&gt;bitsPerSample = data.toShort(6U);
119   const long double sampleRate = data.toFloat80BE(8);
120   if(sampleRate &gt;= 1.0)
121     d-&gt;sampleRate = static_cast&lt;int&gt;(sampleRate + 0.5);
122   if(d-&gt;sampleFrames &gt; 0 &amp;&amp; d-&gt;sampleRate &gt; 0) {
123     const double length = d-&gt;sampleFrames * 1000.0 / sampleRate;
124     d-&gt;length  = static_cast&lt;int&gt;(length + 0.5);
125     d-&gt;bitrate = static_cast&lt;int&gt;(streamLength * 8.0 / length + 0.5);
126   }
127   if(data.size() &gt;= 23) {
128     d-&gt;compressionType = data.mid(18, 4);
129     d-&gt;compressionName
130       = String(data.mid(23, static_cast&lt;unsigned char&gt;(data[22])), String::Latin1);
131   }
132 }
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
