<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for TestBoolInterval.cpp &amp; TestGradient.cpp</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for TestBoolInterval.cpp &amp; TestGradient.cpp
      </h3>
<h1 align="center">
        5.8%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>TestBoolInterval.cpp (26.086956%)<th>TestGradient.cpp (3.3240998%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(17-42)<td><a href="#" name="0">(19-25)</a><td align="center"><font color="#ff0000">12</font>
</td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>TestBoolInterval.cpp</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 #include "TestBoolInterval.h"
2 #include "ibex_BoolInterval.h"
3 <a name="0"></a>
4 using namespace std;
5 <font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>namespace ibex {
6 #define ERROR 1e-10
7 void TestBoolInterval::test_constructor1(){
8 	BoolInterval a(YES);
9 	CPPUNIT_ASSERT(a == YES);
10 	BoolInterval b(NO);
11 	CPPUNIT_ASSERT(b == NO);
12 	BoolInterval c(MAYBE);
13 	CPPUNIT_ASSERT(c == MAYBE);
14 	BoolInterval d(EMPTY_BOOL);
15 	CPPUNIT_ASSERT(d == EMPTY_BOOL);
16 }
17 void TestBoolInterval::test_constructor2(){
18 }
19 void TestBoolInterval::test_constructor3(){</b></font>
20 	BoolInterval a(NO);
21 	BoolInterval b(a);
22 	CPPUNIT_ASSERT(a == b);
23 	CPPUNIT_ASSERT(b == NO);
24 }
25 void TestBoolInterval::test_assignement(){
26 	BoolInterval a;
27 	BoolInterval b(NO);
28 	a = YES;
29 	CPPUNIT_ASSERT(a == YES);
30 	a = b;
31 	CPPUNIT_ASSERT(a == NO);
32 }
33 void TestBoolInterval::test_inter1(){
34 	BoolInterval a(MAYBE), b(YES), c(NO);
35 	CPPUNIT_ASSERT( (a &amp; b) == YES);
36 	CPPUNIT_ASSERT( (a &amp; NO) == NO);
37 	CPPUNIT_ASSERT( (b &amp; c) == EMPTY_BOOL);
38 }
39 void TestBoolInterval::test_inter2(){
40 	BoolInterval a(MAYBE), b(YES);
41 	a &amp;= b;
42 	CPPUNIT_ASSERT(a == YES);	
43 }
44 void TestBoolInterval::test_union1(){
45 	BoolInterval a(MAYBE), b(YES), c(NO);
46 	CPPUNIT_ASSERT( (a | b) == MAYBE);
47 	CPPUNIT_ASSERT( (a | NO) == MAYBE);
48 	CPPUNIT_ASSERT( (b | c) == MAYBE);
49 }
50 void TestBoolInterval::test_union2(){
51 	BoolInterval a(MAYBE), b(YES);
52 	a |= b;
53 	CPPUNIT_ASSERT(a == MAYBE);	
54 }
55 void TestBoolInterval::test_and(){
56 	BoolInterval a(MAYBE), b(YES), c(NO);
57 	CPPUNIT_ASSERT( (a &amp;&amp; b) == MAYBE);
58 	CPPUNIT_ASSERT( (a &amp;&amp; NO) == NO);
59 	CPPUNIT_ASSERT( (b &amp;&amp; c) == NO);
60 }
61 void TestBoolInterval::test_or(){
62 	BoolInterval a(MAYBE), b(YES), c(NO);
63 	CPPUNIT_ASSERT( (a || b) == YES);
64 	CPPUNIT_ASSERT( (a || NO) == a);
65 	CPPUNIT_ASSERT( (b || c) == YES);
66 }
} </pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>TestGradient.cpp</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 #include "TestGradient.h"
2 #include "ibex_Function.h"
3 #include "ibex_Expr.h"
4 #include "ibex_Eval.h"
5 #include "Ponts30.h"
6 <a name="0"></a>
7 using namespace std;
8 <font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>namespace ibex {
9 void TestGradient::deco01() { }
10 void TestGradient::deco02() { }
11 void TestGradient::add01() {</b></font>
12 	const ExprSymbol&amp; x = ExprSymbol::new_("x");
13 	const ExprSymbol&amp; y = ExprSymbol::new_("y");
14 	Function f(x,y,x+y);
15 	IntervalVector box(2);
16 	box[0]=Interval(1,2);
17 	box[1]=Interval(3,4);
18 	IntervalVector g(2);
19 	f.gradient(box,g);
20 	check(g[0],Interval(1,1));
21 	check(g[1],Interval(1,1));
22 	CPPUNIT_ASSERT(g[0].is_superset(Interval(1,1)));
23 	CPPUNIT_ASSERT(g[1].is_superset(Interval(1,1)));
24 }
25 void TestGradient::add02() {
26 	Variable x,y;
27 	Function f(x,y,ExprVector::new_col(sqr(x)-y,x*y));
28 	IntervalVector box(2);
29 	box[0]=Interval(1,2);
30 	box[1]=Interval(3,4);
31 	IntervalMatrix J(2,2);
32 	f.jacobian(box,J);
33 	check(J[0][0],Interval(2,4));
34 	check(J[0][1],Interval(-1,-1));
35 	check(J[1][0],Interval(3,4));
36 	check(J[1][1],Interval(1,2));
37 	CPPUNIT_ASSERT(J[0][0].is_superset(Interval(2,4)));
38 	CPPUNIT_ASSERT(J[0][1].is_superset(Interval(-1,-1)));
39 	CPPUNIT_ASSERT(J[1][0].is_superset(Interval(3,4)));
40 	CPPUNIT_ASSERT(J[1][1].is_superset(Interval(1,2)));
41 }
42 void TestGradient::add03() { }
43 void TestGradient::add04() { }
44 void TestGradient::mulVV() {
45 	Variable x(1,3);
46 	Variable y(3);
47 	Function f(x,y,x*y);
48 	double _xy[]={1,2,3,4,5,6};
49 	IntervalVector xy(Vector(6,_xy));
50 	double _g[]={4,5,6,1,2,3};
51 	check(f.gradient(xy),IntervalVector(Vector(6,_g)));
52 	CPPUNIT_ASSERT(f.gradient(xy).is_superset(IntervalVector(Vector(6,_g))));
53 }
54 void TestGradient::transpose01() {
55 	Variable x(3);
56 	Variable y(3);
57 	Function f(x,y,transpose(x)*y);
58 	double _xy[]={1,2,3,4,5,6};
59 	IntervalVector xy(Vector(6,_xy));
60 	double _g[]={4,5,6,1,2,3};
61 	check(f.gradient(xy),IntervalVector(Vector(6,_g)));
62 	CPPUNIT_ASSERT(f.gradient(xy).is_superset(IntervalVector(Vector(6,_g))));
63 }
64 void TestGradient::mulMV01() {
65 	double _M[]={1,2,2,3};
66 	Matrix M(2,2,_M);
67 	Variable x(2);
68 	Function f(x,transpose(x)*(M*x)); 	IntervalVector box(2,Interval(1.0));
69 	IntervalVector g=f.gradient(box);
70 	check(g[0],Interval(6));
71 	check(g[1],Interval(10));
72 	CPPUNIT_ASSERT(g[0].is_superset(Interval(6)));
73 	CPPUNIT_ASSERT(g[1].is_superset(Interval(10)));
74 }
75 void TestGradient::mulVM01() {
76 	double _M[]={1,2,2,3};
77 	Matrix M(2,2,_M);
78 	Variable x(2);
79 	Function f(x,transpose(x)*M*x); 	IntervalVector box(2,Interval(1.0));
80 	IntervalVector g=f.gradient(box);
81 	check(g[0],Interval(6));
82 	check(g[1],Interval(10));
83 	CPPUNIT_ASSERT(g[0].is_superset(Interval(6)));
84 	CPPUNIT_ASSERT(g[1].is_superset(Interval(10)));
85 }
86 void TestGradient::mulVM02() {
87 	Variable x;
88 	Array&lt;const ExprNode&gt; _row1(x,ExprConstant::new_scalar(1));
89 	Array&lt;const ExprNode&gt; _row2(ExprConstant::new_scalar(0),x);
90 	const ExprVector&amp; row1=ExprVector::new_row(_row1);
91 	const ExprVector&amp; row2=ExprVector::new_row(_row2);
92 	Array&lt;const ExprNode&gt; _M(row1,row2);
93 	const ExprVector&amp; M=ExprVector::new_col(_M);
94 	Array&lt;const ExprNode&gt; _v(x,-x);
95 	const ExprVector&amp; v=ExprVector::new_row(_v);
96 	Function f(x,v*M);
97 	IntervalVector box(1,Interval(3.0));
98 	IntervalMatrix J=f.jacobian(box);
99 	check(J[0][0],Interval(6));
100 	check(J[1][0],Interval(-5));
101 	CPPUNIT_ASSERT(J[0][0].is_superset(Interval(6)));
102 	CPPUNIT_ASSERT(J[1][0].is_superset(Interval(-5)));
103 }
104 void TestGradient::dist() {
105 	Variable xA,xB,yA,yB;
106 	Function dist(xA,xB,yA,yB,sqr(xA-xB)+sqr(yA-yB));
107 	IntervalVector box(4);
108 	box[0]=Interval(1,1);
109 	box[1]=Interval(2,2);
110 	box[2]=Interval(2,2);
111 	box[3]=Interval(4,4);
112 	IntervalVector g(4);
113 	dist.gradient(box,g);
114 	check(g[0],Interval(-2,-2));
115 	check(g[1],Interval(2,2));
116 	check(g[2],Interval(-4,-4));
117 	check(g[3],Interval(4,4));
118 	CPPUNIT_ASSERT(g[0].is_superset(Interval(-2,-2)));
119 	CPPUNIT_ASSERT(g[1].is_superset(Interval(2,2)));
120 	CPPUNIT_ASSERT(g[2].is_superset(Interval(-4,-4)));
121 	CPPUNIT_ASSERT(g[3].is_superset(Interval(4,4)));
122 }
123 static double BOX1[30][2]={
124 		{3.4826061062102722232,3.4846061062102768879} ,
125 		{3.5744039600153962866,3.5764039600154005072} ,
126 		{3.2391050837195050072,3.2411050837195105601} ,
127 		{3.5177713541601911551,3.5197713541601940435} ,
128 		{3.4099008703180069269,3.4119008703180142561} ,
129 		{3.3352095857633039522,3.3372095857633072846} ,
130 		{3.3960878856415881444,3.3980878856415985823} ,
131 		{3.085591474532709988,3.0875914745327137645} ,
132 		{3.1663998478272401549,3.1683998478272479282} ,
133 		{3.2785769799080979325,3.2805769799081017091} ,
134 		{2.9956040612287382352,2.9976040612287428999} ,
135 		{3.4611387483049846914,3.463138748304988912} ,
136 		{0.39899999999999968825,0.40100000000000096678} ,
137 		{1.9585917942265420599,1.9605917942265429499} ,
138 		{2.4023959387712587876,2.4043959387712607878} ,
139 		{-1.503546954078445852,-1.5015469540784438518} ,
140 		{3.4464903944979732309,3.4484903944979783397} ,
141 		{2.8407250066344245099,2.8427250066344273982} ,
142 		{3.6333497218046626465,3.635349721804671308} ,
143 		{3.0068080936676628845,3.0088080936676693256} ,
144 		{3.8706115579677371485,3.8726115579677440337} ,
145 		{2.9280247128026140047,2.930024712802626663} ,
146 		{3.6837522306610468448,3.6857522306610515095} ,
147 		{2.7619416257693760741,2.7639416257693838475} ,
148 		{3.4968929033543552087,3.4988929033543603175} ,
149 		{2.5958585387361381436,2.597858538736141476} ,
150 		{4.998999999999999666,5.001000000000000334} ,
151 		{-0.0010000000000000000208,0.0010000000000000000208} ,
152 		{-0.0010000000000000000208,0.0010000000000000000208} ,
153 		{-0.0010000000000000000208,0.0010000000000000000208}};
154 static double BOX2[30][2]={
155 		{3.4832867362664199362,3.4837719212686297787},
156 		{3.5752735089044307415,3.5762105476581620422},
157 		{3.2399974415360897062,3.2401268021232545458},
158 		{3.5186799574459843853,3.5192322006519320965},
159 		{3.4106812872209695264,3.4113241081913860953},
160 		{3.3361970014931734418,3.3367916900361369592},
161 		{3.3974778929680726769,3.3979273274145365136},
162 		{3.0865807348975988766,3.0870657776935992445},
163 		{3.1673314331091675378,3.1677451315687661371},
164 		{3.2795129985028586006,3.2799006237457786206},
165 		{2.996604061228723026,2.996604061228757665},
166 		{3.4621387483049699263,3.4621387483050054534},
167 		{0.3999999999999950262,0.40000000000000479616},
168 		{1.9595917942265408396,1.9595917942265446143},
169 		{2.4033959387712493516,2.4033959387712702238},
170 		{-1.5025469540784570643,-1.5025469540784324174},
171 		{3.4465487851294396293,3.448049597185079751},
172 		{2.8416688657333719625,2.8418394458087909982},
173 		{3.6341434117912472246,3.6355518518026306296},
174 		{3.0066128273395080761,3.008779830872817751},
175 		{3.8690647612242790032,3.8747578279799892442},
176 		{2.923690809284606118,2.9334984484450830067},
177 		{3.6841119392477881256,3.6856127513034282472},
178 		{2.7619683769831189224,2.7636592301944085115},
179 		{3.4978929033542964788,3.4978929033544212679},
180 		{2.596858538736106059,2.5968585387361744488},
181 		{4.9999999999999982236,5.0000000000000026645},
182 		{0,0},
183 		{0,0},
184 		{0,0}};
185 void TestGradient::jac01() {
186 	IntervalMatrix J(30,30);
187 	Ponts30 p30;
188 	p30.f-&gt;jacobian(IntervalVector(30,BOX1),J);
189 	double error=1e-5;
190 	CPPUNIT_ASSERT(almost_eq(J[0][0],Interval(0.483002,0.491002),error));
191 	CPPUNIT_ASSERT(almost_eq(J[0][1],Interval(0.109265,0.117265),error));
192 	CPPUNIT_ASSERT(almost_eq(J[0][2],Interval(-0.491002,-0.483002),error));
193 	CPPUNIT_ASSERT(almost_eq(J[0][3],Interval(-0.117265,-0.109265),error));
194 	CPPUNIT_ASSERT(almost_eq(J[1][0],Interval(0.14141,0.14941),error));
195 	CPPUNIT_ASSERT(almost_eq(J[1][1],Interval(0.474389,0.482389),error));
196 	CPPUNIT_ASSERT(almost_eq(J[1][4],Interval(-0.14941,-0.14141),error));
197 	CPPUNIT_ASSERT(almost_eq(J[1][5],Interval(-0.482389,-0.474389),error));
198 	CPPUNIT_ASSERT(almost_eq(J[2][2],Interval(-0.345592,-0.337592),error));
199 	CPPUNIT_ASSERT(almost_eq(J[2][3],Interval(0.361124,0.369124),error));
200 	CPPUNIT_ASSERT(almost_eq(J[2][4],Interval(0.337592,0.345592),error));
201 	CPPUNIT_ASSERT(almost_eq(J[2][5],Interval(-0.369124,-0.361124),error));
202 	CPPUNIT_ASSERT(almost_eq(J[3][2],Interval(0.483002,0.491002),error));
203 	CPPUNIT_ASSERT(almost_eq(J[3][3],Interval(0.109265,0.117265),error));
204 	CPPUNIT_ASSERT(almost_eq(J[3][10],Interval(-0.491002,-0.483002),error));
205 	CPPUNIT_ASSERT(almost_eq(J[3][11],Interval(-0.117265,-0.109265),error));
206 	CPPUNIT_ASSERT(almost_eq(J[4][4],Interval(0.023626,0.031626),error));
207 	CPPUNIT_ASSERT(almost_eq(J[4][5],Interval(0.495236,0.503236),error));
208 	CPPUNIT_ASSERT(almost_eq(J[4][6],Interval(-0.031626,-0.023626),error));
209 	CPPUNIT_ASSERT(almost_eq(J[4][7],Interval(-0.503236,-0.495236),error));
210 	CPPUNIT_ASSERT(almost_eq(J[5][4],Interval(0.483002,0.491002),error));
211 	CPPUNIT_ASSERT(almost_eq(J[5][5],Interval(0.109265,0.117265),error));
212 	CPPUNIT_ASSERT(almost_eq(J[5][8],Interval(-0.491002,-0.483002),error));
213 	CPPUNIT_ASSERT(almost_eq(J[5][9],Interval(-0.117265,-0.109265),error));
214 	CPPUNIT_ASSERT(almost_eq(J[6][6],Interval(-0.104805,-0.096805),error));
215 	CPPUNIT_ASSERT(almost_eq(J[6][7],Interval(0.485733,0.493733),error));
216 	CPPUNIT_ASSERT(almost_eq(J[6][16],Interval(0.096805,0.104805),error));
217 	CPPUNIT_ASSERT(almost_eq(J[6][17],Interval(-0.493733,-0.485733),error));
218 	CPPUNIT_ASSERT(almost_eq(J[7][6],Interval(0.455376,0.463376),error));
219 	CPPUNIT_ASSERT(almost_eq(J[7][7],Interval(-0.389971,-0.381971),error));
220 	CPPUNIT_ASSERT(almost_eq(J[7][8],Interval(-0.463376,-0.455376),error));
221 	CPPUNIT_ASSERT(almost_eq(J[7][9],Interval(0.381971,0.389971),error));
222 	CPPUNIT_ASSERT(almost_eq(J[8][8],Interval(0.337592,0.345592),error));
223 	CPPUNIT_ASSERT(almost_eq(J[8][9],Interval(-0.369124,-0.361124),error));
224 	CPPUNIT_ASSERT(almost_eq(J[8][10],Interval(-0.345592,-0.337592),error));
225 	CPPUNIT_ASSERT(almost_eq(J[8][11],Interval(0.361124,0.369124),error));
226 	CPPUNIT_ASSERT(almost_eq(J[9][2],Interval(0.14141,0.14941),error));
227 	CPPUNIT_ASSERT(almost_eq(J[9][3],Interval(0.474389,0.482389),error));
228 	CPPUNIT_ASSERT(almost_eq(J[9][8],Interval(-0.14941,-0.14141),error));
229 	CPPUNIT_ASSERT(almost_eq(J[9][9],Interval(-0.482389,-0.474389),error));
230 	CPPUNIT_ASSERT(almost_eq(J[10][10],Interval(5.18921,5.19721),error));
231 	CPPUNIT_ASSERT(almost_eq(J[10][11],Interval(3.00109,3.00909),error));
232 	CPPUNIT_ASSERT(almost_eq(J[10][12],Interval(-5.19721,-5.18921),error));
233 	CPPUNIT_ASSERT(almost_eq(J[10][13],Interval(-3.00909,-3.00109),error));
234 	CPPUNIT_ASSERT(almost_eq(J[11][10],Interval(1.18242,1.19042),error));
235 	CPPUNIT_ASSERT(almost_eq(J[11][11],Interval(9.92537,9.93337),error));
236 	CPPUNIT_ASSERT(almost_eq(J[11][14],Interval(-1.19042,-1.18242),error));
237 	CPPUNIT_ASSERT(almost_eq(J[11][15],Interval(-9.93337,-9.92537),error));
238 	CPPUNIT_ASSERT(almost_eq(J[12][12],Interval(-9.204,-9.196),error));
239 	CPPUNIT_ASSERT(almost_eq(J[12][13],Interval(3.91518,3.92318),error));
240 	CPPUNIT_ASSERT(almost_eq(J[12][26],Interval(9.196,9.204),error));
241 	CPPUNIT_ASSERT(almost_eq(J[12][27],Interval(-3.92318,-3.91518),error));
242 	CPPUNIT_ASSERT(almost_eq(J[13][12],Interval(0.796,0.804),error));
243 	CPPUNIT_ASSERT(almost_eq(J[13][13],Interval(3.91518,3.92318),error));
244 	CPPUNIT_ASSERT(almost_eq(J[13][28],Interval(-0.804,-0.796),error));
245 	CPPUNIT_ASSERT(almost_eq(J[13][29],Interval(-3.92318,-3.91518),error));
246 	CPPUNIT_ASSERT(almost_eq(J[14][14],Interval(-5.19721,-5.18921),error));
247 	CPPUNIT_ASSERT(almost_eq(J[14][15],Interval(-3.00909,-3.00109),error));
248 	CPPUNIT_ASSERT(almost_eq(J[14][26],Interval(5.18921,5.19721),error));
249 	CPPUNIT_ASSERT(almost_eq(J[14][27],Interval(3.00109,3.00909),error));
250 	CPPUNIT_ASSERT(almost_eq(J[15][12],Interval(-4.01079,-4.00279),error));
251 	CPPUNIT_ASSERT(almost_eq(J[15][13],Interval(6.92028,6.92828),error));
252 	CPPUNIT_ASSERT(almost_eq(J[15][14],Interval(4.00279,4.01079),error));
253 	CPPUNIT_ASSERT(almost_eq(J[15][15],Interval(-6.92828,-6.92028),error));
254 	CPPUNIT_ASSERT(almost_eq(J[16][16],Interval(-0.377719,-0.369719),error));
255 	CPPUNIT_ASSERT(almost_eq(J[16][17],Interval(-0.336166,-0.328166),error));
256 	CPPUNIT_ASSERT(almost_eq(J[16][18],Interval(0.369719,0.377719),error));
257 	CPPUNIT_ASSERT(almost_eq(J[16][19],Interval(0.328166,0.336166),error));
258 	CPPUNIT_ASSERT(almost_eq(J[17][16],Interval(-0.104805,-0.096805),error));
259 	CPPUNIT_ASSERT(almost_eq(J[17][17],Interval(0.485733,0.493733),error));
260 	CPPUNIT_ASSERT(almost_eq(J[17][24],Interval(0.096805,0.104805),error));
261 	CPPUNIT_ASSERT(almost_eq(J[17][25],Interval(-0.493733,-0.485733),error));
262 	CPPUNIT_ASSERT(almost_eq(J[18][6],Interval(-0.478524,-0.470524),error));
263 	CPPUNIT_ASSERT(almost_eq(J[18][7],Interval(0.153567,0.161567),error));
264 	CPPUNIT_ASSERT(almost_eq(J[18][18],Interval(0.470524,0.478524),error));
265 	CPPUNIT_ASSERT(almost_eq(J[18][19],Interval(-0.161567,-0.153567),error));
266 	CPPUNIT_ASSERT(almost_eq(J[19][18],Interval(-0.104805,-0.096805),error));
267 	CPPUNIT_ASSERT(almost_eq(J[19][19],Interval(0.485733,0.493733),error));
268 	CPPUNIT_ASSERT(almost_eq(J[19][22],Interval(0.096805,0.104805),error));
269 	CPPUNIT_ASSERT(almost_eq(J[19][23],Interval(-0.493733,-0.485733),error));
270 	CPPUNIT_ASSERT(almost_eq(J[20][20],Interval(0.369719,0.377719),error));
271 	CPPUNIT_ASSERT(almost_eq(J[20][21],Interval(0.328166,0.336166),error));
272 	CPPUNIT_ASSERT(almost_eq(J[20][22],Interval(-0.377719,-0.369719),error));
273 	CPPUNIT_ASSERT(almost_eq(J[20][23],Interval(-0.336166,-0.328166),error));
274 	CPPUNIT_ASSERT(almost_eq(J[21][18],Interval(-0.478524,-0.470524),error));
275 	CPPUNIT_ASSERT(almost_eq(J[21][19],Interval(0.153567,0.161567),error));
276 	CPPUNIT_ASSERT(almost_eq(J[21][20],Interval(0.470524,0.478524),error));
277 	CPPUNIT_ASSERT(almost_eq(J[21][21],Interval(-0.161567,-0.153567),error));
278 	CPPUNIT_ASSERT(almost_eq(J[22][16],Interval(-0.478524,-0.470524),error));
279 	CPPUNIT_ASSERT(almost_eq(J[22][17],Interval(0.153567,0.161567),error));
280 	CPPUNIT_ASSERT(almost_eq(J[22][22],Interval(0.470524,0.478524),error));
281 	CPPUNIT_ASSERT(almost_eq(J[22][23],Interval(-0.161567,-0.153567),error));
282 	CPPUNIT_ASSERT(almost_eq(J[23][22],Interval(0.369719,0.377719),error));
283 	CPPUNIT_ASSERT(almost_eq(J[23][23],Interval(0.328166,0.336166),error));
284 	CPPUNIT_ASSERT(almost_eq(J[23][24],Interval(-0.377719,-0.369719),error));
285 	CPPUNIT_ASSERT(almost_eq(J[23][25],Interval(-0.336166,-0.328166),error));
286 	CPPUNIT_ASSERT(almost_eq(J[24][14],Interval(-2.19299,-2.18499),error));
287 	CPPUNIT_ASSERT(almost_eq(J[24][15],Interval(-8.20281,-8.19481),error));
288 	CPPUNIT_ASSERT(almost_eq(J[24][24],Interval(2.18499,2.19299),error));
289 	CPPUNIT_ASSERT(almost_eq(J[24][25],Interval(8.19481,8.20281),error));
290 	CPPUNIT_ASSERT(almost_eq(J[25][24],Interval(-3.00821,-3.00021),error));
291 	CPPUNIT_ASSERT(almost_eq(J[25][25],Interval(5.18972,5.19772),error));
292 	CPPUNIT_ASSERT(almost_eq(J[25][26],Interval(3.00021,3.00821),error));
293 	CPPUNIT_ASSERT(almost_eq(J[25][27],Interval(-5.19772,-5.18972),error));
294 	CPPUNIT_ASSERT(almost_eq(J[26][26],Interval(9.996,10.004),error));
295 	CPPUNIT_ASSERT(almost_eq(J[26][27],Interval(-0.004,0.004),error));
296 	CPPUNIT_ASSERT(almost_eq(J[26][28],Interval(-10.004,-9.996),error));
297 	CPPUNIT_ASSERT(almost_eq(J[26][29],Interval(-0.004,0.004),error));
298 	CPPUNIT_ASSERT(almost_eq(J[27][27],Interval(1,1),error));
299 	CPPUNIT_ASSERT(almost_eq(J[28][28],Interval(1,1),error));
300 	CPPUNIT_ASSERT(almost_eq(J[29][29],Interval(1,1),error));
301 }
302 void TestGradient::jac02() {
303 	IntervalMatrix J(30,30);
304 	Ponts30 p30;
305 	p30.f-&gt;jacobian(IntervalVector(30,BOX2),J);
306 	double error=1e-5;
307 	CPPUNIT_ASSERT(almost_eq(J[0][0],Interval(0.48632,0.487549),error));
308 	CPPUNIT_ASSERT(almost_eq(J[0][1],Interval(0.112083,0.115061),error));
309 	CPPUNIT_ASSERT(almost_eq(J[0][2],Interval(-0.487549,-0.48632),error));
310 	CPPUNIT_ASSERT(almost_eq(J[0][3],Interval(-0.115061,-0.112083),error));
311 	CPPUNIT_ASSERT(almost_eq(J[1][0],Interval(0.143925,0.146181),error));
312 	CPPUNIT_ASSERT(almost_eq(J[1][1],Interval(0.476964,0.480027),error));
313 	CPPUNIT_ASSERT(almost_eq(J[1][4],Interval(-0.146181,-0.143925),error));
314 	CPPUNIT_ASSERT(almost_eq(J[1][5],Interval(-0.480027,-0.476964),error));
315 	CPPUNIT_ASSERT(almost_eq(J[2][2],Interval(-0.342653,-0.341109),error));
316 	CPPUNIT_ASSERT(almost_eq(J[2][3],Interval(0.363777,0.36607),error));
317 	CPPUNIT_ASSERT(almost_eq(J[2][4],Interval(0.341109,0.342653),error));
318 	CPPUNIT_ASSERT(almost_eq(J[2][5],Interval(-0.36607,-0.363777),error));
319 	CPPUNIT_ASSERT(almost_eq(J[3][2],Interval(0.486787,0.487045),error));
320 	CPPUNIT_ASSERT(almost_eq(J[3][3],Interval(0.113082,0.114187),error));
321 	CPPUNIT_ASSERT(almost_eq(J[3][10],Interval(-0.487045,-0.486787),error));
322 	CPPUNIT_ASSERT(almost_eq(J[3][11],Interval(-0.114187,-0.113082),error));
323 	CPPUNIT_ASSERT(almost_eq(J[4][4],Interval(0.0255079,0.0276924),error));
324 	CPPUNIT_ASSERT(almost_eq(J[4][5],Interval(0.498262,0.500422),error));
325 	CPPUNIT_ASSERT(almost_eq(J[4][6],Interval(-0.0276924,-0.0255079),error));
326 	CPPUNIT_ASSERT(almost_eq(J[4][7],Interval(-0.500422,-0.498262),error));
327 	CPPUNIT_ASSERT(almost_eq(J[5][4],Interval(0.485872,0.487985),error));
328 	CPPUNIT_ASSERT(almost_eq(J[5][5],Interval(0.112593,0.114557),error));
329 	CPPUNIT_ASSERT(almost_eq(J[5][8],Interval(-0.487985,-0.485872),error));
330 	CPPUNIT_ASSERT(almost_eq(J[5][9],Interval(-0.114557,-0.112593),error));
331 	CPPUNIT_ASSERT(almost_eq(J[6][6],Interval(-0.101143,-0.0972429),error));
332 	CPPUNIT_ASSERT(almost_eq(J[6][7],Interval(0.489483,0.490794),error));
333 	CPPUNIT_ASSERT(almost_eq(J[6][16],Interval(0.0972429,0.101143),error));
334 	CPPUNIT_ASSERT(almost_eq(J[6][17],Interval(-0.490794,-0.489483),error));
335 	CPPUNIT_ASSERT(almost_eq(J[7][6],Interval(0.459466,0.461192),error));
336 	CPPUNIT_ASSERT(almost_eq(J[7][7],Interval(-0.38664,-0.384894),error));
337 	CPPUNIT_ASSERT(almost_eq(J[7][8],Interval(-0.461192,-0.459466),error));
338 	CPPUNIT_ASSERT(almost_eq(J[7][9],Interval(0.384894,0.38664),error));
339 	CPPUNIT_ASSERT(almost_eq(J[8][8],Interval(0.341455,0.342282),error));
340 	CPPUNIT_ASSERT(almost_eq(J[8][9],Interval(-0.365251,-0.364476),error));
341 	CPPUNIT_ASSERT(almost_eq(J[8][10],Interval(-0.342282,-0.341455),error));
342 	CPPUNIT_ASSERT(almost_eq(J[8][11],Interval(0.364476,0.365251),error));
343 	CPPUNIT_ASSERT(almost_eq(J[9][2],Interval(0.144505,0.145591),error));
344 	CPPUNIT_ASSERT(almost_eq(J[9][3],Interval(0.477559,0.479438),error));
345 	CPPUNIT_ASSERT(almost_eq(J[9][8],Interval(-0.145591,-0.144505),error));
346 	CPPUNIT_ASSERT(almost_eq(J[9][9],Interval(-0.479438,-0.477559),error));
347 	CPPUNIT_ASSERT(almost_eq(J[10][10],Interval(5.19321,5.19321),error));
348 	CPPUNIT_ASSERT(almost_eq(J[10][11],Interval(3.00509,3.00509),error));
349 	CPPUNIT_ASSERT(almost_eq(J[10][12],Interval(-5.19321,-5.19321),error));
350 	CPPUNIT_ASSERT(almost_eq(J[10][13],Interval(-3.00509,-3.00509),error));
351 	CPPUNIT_ASSERT(almost_eq(J[11][10],Interval(1.18642,1.18642),error));
352 	CPPUNIT_ASSERT(almost_eq(J[11][11],Interval(9.92937,9.92937),error));
353 	CPPUNIT_ASSERT(almost_eq(J[11][14],Interval(-1.18642,-1.18642),error));
354 	CPPUNIT_ASSERT(almost_eq(J[11][15],Interval(-9.92937,-9.92937),error));
355 	CPPUNIT_ASSERT(almost_eq(J[12][12],Interval(-9.2,-9.2),error));
356 	CPPUNIT_ASSERT(almost_eq(J[12][13],Interval(3.91918,3.91918),error));
357 	CPPUNIT_ASSERT(almost_eq(J[12][26],Interval(9.2,9.2),error));
358 	CPPUNIT_ASSERT(almost_eq(J[12][27],Interval(-3.91918,-3.91918),error));
359 	CPPUNIT_ASSERT(almost_eq(J[13][12],Interval(0.8,0.8),error));
360 	CPPUNIT_ASSERT(almost_eq(J[13][13],Interval(3.91918,3.91918),error));
361 	CPPUNIT_ASSERT(almost_eq(J[13][28],Interval(-0.8,-0.8),error));
362 	CPPUNIT_ASSERT(almost_eq(J[13][29],Interval(-3.91918,-3.91918),error));
363 	CPPUNIT_ASSERT(almost_eq(J[14][14],Interval(-5.19321,-5.19321),error));
364 	CPPUNIT_ASSERT(almost_eq(J[14][15],Interval(-3.00509,-3.00509),error));
365 	CPPUNIT_ASSERT(almost_eq(J[14][26],Interval(5.19321,5.19321),error));
366 	CPPUNIT_ASSERT(almost_eq(J[14][27],Interval(3.00509,3.00509),error));
367 	CPPUNIT_ASSERT(almost_eq(J[15][12],Interval(-4.00679,-4.00679),error));
368 	CPPUNIT_ASSERT(almost_eq(J[15][13],Interval(6.92428,6.92428),error));
369 	CPPUNIT_ASSERT(almost_eq(J[15][14],Interval(4.00679,4.00679),error));
370 	CPPUNIT_ASSERT(almost_eq(J[15][15],Interval(-6.92428,-6.92428),error));
371 	CPPUNIT_ASSERT(almost_eq(J[16][16],Interval(-0.378006,-0.372188),error));
372 	CPPUNIT_ASSERT(almost_eq(J[16][17],Interval(-0.334222,-0.329547),error));
373 	CPPUNIT_ASSERT(almost_eq(J[16][18],Interval(0.372188,0.378006),error));
374 	CPPUNIT_ASSERT(almost_eq(J[16][19],Interval(0.329547,0.334222),error));
375 	CPPUNIT_ASSERT(almost_eq(J[17][16],Interval(-0.102688,-0.0996866),error));
376 	CPPUNIT_ASSERT(almost_eq(J[17][17],Interval(0.489621,0.489962),error));
377 	CPPUNIT_ASSERT(almost_eq(J[17][24],Interval(0.0996866,0.102688),error));
378 	CPPUNIT_ASSERT(almost_eq(J[17][25],Interval(-0.489962,-0.489621),error));
379 	CPPUNIT_ASSERT(almost_eq(J[18][6],Interval(-0.476148,-0.472432),error));
380 	CPPUNIT_ASSERT(almost_eq(J[18][7],Interval(0.155602,0.160906),error));
381 	CPPUNIT_ASSERT(almost_eq(J[18][18],Interval(0.472432,0.476148),error));
382 	CPPUNIT_ASSERT(almost_eq(J[18][19],Interval(-0.160906,-0.155602),error));
383 	CPPUNIT_ASSERT(almost_eq(J[19][18],Interval(-0.102939,-0.0971202),error));
384 	CPPUNIT_ASSERT(almost_eq(J[19][19],Interval(0.485907,0.493623),error));
385 	CPPUNIT_ASSERT(almost_eq(J[19][22],Interval(0.0971202,0.102939),error));
386 	CPPUNIT_ASSERT(almost_eq(J[19][23],Interval(-0.493623,-0.485907),error));
387 	CPPUNIT_ASSERT(almost_eq(J[20][20],Interval(0.366904,0.381292),error));
388 	CPPUNIT_ASSERT(almost_eq(J[20][21],Interval(0.320063,0.34306),error));
389 	CPPUNIT_ASSERT(almost_eq(J[20][22],Interval(-0.381292,-0.366904),error));
390 	CPPUNIT_ASSERT(almost_eq(J[20][23],Interval(-0.34306,-0.320063),error));
391 	CPPUNIT_ASSERT(almost_eq(J[21][18],Interval(-0.481229,-0.467026),error));
392 	CPPUNIT_ASSERT(almost_eq(J[21][19],Interval(0.146229,0.170178),error));
393 	CPPUNIT_ASSERT(almost_eq(J[21][20],Interval(0.467026,0.481229),error));
394 	CPPUNIT_ASSERT(almost_eq(J[21][21],Interval(-0.170178,-0.146229),error));
395 	CPPUNIT_ASSERT(almost_eq(J[22][16],Interval(-0.478128,-0.472125),error));
396 	CPPUNIT_ASSERT(almost_eq(J[22][17],Interval(0.156019,0.159742),error));
397 	CPPUNIT_ASSERT(almost_eq(J[22][22],Interval(0.472125,0.478128),error));
398 	CPPUNIT_ASSERT(almost_eq(J[22][23],Interval(-0.159742,-0.156019),error));
399 	CPPUNIT_ASSERT(almost_eq(J[23][22],Interval(0.372438,0.37544),error));
400 	CPPUNIT_ASSERT(almost_eq(J[23][23],Interval(0.33022,0.333601),error));
401 	CPPUNIT_ASSERT(almost_eq(J[23][24],Interval(-0.37544,-0.372438),error));
402 	CPPUNIT_ASSERT(almost_eq(J[23][25],Interval(-0.333601,-0.33022),error));
403 	CPPUNIT_ASSERT(almost_eq(J[24][14],Interval(-2.18899,-2.18899),error));
404 	CPPUNIT_ASSERT(almost_eq(J[24][15],Interval(-8.19881,-8.19881),error));
405 	CPPUNIT_ASSERT(almost_eq(J[24][24],Interval(2.18899,2.18899),error));
406 	CPPUNIT_ASSERT(almost_eq(J[24][25],Interval(8.19881,8.19881),error));
407 	CPPUNIT_ASSERT(almost_eq(J[25][24],Interval(-3.00421,-3.00421),error));
408 	CPPUNIT_ASSERT(almost_eq(J[25][25],Interval(5.19372,5.19372),error));
409 	CPPUNIT_ASSERT(almost_eq(J[25][26],Interval(3.00421,3.00421),error));
410 	CPPUNIT_ASSERT(almost_eq(J[25][27],Interval(-5.19372,-5.19372),error));
411 	CPPUNIT_ASSERT(almost_eq(J[26][26],Interval(10,10),error));
412 	CPPUNIT_ASSERT(almost_eq(J[26][28],Interval(-10,-10),error));
413 	CPPUNIT_ASSERT(almost_eq(J[27][27],Interval(1,1),error));
414 	CPPUNIT_ASSERT(almost_eq(J[28][28],Interval(1,1),error));
415 	CPPUNIT_ASSERT(almost_eq(J[29][29],Interval(1,1),error));
416 }
417 void TestGradient::jac03() {
418 	Variable x1,x2;
419 	Function f(x1,x2,ibex::Return(x1, ibex::asin(x2)));
420 	double init_box[][2]={{1, 1}, {1.570796326794893, 1.570796326794901}};
421 	IntervalVector box(2,init_box);
422 	IntervalMatrix J=f.jacobian(box);
423 	CPPUNIT_ASSERT(J.is_empty());
424 }
425 void TestGradient::hansen01() {
426 	IntervalMatrix H(30,30);
427 	Ponts30 p30;
428 	p30.f-&gt;hansen_matrix(IntervalVector(30,BOX1),H);
429 	double error=1e-05;
430 	CPPUNIT_ASSERT(almost_eq(H[0][0],Interval(0.485002,0.489002),error));
431 	CPPUNIT_ASSERT(almost_eq(H[0][1],Interval(0.111265,0.115265),error));
432 	CPPUNIT_ASSERT(almost_eq(H[0][2],Interval(-0.491002,-0.483002),error));
433 	CPPUNIT_ASSERT(almost_eq(H[0][3],Interval(-0.117265,-0.109265),error));
434 	CPPUNIT_ASSERT(almost_eq(H[1][0],Interval(0.14341,0.14741),error));
435 	CPPUNIT_ASSERT(almost_eq(H[1][1],Interval(0.476389,0.480389),error));
436 	CPPUNIT_ASSERT(almost_eq(H[1][4],Interval(-0.14941,-0.14141),error));
437 	CPPUNIT_ASSERT(almost_eq(H[1][5],Interval(-0.482389,-0.474389),error));
438 	CPPUNIT_ASSERT(almost_eq(H[2][2],Interval(-0.343592,-0.339592),error));
439 	CPPUNIT_ASSERT(almost_eq(H[2][3],Interval(0.363124,0.367124),error));
440 	CPPUNIT_ASSERT(almost_eq(H[2][4],Interval(0.337592,0.345592),error));
441 	CPPUNIT_ASSERT(almost_eq(H[2][5],Interval(-0.369124,-0.361124),error));
442 	CPPUNIT_ASSERT(almost_eq(H[3][2],Interval(0.485002,0.489002),error));
443 	CPPUNIT_ASSERT(almost_eq(H[3][3],Interval(0.111265,0.115265),error));
444 	CPPUNIT_ASSERT(almost_eq(H[3][10],Interval(-0.491002,-0.483002),error));
445 	CPPUNIT_ASSERT(almost_eq(H[3][11],Interval(-0.117265,-0.109265),error));
446 	CPPUNIT_ASSERT(almost_eq(H[4][4],Interval(0.025626,0.029626),error));
447 	CPPUNIT_ASSERT(almost_eq(H[4][5],Interval(0.497236,0.501236),error));
448 	CPPUNIT_ASSERT(almost_eq(H[4][6],Interval(-0.031626,-0.023626),error));
449 	CPPUNIT_ASSERT(almost_eq(H[4][7],Interval(-0.503236,-0.495236),error));
450 	CPPUNIT_ASSERT(almost_eq(H[5][4],Interval(0.485002,0.489002),error));
451 	CPPUNIT_ASSERT(almost_eq(H[5][5],Interval(0.111265,0.115265),error));
452 	CPPUNIT_ASSERT(almost_eq(H[5][8],Interval(-0.491002,-0.483002),error));
453 	CPPUNIT_ASSERT(almost_eq(H[5][9],Interval(-0.117265,-0.109265),error));
454 	CPPUNIT_ASSERT(almost_eq(H[6][6],Interval(-0.102805,-0.098805),error));
455 	CPPUNIT_ASSERT(almost_eq(H[6][7],Interval(0.487733,0.491733),error));
456 	CPPUNIT_ASSERT(almost_eq(H[6][16],Interval(0.096805,0.104805),error));
457 	CPPUNIT_ASSERT(almost_eq(H[6][17],Interval(-0.493733,-0.485733),error));
458 	CPPUNIT_ASSERT(almost_eq(H[7][6],Interval(0.457376,0.461376),error));
459 	CPPUNIT_ASSERT(almost_eq(H[7][7],Interval(-0.387971,-0.383971),error));
460 	CPPUNIT_ASSERT(almost_eq(H[7][8],Interval(-0.463376,-0.455376),error));
461 	CPPUNIT_ASSERT(almost_eq(H[7][9],Interval(0.381971,0.389971),error));
462 	CPPUNIT_ASSERT(almost_eq(H[8][8],Interval(0.339592,0.343592),error));
463 	CPPUNIT_ASSERT(almost_eq(H[8][9],Interval(-0.367124,-0.363124),error));
464 	CPPUNIT_ASSERT(almost_eq(H[8][10],Interval(-0.345592,-0.337592),error));
465 	CPPUNIT_ASSERT(almost_eq(H[8][11],Interval(0.361124,0.369124),error));
466 	CPPUNIT_ASSERT(almost_eq(H[9][2],Interval(0.14341,0.14741),error));
467 	CPPUNIT_ASSERT(almost_eq(H[9][3],Interval(0.476389,0.480389),error));
468 	CPPUNIT_ASSERT(almost_eq(H[9][8],Interval(-0.14941,-0.14141),error));
469 	CPPUNIT_ASSERT(almost_eq(H[9][9],Interval(-0.482389,-0.474389),error));
470 	CPPUNIT_ASSERT(almost_eq(H[10][10],Interval(5.19121,5.19521),error));
471 	CPPUNIT_ASSERT(almost_eq(H[10][11],Interval(3.00309,3.00709),error));
472 	CPPUNIT_ASSERT(almost_eq(H[10][12],Interval(-5.19721,-5.18921),error));
473 	CPPUNIT_ASSERT(almost_eq(H[10][13],Interval(-3.00909,-3.00109),error));
474 	CPPUNIT_ASSERT(almost_eq(H[11][10],Interval(1.18442,1.18842),error));
475 	CPPUNIT_ASSERT(almost_eq(H[11][11],Interval(9.92737,9.93137),error));
476 	CPPUNIT_ASSERT(almost_eq(H[11][14],Interval(-1.19042,-1.18242),error));
477 	CPPUNIT_ASSERT(almost_eq(H[11][15],Interval(-9.93337,-9.92537),error));
478 	CPPUNIT_ASSERT(almost_eq(H[12][12],Interval(-9.202,-9.198),error));
479 	CPPUNIT_ASSERT(almost_eq(H[12][13],Interval(3.91718,3.92118),error));
480 	CPPUNIT_ASSERT(almost_eq(H[12][26],Interval(9.196,9.204),error));
481 	CPPUNIT_ASSERT(almost_eq(H[12][27],Interval(-3.92318,-3.91518),error));
482 	CPPUNIT_ASSERT(almost_eq(H[13][12],Interval(0.798,0.802),error));
483 	CPPUNIT_ASSERT(almost_eq(H[13][13],Interval(3.91718,3.92118),error));
484 	CPPUNIT_ASSERT(almost_eq(H[13][28],Interval(-0.804,-0.796),error));
485 	CPPUNIT_ASSERT(almost_eq(H[13][29],Interval(-3.92318,-3.91518),error));
486 	CPPUNIT_ASSERT(almost_eq(H[14][14],Interval(-5.19521,-5.19121),error));
487 	CPPUNIT_ASSERT(almost_eq(H[14][15],Interval(-3.00709,-3.00309),error));
488 	CPPUNIT_ASSERT(almost_eq(H[14][26],Interval(5.18921,5.19721),error));
489 	CPPUNIT_ASSERT(almost_eq(H[14][27],Interval(3.00109,3.00909),error));
490 	CPPUNIT_ASSERT(almost_eq(H[15][12],Interval(-4.00879,-4.00479),error));
491 	CPPUNIT_ASSERT(almost_eq(H[15][13],Interval(6.92228,6.92628),error));
492 	CPPUNIT_ASSERT(almost_eq(H[15][14],Interval(4.00279,4.01079),error));
493 	CPPUNIT_ASSERT(almost_eq(H[15][15],Interval(-6.92828,-6.92028),error));
494 	CPPUNIT_ASSERT(almost_eq(H[16][16],Interval(-0.375719,-0.371719),error));
495 	CPPUNIT_ASSERT(almost_eq(H[16][17],Interval(-0.334166,-0.330166),error));
496 	CPPUNIT_ASSERT(almost_eq(H[16][18],Interval(0.369719,0.377719),error));
497 	CPPUNIT_ASSERT(almost_eq(H[16][19],Interval(0.328166,0.336166),error));
498 	CPPUNIT_ASSERT(almost_eq(H[17][16],Interval(-0.102805,-0.098805),error));
499 	CPPUNIT_ASSERT(almost_eq(H[17][17],Interval(0.487733,0.491733),error));
500 	CPPUNIT_ASSERT(almost_eq(H[17][24],Interval(0.096805,0.104805),error));
501 	CPPUNIT_ASSERT(almost_eq(H[17][25],Interval(-0.493733,-0.485733),error));
502 	CPPUNIT_ASSERT(almost_eq(H[18][6],Interval(-0.476524,-0.472524),error));
503 	CPPUNIT_ASSERT(almost_eq(H[18][7],Interval(0.155567,0.159567),error));
504 	CPPUNIT_ASSERT(almost_eq(H[18][18],Interval(0.470524,0.478524),error));
505 	CPPUNIT_ASSERT(almost_eq(H[18][19],Interval(-0.161567,-0.153567),error));
506 	CPPUNIT_ASSERT(almost_eq(H[19][18],Interval(-0.102805,-0.098805),error));
507 	CPPUNIT_ASSERT(almost_eq(H[19][19],Interval(0.487733,0.491733),error));
508 	CPPUNIT_ASSERT(almost_eq(H[19][22],Interval(0.096805,0.104805),error));
509 	CPPUNIT_ASSERT(almost_eq(H[19][23],Interval(-0.493733,-0.485733),error));
510 	CPPUNIT_ASSERT(almost_eq(H[20][20],Interval(0.371719,0.375719),error));
511 	CPPUNIT_ASSERT(almost_eq(H[20][21],Interval(0.330166,0.334166),error));
512 	CPPUNIT_ASSERT(almost_eq(H[20][22],Interval(-0.377719,-0.369719),error));
513 	CPPUNIT_ASSERT(almost_eq(H[20][23],Interval(-0.336166,-0.328166),error));
514 	CPPUNIT_ASSERT(almost_eq(H[21][18],Interval(-0.476524,-0.472524),error));
515 	CPPUNIT_ASSERT(almost_eq(H[21][19],Interval(0.155567,0.159567),error));
516 	CPPUNIT_ASSERT(almost_eq(H[21][20],Interval(0.470524,0.478524),error));
517 	CPPUNIT_ASSERT(almost_eq(H[21][21],Interval(-0.161567,-0.153567),error));
518 	CPPUNIT_ASSERT(almost_eq(H[22][16],Interval(-0.476524,-0.472524),error));
519 	CPPUNIT_ASSERT(almost_eq(H[22][17],Interval(0.155567,0.159567),error));
520 	CPPUNIT_ASSERT(almost_eq(H[22][22],Interval(0.470524,0.478524),error));
521 	CPPUNIT_ASSERT(almost_eq(H[22][23],Interval(-0.161567,-0.153567),error));
522 	CPPUNIT_ASSERT(almost_eq(H[23][22],Interval(0.371719,0.375719),error));
523 	CPPUNIT_ASSERT(almost_eq(H[23][23],Interval(0.330166,0.334166),error));
524 	CPPUNIT_ASSERT(almost_eq(H[23][24],Interval(-0.377719,-0.369719),error));
525 	CPPUNIT_ASSERT(almost_eq(H[23][25],Interval(-0.336166,-0.328166),error));
526 	CPPUNIT_ASSERT(almost_eq(H[24][14],Interval(-2.19099,-2.18699),error));
527 	CPPUNIT_ASSERT(almost_eq(H[24][15],Interval(-8.20081,-8.19681),error));
528 	CPPUNIT_ASSERT(almost_eq(H[24][24],Interval(2.18499,2.19299),error));
529 	CPPUNIT_ASSERT(almost_eq(H[24][25],Interval(8.19481,8.20281),error));
530 	CPPUNIT_ASSERT(almost_eq(H[25][24],Interval(-3.00621,-3.00221),error));
531 	CPPUNIT_ASSERT(almost_eq(H[25][25],Interval(5.19172,5.19572),error));
532 	CPPUNIT_ASSERT(almost_eq(H[25][26],Interval(3.00021,3.00821),error));
533 	CPPUNIT_ASSERT(almost_eq(H[25][27],Interval(-5.19772,-5.18972),error));
534 	CPPUNIT_ASSERT(almost_eq(H[26][26],Interval(9.998,10.002),error));
535 	CPPUNIT_ASSERT(almost_eq(H[26][27],Interval(-0.002,0.002),error));
536 	CPPUNIT_ASSERT(almost_eq(H[26][28],Interval(-10.004,-9.996),error));
537 	CPPUNIT_ASSERT(almost_eq(H[26][29],Interval(-0.004,0.004),error));
538 	CPPUNIT_ASSERT(almost_eq(H[27][27],Interval(1,1),error));
539 	CPPUNIT_ASSERT(almost_eq(H[28][28],Interval(1,1),error));
540 	CPPUNIT_ASSERT(almost_eq(H[29][29],Interval(1,1),error));
541 }
542 void TestGradient::jacobian_components01() {
543 	const ExprSymbol&amp; x = ExprSymbol::new_("x");
544 	const ExprSymbol&amp; y = ExprSymbol::new_("y");
545 	const ExprSymbol&amp; z = ExprSymbol::new_("z");
546 	const ExprNode&amp; e1=x*y;
547 	const ExprNode&amp; e2=y*z;
548 	const ExprNode&amp; e3=e1*e2;
549 	Function f(x,y,z,Return(e3+x,e3+y,e3+z));
550 	double vx=1.0;
551 	double vy=2.0;
552 	double vz=3.0;
553 	IntervalVector box(3);
554 	box[0]=vx;
555 	box[1]=vy;
556 	box[2]=vz;
557 	BitSet components=BitSet::empty(3);
558 	components.add(0);
559 	components.add(2);
560 	IntervalMatrix res=f.jacobian(box,components);
561 	CPPUNIT_ASSERT(res.nb_rows()==2);
562 	CPPUNIT_ASSERT(res[0][0]==vy*vy*vz+1);
563 	CPPUNIT_ASSERT(res[0][1]==2*vx*vy*vz);
564 	CPPUNIT_ASSERT(res[0][2]==vx*vy*vy);
565 	CPPUNIT_ASSERT(res[1][0]==vy*vy*vz);
566 	CPPUNIT_ASSERT(res[1][1]==2*vx*vy*vz);
567 	CPPUNIT_ASSERT(res[1][2]==vx*vy*vy+1);
568 }
569 void TestGradient::jacobian_components02() {
570 	const ExprSymbol&amp; x = ExprSymbol::new_("x",Dim::col_vec(3));
571 	const ExprSymbol&amp; y = ExprSymbol::new_("y",Dim::col_vec(3));
572 	const ExprSymbol&amp; z = ExprSymbol::new_("z",Dim::col_vec(3));
573 	Function f(x,y,z,Return(x+y,x+z,y+z));
574 	IntervalVector box(9);
575 	for (int i=0; i&lt;9; i++) box[i]=Interval(i,i);
576 	BitSet components=BitSet::empty(3);
577 	components.add(0);
578 	components.add(2);
579 	components.add(4);
580 	components.add(6);
581 	components.add(8);
582 	IntervalMatrix res=f.jacobian(box,components);
583 	CPPUNIT_ASSERT(res.nb_rows()==5);
584 	for (int i=0; i&lt;9; i++) {
585 		CPPUNIT_ASSERT(res[0][i]==(i==0 || i==3));
586 	}
587 	for (int i=0; i&lt;9; i++) {
588 		CPPUNIT_ASSERT(res[1][i]==(i==2 || i==5));
589 	}
590 	for (int i=0; i&lt;9; i++) {
591 		CPPUNIT_ASSERT(res[2][i]==(i==1 || i==7));
592 	}
593 	for (int i=0; i&lt;9; i++) {
594 		CPPUNIT_ASSERT(res[3][i]==(i==3 || i==6));
595 	}
596 	for (int i=0; i&lt;9; i++) {
597 		CPPUNIT_ASSERT(res[4][i]==(i==5 || i==8));
598 	}
599 }
600 } 
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
