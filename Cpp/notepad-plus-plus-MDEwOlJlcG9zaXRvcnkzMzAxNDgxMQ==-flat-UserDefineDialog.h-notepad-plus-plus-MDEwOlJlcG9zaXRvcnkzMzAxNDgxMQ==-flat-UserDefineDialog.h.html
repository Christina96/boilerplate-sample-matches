
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Tokens: 20, <button onclick='openModal()' class='match'></button></h2>
        <div class="column">
            <h3>notepad-plus-plus-MDEwOlJlcG9zaXRvcnkzMzAxNDgxMQ==-flat-UserDefineDialog.h</h3>
            <pre><code>1  #pragma once
2  #include "UserDefineResource.h"
3  #include "ControlsTab.h"
4  #include "ColourPicker.h"
5  #include "Parameters.h"
6  #include "URLCtrl.h"
7  #include "SciLexer.h"
8  #include <unordered_map>
9  class ScintillaEditView;
10  class UserLangContainer;
11  struct Style;
12  #define WL_LEN_MAX 1024
13  #define BOLD_MASK     1
14  #define ITALIC_MASK   2
15  const bool DOCK = true;
16  const bool UNDOCK = false;
17  class GlobalMappers
18  {
19      public:
20  		std::unordered_map<generic_string, int> keywordIdMapper;
21  		std::unordered_map<int, generic_string> keywordNameMapper;
22  		std::unordered_map<generic_string, int> styleIdMapper;
23  		std::unordered_map<int, generic_string> styleNameMapper;
24  		std::unordered_map<generic_string, int> temp;
25  		std::unordered_map<generic_string, int>::iterator iter;
26  		std::unordered_map<int, int> nestingMapper;
27  		std::unordered_map<int, int> dialogMapper;
28  		std::unordered_map<int, std::string> setLexerMapper;
29          GlobalMappers()
30          {
31              temp[TEXT("Operators")]                     = SCE_USER_KWLIST_OPERATORS1;
32              temp[TEXT("Folder+")]                       = SCE_USER_KWLIST_FOLDERS_IN_CODE1_OPEN;
33              temp[TEXT("Folder-")]                       = SCE_USER_KWLIST_FOLDERS_IN_CODE1_CLOSE;
34              temp[TEXT("Words1")]                        = SCE_USER_KWLIST_KEYWORDS1;
35              temp[TEXT("Words2")]                        = SCE_USER_KWLIST_KEYWORDS2;
36              temp[TEXT("Words3")]                        = SCE_USER_KWLIST_KEYWORDS3;
37              temp[TEXT("Words4")]                        = SCE_USER_KWLIST_KEYWORDS4;
38              for (iter = temp.begin(); iter != temp.end(); ++iter)
39                  keywordNameMapper[iter->second] = iter->first;
40              keywordIdMapper.insert(temp.begin(), temp.end());
41              temp.clear();
42              temp[TEXT("Comments")]                      = SCE_USER_KWLIST_COMMENTS;
43              temp[TEXT("Numbers, additional")]           = SCE_USER_KWLIST_NUMBER_RANGE;
44              temp[TEXT("Numbers, prefixes")]             = SCE_USER_KWLIST_NUMBER_PREFIX2;
45              temp[TEXT("Numbers, extras with prefixes")] = SCE_USER_KWLIST_NUMBER_EXTRAS2;
46              temp[TEXT("Numbers, suffixes")]             = SCE_USER_KWLIST_NUMBER_SUFFIX2;
47              temp[TEXT("Operators1")]                    = SCE_USER_KWLIST_OPERATORS1;
48              temp[TEXT("Operators2")]                    = SCE_USER_KWLIST_OPERATORS2;
49              temp[TEXT("Folders in code1, open")]        = SCE_USER_KWLIST_FOLDERS_IN_CODE1_OPEN;
50              temp[TEXT("Folders in code1, middle")]      = SCE_USER_KWLIST_FOLDERS_IN_CODE1_MIDDLE;
51              temp[TEXT("Folders in code1, close")]       = SCE_USER_KWLIST_FOLDERS_IN_CODE1_CLOSE;
52              temp[TEXT("Folders in code2, open")]        = SCE_USER_KWLIST_FOLDERS_IN_CODE2_OPEN;
53              temp[TEXT("Folders in code2, middle")]      = SCE_USER_KWLIST_FOLDERS_IN_CODE2_MIDDLE;
54              temp[TEXT("Folders in code2, close")]       = SCE_USER_KWLIST_FOLDERS_IN_CODE2_CLOSE;
55              temp[TEXT("Folders in comment, open")]      = SCE_USER_KWLIST_FOLDERS_IN_COMMENT_OPEN;
56              temp[TEXT("Folders in comment, middle")]    = SCE_USER_KWLIST_FOLDERS_IN_COMMENT_MIDDLE;
57              temp[TEXT("Folders in comment, close")]     = SCE_USER_KWLIST_FOLDERS_IN_COMMENT_CLOSE;
58              temp[TEXT("Keywords1")]                     = SCE_USER_KWLIST_KEYWORDS1;
59              temp[TEXT("Keywords2")]                     = SCE_USER_KWLIST_KEYWORDS2;
60              temp[TEXT("Keywords3")]                     = SCE_USER_KWLIST_KEYWORDS3;
61              temp[TEXT("Keywords4")]                     = SCE_USER_KWLIST_KEYWORDS4;
62              temp[TEXT("Keywords5")]                     = SCE_USER_KWLIST_KEYWORDS5;
63              temp[TEXT("Keywords6")]                     = SCE_USER_KWLIST_KEYWORDS6;
64              temp[TEXT("Keywords7")]                     = SCE_USER_KWLIST_KEYWORDS7;
65              temp[TEXT("Keywords8")]                     = SCE_USER_KWLIST_KEYWORDS8;
66              temp[TEXT("Delimiters")]                    = SCE_USER_KWLIST_DELIMITERS;
67              for (iter = temp.begin(); iter != temp.end(); ++iter)
68                  keywordNameMapper[iter->second] = iter->first;
69              keywordIdMapper.insert(temp.begin(), temp.end());
70              temp.clear();
71              temp[TEXT("Numbers, prefix1")]              = SCE_USER_KWLIST_NUMBER_PREFIX1;
72              temp[TEXT("Numbers, prefix2")]              = SCE_USER_KWLIST_NUMBER_PREFIX2;
73              temp[TEXT("Numbers, extras1")]              = SCE_USER_KWLIST_NUMBER_EXTRAS1;
74              temp[TEXT("Numbers, extras2")]              = SCE_USER_KWLIST_NUMBER_EXTRAS2;
75              temp[TEXT("Numbers, suffix1")]              = SCE_USER_KWLIST_NUMBER_SUFFIX1;
76              temp[TEXT("Numbers, suffix2")]              = SCE_USER_KWLIST_NUMBER_SUFFIX2;
77              temp[TEXT("Numbers, range")]                = SCE_USER_KWLIST_NUMBER_RANGE;
78              for (iter = temp.begin(); iter != temp.end(); ++iter)
79                  keywordNameMapper[iter->second] = iter->first;
80              keywordIdMapper.insert(temp.begin(), temp.end());
81              temp.clear();
82  	        temp[TEXT("FOLDEROPEN")]           = SCE_USER_STYLE_FOLDER_IN_CODE1;
83  	        temp[TEXT("FOLDERCLOSE")]          = SCE_USER_STYLE_FOLDER_IN_CODE1;
84  	        temp[TEXT("KEYWORD1")]             = SCE_USER_STYLE_KEYWORD1;
85  	        temp[TEXT("KEYWORD2")]             = SCE_USER_STYLE_KEYWORD2;
86  	        temp[TEXT("KEYWORD3")]             = SCE_USER_STYLE_KEYWORD3;
87  	        temp[TEXT("KEYWORD4")]             = SCE_USER_STYLE_KEYWORD4;
88  	        temp[TEXT("COMMENT")]              = SCE_USER_STYLE_COMMENT;
89  	        temp[TEXT("COMMENT LINE")]         = SCE_USER_STYLE_COMMENTLINE;
90  	        temp[TEXT("NUMBER")]               = SCE_USER_STYLE_NUMBER;
91  	        temp[TEXT("OPERATOR")]             = SCE_USER_STYLE_OPERATOR;
92  	        temp[TEXT("DELIMINER1")]           = SCE_USER_STYLE_DELIMITER1;
93  	        temp[TEXT("DELIMINER2")]           = SCE_USER_STYLE_DELIMITER2;
94  	        temp[TEXT("DELIMINER3")]           = SCE_USER_STYLE_DELIMITER3;
95  	        for (iter = temp.begin(); iter != temp.end(); ++iter)
96  		        styleNameMapper[iter->second] = iter->first;
97  	        styleIdMapper.insert(temp.begin(), temp.end());
98  	        temp.clear();
99  	        temp[TEXT("DEFAULT")]              = SCE_USER_STYLE_DEFAULT;
100  	        temp[TEXT("COMMENTS")]             = SCE_USER_STYLE_COMMENT;
101  	        temp[TEXT("LINE COMMENTS")]        = SCE_USER_STYLE_COMMENTLINE;
102  	        temp[TEXT("NUMBERS")]              = SCE_USER_STYLE_NUMBER;
103  	        temp[TEXT("KEYWORDS1")]            = SCE_USER_STYLE_KEYWORD1;
104  	        temp[TEXT("KEYWORDS2")]            = SCE_USER_STYLE_KEYWORD2;
105  	        temp[TEXT("KEYWORDS3")]            = SCE_USER_STYLE_KEYWORD3;
106  	        temp[TEXT("KEYWORDS4")]            = SCE_USER_STYLE_KEYWORD4;
107  	        temp[TEXT("KEYWORDS5")]            = SCE_USER_STYLE_KEYWORD5;
108  	        temp[TEXT("KEYWORDS6")]            = SCE_USER_STYLE_KEYWORD6;
109  	        temp[TEXT("KEYWORDS7")]            = SCE_USER_STYLE_KEYWORD7;
110  	        temp[TEXT("KEYWORDS8")]            = SCE_USER_STYLE_KEYWORD8;
111  	        temp[TEXT("OPERATORS")]            = SCE_USER_STYLE_OPERATOR;
112  	        temp[TEXT("FOLDER IN CODE1")]      = SCE_USER_STYLE_FOLDER_IN_CODE1;
113  	        temp[TEXT("FOLDER IN CODE2")]      = SCE_USER_STYLE_FOLDER_IN_CODE2;
114  	        temp[TEXT("FOLDER IN COMMENT")]    = SCE_USER_STYLE_FOLDER_IN_COMMENT;
115  	        temp[TEXT("DELIMITERS1")]          = SCE_USER_STYLE_DELIMITER1;
116  	        temp[TEXT("DELIMITERS2")]          = SCE_USER_STYLE_DELIMITER2;
117  	        temp[TEXT("DELIMITERS3")]          = SCE_USER_STYLE_DELIMITER3;
118  	        temp[TEXT("DELIMITERS4")]          = SCE_USER_STYLE_DELIMITER4;
<span onclick='openModal()' class='match'>119  	        temp[TEXT("DELIMITERS5")]          = SCE_USER_STYLE_DELIMITER5;
120  	        temp[TEXT("DELIMITERS6")]          = SCE_USER_STYLE_DELIMITER6;
121  	        temp[TEXT("DELIMITERS7")]          = SCE_USER_STYLE_DELIMITER7;
</span>122  	        temp[TEXT("DELIMITERS8")]          = SCE_USER_STYLE_DELIMITER8;
123  	        for (iter = temp.begin(); iter != temp.end(); ++iter)
124  		        styleNameMapper[iter->second] = iter->first;
125  	        styleIdMapper.insert(temp.begin(), temp.end());
126  	        temp.clear();
127              nestingMapper[IDC_STYLER_CHECK_NESTING_DELIMITER1]      = SCE_USER_MASK_NESTING_DELIMITER1;
128              nestingMapper[IDC_STYLER_CHECK_NESTING_DELIMITER2]      = SCE_USER_MASK_NESTING_DELIMITER2;
129              nestingMapper[IDC_STYLER_CHECK_NESTING_DELIMITER3]      = SCE_USER_MASK_NESTING_DELIMITER3;
130              nestingMapper[IDC_STYLER_CHECK_NESTING_DELIMITER4]      = SCE_USER_MASK_NESTING_DELIMITER4;
131              nestingMapper[IDC_STYLER_CHECK_NESTING_DELIMITER5]      = SCE_USER_MASK_NESTING_DELIMITER5;
132              nestingMapper[IDC_STYLER_CHECK_NESTING_DELIMITER6]      = SCE_USER_MASK_NESTING_DELIMITER6;
133              nestingMapper[IDC_STYLER_CHECK_NESTING_DELIMITER7]      = SCE_USER_MASK_NESTING_DELIMITER7;
134              nestingMapper[IDC_STYLER_CHECK_NESTING_DELIMITER8]      = SCE_USER_MASK_NESTING_DELIMITER8;
135              nestingMapper[IDC_STYLER_CHECK_NESTING_COMMENT]         = SCE_USER_MASK_NESTING_COMMENT;
136              nestingMapper[IDC_STYLER_CHECK_NESTING_COMMENT_LINE]    = SCE_USER_MASK_NESTING_COMMENT_LINE;
137              nestingMapper[IDC_STYLER_CHECK_NESTING_KEYWORD1]        = SCE_USER_MASK_NESTING_KEYWORD1;
138              nestingMapper[IDC_STYLER_CHECK_NESTING_KEYWORD2]        = SCE_USER_MASK_NESTING_KEYWORD2;
139              nestingMapper[IDC_STYLER_CHECK_NESTING_KEYWORD3]        = SCE_USER_MASK_NESTING_KEYWORD3;
140              nestingMapper[IDC_STYLER_CHECK_NESTING_KEYWORD4]        = SCE_USER_MASK_NESTING_KEYWORD4;
141              nestingMapper[IDC_STYLER_CHECK_NESTING_KEYWORD5]        = SCE_USER_MASK_NESTING_KEYWORD5;
142              nestingMapper[IDC_STYLER_CHECK_NESTING_KEYWORD6]        = SCE_USER_MASK_NESTING_KEYWORD6;
143              nestingMapper[IDC_STYLER_CHECK_NESTING_KEYWORD7]        = SCE_USER_MASK_NESTING_KEYWORD7;
144              nestingMapper[IDC_STYLER_CHECK_NESTING_KEYWORD8]        = SCE_USER_MASK_NESTING_KEYWORD8;
145              nestingMapper[IDC_STYLER_CHECK_NESTING_OPERATORS1]      = SCE_USER_MASK_NESTING_OPERATORS1;
146              nestingMapper[IDC_STYLER_CHECK_NESTING_OPERATORS2]      = SCE_USER_MASK_NESTING_OPERATORS2;
147              nestingMapper[IDC_STYLER_CHECK_NESTING_NUMBERS]         = SCE_USER_MASK_NESTING_NUMBERS;
148              dialogMapper[IDC_NUMBER_PREFIX1_EDIT]           = SCE_USER_KWLIST_NUMBER_PREFIX1;
149              dialogMapper[IDC_NUMBER_PREFIX2_EDIT]           = SCE_USER_KWLIST_NUMBER_PREFIX2;
150              dialogMapper[IDC_NUMBER_EXTRAS1_EDIT]           = SCE_USER_KWLIST_NUMBER_EXTRAS1;
151              dialogMapper[IDC_NUMBER_EXTRAS2_EDIT]           = SCE_USER_KWLIST_NUMBER_EXTRAS2;
152              dialogMapper[IDC_NUMBER_SUFFIX1_EDIT]           = SCE_USER_KWLIST_NUMBER_SUFFIX1;
153              dialogMapper[IDC_NUMBER_SUFFIX2_EDIT]           = SCE_USER_KWLIST_NUMBER_SUFFIX2;
154              dialogMapper[IDC_NUMBER_RANGE_EDIT]             = SCE_USER_KWLIST_NUMBER_RANGE;
155              dialogMapper[IDC_FOLDER_IN_CODE1_OPEN_EDIT]  	= SCE_USER_KWLIST_FOLDERS_IN_CODE1_OPEN;    
156              dialogMapper[IDC_FOLDER_IN_CODE1_MIDDLE_EDIT]  	= SCE_USER_KWLIST_FOLDERS_IN_CODE1_MIDDLE;  
157              dialogMapper[IDC_FOLDER_IN_CODE1_CLOSE_EDIT]  	= SCE_USER_KWLIST_FOLDERS_IN_CODE1_CLOSE;   
158              dialogMapper[IDC_FOLDER_IN_CODE2_OPEN_EDIT]  	= SCE_USER_KWLIST_FOLDERS_IN_CODE2_OPEN;    
159              dialogMapper[IDC_FOLDER_IN_CODE2_MIDDLE_EDIT]  	= SCE_USER_KWLIST_FOLDERS_IN_CODE2_MIDDLE;  
160              dialogMapper[IDC_FOLDER_IN_CODE2_CLOSE_EDIT]  	= SCE_USER_KWLIST_FOLDERS_IN_CODE2_CLOSE;   
161              dialogMapper[IDC_FOLDER_IN_COMMENT_OPEN_EDIT]  	= SCE_USER_KWLIST_FOLDERS_IN_COMMENT_OPEN;  
162              dialogMapper[IDC_FOLDER_IN_COMMENT_MIDDLE_EDIT] = SCE_USER_KWLIST_FOLDERS_IN_COMMENT_MIDDLE;
163              dialogMapper[IDC_FOLDER_IN_COMMENT_CLOSE_EDIT]  = SCE_USER_KWLIST_FOLDERS_IN_COMMENT_CLOSE;
164              dialogMapper[IDC_KEYWORD1_EDIT]                 = SCE_USER_KWLIST_KEYWORDS1;
165              dialogMapper[IDC_KEYWORD2_EDIT]                 = SCE_USER_KWLIST_KEYWORDS2;
166              dialogMapper[IDC_KEYWORD3_EDIT]                 = SCE_USER_KWLIST_KEYWORDS3;
167              dialogMapper[IDC_KEYWORD4_EDIT]                 = SCE_USER_KWLIST_KEYWORDS4;
168              dialogMapper[IDC_KEYWORD5_EDIT]                 = SCE_USER_KWLIST_KEYWORDS5;
169              dialogMapper[IDC_KEYWORD6_EDIT]                 = SCE_USER_KWLIST_KEYWORDS6;
170              dialogMapper[IDC_KEYWORD7_EDIT]                 = SCE_USER_KWLIST_KEYWORDS7;
171              dialogMapper[IDC_KEYWORD8_EDIT]                 = SCE_USER_KWLIST_KEYWORDS8;
172              setLexerMapper[SCE_USER_KWLIST_COMMENTS] 				= "userDefine.comments";
173              setLexerMapper[SCE_USER_KWLIST_DELIMITERS] 				= "userDefine.delimiters";
174              setLexerMapper[SCE_USER_KWLIST_OPERATORS1] 				= "userDefine.operators1";
175              setLexerMapper[SCE_USER_KWLIST_NUMBER_PREFIX1] 			= "userDefine.numberPrefix1";
176              setLexerMapper[SCE_USER_KWLIST_NUMBER_PREFIX2] 			= "userDefine.numberPrefix2";
177              setLexerMapper[SCE_USER_KWLIST_NUMBER_EXTRAS1] 			= "userDefine.numberExtras1";
178              setLexerMapper[SCE_USER_KWLIST_NUMBER_EXTRAS2] 			= "userDefine.numberExtras2";
179              setLexerMapper[SCE_USER_KWLIST_NUMBER_SUFFIX1] 			= "userDefine.numberSuffix1";
180              setLexerMapper[SCE_USER_KWLIST_NUMBER_SUFFIX2] 			= "userDefine.numberSuffix2";
181              setLexerMapper[SCE_USER_KWLIST_NUMBER_RANGE] 			= "userDefine.numberRange";
182              setLexerMapper[SCE_USER_KWLIST_FOLDERS_IN_CODE1_OPEN] 	= "userDefine.foldersInCode1Open";
183              setLexerMapper[SCE_USER_KWLIST_FOLDERS_IN_CODE1_MIDDLE] = "userDefine.foldersInCode1Middle";
184              setLexerMapper[SCE_USER_KWLIST_FOLDERS_IN_CODE1_CLOSE] 	= "userDefine.foldersInCode1Close";
185          };
186  };
187  GlobalMappers & globalMappper();
188  class SharedParametersDialog : public StaticDialog
189  {
190  friend class StylerDlg;
191  public:
192      SharedParametersDialog() = default;
193      virtual void updateDlg() = 0;
194  protected :
195      static UserLangContainer *_pUserLang;
196      static ScintillaEditView *_pScintilla;
197      intptr_t CALLBACK run_dlgProc(UINT Message, WPARAM wParam, LPARAM lParam) override;
198      bool setPropertyByCheck(HWND hwnd, WPARAM id, bool & bool2set);
199      virtual void setKeywords2List(int ctrlID) = 0;
200  };
201  class FolderStyleDialog : public SharedParametersDialog
202  {
203  public:
204      FolderStyleDialog() = default;
205      void updateDlg() override;
206  protected :
207      intptr_t CALLBACK run_dlgProc(UINT Message, WPARAM wParam, LPARAM lParam) override;
208      void setKeywords2List(int ctrlID) override;
209  private :
210      void retrieve(TCHAR *dest, const TCHAR *toRetrieve, TCHAR *prefix) const;
211      URLCtrl _pageLink;
212  };
213  class KeyWordsStyleDialog : public SharedParametersDialog
214  {
215  public:
216      KeyWordsStyleDialog() = default;
217      void updateDlg() override;
218  protected :
219      intptr_t CALLBACK run_dlgProc(UINT Message, WPARAM wParam, LPARAM lParam) override;
220      void setKeywords2List(int id) override;
221  };
222  class CommentStyleDialog : public SharedParametersDialog
223  {
224  public :
225      CommentStyleDialog() = default;
226      void updateDlg() override;
227  protected :
228      intptr_t CALLBACK run_dlgProc(UINT Message, WPARAM wParam, LPARAM lParam) override;
229      void setKeywords2List(int id) override;
230  private :
231      void retrieve(TCHAR *dest, const TCHAR *toRetrieve, const TCHAR *prefix) const;
232  };
233  class SymbolsStyleDialog : public SharedParametersDialog
234  {
235  public :
236      SymbolsStyleDialog() = default;
237      void updateDlg() override;
238  protected :
239      intptr_t CALLBACK run_dlgProc(UINT Message, WPARAM wParam, LPARAM lParam) override;
240      void setKeywords2List(int id) override;
241  private :
242      void retrieve(TCHAR *dest, const TCHAR *toRetrieve, TCHAR *prefix) const;
243  };
244  class UserDefineDialog : public SharedParametersDialog
245  {
246  friend class ScintillaEditView;
247  public :
248      UserDefineDialog();
249      ~UserDefineDialog();
250      void init(HINSTANCE hInst, HWND hPere, ScintillaEditView *pSev) {
251          if (!_pScintilla)
252          {
253              Window::init(hInst, hPere);
254              _pScintilla = pSev;
255          }
256      };
257      void setScintilla(ScintillaEditView *pScinView) {
258          _pScintilla = pScinView;
259      };
260      void destroy() override {
261      };
262      int getWidth() const override {
263          return _dlgPos.right;
264      };
265      int getHeight() const override {
266          return _dlgPos.bottom;
267      };
268      void doDialog(bool willBeShown = true, bool isRTL = false) {
269          if (!isCreated())
270              create(IDD_GLOBAL_USERDEFINE_DLG, isRTL);
271          display(willBeShown);
272      };
273      void reSizeTo(RECT & rc) override
274      {
275          Window::reSizeTo(rc);
276          display(false);
277          display();
278      };
279      void reloadLangCombo();
280      void changeStyle();
281      bool isDocked() const {return _status == DOCK;};
282      void setDockStatus(bool isDocked) {_status = isDocked;};
283      HWND getFolderHandle() const {
284          return _folderStyleDlg.getHSelf();
285      };
286      HWND getKeywordsHandle() const {
287          return _keyWordsStyleDlg.getHSelf();
288      };
289      HWND getCommentHandle() const {
290          return _commentStyleDlg.getHSelf();
291      };
292      HWND getSymbolHandle() const {
293          return _symbolsStyleDlg.getHSelf();
294      };
295      void setTabName(int index, const TCHAR *name2set) {
296          _ctrlTab.renameTab(index, name2set);
297      };
298  protected :
299      intptr_t CALLBACK run_dlgProc(UINT message, WPARAM wParam, LPARAM lParam) override;
300  private :
301      ControlsTab _ctrlTab;
302      WindowVector _wVector;
303      UserLangContainer *_pCurrentUserLang = nullptr;
304      FolderStyleDialog       _folderStyleDlg;
305      KeyWordsStyleDialog     _keyWordsStyleDlg;
306      CommentStyleDialog      _commentStyleDlg;
307      SymbolsStyleDialog      _symbolsStyleDlg;
308      bool _status = UNDOCK;
309      RECT _dlgPos{};
310      int _currentHight = 0;
311      int _yScrollPos = 0;
312      int _prevHightVal = 0;
313      void getActualPosSize() {
314          ::GetWindowRect(_hSelf, &_dlgPos);
315          _dlgPos.right -= _dlgPos.left;
316          _dlgPos.bottom -= _dlgPos.top;
317      };
318      void restorePosSize(){reSizeTo(_dlgPos);};
319      void enableLangAndControlsBy(size_t index);
320  protected :
321      void setKeywords2List(int) override {};
322      void updateDlg() override;
323  };
324  class StringDlg : public StaticDialog
325  {
326  public :
327      StringDlg() = default;
328  	void init(HINSTANCE hInst, HWND parent, const TCHAR *title, const TCHAR *staticName, const TCHAR *text2Set, int txtLen = 0, const TCHAR* restrictedChars = nullptr, bool bGotoCenter = false) {
329  		Window::init(hInst, parent);
330  		_title = title;
331  		_static = staticName;
332  		_textValue = text2Set;
333  		_txtLen = txtLen;
334  		_shouldGotoCenter = bGotoCenter;
335  		if (restrictedChars && wcslen(restrictedChars))
336  		{
337  			_restrictedChars = restrictedChars;
338  		}
339  	};
340      intptr_t doDialog() {
341          return ::DialogBoxParam(_hInst, MAKEINTRESOURCE(IDD_STRING_DLG), _hParent,  dlgProc, reinterpret_cast<LPARAM>(this));
342      };
343      void destroy() override {};
344  protected :
345      intptr_t CALLBACK run_dlgProc(UINT Message, WPARAM wParam, LPARAM) override;
346  	LRESULT static CALLBACK customEditProc(HWND hEdit, UINT msg, WPARAM wParam, LPARAM lParam);
347  	bool isAllowed(const generic_string& txt);
348  	void HandlePaste(HWND hEdit);
349  private :
350      generic_string _title;
351      generic_string _textValue;
352      generic_string _static;
353  	generic_string _restrictedChars;
354      int _txtLen = 0;
355  	bool _shouldGotoCenter = false;
356  	WNDPROC _oldEditProc = nullptr;
357  };
358  class StylerDlg
359  {
360  public:
361      StylerDlg( HINSTANCE hInst, HWND parent, int stylerIndex = 0, int enabledNesters = -1):
362          _hInst(hInst), _parent(parent), _stylerIndex(stylerIndex), _enabledNesters(enabledNesters) {
363          _pFgColour = new ColourPicker;
364          _pBgColour = new ColourPicker;
365          _initialStyle = SharedParametersDialog::_pUserLang->_styles.getStyler(stylerIndex);
366      };
367      ~StylerDlg() {
368          _pFgColour->destroy();
369          _pBgColour->destroy();
370          delete _pFgColour;
371          delete _pBgColour;
372  	};
373      long doDialog() {
374  		return long(::DialogBoxParam(_hInst, MAKEINTRESOURCE(IDD_STYLER_POPUP_DLG), _parent, dlgProc, reinterpret_cast<LPARAM>(this)));
375      };
376      static intptr_t CALLBACK dlgProc(HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam);
377  private:
378      HINSTANCE _hInst = nullptr;
379      HWND _parent = nullptr;
380      int _stylerIndex = 0;
381      int _enabledNesters = 0;
382      ColourPicker * _pFgColour = nullptr;
383      ColourPicker * _pBgColour = nullptr;
384      Style _initialStyle;
385      void move2CtrlRight(HWND hwndDlg, int ctrlID, HWND handle2Move, int handle2MoveWidth, int handle2MoveHeight);
386  };
</code></pre>
        </div>
        <div class="column">
            <h3>notepad-plus-plus-MDEwOlJlcG9zaXRvcnkzMzAxNDgxMQ==-flat-UserDefineDialog.h</h3>
            <pre><code>1  #pragma once
2  #include "UserDefineResource.h"
3  #include "ControlsTab.h"
4  #include "ColourPicker.h"
5  #include "Parameters.h"
6  #include "URLCtrl.h"
7  #include "SciLexer.h"
8  #include <unordered_map>
9  class ScintillaEditView;
10  class UserLangContainer;
11  struct Style;
12  #define WL_LEN_MAX 1024
13  #define BOLD_MASK     1
14  #define ITALIC_MASK   2
15  const bool DOCK = true;
16  const bool UNDOCK = false;
17  class GlobalMappers
18  {
19      public:
20  		std::unordered_map<generic_string, int> keywordIdMapper;
21  		std::unordered_map<int, generic_string> keywordNameMapper;
22  		std::unordered_map<generic_string, int> styleIdMapper;
23  		std::unordered_map<int, generic_string> styleNameMapper;
24  		std::unordered_map<generic_string, int> temp;
25  		std::unordered_map<generic_string, int>::iterator iter;
26  		std::unordered_map<int, int> nestingMapper;
27  		std::unordered_map<int, int> dialogMapper;
28  		std::unordered_map<int, std::string> setLexerMapper;
29          GlobalMappers()
30          {
31              temp[TEXT("Operators")]                     = SCE_USER_KWLIST_OPERATORS1;
32              temp[TEXT("Folder+")]                       = SCE_USER_KWLIST_FOLDERS_IN_CODE1_OPEN;
33              temp[TEXT("Folder-")]                       = SCE_USER_KWLIST_FOLDERS_IN_CODE1_CLOSE;
34              temp[TEXT("Words1")]                        = SCE_USER_KWLIST_KEYWORDS1;
35              temp[TEXT("Words2")]                        = SCE_USER_KWLIST_KEYWORDS2;
36              temp[TEXT("Words3")]                        = SCE_USER_KWLIST_KEYWORDS3;
37              temp[TEXT("Words4")]                        = SCE_USER_KWLIST_KEYWORDS4;
38              for (iter = temp.begin(); iter != temp.end(); ++iter)
39                  keywordNameMapper[iter->second] = iter->first;
40              keywordIdMapper.insert(temp.begin(), temp.end());
41              temp.clear();
42              temp[TEXT("Comments")]                      = SCE_USER_KWLIST_COMMENTS;
43              temp[TEXT("Numbers, additional")]           = SCE_USER_KWLIST_NUMBER_RANGE;
44              temp[TEXT("Numbers, prefixes")]             = SCE_USER_KWLIST_NUMBER_PREFIX2;
45              temp[TEXT("Numbers, extras with prefixes")] = SCE_USER_KWLIST_NUMBER_EXTRAS2;
46              temp[TEXT("Numbers, suffixes")]             = SCE_USER_KWLIST_NUMBER_SUFFIX2;
47              temp[TEXT("Operators1")]                    = SCE_USER_KWLIST_OPERATORS1;
48              temp[TEXT("Operators2")]                    = SCE_USER_KWLIST_OPERATORS2;
49              temp[TEXT("Folders in code1, open")]        = SCE_USER_KWLIST_FOLDERS_IN_CODE1_OPEN;
50              temp[TEXT("Folders in code1, middle")]      = SCE_USER_KWLIST_FOLDERS_IN_CODE1_MIDDLE;
51              temp[TEXT("Folders in code1, close")]       = SCE_USER_KWLIST_FOLDERS_IN_CODE1_CLOSE;
52              temp[TEXT("Folders in code2, open")]        = SCE_USER_KWLIST_FOLDERS_IN_CODE2_OPEN;
53              temp[TEXT("Folders in code2, middle")]      = SCE_USER_KWLIST_FOLDERS_IN_CODE2_MIDDLE;
54              temp[TEXT("Folders in code2, close")]       = SCE_USER_KWLIST_FOLDERS_IN_CODE2_CLOSE;
55              temp[TEXT("Folders in comment, open")]      = SCE_USER_KWLIST_FOLDERS_IN_COMMENT_OPEN;
56              temp[TEXT("Folders in comment, middle")]    = SCE_USER_KWLIST_FOLDERS_IN_COMMENT_MIDDLE;
57              temp[TEXT("Folders in comment, close")]     = SCE_USER_KWLIST_FOLDERS_IN_COMMENT_CLOSE;
58              temp[TEXT("Keywords1")]                     = SCE_USER_KWLIST_KEYWORDS1;
59              temp[TEXT("Keywords2")]                     = SCE_USER_KWLIST_KEYWORDS2;
60              temp[TEXT("Keywords3")]                     = SCE_USER_KWLIST_KEYWORDS3;
61              temp[TEXT("Keywords4")]                     = SCE_USER_KWLIST_KEYWORDS4;
62              temp[TEXT("Keywords5")]                     = SCE_USER_KWLIST_KEYWORDS5;
63              temp[TEXT("Keywords6")]                     = SCE_USER_KWLIST_KEYWORDS6;
64              temp[TEXT("Keywords7")]                     = SCE_USER_KWLIST_KEYWORDS7;
65              temp[TEXT("Keywords8")]                     = SCE_USER_KWLIST_KEYWORDS8;
66              temp[TEXT("Delimiters")]                    = SCE_USER_KWLIST_DELIMITERS;
67              for (iter = temp.begin(); iter != temp.end(); ++iter)
68                  keywordNameMapper[iter->second] = iter->first;
69              keywordIdMapper.insert(temp.begin(), temp.end());
70              temp.clear();
71              temp[TEXT("Numbers, prefix1")]              = SCE_USER_KWLIST_NUMBER_PREFIX1;
72              temp[TEXT("Numbers, prefix2")]              = SCE_USER_KWLIST_NUMBER_PREFIX2;
73              temp[TEXT("Numbers, extras1")]              = SCE_USER_KWLIST_NUMBER_EXTRAS1;
74              temp[TEXT("Numbers, extras2")]              = SCE_USER_KWLIST_NUMBER_EXTRAS2;
75              temp[TEXT("Numbers, suffix1")]              = SCE_USER_KWLIST_NUMBER_SUFFIX1;
<span onclick='openModal()' class='match'>76              temp[TEXT("Numbers, suffix2")]              = SCE_USER_KWLIST_NUMBER_SUFFIX2;
77              temp[TEXT("Numbers, range")]                = SCE_USER_KWLIST_NUMBER_RANGE;
78              for (iter = temp.begin(); iter != temp.end(); ++iter)
</span>79                  keywordNameMapper[iter->second] = iter->first;
80              keywordIdMapper.insert(temp.begin(), temp.end());
81              temp.clear();
82  	        temp[TEXT("FOLDEROPEN")]           = SCE_USER_STYLE_FOLDER_IN_CODE1;
83  	        temp[TEXT("FOLDERCLOSE")]          = SCE_USER_STYLE_FOLDER_IN_CODE1;
84  	        temp[TEXT("KEYWORD1")]             = SCE_USER_STYLE_KEYWORD1;
85  	        temp[TEXT("KEYWORD2")]             = SCE_USER_STYLE_KEYWORD2;
86  	        temp[TEXT("KEYWORD3")]             = SCE_USER_STYLE_KEYWORD3;
87  	        temp[TEXT("KEYWORD4")]             = SCE_USER_STYLE_KEYWORD4;
88  	        temp[TEXT("COMMENT")]              = SCE_USER_STYLE_COMMENT;
89  	        temp[TEXT("COMMENT LINE")]         = SCE_USER_STYLE_COMMENTLINE;
90  	        temp[TEXT("NUMBER")]               = SCE_USER_STYLE_NUMBER;
91  	        temp[TEXT("OPERATOR")]             = SCE_USER_STYLE_OPERATOR;
92  	        temp[TEXT("DELIMINER1")]           = SCE_USER_STYLE_DELIMITER1;
93  	        temp[TEXT("DELIMINER2")]           = SCE_USER_STYLE_DELIMITER2;
94  	        temp[TEXT("DELIMINER3")]           = SCE_USER_STYLE_DELIMITER3;
95  	        for (iter = temp.begin(); iter != temp.end(); ++iter)
96  		        styleNameMapper[iter->second] = iter->first;
97  	        styleIdMapper.insert(temp.begin(), temp.end());
98  	        temp.clear();
99  	        temp[TEXT("DEFAULT")]              = SCE_USER_STYLE_DEFAULT;
100  	        temp[TEXT("COMMENTS")]             = SCE_USER_STYLE_COMMENT;
101  	        temp[TEXT("LINE COMMENTS")]        = SCE_USER_STYLE_COMMENTLINE;
102  	        temp[TEXT("NUMBERS")]              = SCE_USER_STYLE_NUMBER;
103  	        temp[TEXT("KEYWORDS1")]            = SCE_USER_STYLE_KEYWORD1;
104  	        temp[TEXT("KEYWORDS2")]            = SCE_USER_STYLE_KEYWORD2;
105  	        temp[TEXT("KEYWORDS3")]            = SCE_USER_STYLE_KEYWORD3;
106  	        temp[TEXT("KEYWORDS4")]            = SCE_USER_STYLE_KEYWORD4;
107  	        temp[TEXT("KEYWORDS5")]            = SCE_USER_STYLE_KEYWORD5;
108  	        temp[TEXT("KEYWORDS6")]            = SCE_USER_STYLE_KEYWORD6;
109  	        temp[TEXT("KEYWORDS7")]            = SCE_USER_STYLE_KEYWORD7;
110  	        temp[TEXT("KEYWORDS8")]            = SCE_USER_STYLE_KEYWORD8;
111  	        temp[TEXT("OPERATORS")]            = SCE_USER_STYLE_OPERATOR;
112  	        temp[TEXT("FOLDER IN CODE1")]      = SCE_USER_STYLE_FOLDER_IN_CODE1;
113  	        temp[TEXT("FOLDER IN CODE2")]      = SCE_USER_STYLE_FOLDER_IN_CODE2;
114  	        temp[TEXT("FOLDER IN COMMENT")]    = SCE_USER_STYLE_FOLDER_IN_COMMENT;
115  	        temp[TEXT("DELIMITERS1")]          = SCE_USER_STYLE_DELIMITER1;
116  	        temp[TEXT("DELIMITERS2")]          = SCE_USER_STYLE_DELIMITER2;
117  	        temp[TEXT("DELIMITERS3")]          = SCE_USER_STYLE_DELIMITER3;
118  	        temp[TEXT("DELIMITERS4")]          = SCE_USER_STYLE_DELIMITER4;
119  	        temp[TEXT("DELIMITERS5")]          = SCE_USER_STYLE_DELIMITER5;
120  	        temp[TEXT("DELIMITERS6")]          = SCE_USER_STYLE_DELIMITER6;
121  	        temp[TEXT("DELIMITERS7")]          = SCE_USER_STYLE_DELIMITER7;
122  	        temp[TEXT("DELIMITERS8")]          = SCE_USER_STYLE_DELIMITER8;
123  	        for (iter = temp.begin(); iter != temp.end(); ++iter)
124  		        styleNameMapper[iter->second] = iter->first;
125  	        styleIdMapper.insert(temp.begin(), temp.end());
126  	        temp.clear();
127              nestingMapper[IDC_STYLER_CHECK_NESTING_DELIMITER1]      = SCE_USER_MASK_NESTING_DELIMITER1;
128              nestingMapper[IDC_STYLER_CHECK_NESTING_DELIMITER2]      = SCE_USER_MASK_NESTING_DELIMITER2;
129              nestingMapper[IDC_STYLER_CHECK_NESTING_DELIMITER3]      = SCE_USER_MASK_NESTING_DELIMITER3;
130              nestingMapper[IDC_STYLER_CHECK_NESTING_DELIMITER4]      = SCE_USER_MASK_NESTING_DELIMITER4;
131              nestingMapper[IDC_STYLER_CHECK_NESTING_DELIMITER5]      = SCE_USER_MASK_NESTING_DELIMITER5;
132              nestingMapper[IDC_STYLER_CHECK_NESTING_DELIMITER6]      = SCE_USER_MASK_NESTING_DELIMITER6;
133              nestingMapper[IDC_STYLER_CHECK_NESTING_DELIMITER7]      = SCE_USER_MASK_NESTING_DELIMITER7;
134              nestingMapper[IDC_STYLER_CHECK_NESTING_DELIMITER8]      = SCE_USER_MASK_NESTING_DELIMITER8;
135              nestingMapper[IDC_STYLER_CHECK_NESTING_COMMENT]         = SCE_USER_MASK_NESTING_COMMENT;
136              nestingMapper[IDC_STYLER_CHECK_NESTING_COMMENT_LINE]    = SCE_USER_MASK_NESTING_COMMENT_LINE;
137              nestingMapper[IDC_STYLER_CHECK_NESTING_KEYWORD1]        = SCE_USER_MASK_NESTING_KEYWORD1;
138              nestingMapper[IDC_STYLER_CHECK_NESTING_KEYWORD2]        = SCE_USER_MASK_NESTING_KEYWORD2;
139              nestingMapper[IDC_STYLER_CHECK_NESTING_KEYWORD3]        = SCE_USER_MASK_NESTING_KEYWORD3;
140              nestingMapper[IDC_STYLER_CHECK_NESTING_KEYWORD4]        = SCE_USER_MASK_NESTING_KEYWORD4;
141              nestingMapper[IDC_STYLER_CHECK_NESTING_KEYWORD5]        = SCE_USER_MASK_NESTING_KEYWORD5;
142              nestingMapper[IDC_STYLER_CHECK_NESTING_KEYWORD6]        = SCE_USER_MASK_NESTING_KEYWORD6;
143              nestingMapper[IDC_STYLER_CHECK_NESTING_KEYWORD7]        = SCE_USER_MASK_NESTING_KEYWORD7;
144              nestingMapper[IDC_STYLER_CHECK_NESTING_KEYWORD8]        = SCE_USER_MASK_NESTING_KEYWORD8;
145              nestingMapper[IDC_STYLER_CHECK_NESTING_OPERATORS1]      = SCE_USER_MASK_NESTING_OPERATORS1;
146              nestingMapper[IDC_STYLER_CHECK_NESTING_OPERATORS2]      = SCE_USER_MASK_NESTING_OPERATORS2;
147              nestingMapper[IDC_STYLER_CHECK_NESTING_NUMBERS]         = SCE_USER_MASK_NESTING_NUMBERS;
148              dialogMapper[IDC_NUMBER_PREFIX1_EDIT]           = SCE_USER_KWLIST_NUMBER_PREFIX1;
149              dialogMapper[IDC_NUMBER_PREFIX2_EDIT]           = SCE_USER_KWLIST_NUMBER_PREFIX2;
150              dialogMapper[IDC_NUMBER_EXTRAS1_EDIT]           = SCE_USER_KWLIST_NUMBER_EXTRAS1;
151              dialogMapper[IDC_NUMBER_EXTRAS2_EDIT]           = SCE_USER_KWLIST_NUMBER_EXTRAS2;
152              dialogMapper[IDC_NUMBER_SUFFIX1_EDIT]           = SCE_USER_KWLIST_NUMBER_SUFFIX1;
153              dialogMapper[IDC_NUMBER_SUFFIX2_EDIT]           = SCE_USER_KWLIST_NUMBER_SUFFIX2;
154              dialogMapper[IDC_NUMBER_RANGE_EDIT]             = SCE_USER_KWLIST_NUMBER_RANGE;
155              dialogMapper[IDC_FOLDER_IN_CODE1_OPEN_EDIT]  	= SCE_USER_KWLIST_FOLDERS_IN_CODE1_OPEN;    
156              dialogMapper[IDC_FOLDER_IN_CODE1_MIDDLE_EDIT]  	= SCE_USER_KWLIST_FOLDERS_IN_CODE1_MIDDLE;  
157              dialogMapper[IDC_FOLDER_IN_CODE1_CLOSE_EDIT]  	= SCE_USER_KWLIST_FOLDERS_IN_CODE1_CLOSE;   
158              dialogMapper[IDC_FOLDER_IN_CODE2_OPEN_EDIT]  	= SCE_USER_KWLIST_FOLDERS_IN_CODE2_OPEN;    
159              dialogMapper[IDC_FOLDER_IN_CODE2_MIDDLE_EDIT]  	= SCE_USER_KWLIST_FOLDERS_IN_CODE2_MIDDLE;  
160              dialogMapper[IDC_FOLDER_IN_CODE2_CLOSE_EDIT]  	= SCE_USER_KWLIST_FOLDERS_IN_CODE2_CLOSE;   
161              dialogMapper[IDC_FOLDER_IN_COMMENT_OPEN_EDIT]  	= SCE_USER_KWLIST_FOLDERS_IN_COMMENT_OPEN;  
162              dialogMapper[IDC_FOLDER_IN_COMMENT_MIDDLE_EDIT] = SCE_USER_KWLIST_FOLDERS_IN_COMMENT_MIDDLE;
163              dialogMapper[IDC_FOLDER_IN_COMMENT_CLOSE_EDIT]  = SCE_USER_KWLIST_FOLDERS_IN_COMMENT_CLOSE;
164              dialogMapper[IDC_KEYWORD1_EDIT]                 = SCE_USER_KWLIST_KEYWORDS1;
165              dialogMapper[IDC_KEYWORD2_EDIT]                 = SCE_USER_KWLIST_KEYWORDS2;
166              dialogMapper[IDC_KEYWORD3_EDIT]                 = SCE_USER_KWLIST_KEYWORDS3;
167              dialogMapper[IDC_KEYWORD4_EDIT]                 = SCE_USER_KWLIST_KEYWORDS4;
168              dialogMapper[IDC_KEYWORD5_EDIT]                 = SCE_USER_KWLIST_KEYWORDS5;
169              dialogMapper[IDC_KEYWORD6_EDIT]                 = SCE_USER_KWLIST_KEYWORDS6;
170              dialogMapper[IDC_KEYWORD7_EDIT]                 = SCE_USER_KWLIST_KEYWORDS7;
171              dialogMapper[IDC_KEYWORD8_EDIT]                 = SCE_USER_KWLIST_KEYWORDS8;
172              setLexerMapper[SCE_USER_KWLIST_COMMENTS] 				= "userDefine.comments";
173              setLexerMapper[SCE_USER_KWLIST_DELIMITERS] 				= "userDefine.delimiters";
174              setLexerMapper[SCE_USER_KWLIST_OPERATORS1] 				= "userDefine.operators1";
175              setLexerMapper[SCE_USER_KWLIST_NUMBER_PREFIX1] 			= "userDefine.numberPrefix1";
176              setLexerMapper[SCE_USER_KWLIST_NUMBER_PREFIX2] 			= "userDefine.numberPrefix2";
177              setLexerMapper[SCE_USER_KWLIST_NUMBER_EXTRAS1] 			= "userDefine.numberExtras1";
178              setLexerMapper[SCE_USER_KWLIST_NUMBER_EXTRAS2] 			= "userDefine.numberExtras2";
179              setLexerMapper[SCE_USER_KWLIST_NUMBER_SUFFIX1] 			= "userDefine.numberSuffix1";
180              setLexerMapper[SCE_USER_KWLIST_NUMBER_SUFFIX2] 			= "userDefine.numberSuffix2";
181              setLexerMapper[SCE_USER_KWLIST_NUMBER_RANGE] 			= "userDefine.numberRange";
182              setLexerMapper[SCE_USER_KWLIST_FOLDERS_IN_CODE1_OPEN] 	= "userDefine.foldersInCode1Open";
183              setLexerMapper[SCE_USER_KWLIST_FOLDERS_IN_CODE1_MIDDLE] = "userDefine.foldersInCode1Middle";
184              setLexerMapper[SCE_USER_KWLIST_FOLDERS_IN_CODE1_CLOSE] 	= "userDefine.foldersInCode1Close";
185          };
186  };
187  GlobalMappers & globalMappper();
188  class SharedParametersDialog : public StaticDialog
189  {
190  friend class StylerDlg;
191  public:
192      SharedParametersDialog() = default;
193      virtual void updateDlg() = 0;
194  protected :
195      static UserLangContainer *_pUserLang;
196      static ScintillaEditView *_pScintilla;
197      intptr_t CALLBACK run_dlgProc(UINT Message, WPARAM wParam, LPARAM lParam) override;
198      bool setPropertyByCheck(HWND hwnd, WPARAM id, bool & bool2set);
199      virtual void setKeywords2List(int ctrlID) = 0;
200  };
201  class FolderStyleDialog : public SharedParametersDialog
202  {
203  public:
204      FolderStyleDialog() = default;
205      void updateDlg() override;
206  protected :
207      intptr_t CALLBACK run_dlgProc(UINT Message, WPARAM wParam, LPARAM lParam) override;
208      void setKeywords2List(int ctrlID) override;
209  private :
210      void retrieve(TCHAR *dest, const TCHAR *toRetrieve, TCHAR *prefix) const;
211      URLCtrl _pageLink;
212  };
213  class KeyWordsStyleDialog : public SharedParametersDialog
214  {
215  public:
216      KeyWordsStyleDialog() = default;
217      void updateDlg() override;
218  protected :
219      intptr_t CALLBACK run_dlgProc(UINT Message, WPARAM wParam, LPARAM lParam) override;
220      void setKeywords2List(int id) override;
221  };
222  class CommentStyleDialog : public SharedParametersDialog
223  {
224  public :
225      CommentStyleDialog() = default;
226      void updateDlg() override;
227  protected :
228      intptr_t CALLBACK run_dlgProc(UINT Message, WPARAM wParam, LPARAM lParam) override;
229      void setKeywords2List(int id) override;
230  private :
231      void retrieve(TCHAR *dest, const TCHAR *toRetrieve, const TCHAR *prefix) const;
232  };
233  class SymbolsStyleDialog : public SharedParametersDialog
234  {
235  public :
236      SymbolsStyleDialog() = default;
237      void updateDlg() override;
238  protected :
239      intptr_t CALLBACK run_dlgProc(UINT Message, WPARAM wParam, LPARAM lParam) override;
240      void setKeywords2List(int id) override;
241  private :
242      void retrieve(TCHAR *dest, const TCHAR *toRetrieve, TCHAR *prefix) const;
243  };
244  class UserDefineDialog : public SharedParametersDialog
245  {
246  friend class ScintillaEditView;
247  public :
248      UserDefineDialog();
249      ~UserDefineDialog();
250      void init(HINSTANCE hInst, HWND hPere, ScintillaEditView *pSev) {
251          if (!_pScintilla)
252          {
253              Window::init(hInst, hPere);
254              _pScintilla = pSev;
255          }
256      };
257      void setScintilla(ScintillaEditView *pScinView) {
258          _pScintilla = pScinView;
259      };
260      void destroy() override {
261      };
262      int getWidth() const override {
263          return _dlgPos.right;
264      };
265      int getHeight() const override {
266          return _dlgPos.bottom;
267      };
268      void doDialog(bool willBeShown = true, bool isRTL = false) {
269          if (!isCreated())
270              create(IDD_GLOBAL_USERDEFINE_DLG, isRTL);
271          display(willBeShown);
272      };
273      void reSizeTo(RECT & rc) override
274      {
275          Window::reSizeTo(rc);
276          display(false);
277          display();
278      };
279      void reloadLangCombo();
280      void changeStyle();
281      bool isDocked() const {return _status == DOCK;};
282      void setDockStatus(bool isDocked) {_status = isDocked;};
283      HWND getFolderHandle() const {
284          return _folderStyleDlg.getHSelf();
285      };
286      HWND getKeywordsHandle() const {
287          return _keyWordsStyleDlg.getHSelf();
288      };
289      HWND getCommentHandle() const {
290          return _commentStyleDlg.getHSelf();
291      };
292      HWND getSymbolHandle() const {
293          return _symbolsStyleDlg.getHSelf();
294      };
295      void setTabName(int index, const TCHAR *name2set) {
296          _ctrlTab.renameTab(index, name2set);
297      };
298  protected :
299      intptr_t CALLBACK run_dlgProc(UINT message, WPARAM wParam, LPARAM lParam) override;
300  private :
301      ControlsTab _ctrlTab;
302      WindowVector _wVector;
303      UserLangContainer *_pCurrentUserLang = nullptr;
304      FolderStyleDialog       _folderStyleDlg;
305      KeyWordsStyleDialog     _keyWordsStyleDlg;
306      CommentStyleDialog      _commentStyleDlg;
307      SymbolsStyleDialog      _symbolsStyleDlg;
308      bool _status = UNDOCK;
309      RECT _dlgPos{};
310      int _currentHight = 0;
311      int _yScrollPos = 0;
312      int _prevHightVal = 0;
313      void getActualPosSize() {
314          ::GetWindowRect(_hSelf, &_dlgPos);
315          _dlgPos.right -= _dlgPos.left;
316          _dlgPos.bottom -= _dlgPos.top;
317      };
318      void restorePosSize(){reSizeTo(_dlgPos);};
319      void enableLangAndControlsBy(size_t index);
320  protected :
321      void setKeywords2List(int) override {};
322      void updateDlg() override;
323  };
324  class StringDlg : public StaticDialog
325  {
326  public :
327      StringDlg() = default;
328  	void init(HINSTANCE hInst, HWND parent, const TCHAR *title, const TCHAR *staticName, const TCHAR *text2Set, int txtLen = 0, const TCHAR* restrictedChars = nullptr, bool bGotoCenter = false) {
329  		Window::init(hInst, parent);
330  		_title = title;
331  		_static = staticName;
332  		_textValue = text2Set;
333  		_txtLen = txtLen;
334  		_shouldGotoCenter = bGotoCenter;
335  		if (restrictedChars && wcslen(restrictedChars))
336  		{
337  			_restrictedChars = restrictedChars;
338  		}
339  	};
340      intptr_t doDialog() {
341          return ::DialogBoxParam(_hInst, MAKEINTRESOURCE(IDD_STRING_DLG), _hParent,  dlgProc, reinterpret_cast<LPARAM>(this));
342      };
343      void destroy() override {};
344  protected :
345      intptr_t CALLBACK run_dlgProc(UINT Message, WPARAM wParam, LPARAM) override;
346  	LRESULT static CALLBACK customEditProc(HWND hEdit, UINT msg, WPARAM wParam, LPARAM lParam);
347  	bool isAllowed(const generic_string& txt);
348  	void HandlePaste(HWND hEdit);
349  private :
350      generic_string _title;
351      generic_string _textValue;
352      generic_string _static;
353  	generic_string _restrictedChars;
354      int _txtLen = 0;
355  	bool _shouldGotoCenter = false;
356  	WNDPROC _oldEditProc = nullptr;
357  };
358  class StylerDlg
359  {
360  public:
361      StylerDlg( HINSTANCE hInst, HWND parent, int stylerIndex = 0, int enabledNesters = -1):
362          _hInst(hInst), _parent(parent), _stylerIndex(stylerIndex), _enabledNesters(enabledNesters) {
363          _pFgColour = new ColourPicker;
364          _pBgColour = new ColourPicker;
365          _initialStyle = SharedParametersDialog::_pUserLang->_styles.getStyler(stylerIndex);
366      };
367      ~StylerDlg() {
368          _pFgColour->destroy();
369          _pBgColour->destroy();
370          delete _pFgColour;
371          delete _pBgColour;
372  	};
373      long doDialog() {
374  		return long(::DialogBoxParam(_hInst, MAKEINTRESOURCE(IDD_STYLER_POPUP_DLG), _parent, dlgProc, reinterpret_cast<LPARAM>(this)));
375      };
376      static intptr_t CALLBACK dlgProc(HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam);
377  private:
378      HINSTANCE _hInst = nullptr;
379      HWND _parent = nullptr;
380      int _stylerIndex = 0;
381      int _enabledNesters = 0;
382      ColourPicker * _pFgColour = nullptr;
383      ColourPicker * _pBgColour = nullptr;
384      Style _initialStyle;
385      void move2CtrlRight(HWND hwndDlg, int ctrlID, HWND handle2Move, int handle2MoveWidth, int handle2MoveHeight);
386  };
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from notepad-plus-plus-MDEwOlJlcG9zaXRvcnkzMzAxNDgxMQ==-flat-UserDefineDialog.h</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from notepad-plus-plus-MDEwOlJlcG9zaXRvcnkzMzAxNDgxMQ==-flat-UserDefineDialog.h</div>
                </div>
                <div class="column column_space"><pre><code>119  	        temp[TEXT("DELIMITERS5")]          = SCE_USER_STYLE_DELIMITER5;
120  	        temp[TEXT("DELIMITERS6")]          = SCE_USER_STYLE_DELIMITER6;
121  	        temp[TEXT("DELIMITERS7")]          = SCE_USER_STYLE_DELIMITER7;
</pre></code></div>
                <div class="column column_space"><pre><code>76              temp[TEXT("Numbers, suffix2")]              = SCE_USER_KWLIST_NUMBER_SUFFIX2;
77              temp[TEXT("Numbers, range")]                = SCE_USER_KWLIST_NUMBER_RANGE;
78              for (iter = temp.begin(); iter != temp.end(); ++iter)
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    