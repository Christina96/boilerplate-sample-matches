<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html><head><title>Matches for ini_option_2.h &amp; fuse_fs_entry.h</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for ini_option_2.h &amp; fuse_fs_entry.h
      </h3>
<h1 align="center">
        19.2%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>ini_option_2.h (32.954544%)<th>fuse_fs_entry.h (13.551402%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(71-75)<td><a href="#" name="0">(116-120)</a><td align="center"><font color="#ff0000">17</font>
<tr onclick='openModal("#f63526")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#f63526"><font color="#f63526">-</font><td><a href="#" name="1">(45-58)<td><a href="#" name="1">(83-97)</a><td align="center"><font color="#b40000">12</font>
</td></td></a></td></td></tr></td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>ini_option_2.h</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
/*
 * Flare
 * --------------
 * Copyright (C) 2008-2014 GREE, Inc.
 * 
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * as published by the Free Software Foundation; either version 2
 * of the License, or (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
 */
/**
 *	ini_option.h
 *
 *	@author	Masaki Fujimoto &lt;fujimoto@php.net&gt;
 *
 *	$Id$
 */
#ifndef INI_OPTION_H
#define INI_OPTION_H

#include "ini.h"

namespace gree {
namespace flare {

#define	ini_option_object()			singleton&lt;ini_option&gt;::instance()

/**
 *	flarefs global configuration class
 */
class ini_option : public ini {
private:
<a name="1"></a>	int					_argc;
	char**			_argv;

<font color="#f63526"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>	int					_chunk_size;
	string			_config_path;
	int					_connection_pool_size;
	string			_data_dir;
	bool				_fuse_allow_other;
	bool				_fuse_allow_root;
	string			_mount_dir;
	string			_node_server_name;
	int					_node_server_port;
	string			_log_facility;
	
public:
	static const int default_chunk_size = 8192;
	static const int default_connection_pool_size = 8;</b></font>
	static const int default_node_server_port = 12121;

	ini_option();
	virtual ~ini_option();

	int load();
	int reload();

	int set_args(int argc, char** argv) { this-&gt;_argc = argc; this-&gt;_argv = argv; return 0; };
<a name="0"></a>
	int get_chunk_size() { return this-&gt;_chunk_size; };
	string get_config_path() { return this-&gt;_config_path; };
<font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>	int get_connection_pool_size() { return this-&gt;_connection_pool_size; };
	string get_data_dir() { return this-&gt;_data_dir; };
	bool is_fuse_allow_other() { return this-&gt;_fuse_allow_other; };
	bool is_fuse_allow_root() { return this-&gt;_fuse_allow_root; };
	string get_mount_dir() { return this-&gt;_mount_dir; };</b></font>
	string get_node_server_name() { return this-&gt;_node_server_name; };
	int get_node_server_port() { return this-&gt;_node_server_port; };
	string get_log_facility() { return this-&gt;_log_facility; };

private:
	int _setup_cli_option(program_options::options_description&amp; option);
	int _setup_config_option(program_options:: options_description&amp; option);
};

}	// namespace flare
}	// namespace gree

#endif // INI_OPTION_H
// vim: foldmethod=marker tabstop=2 shiftwidth=2 autoindent
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>fuse_fs_entry.h</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
/*
 * Flare
 * --------------
 * Copyright (C) 2008-2014 GREE, Inc.
 * 
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * as published by the Free Software Foundation; either version 2
 * of the License, or (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
 */
/**
 *	fuse_fs_entry.h
 *
 *	@author	Masaki Fujimoto &lt;fujimoto@php.net&gt;
 *
 *	$Id$
 */
#ifndef	FUSE_FS_ENTRY_H
#define	FUSE_FS_ENTRY_H

#include &lt;sys/types.h&gt;
#include &lt;sys/stat.h&gt;
#include &lt;sys/xattr.h&gt;
#include &lt;unistd.h&gt;

#include &lt;fstream&gt;
#include &lt;sstream&gt;

#include &lt;boost/archive/binary_oarchive.hpp&gt;
#include &lt;boost/archive/binary_iarchive.hpp&gt;
#include &lt;boost/serialization/serialization.hpp&gt;
#include &lt;boost/serialization/string.hpp&gt;
#include &lt;boost/serialization/vector.hpp&gt;
#include &lt;boost/serialization/map.hpp&gt;
#include &lt;boost/serialization/split_member.hpp&gt;
#include &lt;boost/serialization/version.hpp&gt;
#include &lt;boost/lexical_cast.hpp&gt;

#include "flarefs.h"

namespace gree {
namespace flare {

typedef class fuse_fs fuse_fs;
typedef class fuse_fs_entry fuse_fs_entry;
typedef shared_ptr&lt;fuse_fs_entry&gt; shared_fs_entry;   

namespace fuse_fs_entry_const {
} // namespace fuse_fs_entry_const

/**
 *	flarefs file system entry implementation
 */
class fuse_fs_entry {
public:
	enum 								type {
		type_none					= 0,
		type_dir,
		type_file,
	};

	typedef	pair&lt;uint64_t, uint64_t&gt; chunk_id_t;
	typedef	vector&lt;chunk_id_t&gt; chunk_list_t;

protected:
	string								_path;
	fuse_fs*							_fs;

	shared_client					_client;
	type									_type;
<a name="1"></a>	uint64_t							_version;

	int										_access;
<font color="#f63526"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>	int										_uid;
	int										_gid;
	off_t									_size;
	time_t								_atime;
	time_t								_ctime;
	time_t								_mtime;

	map&lt;string, string&gt;		_xattr;

	int										_chunk_size;
	chunk_list_t					_chunk_list;

public:
	static const int cas_retry_max = 8;
	static const int cas_retry_wait = 500;</b></font>

	fuse_fs_entry(string path, fuse_fs* fs);
	virtual ~fuse_fs_entry();

	static shared_fs_entry create(string path, type t, fuse_fs* fs);
	static op::result get(string path, fuse_fs* fs, shared_fs_entry&amp; fe);

	string get_path() { return this-&gt;_path; };
	type get_type() { return this-&gt;_type; };
	int get_parent(shared_fs_entry&amp; fe);
	string get_parent_path();
	virtual int add_fs_entry(shared_fs_entry fe);

	int get_access() { return this-&gt;_access; };
	int set_access(int m) { this-&gt;_access = m; return 0; };
<a name="0"></a>	int get_uid() { return this-&gt;_uid; };
	int set_uid(int uid) { this-&gt;_uid = uid; return 0; };
	int get_gid() { return this-&gt;_gid; };
<font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>	int set_gid(int gid) { this-&gt;_gid = gid; return 0; };
	off_t get_size() { return this-&gt;_size; };
	time_t get_atime() { return this-&gt;_atime; };
	time_t get_ctime() { return this-&gt;_ctime; };
	time_t get_mtime() { return this-&gt;_mtime; };</b></font>

	inline int get_mode() {
		int m = this-&gt;_access;
		switch (this-&gt;_type) {
		case type_dir:
			m |= S_IFDIR;
			break;
		case type_file:
			m |= S_IFREG;
			break;
		default:
			break;
		}
		return m;
	};
	struct stat get_stat();
	int set_xattr(const char* name, const char* value, size_t value_size, int flag);
	int get_xattr(const char* name, char* value, size_t value_size);
	virtual int get_dirent(off_t o, string&amp; name, struct stat&amp; st);

	virtual const char* serialize(int&amp; data_size);
	virtual int unserialize(const char* data, int data_size, uint64_t version);
	int reload();
	op::result store(bool force = false);

protected:
	friend class boost::serialization::access;
	BOOST_SERIALIZATION_SPLIT_MEMBER();

	template&lt;class Archive&gt; void save(Archive&amp; ar, const unsigned int version) const {
		log_debug("version: %d", version);

		log_debug("access: %d", this-&gt;_access);
		ar &amp; this-&gt;_access;
		log_debug("uid: %d", this-&gt;_uid);
		ar &amp; this-&gt;_uid;
		log_debug("gid: %d", this-&gt;_gid);
		ar &amp; this-&gt;_gid;
		log_debug("size: %d", this-&gt;_size);
		ar &amp; this-&gt;_size;
		log_debug("atime: %d", this-&gt;_atime);
		ar &amp; this-&gt;_atime;
		log_debug("ctime: %d", this-&gt;_ctime);
		ar &amp; this-&gt;_ctime;
		log_debug("mtime: %d", this-&gt;_mtime);
		ar &amp; this-&gt;_mtime;
		log_debug("xattr: size=%d", this-&gt;_xattr.size());
		ar &amp; this-&gt;_xattr;
		log_debug("chunk_list: size=%d", this-&gt;_chunk_list.size());
		ar &amp; this-&gt;_chunk_list;
	};

	template&lt;class Archive&gt; void load(Archive&amp; ar, const unsigned int version) {
		log_debug("version: %d", version);
		switch (version) {
		case 1:
			ar &amp; this-&gt;_access;
			log_debug("access: %d", this-&gt;_access);
			ar &amp; this-&gt;_uid;
			log_debug("uid: %d", this-&gt;_uid);
			ar &amp; this-&gt;_gid;
			log_debug("gid: %d", this-&gt;_gid);
			ar &amp; this-&gt;_size;
			log_debug("size: %d", this-&gt;_size);
			ar &amp; this-&gt;_atime;
			log_debug("atime: %d", this-&gt;_atime);
			ar &amp; this-&gt;_ctime;
			log_debug("ctime: %d", this-&gt;_ctime);
			ar &amp; this-&gt;_mtime;
			log_debug("mtime: %d", this-&gt;_mtime);
			ar &amp; this-&gt;_xattr;
			log_debug("xattr: size=%d", this-&gt;_xattr.size());
			ar &amp; this-&gt;_chunk_list;
			log_debug("chunk_list: size=%d", this-&gt;_chunk_list.size());

			break;
		}
	};

private:
};

}	// namespace flare
}	// namespace gree

BOOST_CLASS_VERSION(gree::flare::fuse_fs_entry, 1);

#endif	// FUSE_FS_ENTRY_H
// vim: foldmethod=marker tabstop=2 shiftwidth=2 autoindent
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
