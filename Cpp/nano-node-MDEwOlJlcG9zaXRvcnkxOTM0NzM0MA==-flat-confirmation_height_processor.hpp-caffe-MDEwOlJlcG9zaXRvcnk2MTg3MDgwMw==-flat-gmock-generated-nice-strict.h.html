
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 5.275779376498801%, Tokens: 11, <button onclick='openModal()' class='match'></button></h2>
        <div class="column">
            <h3>nano-node-MDEwOlJlcG9zaXRvcnkxOTM0NzM0MA==-flat-confirmation_height_processor.hpp</h3>
            <pre><code>1  #pragma once
2  #include <nano/lib/numbers.hpp>
3  #include <nano/lib/timer.hpp>
4  #include <nano/node/confirmation_height_bounded.hpp>
5  #include <nano/node/confirmation_height_unbounded.hpp>
6  #include <nano/secure/common.hpp>
7  #include <nano/secure/store.hpp>
8  #include <boost/multi_index/hashed_index.hpp>
9  #include <boost/multi_index/mem_fun.hpp>
10  #include <boost/multi_index/sequenced_index.hpp>
11  #include <boost/multi_index_container.hpp>
12  #include <condition_variable>
13  #include <thread>
14  #include <unordered_set>
15  namespace mi = boost::multi_index;
16  namespace boost
17  {
18  class latch;
19  }
20  namespace nano
21  {
22  class ledger;
23  class logger_mt;
24  class write_database_queue;
25  class confirmation_height_processor final
26  {
27  public:
28  	confirmation_height_processor (nano::ledger &, nano::write_database_queue &, std::chrono::milliseconds, nano::logging const &, nano::logger_mt &, boost::latch & initialized_latch, confirmation_height_mode = confirmation_height_mode::automatic);
29  	~confirmation_height_processor ();
30  	void pause ();
31  	void unpause ();
32  	void stop ();
33  	void add (std::shared_ptr<nano::block> const &);
34  	void run (confirmation_height_mode);
<span onclick='openModal()' class='match'>35  	std::size_t awaiting_processing_size () const;
36  	bool is_processing_added_block (nano::block_hash const & hash_a) const;
37  	bool is_processing_block (nano::block_hash const &) const;
38  	nano::block_hash current () const;
39  	void add_cemented_observer (std::function<void (std::shared_ptr<nano::block> const &)> const &);
40  	void add_block_already_cemented_observer (std::function<void (nano::block_hash const &)> const &);
41  private:
42  	mutable nano::mutex mutex{ mutex_identifier (mutexes::confirmation_height_processor) };
</span>43  	struct block_wrapper
44  	{
45  		explicit block_wrapper (std::shared_ptr<nano::block> const & block_a) :
46  			block (block_a)
47  		{
48  		}
49  		std::reference_wrapper<nano::block_hash const> hash () const
50  		{
51  			return block->hash ();
52  		}
53  		std::shared_ptr<nano::block> block;
54  	};
55  	class tag_sequence {};
56  	class tag_hash {};
57  	boost::multi_index_container<block_wrapper,
58  	mi::indexed_by<
59  		mi::sequenced<mi::tag<tag_sequence>>,
60  		mi::hashed_unique<mi::tag<tag_hash>,
61  			mi::const_mem_fun<block_wrapper, std::reference_wrapper<nano::block_hash const>, &block_wrapper::hash>>>> awaiting_processing;
62  	std::unordered_set<nano::block_hash> original_hashes_pending;
63  	bool paused{ false };
64  	std::shared_ptr<nano::block> original_block;
65  	nano::condition_variable condition;
66  	std::atomic<bool> stopped{ false };
67  	std::vector<std::function<void (std::shared_ptr<nano::block> const &)>> cemented_observers;
68  	std::vector<std::function<void (nano::block_hash const &)>> block_already_cemented_observers;
69  	nano::ledger & ledger;
70  	nano::write_database_queue & write_database_queue;
71  	uint64_t batch_write_size{ 16384 };
72  	confirmation_height_unbounded unbounded_processor;
73  	confirmation_height_bounded bounded_processor;
74  	std::thread thread;
75  	void set_next_hash ();
76  	void notify_cemented (std::vector<std::shared_ptr<nano::block>> const &);
77  	void notify_already_cemented (nano::block_hash const &);
78  	friend std::unique_ptr<container_info_component> collect_container_info (confirmation_height_processor &, std::string const &);
79  private: 
80  	friend class confirmation_height_pending_observer_callbacks_Test;
81  	friend class confirmation_height_dependent_election_Test;
82  	friend class confirmation_height_dependent_election_after_already_cemented_Test;
83  	friend class confirmation_height_dynamic_algorithm_no_transition_while_pending_Test;
84  	friend class confirmation_height_many_accounts_many_confirmations_Test;
85  	friend class confirmation_height_long_chains_Test;
86  	friend class confirmation_height_many_accounts_single_confirmation_Test;
87  	friend class request_aggregator_cannot_vote_Test;
88  	friend class active_transactions_pessimistic_elections_Test;
89  };
90  std::unique_ptr<container_info_component> collect_container_info (confirmation_height_processor &, std::string const &);
91  }
</code></pre>
        </div>
        <div class="column">
            <h3>caffe-MDEwOlJlcG9zaXRvcnk2MTg3MDgwMw==-flat-gmock-generated-nice-strict.h</h3>
            <pre><code>1  #ifndef GMOCK_INCLUDE_GMOCK_GMOCK_GENERATED_NICE_STRICT_H_
2  #define GMOCK_INCLUDE_GMOCK_GMOCK_GENERATED_NICE_STRICT_H_
3  #include "gmock/gmock-spec-builders.h"
4  #include "gmock/internal/gmock-port.h"
5  namespace testing {
6  template <class MockClass>
7  class NiceMock : public MockClass {
8   public:
9    NiceMock() {
10      ::testing::Mock::AllowUninterestingCalls(
11          internal::ImplicitCast_<MockClass*>(this));
12    }
13    template <typename A1>
14    explicit NiceMock(const A1& a1) : MockClass(a1) {
15      ::testing::Mock::AllowUninterestingCalls(
16          internal::ImplicitCast_<MockClass*>(this));
17    }
18    template <typename A1, typename A2>
19    NiceMock(const A1& a1, const A2& a2) : MockClass(a1, a2) {
20      ::testing::Mock::AllowUninterestingCalls(
21          internal::ImplicitCast_<MockClass*>(this));
22    }
23    template <typename A1, typename A2, typename A3>
24    NiceMock(const A1& a1, const A2& a2, const A3& a3) : MockClass(a1, a2, a3) {
25      ::testing::Mock::AllowUninterestingCalls(
26          internal::ImplicitCast_<MockClass*>(this));
27    }
28    template <typename A1, typename A2, typename A3, typename A4>
29    NiceMock(const A1& a1, const A2& a2, const A3& a3,
30        const A4& a4) : MockClass(a1, a2, a3, a4) {
31      ::testing::Mock::AllowUninterestingCalls(
32          internal::ImplicitCast_<MockClass*>(this));
33    }
34    template <typename A1, typename A2, typename A3, typename A4, typename A5>
35    NiceMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
36        const A5& a5) : MockClass(a1, a2, a3, a4, a5) {
37      ::testing::Mock::AllowUninterestingCalls(
38          internal::ImplicitCast_<MockClass*>(this));
39    }
40    template <typename A1, typename A2, typename A3, typename A4, typename A5,
41        typename A6>
42    NiceMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
43        const A5& a5, const A6& a6) : MockClass(a1, a2, a3, a4, a5, a6) {
44      ::testing::Mock::AllowUninterestingCalls(
45          internal::ImplicitCast_<MockClass*>(this));
46    }
47    template <typename A1, typename A2, typename A3, typename A4, typename A5,
48        typename A6, typename A7>
49    NiceMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
50        const A5& a5, const A6& a6, const A7& a7) : MockClass(a1, a2, a3, a4, a5,
51        a6, a7) {
52      ::testing::Mock::AllowUninterestingCalls(
53          internal::ImplicitCast_<MockClass*>(this));
54    }
55    template <typename A1, typename A2, typename A3, typename A4, typename A5,
56        typename A6, typename A7, typename A8>
57    NiceMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
58        const A5& a5, const A6& a6, const A7& a7, const A8& a8) : MockClass(a1,
59        a2, a3, a4, a5, a6, a7, a8) {
60      ::testing::Mock::AllowUninterestingCalls(
61          internal::ImplicitCast_<MockClass*>(this));
62    }
63    template <typename A1, typename A2, typename A3, typename A4, typename A5,
64        typename A6, typename A7, typename A8, typename A9>
65    NiceMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
66        const A5& a5, const A6& a6, const A7& a7, const A8& a8,
67        const A9& a9) : MockClass(a1, a2, a3, a4, a5, a6, a7, a8, a9) {
68      ::testing::Mock::AllowUninterestingCalls(
69          internal::ImplicitCast_<MockClass*>(this));
70    }
71    template <typename A1, typename A2, typename A3, typename A4, typename A5,
72        typename A6, typename A7, typename A8, typename A9, typename A10>
<span onclick='openModal()' class='match'>73    NiceMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
74        const A5& a5, const A6& a6, const A7& a7, const A8& a8, const A9& a9,
75        const A10& a10) : MockClass(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10) {
</span>76      ::testing::Mock::AllowUninterestingCalls(
77          internal::ImplicitCast_<MockClass*>(this));
78    }
79    virtual ~NiceMock() {
80      ::testing::Mock::UnregisterCallReaction(
81          internal::ImplicitCast_<MockClass*>(this));
82    }
83   private:
84    GTEST_DISALLOW_COPY_AND_ASSIGN_(NiceMock);
85  };
86  template <class MockClass>
87  class NaggyMock : public MockClass {
88   public:
89    NaggyMock() {
90      ::testing::Mock::WarnUninterestingCalls(
91          internal::ImplicitCast_<MockClass*>(this));
92    }
93    template <typename A1>
94    explicit NaggyMock(const A1& a1) : MockClass(a1) {
95      ::testing::Mock::WarnUninterestingCalls(
96          internal::ImplicitCast_<MockClass*>(this));
97    }
98    template <typename A1, typename A2>
99    NaggyMock(const A1& a1, const A2& a2) : MockClass(a1, a2) {
100      ::testing::Mock::WarnUninterestingCalls(
101          internal::ImplicitCast_<MockClass*>(this));
102    }
103    template <typename A1, typename A2, typename A3>
104    NaggyMock(const A1& a1, const A2& a2, const A3& a3) : MockClass(a1, a2, a3) {
105      ::testing::Mock::WarnUninterestingCalls(
106          internal::ImplicitCast_<MockClass*>(this));
107    }
108    template <typename A1, typename A2, typename A3, typename A4>
109    NaggyMock(const A1& a1, const A2& a2, const A3& a3,
110        const A4& a4) : MockClass(a1, a2, a3, a4) {
111      ::testing::Mock::WarnUninterestingCalls(
112          internal::ImplicitCast_<MockClass*>(this));
113    }
114    template <typename A1, typename A2, typename A3, typename A4, typename A5>
115    NaggyMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
116        const A5& a5) : MockClass(a1, a2, a3, a4, a5) {
117      ::testing::Mock::WarnUninterestingCalls(
118          internal::ImplicitCast_<MockClass*>(this));
119    }
120    template <typename A1, typename A2, typename A3, typename A4, typename A5,
121        typename A6>
122    NaggyMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
123        const A5& a5, const A6& a6) : MockClass(a1, a2, a3, a4, a5, a6) {
124      ::testing::Mock::WarnUninterestingCalls(
125          internal::ImplicitCast_<MockClass*>(this));
126    }
127    template <typename A1, typename A2, typename A3, typename A4, typename A5,
128        typename A6, typename A7>
129    NaggyMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
130        const A5& a5, const A6& a6, const A7& a7) : MockClass(a1, a2, a3, a4, a5,
131        a6, a7) {
132      ::testing::Mock::WarnUninterestingCalls(
133          internal::ImplicitCast_<MockClass*>(this));
134    }
135    template <typename A1, typename A2, typename A3, typename A4, typename A5,
136        typename A6, typename A7, typename A8>
137    NaggyMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
138        const A5& a5, const A6& a6, const A7& a7, const A8& a8) : MockClass(a1,
139        a2, a3, a4, a5, a6, a7, a8) {
140      ::testing::Mock::WarnUninterestingCalls(
141          internal::ImplicitCast_<MockClass*>(this));
142    }
143    template <typename A1, typename A2, typename A3, typename A4, typename A5,
144        typename A6, typename A7, typename A8, typename A9>
145    NaggyMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
146        const A5& a5, const A6& a6, const A7& a7, const A8& a8,
147        const A9& a9) : MockClass(a1, a2, a3, a4, a5, a6, a7, a8, a9) {
148      ::testing::Mock::WarnUninterestingCalls(
149          internal::ImplicitCast_<MockClass*>(this));
150    }
151    template <typename A1, typename A2, typename A3, typename A4, typename A5,
152        typename A6, typename A7, typename A8, typename A9, typename A10>
153    NaggyMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
154        const A5& a5, const A6& a6, const A7& a7, const A8& a8, const A9& a9,
155        const A10& a10) : MockClass(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10) {
156      ::testing::Mock::WarnUninterestingCalls(
157          internal::ImplicitCast_<MockClass*>(this));
158    }
159    virtual ~NaggyMock() {
160      ::testing::Mock::UnregisterCallReaction(
161          internal::ImplicitCast_<MockClass*>(this));
162    }
163   private:
164    GTEST_DISALLOW_COPY_AND_ASSIGN_(NaggyMock);
165  };
166  template <class MockClass>
167  class StrictMock : public MockClass {
168   public:
169    StrictMock() {
170      ::testing::Mock::FailUninterestingCalls(
171          internal::ImplicitCast_<MockClass*>(this));
172    }
173    template <typename A1>
174    explicit StrictMock(const A1& a1) : MockClass(a1) {
175      ::testing::Mock::FailUninterestingCalls(
176          internal::ImplicitCast_<MockClass*>(this));
177    }
178    template <typename A1, typename A2>
179    StrictMock(const A1& a1, const A2& a2) : MockClass(a1, a2) {
180      ::testing::Mock::FailUninterestingCalls(
181          internal::ImplicitCast_<MockClass*>(this));
182    }
183    template <typename A1, typename A2, typename A3>
184    StrictMock(const A1& a1, const A2& a2, const A3& a3) : MockClass(a1, a2, a3) {
185      ::testing::Mock::FailUninterestingCalls(
186          internal::ImplicitCast_<MockClass*>(this));
187    }
188    template <typename A1, typename A2, typename A3, typename A4>
189    StrictMock(const A1& a1, const A2& a2, const A3& a3,
190        const A4& a4) : MockClass(a1, a2, a3, a4) {
191      ::testing::Mock::FailUninterestingCalls(
192          internal::ImplicitCast_<MockClass*>(this));
193    }
194    template <typename A1, typename A2, typename A3, typename A4, typename A5>
195    StrictMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
196        const A5& a5) : MockClass(a1, a2, a3, a4, a5) {
197      ::testing::Mock::FailUninterestingCalls(
198          internal::ImplicitCast_<MockClass*>(this));
199    }
200    template <typename A1, typename A2, typename A3, typename A4, typename A5,
201        typename A6>
202    StrictMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
203        const A5& a5, const A6& a6) : MockClass(a1, a2, a3, a4, a5, a6) {
204      ::testing::Mock::FailUninterestingCalls(
205          internal::ImplicitCast_<MockClass*>(this));
206    }
207    template <typename A1, typename A2, typename A3, typename A4, typename A5,
208        typename A6, typename A7>
209    StrictMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
210        const A5& a5, const A6& a6, const A7& a7) : MockClass(a1, a2, a3, a4, a5,
211        a6, a7) {
212      ::testing::Mock::FailUninterestingCalls(
213          internal::ImplicitCast_<MockClass*>(this));
214    }
215    template <typename A1, typename A2, typename A3, typename A4, typename A5,
216        typename A6, typename A7, typename A8>
217    StrictMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
218        const A5& a5, const A6& a6, const A7& a7, const A8& a8) : MockClass(a1,
219        a2, a3, a4, a5, a6, a7, a8) {
220      ::testing::Mock::FailUninterestingCalls(
221          internal::ImplicitCast_<MockClass*>(this));
222    }
223    template <typename A1, typename A2, typename A3, typename A4, typename A5,
224        typename A6, typename A7, typename A8, typename A9>
225    StrictMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
226        const A5& a5, const A6& a6, const A7& a7, const A8& a8,
227        const A9& a9) : MockClass(a1, a2, a3, a4, a5, a6, a7, a8, a9) {
228      ::testing::Mock::FailUninterestingCalls(
229          internal::ImplicitCast_<MockClass*>(this));
230    }
231    template <typename A1, typename A2, typename A3, typename A4, typename A5,
232        typename A6, typename A7, typename A8, typename A9, typename A10>
233    StrictMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
234        const A5& a5, const A6& a6, const A7& a7, const A8& a8, const A9& a9,
235        const A10& a10) : MockClass(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10) {
236      ::testing::Mock::FailUninterestingCalls(
237          internal::ImplicitCast_<MockClass*>(this));
238    }
239    virtual ~StrictMock() {
240      ::testing::Mock::UnregisterCallReaction(
241          internal::ImplicitCast_<MockClass*>(this));
242    }
243   private:
244    GTEST_DISALLOW_COPY_AND_ASSIGN_(StrictMock);
245  };
246  template <typename MockClass>
247  class NiceMock<NiceMock<MockClass> >;
248  template <typename MockClass>
249  class NiceMock<NaggyMock<MockClass> >;
250  template <typename MockClass>
251  class NiceMock<StrictMock<MockClass> >;
252  template <typename MockClass>
253  class NaggyMock<NiceMock<MockClass> >;
254  template <typename MockClass>
255  class NaggyMock<NaggyMock<MockClass> >;
256  template <typename MockClass>
257  class NaggyMock<StrictMock<MockClass> >;
258  template <typename MockClass>
259  class StrictMock<NiceMock<MockClass> >;
260  template <typename MockClass>
261  class StrictMock<NaggyMock<MockClass> >;
262  template <typename MockClass>
263  class StrictMock<StrictMock<MockClass> >;
264  }  
265  #endif  
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from nano-node-MDEwOlJlcG9zaXRvcnkxOTM0NzM0MA==-flat-confirmation_height_processor.hpp</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from caffe-MDEwOlJlcG9zaXRvcnk2MTg3MDgwMw==-flat-gmock-generated-nice-strict.h</div>
                </div>
                <div class="column column_space"><pre><code>35  	std::size_t awaiting_processing_size () const;
36  	bool is_processing_added_block (nano::block_hash const & hash_a) const;
37  	bool is_processing_block (nano::block_hash const &) const;
38  	nano::block_hash current () const;
39  	void add_cemented_observer (std::function<void (std::shared_ptr<nano::block> const &)> const &);
40  	void add_block_already_cemented_observer (std::function<void (nano::block_hash const &)> const &);
41  private:
42  	mutable nano::mutex mutex{ mutex_identifier (mutexes::confirmation_height_processor) };
</pre></code></div>
                <div class="column column_space"><pre><code>73    NiceMock(const A1& a1, const A2& a2, const A3& a3, const A4& a4,
74        const A5& a5, const A6& a6, const A7& a7, const A8& a8, const A9& a9,
75        const A10& a10) : MockClass(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10) {
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    