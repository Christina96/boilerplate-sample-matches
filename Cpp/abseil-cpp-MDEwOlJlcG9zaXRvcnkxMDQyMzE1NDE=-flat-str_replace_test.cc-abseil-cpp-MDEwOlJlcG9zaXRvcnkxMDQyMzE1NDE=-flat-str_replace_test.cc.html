
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Tokens: 28, <button onclick='openModal()' class='match'></button></h2>
        <div class="column">
            <h3>abseil-cpp-MDEwOlJlcG9zaXRvcnkxMDQyMzE1NDE=-flat-str_replace_test.cc</h3>
            <pre><code>1  #include "absl/strings/str_replace.h"
2  #include <list>
3  #include <map>
4  #include <tuple>
5  #include "gtest/gtest.h"
6  #include "absl/strings/str_cat.h"
7  #include "absl/strings/str_split.h"
8  TEST(StrReplaceAll, OneReplacement) {
9    std::string s;
10    s = absl::StrReplaceAll(s, {{"", ""}});
11    EXPECT_EQ(s, "");
12    s = absl::StrReplaceAll(s, {{"x", ""}});
13    EXPECT_EQ(s, "");
14    s = absl::StrReplaceAll(s, {{"", "y"}});
15    EXPECT_EQ(s, "");
16    s = absl::StrReplaceAll(s, {{"x", "y"}});
17    EXPECT_EQ(s, "");
18    s = absl::StrReplaceAll("abc", {{"", ""}});
19    EXPECT_EQ(s, "abc");
20    s = absl::StrReplaceAll("abc", {{"", "y"}});
21    EXPECT_EQ(s, "abc");
22    s = absl::StrReplaceAll("abc", {{"x", ""}});
23    EXPECT_EQ(s, "abc");
24    s = absl::StrReplaceAll("abc", {{"xyz", "123"}});
25    EXPECT_EQ(s, "abc");
26    s = absl::StrReplaceAll("abc", {{"abc", "xyz"}});
27    EXPECT_EQ(s, "xyz");
28    s = absl::StrReplaceAll("abc", {{"a", "x"}});
29    EXPECT_EQ(s, "xbc");
30    s = absl::StrReplaceAll("abc", {{"b", "x"}});
31    EXPECT_EQ(s, "axc");
32    s = absl::StrReplaceAll("abc", {{"c", "x"}});
33    EXPECT_EQ(s, "abx");
34    s = absl::StrReplaceAll("ababa", {{"a", "xxx"}});
35    EXPECT_EQ(s, "xxxbxxxbxxx");
36    s = absl::StrReplaceAll("ababa", {{"b", "xxx"}});
37    EXPECT_EQ(s, "axxxaxxxa");
38    s = absl::StrReplaceAll("aaabaaabaaa", {{"aaa", "x"}});
39    EXPECT_EQ(s, "xbxbx");
40    s = absl::StrReplaceAll("abbbabbba", {{"bbb", "x"}});
41    EXPECT_EQ(s, "axaxa");
42    s = absl::StrReplaceAll("aaa", {{"aa", "x"}});
43    EXPECT_EQ(s, "xa");
44    s = absl::StrReplaceAll("aaa", {{"aa", "a"}});
45    EXPECT_EQ(s, "aa");
46  }
47  TEST(StrReplaceAll, ManyReplacements) {
48    std::string s;
49    s = absl::StrReplaceAll("", {{"", ""}, {"x", ""}, {"", "y"}, {"x", "y"}});
50    EXPECT_EQ(s, "");
51    s = absl::StrReplaceAll("abc", {{"", ""}, {"", "y"}, {"x", ""}});
52    EXPECT_EQ(s, "abc");
53    s = absl::StrReplaceAll("abc", {{"a", "x"}, {"b", "y"}, {"c", "z"}});
54    EXPECT_EQ(s, "xyz");
55    s = absl::StrReplaceAll("zxy", {{"z", "x"}, {"x", "y"}, {"y", "z"}});
56    EXPECT_EQ(s, "xyz");
57    s = absl::StrReplaceAll("abc", {{"a", "x"}, {"ab", "xy"}, {"abc", "xyz"}});
58    EXPECT_EQ(s, "xyz");
59    s = absl::StrReplaceAll(
60        "Abc!", {{"a", "x"}, {"ab", "xy"}, {"b", "y"}, {"bc", "yz"}, {"c", "z"}});
61    EXPECT_EQ(s, "Ayz!");
62    s = absl::StrReplaceAll(
63        "Abc!",
64        {{"a", "x"}, {"ab", "xy"}, {"b", "y"}, {"bc!", "yz?"}, {"c!", "z;"}});
65    EXPECT_EQ(s, "Ayz?");
66    s = absl::StrReplaceAll("ababa", {{"a", "xxx"}, {"b", "XXXX"}});
67    EXPECT_EQ(s, "xxxXXXXxxxXXXXxxx");
68    s = absl::StrReplaceAll("aaa", {{"aa", "x"}, {"a", "X"}});
69    EXPECT_EQ(s, "xX");
70    s = absl::StrReplaceAll("aaa", {{"a", "X"}, {"aa", "x"}});
71    EXPECT_EQ(s, "xX");
72    s = absl::StrReplaceAll("the quick brown fox jumped over the lazy dogs",
73                            {
74                                {"brown", "box"},
75                                {"dogs", "jugs"},
76                                {"fox", "with"},
77                                {"jumped", "five"},
78                                {"over", "dozen"},
79                                {"quick", "my"},
80                                {"the", "pack"},
81                                {"the lazy", "liquor"},
82                            });
83    EXPECT_EQ(s, "pack my box with five dozen liquor jugs");
84  }
85  TEST(StrReplaceAll, ManyReplacementsInMap) {
<span onclick='openModal()' class='match'>86    std::map<const char *, const char *> replacements;
87    replacements["$who"] = "Bob";
88    replacements["$count"] = "5";
89    replacements["#Noun"] = "Apples";
</span>90    std::string s = absl::StrReplaceAll("$who bought $count #Noun. Thanks $who!",
91                                        replacements);
92    EXPECT_EQ("Bob bought 5 Apples. Thanks Bob!", s);
93  }
94  TEST(StrReplaceAll, ReplacementsInPlace) {
95    std::string s = std::string("$who bought $count #Noun. Thanks $who!");
96    int count;
97    count = absl::StrReplaceAll({{"$count", absl::StrCat(5)},
98                                {"$who", "Bob"},
99                                {"#Noun", "Apples"}}, &s);
100    EXPECT_EQ(count, 4);
101    EXPECT_EQ("Bob bought 5 Apples. Thanks Bob!", s);
102  }
103  TEST(StrReplaceAll, ReplacementsInPlaceInMap) {
104    std::string s = std::string("$who bought $count #Noun. Thanks $who!");
105    std::map<absl::string_view, absl::string_view> replacements;
106    replacements["$who"] = "Bob";
107    replacements["$count"] = "5";
108    replacements["#Noun"] = "Apples";
109    int count;
110    count = absl::StrReplaceAll(replacements, &s);
111    EXPECT_EQ(count, 4);
112    EXPECT_EQ("Bob bought 5 Apples. Thanks Bob!", s);
113  }
114  struct Cont {
115    Cont() {}
116    explicit Cont(absl::string_view src) : data(src) {}
117    absl::string_view data;
118  };
119  template <int index>
120  absl::string_view get(const Cont& c) {
121    auto splitter = absl::StrSplit(c.data, ':');
122    auto it = splitter.begin();
123    for (int i = 0; i < index; ++i) ++it;
124    return *it;
125  }
126  TEST(StrReplaceAll, VariableNumber) {
127    std::string s;
128    {
129      std::vector<std::pair<std::string, std::string>> replacements;
130      s = "abc";
131      EXPECT_EQ(0, absl::StrReplaceAll(replacements, &s));
132      EXPECT_EQ("abc", s);
133      s = "abc";
134      replacements.push_back({"a", "A"});
135      EXPECT_EQ(1, absl::StrReplaceAll(replacements, &s));
136      EXPECT_EQ("Abc", s);
137      s = "abc";
138      replacements.push_back({"b", "B"});
139      EXPECT_EQ(2, absl::StrReplaceAll(replacements, &s));
140      EXPECT_EQ("ABc", s);
141      s = "abc";
142      replacements.push_back({"d", "D"});
143      EXPECT_EQ(2, absl::StrReplaceAll(replacements, &s));
144      EXPECT_EQ("ABc", s);
145      EXPECT_EQ("ABcABc", absl::StrReplaceAll("abcabc", replacements));
146    }
147    {
148      std::map<const char*, const char*> replacements;
149      replacements["aa"] = "x";
150      replacements["a"] = "X";
151      s = "aaa";
152      EXPECT_EQ(2, absl::StrReplaceAll(replacements, &s));
153      EXPECT_EQ("xX", s);
154      EXPECT_EQ("xxX", absl::StrReplaceAll("aaaaa", replacements));
155    }
156    {
157      std::list<std::pair<absl::string_view, absl::string_view>> replacements = {
158          {"a", "x"}, {"b", "y"}, {"c", "z"}};
159      std::string s = absl::StrReplaceAll("abc", replacements);
160      EXPECT_EQ(s, "xyz");
161    }
162    {
163      using X = std::tuple<absl::string_view, std::string, int>;
164      std::vector<X> replacements(3);
165      replacements[0] = X{"a", "x", 1};
166      replacements[1] = X{"b", "y", 0};
167      replacements[2] = X{"c", "z", -1};
168      std::string s = absl::StrReplaceAll("abc", replacements);
169      EXPECT_EQ(s, "xyz");
170    }
171    {
172      std::vector<Cont> replacements(3);
173      replacements[0] = Cont{"a:x"};
174      replacements[1] = Cont{"b:y"};
175      replacements[2] = Cont{"c:z"};
176      std::string s = absl::StrReplaceAll("abc", replacements);
177      EXPECT_EQ(s, "xyz");
178    }
179  }
180  TEST(StrReplaceAll, Inplace) {
181    std::string s;
182    int reps;
183    s = "";
184    reps = absl::StrReplaceAll({{"", ""}, {"x", ""}, {"", "y"}, {"x", "y"}}, &s);
185    EXPECT_EQ(reps, 0);
186    EXPECT_EQ(s, "");
187    s = "abc";
188    reps = absl::StrReplaceAll({{"", ""}, {"", "y"}, {"x", ""}}, &s);
189    EXPECT_EQ(reps, 0);
190    EXPECT_EQ(s, "abc");
191    s = "abc";
192    reps = absl::StrReplaceAll({{"a", "x"}, {"b", "y"}, {"c", "z"}}, &s);
193    EXPECT_EQ(reps, 3);
194    EXPECT_EQ(s, "xyz");
195    s = "zxy";
196    reps = absl::StrReplaceAll({{"z", "x"}, {"x", "y"}, {"y", "z"}}, &s);
197    EXPECT_EQ(reps, 3);
198    EXPECT_EQ(s, "xyz");
199    s = "abc";
200    reps = absl::StrReplaceAll({{"a", "x"}, {"ab", "xy"}, {"abc", "xyz"}}, &s);
201    EXPECT_EQ(reps, 1);
202    EXPECT_EQ(s, "xyz");
203    s = "Abc!";
204    reps = absl::StrReplaceAll(
205        {{"a", "x"}, {"ab", "xy"}, {"b", "y"}, {"bc", "yz"}, {"c", "z"}}, &s);
206    EXPECT_EQ(reps, 1);
207    EXPECT_EQ(s, "Ayz!");
208    s = "Abc!";
209    reps = absl::StrReplaceAll(
210        {{"a", "x"}, {"ab", "xy"}, {"b", "y"}, {"bc!", "yz?"}, {"c!", "z;"}}, &s);
211    EXPECT_EQ(reps, 1);
212    EXPECT_EQ(s, "Ayz?");
213    s = "ababa";
214    reps = absl::StrReplaceAll({{"a", "xxx"}, {"b", "XXXX"}}, &s);
215    EXPECT_EQ(reps, 5);
216    EXPECT_EQ(s, "xxxXXXXxxxXXXXxxx");
217    s = "aaa";
218    reps = absl::StrReplaceAll({{"aa", "x"}, {"a", "X"}}, &s);
219    EXPECT_EQ(reps, 2);
220    EXPECT_EQ(s, "xX");
221    s = "aaa";
222    reps = absl::StrReplaceAll({{"a", "X"}, {"aa", "x"}}, &s);
223    EXPECT_EQ(reps, 2);
224    EXPECT_EQ(s, "xX");
225    s = "the quick brown fox jumped over the lazy dogs";
226    reps = absl::StrReplaceAll(
227        {
228            {"brown", "box"},
229            {"dogs", "jugs"},
230            {"fox", "with"},
231            {"jumped", "five"},
232            {"over", "dozen"},
233            {"quick", "my"},
234            {"the", "pack"},
235            {"the lazy", "liquor"},
236        },
237        &s);
238    EXPECT_EQ(reps, 8);
239    EXPECT_EQ(s, "pack my box with five dozen liquor jugs");
240  }
</code></pre>
        </div>
        <div class="column">
            <h3>abseil-cpp-MDEwOlJlcG9zaXRvcnkxMDQyMzE1NDE=-flat-str_replace_test.cc</h3>
            <pre><code>1  #include "absl/strings/str_replace.h"
2  #include <list>
3  #include <map>
4  #include <tuple>
5  #include "gtest/gtest.h"
6  #include "absl/strings/str_cat.h"
7  #include "absl/strings/str_split.h"
8  TEST(StrReplaceAll, OneReplacement) {
9    std::string s;
10    s = absl::StrReplaceAll(s, {{"", ""}});
11    EXPECT_EQ(s, "");
12    s = absl::StrReplaceAll(s, {{"x", ""}});
13    EXPECT_EQ(s, "");
14    s = absl::StrReplaceAll(s, {{"", "y"}});
15    EXPECT_EQ(s, "");
16    s = absl::StrReplaceAll(s, {{"x", "y"}});
17    EXPECT_EQ(s, "");
18    s = absl::StrReplaceAll("abc", {{"", ""}});
19    EXPECT_EQ(s, "abc");
20    s = absl::StrReplaceAll("abc", {{"", "y"}});
21    EXPECT_EQ(s, "abc");
22    s = absl::StrReplaceAll("abc", {{"x", ""}});
23    EXPECT_EQ(s, "abc");
24    s = absl::StrReplaceAll("abc", {{"xyz", "123"}});
25    EXPECT_EQ(s, "abc");
26    s = absl::StrReplaceAll("abc", {{"abc", "xyz"}});
27    EXPECT_EQ(s, "xyz");
28    s = absl::StrReplaceAll("abc", {{"a", "x"}});
29    EXPECT_EQ(s, "xbc");
30    s = absl::StrReplaceAll("abc", {{"b", "x"}});
31    EXPECT_EQ(s, "axc");
32    s = absl::StrReplaceAll("abc", {{"c", "x"}});
33    EXPECT_EQ(s, "abx");
34    s = absl::StrReplaceAll("ababa", {{"a", "xxx"}});
35    EXPECT_EQ(s, "xxxbxxxbxxx");
36    s = absl::StrReplaceAll("ababa", {{"b", "xxx"}});
37    EXPECT_EQ(s, "axxxaxxxa");
38    s = absl::StrReplaceAll("aaabaaabaaa", {{"aaa", "x"}});
39    EXPECT_EQ(s, "xbxbx");
40    s = absl::StrReplaceAll("abbbabbba", {{"bbb", "x"}});
41    EXPECT_EQ(s, "axaxa");
42    s = absl::StrReplaceAll("aaa", {{"aa", "x"}});
43    EXPECT_EQ(s, "xa");
44    s = absl::StrReplaceAll("aaa", {{"aa", "a"}});
45    EXPECT_EQ(s, "aa");
46  }
47  TEST(StrReplaceAll, ManyReplacements) {
48    std::string s;
49    s = absl::StrReplaceAll("", {{"", ""}, {"x", ""}, {"", "y"}, {"x", "y"}});
50    EXPECT_EQ(s, "");
51    s = absl::StrReplaceAll("abc", {{"", ""}, {"", "y"}, {"x", ""}});
52    EXPECT_EQ(s, "abc");
53    s = absl::StrReplaceAll("abc", {{"a", "x"}, {"b", "y"}, {"c", "z"}});
54    EXPECT_EQ(s, "xyz");
55    s = absl::StrReplaceAll("zxy", {{"z", "x"}, {"x", "y"}, {"y", "z"}});
56    EXPECT_EQ(s, "xyz");
57    s = absl::StrReplaceAll("abc", {{"a", "x"}, {"ab", "xy"}, {"abc", "xyz"}});
58    EXPECT_EQ(s, "xyz");
59    s = absl::StrReplaceAll(
60        "Abc!", {{"a", "x"}, {"ab", "xy"}, {"b", "y"}, {"bc", "yz"}, {"c", "z"}});
61    EXPECT_EQ(s, "Ayz!");
62    s = absl::StrReplaceAll(
63        "Abc!",
64        {{"a", "x"}, {"ab", "xy"}, {"b", "y"}, {"bc!", "yz?"}, {"c!", "z;"}});
65    EXPECT_EQ(s, "Ayz?");
66    s = absl::StrReplaceAll("ababa", {{"a", "xxx"}, {"b", "XXXX"}});
67    EXPECT_EQ(s, "xxxXXXXxxxXXXXxxx");
68    s = absl::StrReplaceAll("aaa", {{"aa", "x"}, {"a", "X"}});
69    EXPECT_EQ(s, "xX");
70    s = absl::StrReplaceAll("aaa", {{"a", "X"}, {"aa", "x"}});
71    EXPECT_EQ(s, "xX");
72    s = absl::StrReplaceAll("the quick brown fox jumped over the lazy dogs",
73                            {
74                                {"brown", "box"},
75                                {"dogs", "jugs"},
76                                {"fox", "with"},
77                                {"jumped", "five"},
78                                {"over", "dozen"},
79                                {"quick", "my"},
80                                {"the", "pack"},
81                                {"the lazy", "liquor"},
82                            });
83    EXPECT_EQ(s, "pack my box with five dozen liquor jugs");
84  }
85  TEST(StrReplaceAll, ManyReplacementsInMap) {
86    std::map<const char *, const char *> replacements;
87    replacements["$who"] = "Bob";
88    replacements["$count"] = "5";
89    replacements["#Noun"] = "Apples";
90    std::string s = absl::StrReplaceAll("$who bought $count #Noun. Thanks $who!",
91                                        replacements);
92    EXPECT_EQ("Bob bought 5 Apples. Thanks Bob!", s);
93  }
94  TEST(StrReplaceAll, ReplacementsInPlace) {
95    std::string s = std::string("$who bought $count #Noun. Thanks $who!");
96    int count;
97    count = absl::StrReplaceAll({{"$count", absl::StrCat(5)},
98                                {"$who", "Bob"},
99                                {"#Noun", "Apples"}}, &s);
100    EXPECT_EQ(count, 4);
101    EXPECT_EQ("Bob bought 5 Apples. Thanks Bob!", s);
102  }
103  TEST(StrReplaceAll, ReplacementsInPlaceInMap) {
104    std::string s = std::string("$who bought $count #Noun. Thanks $who!");
105    std::map<absl::string_view, absl::string_view> replacements;
106    replacements["$who"] = "Bob";
107    replacements["$count"] = "5";
108    replacements["#Noun"] = "Apples";
109    int count;
110    count = absl::StrReplaceAll(replacements, &s);
111    EXPECT_EQ(count, 4);
112    EXPECT_EQ("Bob bought 5 Apples. Thanks Bob!", s);
113  }
114  struct Cont {
115    Cont() {}
116    explicit Cont(absl::string_view src) : data(src) {}
117    absl::string_view data;
118  };
119  template <int index>
120  absl::string_view get(const Cont& c) {
121    auto splitter = absl::StrSplit(c.data, ':');
122    auto it = splitter.begin();
123    for (int i = 0; i < index; ++i) ++it;
124    return *it;
125  }
126  TEST(StrReplaceAll, VariableNumber) {
127    std::string s;
128    {
129      std::vector<std::pair<std::string, std::string>> replacements;
130      s = "abc";
131      EXPECT_EQ(0, absl::StrReplaceAll(replacements, &s));
132      EXPECT_EQ("abc", s);
133      s = "abc";
134      replacements.push_back({"a", "A"});
135      EXPECT_EQ(1, absl::StrReplaceAll(replacements, &s));
136      EXPECT_EQ("Abc", s);
137      s = "abc";
138      replacements.push_back({"b", "B"});
139      EXPECT_EQ(2, absl::StrReplaceAll(replacements, &s));
140      EXPECT_EQ("ABc", s);
141      s = "abc";
142      replacements.push_back({"d", "D"});
143      EXPECT_EQ(2, absl::StrReplaceAll(replacements, &s));
144      EXPECT_EQ("ABc", s);
145      EXPECT_EQ("ABcABc", absl::StrReplaceAll("abcabc", replacements));
146    }
147    {
<span onclick='openModal()' class='match'>148      std::map<const char*, const char*> replacements;
149      replacements["aa"] = "x";
150      replacements["a"] = "X";
151      s = "aaa";
</span>152      EXPECT_EQ(2, absl::StrReplaceAll(replacements, &s));
153      EXPECT_EQ("xX", s);
154      EXPECT_EQ("xxX", absl::StrReplaceAll("aaaaa", replacements));
155    }
156    {
157      std::list<std::pair<absl::string_view, absl::string_view>> replacements = {
158          {"a", "x"}, {"b", "y"}, {"c", "z"}};
159      std::string s = absl::StrReplaceAll("abc", replacements);
160      EXPECT_EQ(s, "xyz");
161    }
162    {
163      using X = std::tuple<absl::string_view, std::string, int>;
164      std::vector<X> replacements(3);
165      replacements[0] = X{"a", "x", 1};
166      replacements[1] = X{"b", "y", 0};
167      replacements[2] = X{"c", "z", -1};
168      std::string s = absl::StrReplaceAll("abc", replacements);
169      EXPECT_EQ(s, "xyz");
170    }
171    {
172      std::vector<Cont> replacements(3);
173      replacements[0] = Cont{"a:x"};
174      replacements[1] = Cont{"b:y"};
175      replacements[2] = Cont{"c:z"};
176      std::string s = absl::StrReplaceAll("abc", replacements);
177      EXPECT_EQ(s, "xyz");
178    }
179  }
180  TEST(StrReplaceAll, Inplace) {
181    std::string s;
182    int reps;
183    s = "";
184    reps = absl::StrReplaceAll({{"", ""}, {"x", ""}, {"", "y"}, {"x", "y"}}, &s);
185    EXPECT_EQ(reps, 0);
186    EXPECT_EQ(s, "");
187    s = "abc";
188    reps = absl::StrReplaceAll({{"", ""}, {"", "y"}, {"x", ""}}, &s);
189    EXPECT_EQ(reps, 0);
190    EXPECT_EQ(s, "abc");
191    s = "abc";
192    reps = absl::StrReplaceAll({{"a", "x"}, {"b", "y"}, {"c", "z"}}, &s);
193    EXPECT_EQ(reps, 3);
194    EXPECT_EQ(s, "xyz");
195    s = "zxy";
196    reps = absl::StrReplaceAll({{"z", "x"}, {"x", "y"}, {"y", "z"}}, &s);
197    EXPECT_EQ(reps, 3);
198    EXPECT_EQ(s, "xyz");
199    s = "abc";
200    reps = absl::StrReplaceAll({{"a", "x"}, {"ab", "xy"}, {"abc", "xyz"}}, &s);
201    EXPECT_EQ(reps, 1);
202    EXPECT_EQ(s, "xyz");
203    s = "Abc!";
204    reps = absl::StrReplaceAll(
205        {{"a", "x"}, {"ab", "xy"}, {"b", "y"}, {"bc", "yz"}, {"c", "z"}}, &s);
206    EXPECT_EQ(reps, 1);
207    EXPECT_EQ(s, "Ayz!");
208    s = "Abc!";
209    reps = absl::StrReplaceAll(
210        {{"a", "x"}, {"ab", "xy"}, {"b", "y"}, {"bc!", "yz?"}, {"c!", "z;"}}, &s);
211    EXPECT_EQ(reps, 1);
212    EXPECT_EQ(s, "Ayz?");
213    s = "ababa";
214    reps = absl::StrReplaceAll({{"a", "xxx"}, {"b", "XXXX"}}, &s);
215    EXPECT_EQ(reps, 5);
216    EXPECT_EQ(s, "xxxXXXXxxxXXXXxxx");
217    s = "aaa";
218    reps = absl::StrReplaceAll({{"aa", "x"}, {"a", "X"}}, &s);
219    EXPECT_EQ(reps, 2);
220    EXPECT_EQ(s, "xX");
221    s = "aaa";
222    reps = absl::StrReplaceAll({{"a", "X"}, {"aa", "x"}}, &s);
223    EXPECT_EQ(reps, 2);
224    EXPECT_EQ(s, "xX");
225    s = "the quick brown fox jumped over the lazy dogs";
226    reps = absl::StrReplaceAll(
227        {
228            {"brown", "box"},
229            {"dogs", "jugs"},
230            {"fox", "with"},
231            {"jumped", "five"},
232            {"over", "dozen"},
233            {"quick", "my"},
234            {"the", "pack"},
235            {"the lazy", "liquor"},
236        },
237        &s);
238    EXPECT_EQ(reps, 8);
239    EXPECT_EQ(s, "pack my box with five dozen liquor jugs");
240  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from abseil-cpp-MDEwOlJlcG9zaXRvcnkxMDQyMzE1NDE=-flat-str_replace_test.cc</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from abseil-cpp-MDEwOlJlcG9zaXRvcnkxMDQyMzE1NDE=-flat-str_replace_test.cc</div>
                </div>
                <div class="column column_space"><pre><code>86    std::map<const char *, const char *> replacements;
87    replacements["$who"] = "Bob";
88    replacements["$count"] = "5";
89    replacements["#Noun"] = "Apples";
</pre></code></div>
                <div class="column column_space"><pre><code>148      std::map<const char*, const char*> replacements;
149      replacements["aa"] = "x";
150      replacements["a"] = "X";
151      s = "aaa";
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    