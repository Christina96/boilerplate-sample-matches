<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for TestFunction.cpp &amp; TestIntervalVector.cpp</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for TestFunction.cpp &amp; TestIntervalVector.cpp
      </h3>
<h1 align="center">
        14.2%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>TestFunction.cpp (36.935482%)<th>TestIntervalVector.cpp (8.824663%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(178-181)<td><a href="#" name="0">(789-792)</a><td align="center"><font color="#ff0000">28</font>
<tr onclick='openModal("#f63526")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#f63526"><font color="#f63526">-</font><td><a href="#" name="1">(120-139)<td><a href="#" name="1">(25-45)</a><td align="center"><font color="#e30000">25</font>
<tr onclick='openModal("#980517")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#980517"><font color="#980517">-</font><td><a href="#" name="2">(198-203)<td><a href="#" name="2">(905-907)</a><td align="center"><font color="#d10000">23</font>
<tr onclick='openModal("#53858b")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#53858b"><font color="#53858b">-</font><td><a href="#" name="3">(140-152)<td><a href="#" name="3">(293-302)</a><td align="center"><font color="#b60000">20</font>
<tr onclick='openModal("#6cc417")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#6cc417"><font color="#6cc417">-</font><td><a href="#" name="4">(57-78)<td><a href="#" name="4">(955-974)</a><td align="center"><font color="#b60000">20</font>
<tr onclick='openModal("#151b8d")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#151b8d"><font color="#151b8d">-</font><td><a href="#" name="5">(209-221)<td><a href="#" name="5">(625-639)</a><td align="center"><font color="#ad0000">19</font>
<tr onclick='openModal("#8c8774")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#8c8774"><font color="#8c8774">-</font><td><a href="#" name="6">(185-197)<td><a href="#" name="6">(166-172)</a><td align="center"><font color="#9a0000">17</font>
<tr onclick='openModal("#38a4a5")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#38a4a5"><font color="#38a4a5">-</font><td><a href="#" name="7">(162-166)<td><a href="#" name="7">(518-521)</a><td align="center"><font color="#9a0000">17</font>
<tr onclick='openModal("#c58917")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#c58917"><font color="#c58917">-</font><td><a href="#" name="8">(153-156)<td><a href="#" name="8">(591-592)</a><td align="center"><font color="#9a0000">17</font>
<tr onclick='openModal("#83a33a")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#83a33a"><font color="#83a33a">-</font><td><a href="#" name="9">(535-535)<td><a href="#" name="9">(914-915)</a><td align="center"><font color="#910000">16</font>
<tr onclick='openModal("#ad5910")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#ad5910"><font color="#ad5910">-</font><td><a href="#" name="10">(224-233)<td><a href="#" name="10">(563-571)</a><td align="center"><font color="#7f0000">14</font>
<tr onclick='openModal("#b041ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#b041ff"><font color="#b041ff">-</font><td><a href="#" name="11">(166-169)<td><a href="#" name="11">(607-608)</a><td align="center"><font color="#760000">13</font>
</td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>TestFunction.cpp</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 #include "TestFunction.h"
2 #include "ibex_Function.h"
3 #include "ibex_NumConstraint.h"
4 #include "ibex_Expr.h"
5 #include "ibex_System.h"
6 #include "ibex_SyntaxError.h"
7 #include &lt;sstream&gt;
8 #include &lt;cstdio&gt;
9 using namespace std;
10 namespace ibex {
11 void TestFunction::setUp() {
12 	  symbol_01     = new Function("x","x");
13 	  symbol_02     = new Function("x","y", "x");
14 	  symbol_vec_01 = new Function("x[2]","x");
15 	  symbol_vec_02 = new Function("x[1][2]","x");
16 	  symbol_mat_01 = new Function("x[2][3]","x");
17 	  add_scalar    = new Function("x","y","x+y");
18 	  add_vector_01 = new Function("x[3]","y[3]","x+y");
19 	  add_vector_02 = new Function("x[1][3]","y[1][3]","x+y");
20 	  add_mat       = new Function("x[2][3]","y[2][3]","x+y");
21 	  mul_mat       = new Function("x[2][3]","y[3][2]","x*y");
22 	  row_vec       = new Function("x","y[1][3]","(x,y,x)");
23 	  col_vec       = new Function("x","y[3]","(x;y;x)");
24 }
25 void TestFunction::tearDown() {
26 	delete symbol_01;
27 	delete symbol_02;
28 	delete symbol_vec_01;
29 	delete add_scalar;
30 }
31 bool TestFunction::test_evl(Function* f, const Interval&amp; x_in, const Interval&amp; y_out) {
32 	return almost_eq(f-&gt;eval(IntervalVector(1,x_in)),y_out, ERROR);
33 }
34 bool TestFunction::test_evl(Function* f, const Interval&amp; x1_in, const Interval&amp; x2_in, const Interval&amp; y_out) {
35 	IntervalVector x(2);
36 <a name="4"></a>	x[0]=x1_in;
37 	x[1]=x2_in;
38 	return almost_eq(f-&gt;eval(x),y_out, ERROR);
39 <font color="#6cc417"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>}
40 void TestFunction::parser_symbol_01() {
41 	CPPUNIT_ASSERT(sameExpr(symbol_01-&gt;expr(),"x"));
42 }
43 void TestFunction::parser_symbol_02() {
44 	CPPUNIT_ASSERT(sameExpr(symbol_02-&gt;expr(),"x"));
45 }
46 void TestFunction::parser_symbol_vec_01() {
47 	CPPUNIT_ASSERT(sameExpr(symbol_vec_01-&gt;expr(),"x"));
48 }
49 void TestFunction::parser_symbol_vec_02() {
50 	CPPUNIT_ASSERT(sameExpr(symbol_vec_02-&gt;expr(),"x"));
51 }
52 void TestFunction::parser_symbol_mat_01() {</b></font>
53 	CPPUNIT_ASSERT(sameExpr(symbol_mat_01-&gt;expr(),"x"));
54 }
55 void TestFunction::parser_add_scalar() {
56 	CPPUNIT_ASSERT(sameExpr(add_scalar-&gt;expr(),"(x+y)"));
57 }
58 void TestFunction::parser_add_vector_01() {
59 	CPPUNIT_ASSERT(sameExpr(add_vector_01-&gt;expr(),"(x+y)"));
60 }
61 void TestFunction::parser_add_vector_02() {
62 	CPPUNIT_ASSERT(sameExpr(add_vector_02-&gt;expr(),"(x+y)"));
63 }
64 void TestFunction::parser_add_mat() {
65 	CPPUNIT_ASSERT(sameExpr(add_mat-&gt;expr(),"(x+y)"));
66 }
67 void TestFunction::parser_mul_mat() {
68 	CPPUNIT_ASSERT(sameExpr(mul_mat-&gt;expr(),"(x*y)"));
69 }
70 void TestFunction::parser_row_vec() {
71 	CPPUNIT_ASSERT(sameExpr(row_vec-&gt;expr(),"(x,y,x)"));
72 }
73 void TestFunction::parser_col_vec() {
74 	CPPUNIT_ASSERT(sameExpr(col_vec-&gt;expr(),"(x;y;x)"));
75 }
76 void TestFunction::eval_symbol_01() {
77 	CPPUNIT_ASSERT(test_evl(symbol_01,1,1));
78 }
79 <a name="1"></a>
80 void TestFunction::eval_symbol_02() {
81 	CPPUNIT_ASSERT(test_evl(symbol_01,1,2,1));
82 <font color="#f63526"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>}
83 void TestFunction::eval_symbol_vec_01() {
84 	IntervalVector x(3);
85 	x[0]=1;
86 	x[1]=2;
87 	x[2]=1;
88 	CPPUNIT_ASSERT(almost_eq(symbol_vec_01-&gt;eval_vector(x),x,0));
89 }
90 void TestFunction::eval_symbol_vec_02() {
91 	IntervalVector x(3);
92 	x[0]=1;
93 	x[1]=2;
94 	x[2]=1;
95 	CPPUNIT_ASSERT(almost_eq(symbol_vec_02-&gt;eval_vector(x),x,0));
96 }
97 <a name="3"></a>
98 void TestFunction::eval_symbol_mat_01() {
99 	double _x[][2] = { {1,2}, {3,4}, {5,6} ,</b></font>
100 <font color="#53858b"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>			           {1,1}, {2,2}, {3,3} };
101 	IntervalMatrix xout(2,3,_x);
102 	IntervalVector xin(6,_x);
103 	CPPUNIT_ASSERT(almost_eq(symbol_mat_01-&gt;eval_matrix(xin),xout,0));
104 }
105 void TestFunction::eval_add_scalar() {
106 	CPPUNIT_ASSERT(test_evl(add_scalar,1,2,3));
107 	CPPUNIT_ASSERT(test_evl(add_scalar,Interval(1,2),Interval(3,4),Interval(4,6)));
108 }
109 <a name="8"></a>
110 void TestFunction::eval_add_vector_01() {
111 	double _xy[][2] = { {1,2}, {3,4}, {5,6} ,</b></font>
112 <font color="#c58917"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>			            {1,1}, {2,2}, {3,3} };
113 	IntervalVector xy(6,_xy);
114 	double _z[][2] = { {2,3}, {5,6}, {8,9} };</b></font>
115 	IntervalVector z(3,_z);
116 <a name="7"></a>	IntervalVector res=add_vector_01-&gt;eval_vector(xy);
117 	CPPUNIT_ASSERT(almost_eq(res,z,ERROR));
118 	CPPUNIT_ASSERT(res.is_superset(z));
119 <font color="#38a4a5"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>}
120 <a name="11"></a>
121 void TestFunction::eval_add_vector_02() {
122 	double _xy[][2] = { {1,2}, {3,4}, {5,6} ,
123 			            {1,1}, {2,2}, {3,3} };</b></font><font color="#b041ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>
124 	IntervalVector xy(6,_xy);
125 	double _z[][2] = { {2,3}, {5,6}, {8,9} };</b></font>
126 	IntervalVector z(3,_z);
127 	IntervalVector res=add_vector_02-&gt;eval_vector(xy);
128 	CPPUNIT_ASSERT(almost_eq(res,z,ERROR));
129 	CPPUNIT_ASSERT(res.is_superset(z));
130 <a name="0"></a>}
131 void TestFunction::eval_add_mat() {
132 <font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>	double _xy[][2] = { {1,2}, {3,4}, {5,6},
133 			{1,1}, {2,2}, {3,3},
134 			{1,1}, {2,2}, {3,3},
135 			{1,2}, {3,4}, {5,6} };</b></font>
136 <a name="6"></a>	IntervalVector xy(12,_xy);
137 	double _z[][2] = { {2,3}, {5,6}, {8,9},
138 <font color="#8c8774"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>			{2,3}, {5,6}, {8,9} };
139 	IntervalMatrix z(2, 3,_z);
140 	IntervalMatrix res=add_mat-&gt;eval_matrix(xy);
141 	CPPUNIT_ASSERT(almost_eq(res[0],z[0],ERROR));
142 	CPPUNIT_ASSERT(almost_eq(res[1],z[1],ERROR));
143 	CPPUNIT_ASSERT(res.is_superset(z));
144 }
145 <a name="2"></a>
146 void TestFunction::eval_mul_mat() {
147 	double _x[][2]={{0,1},{0,2},{0,3},</b></font>
148 <font color="#980517"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>					{-1,0},{-2,0},{-3,0}};
149 	IntervalMatrix x(2,3,_x);
150 	double _y[][2]={{0,1},{-1,0},
151 			        {0,2},{-2,0},
152 					{0,3},{-3,0}};</b></font>
153 	IntervalMatrix y(3,2,_y);
154 <a name="5"></a>	IntervalVector xy(12);
155 	for (int i=0; i&lt;6; i++) xy[i]=x[i/3][i%3];
156 <font color="#151b8d"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>	for (int i=0; i&lt;6; i++) xy[i+6]=y[i/2][i%2];
157 	IntervalMatrix z=x*y;
158 	IntervalMatrix res=mul_mat-&gt;eval_matrix(xy);
159 	CPPUNIT_ASSERT(almost_eq(res,z,ERROR));
160 	CPPUNIT_ASSERT(res.is_superset(z));
161 }
162 void TestFunction::eval_row_vec() {
163 	IntervalVector x(1,Interval(1,2));
164 <a name="10"></a>	double _y[][2] = { {3,4}, {5,6}, {7,8} };</b></font>
165 	IntervalVector y(3,_y);
166 <font color="#ad5910"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>	IntervalVector xy = cart_prod(x,y);
167 	IntervalVector z  = cart_prod(xy,x);
168 	IntervalVector res=row_vec-&gt;eval_vector(xy);
169 	CPPUNIT_ASSERT(almost_eq(res,z,0));
170 }
171 void TestFunction::eval_col_vec() {
172 	IntervalVector x(1,Interval(1,2));
173 	double _y[][2] = { {3,4}, {5,6}, {7,8} };</b></font>
174 	IntervalVector y(3,_y);
175 	IntervalVector xy = cart_prod(x,y);
176 	IntervalVector z  = cart_prod(xy,x);
177 	IntervalVector res=row_vec-&gt;eval_vector(xy);
178 	CPPUNIT_ASSERT(almost_eq(res,z,0));
179 }
180 void TestFunction::build01() {
181 	delete new Function();
182 	CPPUNIT_ASSERT(true);
183 }
184 void TestFunction::build02() {
185 	const char* x[3]={"x","y","z" };
186 	Function f(3, x,"(x+y)+z");
187 	CPPUNIT_ASSERT(strcmp(f.arg_name(0),x[0])==0);
188 	CPPUNIT_ASSERT(strcmp(f.arg_name(1),x[1])==0);
189 	CPPUNIT_ASSERT(strcmp(f.arg_name(2),x[2])==0);
190 	CPPUNIT_ASSERT(sameExpr(f.expr(),"((x+y)+z)"));
191 }
192 void TestFunction::add_symbol() {
193 	const ExprSymbol&amp; x=ExprSymbol::new_("x");
194 	const ExprSymbol&amp; y=ExprSymbol::new_("y");
195 	Function f(x,y,x);
196 	CPPUNIT_ASSERT(f.nb_nodes()==2);
197 	CPPUNIT_ASSERT(f.nb_arg()==2);
198 	CPPUNIT_ASSERT(strcmp(f.arg_name(0),"x")==0);
199 	CPPUNIT_ASSERT(strcmp(f.arg_name(1),"y")==0);
200 	vector&lt;int&gt;::const_iterator it=f.used_vars.begin();
201 	assert(it!=f.used_vars.end() &amp;&amp; *it==0);
202 	it++;
203 	assert(it==f.used_vars.end());
204 	CPPUNIT_ASSERT(&amp;f.node(0)==&amp;x);
205 	CPPUNIT_ASSERT(&amp;f.node(1)==&amp;y);
206 }
207 void TestFunction::copy() {
208 	const ExprSymbol&amp; x=ExprSymbol::new_("x",Dim::col_vec(3));
209 	const ExprSymbol&amp; A=ExprSymbol::new_("A",Dim::matrix(2,3));
210 	Function f(x,A,A*x);
211 	Function f2(f);
212 	CPPUNIT_ASSERT(f2.nb_nodes()==3);
213 	CPPUNIT_ASSERT(f2.nb_arg()==2);
214 	const ExprMul* e2=dynamic_cast&lt;const ExprMul*&gt;(&amp;f2.node(0));
215 	CPPUNIT_ASSERT(e2!=NULL);
216 	CPPUNIT_ASSERT(sameExpr(f2.expr(),"(A*x)"));
217 	const ExprSymbol* A2=dynamic_cast&lt;const ExprSymbol*&gt;(&amp;f2.node(1));
218 	CPPUNIT_ASSERT(A2!=NULL);
219 	CPPUNIT_ASSERT(strcmp(A2-&gt;name,"A")==0);
220 	CPPUNIT_ASSERT(A2-&gt;dim==A.dim);
221 	const ExprSymbol* x2=dynamic_cast&lt;const ExprSymbol*&gt;(&amp;f2.node(2));
222 	CPPUNIT_ASSERT(strcmp(x2-&gt;name,"x")==0);
223 	CPPUNIT_ASSERT(x2-&gt;dim==x.dim);
224 }
225 void TestFunction::generate_comp01() {
226 	const ExprSymbol&amp; x=ExprSymbol::new_("x");
227 	const ExprSymbol&amp; y=ExprSymbol::new_("y");
228 	const ExprSymbol&amp; z=ExprSymbol::new_("z");
229 	const ExprNode&amp; e1=x+y-z;
230 	const ExprNode&amp; e2=x*z;
231 	const ExprNode&amp; e3=y-z;
232 	Array&lt;const ExprNode&gt; v(e1, e2, e3);
233 	const ExprVector&amp; e=ExprVector::new_col(v);
234 	Function f(x,y,z,e);
235 	CPPUNIT_ASSERT(f[0].nb_arg()==3);
236 	CPPUNIT_ASSERT(sameExpr(f[0].expr(),"((x+y)-z)"));
237 	CPPUNIT_ASSERT(f[1].nb_arg()==3);
238 	CPPUNIT_ASSERT(sameExpr(f[1].expr(),"(x*z)"));
239 	CPPUNIT_ASSERT(f[2].nb_arg()==3);
240 	CPPUNIT_ASSERT(sameExpr(f[2].expr(),"(y-z)"));
241 }
242 void TestFunction::generate_comp02() {
243 	const ExprSymbol&amp; x=ExprSymbol::new_("x");
244 	const ExprNode&amp; e1=x;
245 	const ExprNode&amp; e2=ExprConstant::new_scalar(0);
246 	const ExprNode&amp; e3=ExprConstant::new_scalar(0);
247 	Array&lt;const ExprNode&gt; v(e1, e2, e3);
248 	const ExprVector&amp; e=ExprVector::new_col(v);
249 	Function f(x,e);
250 	const ExprConstant* c=dynamic_cast&lt;const ExprConstant*&gt;(&amp;f[1].expr());
251 	CPPUNIT_ASSERT(c);
252 	CPPUNIT_ASSERT(c-&gt;get_value()==Interval::zero());
253 	c=dynamic_cast&lt;const ExprConstant*&gt;(&amp;f[2].expr());
254 	CPPUNIT_ASSERT(c);
255 	CPPUNIT_ASSERT(c-&gt;get_value()==Interval::zero());
256 }
257 void TestFunction::generate_comp03() {
258 	Function f("x","((x,1);(1,2);(x,x))");
259 	const ExprConstant* c=dynamic_cast&lt;const ExprConstant*&gt;(&amp;f[1].expr());
260 	CPPUNIT_ASSERT(c);
261 	CPPUNIT_ASSERT(c-&gt;dim.type()==Dim::ROW_VECTOR);
262 	CPPUNIT_ASSERT(c-&gt;get_vector_value().size()==2);
263 	CPPUNIT_ASSERT(c-&gt;get_vector_value()[0]==Interval(1,1));
264 	CPPUNIT_ASSERT(c-&gt;get_vector_value()[1]==Interval(2,2));
265 }
266 void TestFunction::used() {
267 	const ExprSymbol&amp; x=ExprSymbol::new_("x");
268 	const ExprSymbol&amp; y=ExprSymbol::new_("y");
269 	const ExprSymbol&amp; z=ExprSymbol::new_("z");
270 	const ExprNode&amp; e1=x+y-z;
271 	const ExprNode&amp; e2=x*z;
272 	const ExprNode&amp; e3=y-z;
273 	Array&lt;const ExprNode&gt; v(e1, e2, e3);
274 	const ExprVector&amp; e=ExprVector::new_col(v);
275 	Function f(x,y,z,e);
276 	vector&lt;int&gt;::const_iterator it=f[0].used_vars.begin();
277 	assert(it!=f[0].used_vars.end() &amp;&amp; *it==0);
278 	it++;
279 	assert(it!=f[0].used_vars.end() &amp;&amp; *it==1);
280 	it++;
281 	assert(it!=f[0].used_vars.end() &amp;&amp; *it==2);
282 	it++;
283 	assert(it==f[0].used_vars.end());
284 	it=f[1].used_vars.begin();
285 	assert(it!=f[1].used_vars.end() &amp;&amp; *it==0);
286 	it++;
287 	assert(it!=f[1].used_vars.end() &amp;&amp; *it==2);
288 	it++;
289 	assert(it==f[1].used_vars.end());
290 	it=f[2].used_vars.begin();
291 	assert(it!=f[2].used_vars.end() &amp;&amp; *it==1);
292 	it++;
293 	assert(it!=f[2].used_vars.end() &amp;&amp; *it==2);
294 	it++;
295 	assert(it==f[2].used_vars.end());
296 }
297 void TestFunction::used02() {
298 	Variable x(3,"x");
299 	Variable y(2,3,"y");
300 	Function f(x,y,x[0]+x[2]-(y[1][1]*y[1][2]));
301 	vector&lt;int&gt;::const_iterator it=f.used_vars.begin();
302 	assert(it!=f.used_vars.end() &amp;&amp; *it==0);
303 	it++;
304 	assert(it!=f.used_vars.end() &amp;&amp; *it==2);
305 	it++;
306 	assert(it!=f.used_vars.end() &amp;&amp; *it==7);
307 	it++;
308 	assert(it!=f.used_vars.end() &amp;&amp; *it==8);
309 	it++;
310 	assert(it==f.used_vars.end());
311 }
312 void TestFunction::numctr01() {
313 	Variable x("x");
314 	Variable y("y");
315 	Function f(x,y,x+y);
316 	NumConstraint c(f,EQ);
317 	CPPUNIT_ASSERT(true); }
318 void TestFunction::apply01() {
319 	Variable x("x");
320 	Variable y("y");
321 	Function f(x,y,x+y,"f");
322 	Interval c(1,1);
323 	Variable z("z");
324 	Function f2(z,f(z,c));
325 	CPPUNIT_ASSERT(sameExpr(f2.expr(),"(z+1)"));
326 }
327 void TestFunction::from_string01() {
328 	try {
329 		Function f("x","sin(x)");
330 		CPPUNIT_ASSERT(f.nb_arg()==1);
331 		CPPUNIT_ASSERT(sameExpr(f.expr(),"sin(x)"));
332 	}
333 	catch(SyntaxError&amp; e) {
334 		CPPUNIT_ASSERT(false);
335 	}
336 }
337 void TestFunction::from_string02() {
338 	try {
339 		Function f("x","y","x+y");
340 		CPPUNIT_ASSERT(f.nb_arg()==2);
341 		CPPUNIT_ASSERT(sameExpr(f.expr(),"(x+y)"));
342 	} catch(SyntaxError&amp; e) {
343 		CPPUNIT_ASSERT(false);
344 	}
345 }
346 void TestFunction::from_string03() {
347 	try {
348 		Function f("x[2]","y[1][3]","x(1)+y(2)");
349 		CPPUNIT_ASSERT(f.nb_arg()==2);
350 		CPPUNIT_ASSERT(f.arg(0).dim.nb_rows()==2);
351 		CPPUNIT_ASSERT(f.arg(1).dim.nb_cols()==3);
352 		CPPUNIT_ASSERT(sameExpr(f.expr(),"(x(1)+y(2))"));
353 	} catch(SyntaxError&amp; e) {
354 		CPPUNIT_ASSERT(false);
355 	}
356 }
357 void TestFunction::from_string04() {
358 	try {
359 		Function f("a","b","c","d","e","f","g","h","a+e");
360 		CPPUNIT_ASSERT(f.nb_arg()==8);
361 		CPPUNIT_ASSERT(sameExpr(f.expr(),"(a+e)"));
362 	} catch(SyntaxError&amp; e) {
363 		CPPUNIT_ASSERT(false);
364 	}
365 }
366 void TestFunction::minibex01() {
367 	Variable x("x"),y("y");
368 	const ExprNode&amp; e1=x+y;
369 	const ExprNode&amp; e=e1+e1;
370 	Function f(x,y,e,"f");
371 	std::string m = f.minibex();
372 	CPPUNIT_ASSERT(strcmp(m.c_str(),"function f(x,y)\n  _tmp_0_ = (x+y);\n  return (_tmp_0_+_tmp_0_);\nend")==0);
373 }
374 void TestFunction::minibex02() {
375 	Variable x("x"),y("y");
376 	const ExprNode&amp; e1=x+y;
377 	const ExprNode&amp; e=e1+e1;
378 	Function f(x,y,e,"f");
379 	std::string m = f.minibex();
380 	FILE *fin = std::tmpfile ();
381 	CPPUNIT_ASSERT (fin != NULL);
382 	std::fwrite (m.c_str(), 1, m.length(), fin);
383 	std::rewind (fin);
384 	Function f2(fin);
385 	m = f2.minibex();
386 	CPPUNIT_ASSERT(strcmp(m.c_str(),"function f(x,y)\n  _tmp_0_ = (x+y);\n  return (_tmp_0_+_tmp_0_);\nend")==0);
387   std::fclose (fin);
388 }
389 <a name="9"></a>
390 void TestFunction::minibex03() {
391 	Variable x(Dim::matrix(2,3),"x");
392 <font color="#83a33a"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>	double _m[][2] = {{0,0},{1,1},{2,2},{3,3},{4,4},{5,5}};</b></font>
393 	IntervalMatrix M(2,3,_m);
394 	Function f(x,x+M,"f");
395 	std::string m = f.minibex();
396 	CPPUNIT_ASSERT(strcmp(m.c_str(),"function f(x[2][3])\n  return (x+((0 , 1 , 2) ; (3 , 4 , 5)));\nend")==0);
397 	FILE *fin = std::tmpfile ();
398 	CPPUNIT_ASSERT (fin != NULL);
399 	std::fwrite (m.c_str(), 1, m.length(), fin);
400 	std::rewind (fin);
401 	Function f2(fin);
402 	m = f2.minibex();
403 	CPPUNIT_ASSERT(strcmp(m.c_str(),"function f(x[2][3])\n  return (x+((0 , 1 , 2) ; (3 , 4 , 5)));\nend")==0);
404   std::fclose (fin);
405 }
406 void TestFunction::issue43() {
407 	Variable x("x"),y("y");
408 	Function f(x,y,x);
409 	Function g(x,y,y);
410 }
411 void TestFunction::issue43_bis() {
412 	Variable x,y;
413 	Function f(x,y,x);
414 	Function g(x,y,f(x,y));
415 }
416 void TestFunction::def_domain01() {
417 	Function f("x","y","ln(x)+sqrt(x+y)");
418 	const System&amp; sys=f.def_domain();
419 	CPPUNIT_ASSERT(sameExpr(sys.f_ctrs.expr(),"(x;(x+y))"));
420 }
421 void TestFunction::def_domain02() {
422 	Function f("x","y","acos(x*sqrt(y))+y");
423 	const System&amp; sys=f.def_domain();
424 	CPPUNIT_ASSERT(sameExpr(sys.f_ctrs.expr(),"(y;((x*sqrt(y))--1);((x*sqrt(y))-1))")); 	//CPPUNIT_ASSERT(sameExpr(sys.f_ctrs.expr(),"(y;(1+(x*sqrt(y)));(-1+(x*sqrt(y))))")); }
} </pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>TestIntervalVector.cpp</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 #include "TestIntervalVector.h"
2 #include "ibex_Interval.h"
3 #include "utils.h"
4 using namespace std;
5 void TestIntervalVector::cons01() {
6 	IntervalVector x(2);
7 	x[0]=Interval::all_reals();
8 	x[1]=Interval::all_reals();
9 <a name="1"></a>	check(x,IntervalVector(2));
10 	check(x,IntervalVector(x));
11 	check(x,IntervalVector(2)=x);
12 <font color="#f63526"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>}
13 void TestIntervalVector::cons02() {
14 	IntervalVector x(2);
15 	x[0]=Interval(0,1);
16 	x[1]=Interval(0,1);
17 	check(x,IntervalVector(2,Interval(0,1)));
18 	check(x,IntervalVector(x));
19 	check(x,IntervalVector(2)=x);
20 }
21 void TestIntervalVector::cons03() {
22 	IntervalVector x(2);
23 	x[0]=Interval(0,1);
24 	x[1]=Interval(2,3);
25 	check(x,IntervalVector(x));
26 	check(x,IntervalVector(2)=x);
27 }
28 void TestIntervalVector::cons04() {
29 	double bounds[][2] = {{0,1},{2,3}};</b></font>
30 	IntervalVector x(2);
31 	x[0]=Interval(0,1);
32 	x[1]=Interval(2,3);
33 	check(x,IntervalVector(2,bounds));
34 	check(x,IntervalVector(2)=x);
35 }
36 void TestIntervalVector::cons05() {
37 	IntervalVector x(2);
38 	x[0].set_empty();
39 	x[1].set_empty();
40 	CPPUNIT_ASSERT(x.is_empty());
41 	CPPUNIT_ASSERT((IntervalVector(2)=x).is_empty());
42 }
43 void TestIntervalVector::consInitList() {
44 	IntervalVector x{
45 		{1.0, 2.0},
46 		{2.0, 3.0},
47 		{4}
48 	};
49 	CPPUNIT_ASSERT(x.size() == 3);
50 	CPPUNIT_ASSERT(x[0] == Interval(1.0, 2.0));
51 	CPPUNIT_ASSERT(x[1] == Interval(2.0, 3.0));
52 	CPPUNIT_ASSERT(x[2] == Interval(4.0, 4.0));
53 }
54 void TestIntervalVector::set_empty01() {
55 	IntervalVector x(2);
56 	CPPUNIT_ASSERT(!x.is_empty());
57 	x.set_empty();
58 	CPPUNIT_ASSERT(x.is_empty());
59 }
60 void TestIntervalVector::is_empty01() {
61 	CPPUNIT_ASSERT(IntervalVector::empty(2).is_empty());
62 }
63 void TestIntervalVector::is_empty02() {
64 	CPPUNIT_ASSERT(!IntervalVector(2).is_empty());
65 }
66 void TestIntervalVector::resize01() {
67 	IntervalVector x(1);
68 	x[0]=Interval(1,2);
69 	x.resize(3);
70 	CPPUNIT_ASSERT(x.size()==3);
71 	check(x[0],Interval(1,2));
72 	check(x[1],Interval::all_reals());
73 	check(x[2],Interval::all_reals());
74 }
75 void TestIntervalVector::resize02() {
76 	IntervalVector x(1);
77 	x[0]=Interval(1,2);
78 	x.resize(1);
79 	CPPUNIT_ASSERT(x.size()==1);
80 	check(x[0],Interval(1,2));
81 }
82 void TestIntervalVector::resize03() {
83 	IntervalVector x(2);
84 	x[0]=Interval(1,2);
85 	x.set_empty();
86 	x.resize(3);
87 	CPPUNIT_ASSERT(x.size()==3);
88 	CPPUNIT_ASSERT(x.is_empty());
89 	CPPUNIT_ASSERT(x[2]==Interval::all_reals());
90 }
91 void TestIntervalVector::resize04() {
92 	IntervalVector x(5);
93 	x[0]=Interval(1,2);
94 	x[1]=Interval(3,4);
95 	x.resize(2);
96 	CPPUNIT_ASSERT(x.size()==2);
97 	check(x[0],Interval(1,2));
98 	check(x[1],Interval(3,4));
99 }
100 static double _x[][2]={{0,1},{2,3},{4,5}};
101 void TestIntervalVector::subvector01() {
102 	double _x01[][2]={{0,1},{2,3}};
103 	CPPUNIT_ASSERT(IntervalVector(3,_x).subvector(0,1)==IntervalVector(2,_x01));
104 }
105 void TestIntervalVector::subvector02() {
106 	double _x12[][2]={{2,3},{4,5}};
107 	CPPUNIT_ASSERT(IntervalVector(3,_x).subvector(1,2)==IntervalVector(2,_x12));
108 }
109 void TestIntervalVector::subvector03() {
110 	double _x11[][2]={{2,3}};
111 	CPPUNIT_ASSERT(IntervalVector(3,_x).subvector(1,1)==IntervalVector(1,_x11));
112 }
113 void TestIntervalVector::subvector04() {
114 	double _x22[][2]={{4,5}};
115 	CPPUNIT_ASSERT(IntervalVector(3,_x).subvector(2,2)==IntervalVector(1,_x22));
116 }
117 void TestIntervalVector::subvector05() {
118 	CPPUNIT_ASSERT(IntervalVector(3,_x).subvector(0,2)==IntervalVector(3,_x));
119 }
120 void TestIntervalVector::subvector06() {
121 	CPPUNIT_ASSERT(IntervalVector::empty(3).subvector(1,2).is_empty());
122 }
123 void TestIntervalVector::cart_prod01() {
124 	CPPUNIT_ASSERT(cart_prod(IntervalVector(3,_x),IntervalVector::empty(3)).is_empty());
125 	CPPUNIT_ASSERT(cart_prod(IntervalVector::empty(3),IntervalVector(3,_x)).is_empty());
126 }
127 <a name="6"></a>void TestIntervalVector::inter01() {
128 	double _x1[][2]={{0,2},{4,6}};
129 	double _x2[][2]={{1,3},{5,7}};
130 <font color="#8c8774"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>	double _res[][2]={{1,2},{5,6}};
131 	CPPUNIT_ASSERT(((IntervalVector(2,_x1)) &amp;=IntervalVector(2,_x2))==IntervalVector(2,_res));
132 	CPPUNIT_ASSERT(((IntervalVector(2,_x1)) &amp; IntervalVector(2,_x2))==IntervalVector(2,_res));
133 }
134 void TestIntervalVector::inter02() {
135 	double _x1[][2]={{0,2},{4,6}};</b></font>
136 	double _x2[][2]={{1,3},{7,8}};
137 	CPPUNIT_ASSERT(((IntervalVector(2,_x1)) &amp;=IntervalVector(2,_x2)).is_empty());
138 	CPPUNIT_ASSERT(((IntervalVector(2,_x1)) &amp; IntervalVector(2,_x2)).is_empty());
139 }
140 void TestIntervalVector::inter03() {
141 	double _x1[][2]={{0,2},{4,6}};
142 	CPPUNIT_ASSERT(((IntervalVector(2,_x1)) &amp;=IntervalVector::empty(2)).is_empty());
143 	CPPUNIT_ASSERT(((IntervalVector(2,_x1)) &amp; IntervalVector::empty(2)).is_empty());
144 }
145 void TestIntervalVector::inter04() {
146 	double _x1[][2]={{0,2},{4,6}};
147 	CPPUNIT_ASSERT(((IntervalVector::empty(2)) &amp;=IntervalVector(2,_x1)).is_empty());
148 	CPPUNIT_ASSERT(((IntervalVector::empty(2)) &amp; IntervalVector(2,_x1)).is_empty());
149 }
150 void TestIntervalVector::hull01() {
151 	double _x1[][2]={{0,1},{4,5}};
152 	double _x2[][2]={{2,3},{6,7}};
153 	double _res[][2]={{0,3},{4,7}};
154 	CPPUNIT_ASSERT(((IntervalVector(2,_x1)) |=IntervalVector(2,_x2))==IntervalVector(2,_res));
155 	CPPUNIT_ASSERT(((IntervalVector(2,_x1)) | IntervalVector(2,_x2))==IntervalVector(2,_res));
156 }
157 void TestIntervalVector::hull02() {
158 	double _x1[][2]={{0,1},{4,5}};
159 	IntervalVector x1(2,_x1);
160 	CPPUNIT_ASSERT((x1 |= x1)==x1);
161 	CPPUNIT_ASSERT((x1 | x1)==x1);
162 }
163 void TestIntervalVector::hull03() {
164 	double _x1[][2]={{0,2},{4,6}};
165 	IntervalVector x1(2,_x1);
166 	CPPUNIT_ASSERT((x1 |=IntervalVector::empty(2))==x1);
167 	CPPUNIT_ASSERT((x1 | IntervalVector::empty(2))==x1);
168 }
169 void TestIntervalVector::hull04() {
170 	double _x1[][2]={{0,2},{4,6}};
171 	IntervalVector x1(2,_x1);
172 	CPPUNIT_ASSERT(((IntervalVector::empty(2)) |= x1)==x1);
173 	CPPUNIT_ASSERT(((IntervalVector::empty(2)) | x1)==x1);
174 }
175 void TestIntervalVector::eq01() {
176 	IntervalVector x(3,_x);
177 	CPPUNIT_ASSERT(x==x);
178 	CPPUNIT_ASSERT(!(x!=x));
179 }
180 void TestIntervalVector::eq02() {
181 	IntervalVector x(3,_x);
182 	double _x01[][2]={{0,1},{2,3}};
183 	IntervalVector x1(2,_x01);
184 	CPPUNIT_ASSERT(!(x==x1));
185 	CPPUNIT_ASSERT(x!=x1);
186 }
187 void TestIntervalVector::eq03() {
188 	double _x1[][2]={{0,1},{4,5}};
189 	double _x2[][2]={{2,3},{6,7}};
190 	IntervalVector x1(2,_x1);
191 	IntervalVector x2(2,_x2);
192 	x1.set_empty();
193 	x2.set_empty();
194 	CPPUNIT_ASSERT(x1==x2);
195 	CPPUNIT_ASSERT(!(x1!=x2));
196 }
197 void TestIntervalVector::eq04() {
198 	CPPUNIT_ASSERT(IntervalVector::empty(2)==IntervalVector::empty(2));
199 	CPPUNIT_ASSERT(IntervalVector::empty(2)!=IntervalVector::empty(3));
200 	IntervalVector x(2);
201 	x.set_empty();
202 	CPPUNIT_ASSERT(IntervalVector::empty(2)==x);
203 }
204 void TestIntervalVector::mid01() {
205 	IntervalVector x(3,_x);
206 	Vector m=x.mid();
207 	check(m[0],0.5);
208 	check(m[1],2.5);
209 	check(m[2],4.5);
210 }
211 void TestIntervalVector::is_flat01() {
212 	CPPUNIT_ASSERT(!IntervalVector(3,_x).is_flat());
213 }
214 void TestIntervalVector::is_flat02() {
215 	CPPUNIT_ASSERT(IntervalVector::empty(3).is_flat());
216 }
217 void TestIntervalVector::is_flat03() {
218 	CPPUNIT_ASSERT(IntervalVector(1,Interval(0,0)).is_flat());
219 	CPPUNIT_ASSERT(!IntervalVector(1,Interval(0,1)).is_flat());
220 }
221 void TestIntervalVector::is_flat04() {
222 	double _x1[][2]={{0,1},{2,2},{3,4}};
223 	CPPUNIT_ASSERT(IntervalVector(3,_x1).is_flat());
224 }
225 void TestIntervalVector::is_flat05() {
226 	double _x1[][2]={{0,1},{2,3},{4,4}};
227 	CPPUNIT_ASSERT(IntervalVector(3,_x1).is_flat());
228 }
229 void TestIntervalVector::is_unbounded01() {
230 	CPPUNIT_ASSERT(!IntervalVector::empty(3).is_unbounded());
231 }
232 void TestIntervalVector::is_unbounded02() {
233 	double _x1[][2]={{0,1},{0,2},{NEG_INFINITY,0}};
234 	CPPUNIT_ASSERT(IntervalVector(3,_x1).is_unbounded());
235 <a name="3"></a>}
236 void TestIntervalVector::is_unbounded03() {
237 <font color="#53858b"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>	double _x1[][2]={{0,1},{0,2}};
238 	CPPUNIT_ASSERT(!IntervalVector(2,_x1).is_unbounded());
239 }
240 void TestIntervalVector::is_unbounded04() {
241 	CPPUNIT_ASSERT(IntervalVector(1).is_unbounded());
242 }
243 void TestIntervalVector::is_subset01() {
244 	double _x1[][2]={{0,2},{2,4}};</b></font>
245 	double _x2[][2]={{0,1},{3,4}};
246 	IntervalVector x1(2,_x1);
247 	IntervalVector x2(2,_x2);
248 	CPPUNIT_ASSERT(x1.is_superset(x2));
249 	CPPUNIT_ASSERT(x2.is_subset(x1));
250 	CPPUNIT_ASSERT(x1.is_strict_superset(x2));
251 	CPPUNIT_ASSERT(!x2.is_strict_interior_subset(x1));
252 }
253 void TestIntervalVector::is_subset02() {
254 	double _x1[][2]={{0,2},{2,4}};
255 	double _x2[][2]={{1,1},{3,4}};
256 	IntervalVector x1(2,_x1);
257 	IntervalVector x2(2,_x2);
258 	CPPUNIT_ASSERT(x1.is_superset(x2));
259 	CPPUNIT_ASSERT(x2.is_subset(x1));
260 	CPPUNIT_ASSERT(x1.is_strict_superset(x2));
261 	CPPUNIT_ASSERT(!x2.is_strict_interior_subset(x1));
262 }
263 void TestIntervalVector::is_subset03() {
264 	double _x1[][2]={{0,2},{2,4}};
265 	double _x2[][2]={{0,1},{3,3}};
266 	IntervalVector x1(2,_x1);
267 	IntervalVector x2(2,_x2);
268 	CPPUNIT_ASSERT(x1.is_superset(x2));
269 	CPPUNIT_ASSERT(x2.is_subset(x1));
270 	CPPUNIT_ASSERT(x1.is_strict_superset(x2));
271 	CPPUNIT_ASSERT(!x2.is_strict_interior_subset(x1));
272 }
273 void TestIntervalVector::is_subset04() {
274 	double _x1[][2]={{0,2},{2,4}};
275 	double _x2[][2]={{1,1},{3,3}};
276 	IntervalVector x1(2,_x1);
277 	IntervalVector x2(2,_x2);
278 	CPPUNIT_ASSERT(x1.is_superset(x2));
279 	CPPUNIT_ASSERT(x2.is_subset(x1));
280 	CPPUNIT_ASSERT(x1.is_strict_superset(x2));
281 	CPPUNIT_ASSERT(x2.is_strict_interior_subset(x1));
282 }
283 void TestIntervalVector::is_subset05() {
284 	double _x1[][2]={{0,2},{2,4}};
285 	IntervalVector x1(2,_x1);
286 	IntervalVector x2(IntervalVector::empty(2));
287 	CPPUNIT_ASSERT(x1.is_superset(x2));
288 	CPPUNIT_ASSERT(x2.is_subset(x1));
289 	CPPUNIT_ASSERT(x1.is_strict_superset(x2));
290 	CPPUNIT_ASSERT(x2.is_strict_interior_subset(x1));
291 }
292 void TestIntervalVector::is_subset06() {
293 	double _x2[][2]={{1,1},{3,3}};
294 	IntervalVector x1(IntervalVector::empty(2));
295 	IntervalVector x2(2,_x2);
296 	CPPUNIT_ASSERT(!x1.is_superset(x2));
297 	CPPUNIT_ASSERT(!x2.is_subset(x1));
298 	CPPUNIT_ASSERT(!x1.is_strict_superset(x2));
299 	CPPUNIT_ASSERT(!x2.is_strict_interior_subset(x1));
300 }
301 void TestIntervalVector::is_subset07() {
302 	double _x1[][2]={{0,2},{2,4}};
303 	double _x2[][2]={{1,1},{3,5}};
304 	IntervalVector x1(2,_x1);
305 	IntervalVector x2(2,_x2);
306 	CPPUNIT_ASSERT(!x1.is_superset(x2));
307 	CPPUNIT_ASSERT(!x2.is_subset(x1));
308 	CPPUNIT_ASSERT(!x1.is_strict_superset(x2));
309 	CPPUNIT_ASSERT(!x2.is_strict_interior_subset(x1));
310 }
311 void TestIntervalVector::is_relative_interior01() {
312 	double _x1[][2]={{1,1},{3,4}};
313 	double _x2[][2]={{1,1},{2,5}};
314 	IntervalVector x1(2,_x1);
315 	IntervalVector x2(2,_x2);
316 	CPPUNIT_ASSERT(x1.is_relative_interior_subset(x2));
317 }
318 void TestIntervalVector::is_relative_interior02() {
319 	double _x1[][2]={{3,4},{3,3}};
320 	double _x2[][2]={{2,5},{3,3}};
321 	IntervalVector x1(2,_x1);
322 	IntervalVector x2(2,_x2);
323 	CPPUNIT_ASSERT(x1.is_relative_interior_subset(x2));
324 }
325 void TestIntervalVector::is_relative_interior03() {
326 	double _x1[][2]={{0,0},{1,1}};
327 	double _x2[][2]={{1,1},{1,1}};
328 	IntervalVector x1(2,_x1);
329 	IntervalVector x2(2,_x2);
330 	CPPUNIT_ASSERT(!x1.is_relative_interior_subset(x2));
331 }
332 void TestIntervalVector::is_relative_interior04() {
333 	double _x1[][2]={{0,0},{1,1}};
334 	double _x2[][2]={{0,0},{1,1}};
335 	IntervalVector x1(2,_x1);
336 	IntervalVector x2(2,_x2);
337 	CPPUNIT_ASSERT(x1.is_relative_interior_subset(x2));
338 }
339 void TestIntervalVector::is_relative_interior05() {
340 	CPPUNIT_ASSERT(IntervalVector::empty(2).is_relative_interior_subset(IntervalVector(2)));
341 }
342 void TestIntervalVector::extr_diam_index01() {
343 	 double _x1[][2]={{0,2},{0,1},{0,3}};
344 	IntervalVector x1(3,_x1);
345 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==1);
346 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==2);
347 	CPPUNIT_ASSERT(x1.min_diam()==1);
348 	CPPUNIT_ASSERT(x1.max_diam()==3);
349 }
350 void TestIntervalVector::extr_diam_index02() {
351 	double _x1[][2]={{0,1},{0,3},{0,2}};
352 	IntervalVector x1(3,_x1);
353 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==0);
354 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==1);
355 	CPPUNIT_ASSERT(x1.min_diam()==1);
356 	CPPUNIT_ASSERT(x1.max_diam()==3);
357 }
358 void TestIntervalVector::extr_diam_index03() {
359 	double _x1[][2]={{0,3},{0,2},{0,1}};
360 	IntervalVector x1(3,_x1);
361 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==2);
362 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==0);
363 	CPPUNIT_ASSERT(x1.min_diam()==1);
364 	CPPUNIT_ASSERT(x1.max_diam()==3);
365 }
366 void TestIntervalVector::extr_diam_index04() {
367 	double _x1[][2]={{0,1},{0,2},{NEG_INFINITY,0}};
368 	IntervalVector x1(3,_x1);
369 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==0);
370 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==2);
371 	CPPUNIT_ASSERT(x1.min_diam()==1);
372 	CPPUNIT_ASSERT(x1.max_diam()==POS_INFINITY);
373 }
374 void TestIntervalVector::extr_diam_index05() {
375 	double _x1[][2]={{NEG_INFINITY,0}};
376 	IntervalVector x1(1,_x1);
377 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==0);
378 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==0);
379 	CPPUNIT_ASSERT(x1.min_diam()==POS_INFINITY);
380 	CPPUNIT_ASSERT(x1.max_diam()==POS_INFINITY);
381 }
382 void TestIntervalVector::extr_diam_index06() {
383 	double _x1[][2]={{NEG_INFINITY,0},{0,1},{NEG_INFINITY,1},{1,3}};
384 	IntervalVector x1(4,_x1);
385 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==1);
386 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==2);
387 	CPPUNIT_ASSERT(x1.min_diam()==1);
388 	CPPUNIT_ASSERT(x1.max_diam()==POS_INFINITY);
389 }
390 void TestIntervalVector::extr_diam_index07() {
391 	double _x1[][2]={{NEG_INFINITY,0},{-2,POS_INFINITY},{NEG_INFINITY,1}};
392 	IntervalVector x1(3,_x1);
393 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==0);
394 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==1);
395 	CPPUNIT_ASSERT(x1.min_diam()==POS_INFINITY);
396 	CPPUNIT_ASSERT(x1.max_diam()==POS_INFINITY);
397 }
398 void TestIntervalVector::extr_diam_index08() {
399 	double _x1[][2]={{NEG_INFINITY,0},{NEG_INFINITY,1},{-2,POS_INFINITY}};
400 	IntervalVector x1(3,_x1);
401 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==0);
402 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==2);
403 	CPPUNIT_ASSERT(x1.min_diam()==POS_INFINITY);
404 	CPPUNIT_ASSERT(x1.max_diam()==POS_INFINITY);
405 }
406 void TestIntervalVector::extr_diam_index09() {
407 	double _x1[][2]={{-2,POS_INFINITY},{NEG_INFINITY,0},{NEG_INFINITY,1}};
408 	IntervalVector x1(3,_x1);
409 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==1);
410 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==0);
411 	CPPUNIT_ASSERT(x1.min_diam()==POS_INFINITY);
412 	CPPUNIT_ASSERT(x1.max_diam()==POS_INFINITY);
413 }
414 void TestIntervalVector::extr_diam_index10() {
415 	double _x1[][2]={{-2,POS_INFINITY},{NEG_INFINITY,1},{NEG_INFINITY,0}};
416 	IntervalVector x1(3,_x1);
417 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==2);
418 <a name="7"></a>	CPPUNIT_ASSERT(x1.extr_diam_index(false)==0);
419 	CPPUNIT_ASSERT(x1.min_diam()==POS_INFINITY);
420 	CPPUNIT_ASSERT(x1.max_diam()==POS_INFINITY);
421 <font color="#38a4a5"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>}
422 void TestIntervalVector::sort_indices01() {
423 	double _x[][2]={{0,2},{NEG_INFINITY,0},{0,1},{3,3},{-10,10}};</b></font>
424 	IntervalVector x(5,_x);
425 	int tab[5];
426 	x.sort_indices(true,tab);
427 	CPPUNIT_ASSERT(tab[0]==3);
428 	CPPUNIT_ASSERT(tab[1]==2);
429 	CPPUNIT_ASSERT(tab[2]==0);
430 	CPPUNIT_ASSERT(tab[3]==4);
431 	CPPUNIT_ASSERT(tab[4]==1);
432 }
433 void TestIntervalVector::sort_indices02() {
434 	double _x[][2]={{0,2},{NEG_INFINITY,0},{0,1},{3,3},{-10,10}};
435 	IntervalVector x(5,_x);
436 	int tab[5];
437 	x.sort_indices(false,tab);
438 	CPPUNIT_ASSERT(tab[0]==1);
439 	CPPUNIT_ASSERT(tab[1]==4);
440 	CPPUNIT_ASSERT(tab[2]==0);
441 	CPPUNIT_ASSERT(tab[3]==2);
442 	CPPUNIT_ASSERT(tab[4]==3);
443 }
444 void TestIntervalVector::rel_distance01() {
445   IntervalVector box1(3);
446   IntervalVector box2(3);
447   box1[0]=Interval(0,0);
448   box2[0]=Interval(0,0);
449   box1[1]=Interval(-1,0);
450   box2[1]=Interval(-1,0);
451   box1[2]=Interval(1,4);
452   box2[2]=Interval(1.5,3);
453   CPPUNIT_ASSERT_DOUBLES_EQUAL(1.0/3.0,box1.rel_distance(box2),ERROR);
454 }
455 void TestIntervalVector::perimeter01() {
456   IntervalVector box1(3);
457   IntervalVector box2(3);
458 <a name="10"></a>  box1[0]=Interval(0,0);
459   box2[0]=Interval(0,0);
460   box1[1]=Interval(-1,0);
461 <font color="#ad5910"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>  box2[1]=Interval(-1,0);
462   box1[2]=Interval(1,4);
463   box2[2]=Interval(1.5,3);
464   CPPUNIT_ASSERT_DOUBLES_EQUAL(4.0,box1.perimeter(),ERROR);
465   CPPUNIT_ASSERT_DOUBLES_EQUAL(2.5,box2.perimeter(),ERROR);
466 }
467 void TestIntervalVector::perimeter02() {
468 	double _x1[][2]={{0,1},{0,POS_INFINITY}};</b></font>
469 	CPPUNIT_ASSERT(IntervalVector(2,_x1).perimeter()==POS_INFINITY);
470 }
471 void TestIntervalVector::volume01() {
472 	double _x1[][2]={{0,1},{0,POS_INFINITY}};
473 	CPPUNIT_ASSERT(IntervalVector(2,_x1).volume()==POS_INFINITY);
474 }
475 void TestIntervalVector::volume02() {
476 	double _x1[][2]={{0,1},{1,1}};
477 	CPPUNIT_ASSERT(IntervalVector(2,_x1).volume()==0);
478 }
479 void TestIntervalVector::volume03() {
480 	double _x1[][2]={{0,2},{2,5},{4,8}};
481 	CPPUNIT_ASSERT_DOUBLES_EQUAL(24.0,IntervalVector(3,_x1).volume(),ERROR);
482 <a name="8"></a>}
483 void TestIntervalVector::minus01() {
484 <font color="#c58917"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>	double _x1[][2]={{0,3},{0,2},{0,1}};
485 	double _x2[][2]={{-3,0},{-2,0},{-1,0}};</b></font>
486 	CPPUNIT_ASSERT((-IntervalVector(3,_x1))==IntervalVector(3,_x2));
487 }
488 void TestIntervalVector::minus02() {
489 	double _x1[][2]={{0,1},{0,POS_INFINITY}};
490 	double _x2[][2]={{-1,0},{NEG_INFINITY,0}};
491 	check(-IntervalVector(2,_x1),IntervalVector(2,_x2));
492 }
493 void TestIntervalVector::minus03() {
494 	check(-IntervalVector::empty(2),IntervalVector::empty(2));
495 <a name="11"></a>}
496 void TestIntervalVector::add01() {
497 <font color="#b041ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>	double _x1[][2]={{0,3},{0,2},{0,1}};
498 	double _x2[][2]={{0,1},{0,1},{0,1}};</b></font>
499 	double _x3[][2]={{0,4},{0,3},{0,2}};
500 	IntervalVector x1(3,_x1);
501 	IntervalVector x2(3,_x2);
502 	IntervalVector x3(3,_x3);
503 	IntervalVector e(IntervalVector::empty(3));
504 	check(x1+x2,x3);
505 	CPPUNIT_ASSERT((x1+e).is_empty());
506 	CPPUNIT_ASSERT((IntervalVector(x1)+=e).is_empty());
507 <a name="5"></a>	//check(e+x1,e);
508 	CPPUNIT_ASSERT((e+x1).is_empty());
509 <font color="#151b8d"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>	CPPUNIT_ASSERT((e+=x1).is_empty());
510 	CPPUNIT_ASSERT((e+e).is_empty());
511 	CPPUNIT_ASSERT((e+=e).is_empty());
512 	check(IntervalVector(x1)+=x2,x3);
513 	CPPUNIT_ASSERT((IntervalVector(x1)+=e).is_empty());
514 	check(IntervalVector(x2)+=x1,x3);
515 }
516 void TestIntervalVector::sub01() {
517 	double _x1[][2]={{0,3},{0,2},{0,1}};</b></font>
518 	double _x2[][2]={{0,1},{0,1},{0,1}};
519 	double _x3[][2]={{-1,3},{-1,2},{-1,1}};
520 	IntervalVector x1(3,_x1);
521 	IntervalVector x2(3,_x2);
522 	IntervalVector x3(3,_x3);
523 	IntervalVector e(IntervalVector::empty(3));
524 	check(x1-x2,x3);
525 	check(x2-x1,-x3);
526 	CPPUNIT_ASSERT((x1-e).is_empty());
527 	CPPUNIT_ASSERT((IntervalVector(x1)-=e).is_empty());
528 	CPPUNIT_ASSERT((e-x1).is_empty());
529 	CPPUNIT_ASSERT((e-=x1).is_empty());
530 	CPPUNIT_ASSERT((e-e).is_empty());
531 	CPPUNIT_ASSERT((e-=e).is_empty());
532 	check(IntervalVector(x1)-=x2,x3);
533 	check(IntervalVector(x2)-=x1,-x3);
534 }
535 void TestIntervalVector::compl01() {
536 	double _b[][2]={{0,1},{0,1}};
537 	IntervalVector b(2,_b);
538 	IntervalVector* c;
539 	int n=b.complementary(c);
540 	CPPUNIT_ASSERT(n==4);
541 	CPPUNIT_ASSERT(c[0].size()==2);
542 	CPPUNIT_ASSERT(c[0][0]==Interval::neg_reals());
543 	CPPUNIT_ASSERT(c[0][1]==Interval::all_reals());
544 	CPPUNIT_ASSERT(c[1][0]==Interval(1,POS_INFINITY));
545 	CPPUNIT_ASSERT(c[1][1]==Interval::all_reals());
546 	CPPUNIT_ASSERT(c[2][0]==Interval(0,1));
547 	CPPUNIT_ASSERT(c[2][1]==Interval::neg_reals());
548 	CPPUNIT_ASSERT(c[3][0]==Interval(0,1));
549 	CPPUNIT_ASSERT(c[3][1]==Interval(1,POS_INFINITY));
550 	delete[] c;
551 }
552 void TestIntervalVector::compl02() {
553 	IntervalVector* c;
554 	int n=IntervalVector::empty(2).complementary(c);
555 	CPPUNIT_ASSERT(n==1);
556 	CPPUNIT_ASSERT(c[0].size()==2);
557 	CPPUNIT_ASSERT(c[0][0]==Interval::all_reals());
558 	CPPUNIT_ASSERT(c[0][1]==Interval::all_reals());
559 	delete[] c;
560 }
561 bool TestIntervalVector::test_diff(int n, double _x[][2], double _y[][2], int m, double _z[][2], bool compactness, bool debug) {
562 	IntervalVector x(n,_x);
563 	IntervalVector y(n,_y);
564 	IntervalMatrix mz(m,n,_z);
565 	IntervalVector* c;
566 	int nn=x.diff(y,c,compactness);
567 	if (debug) {
568 		cout &lt;&lt; x &lt;&lt; " diff " &lt;&lt; y &lt;&lt; " gives:" &lt;&lt; endl;
569 		for (int i=0; i&lt;nn; i++) {
570 			cout &lt;&lt; c[i] &lt;&lt; endl;
571 		}
572 		cout &lt;&lt; "==================================\n";
573 	}
574 	if (nn!=m) return false;
575 	for (int i=0; i&lt;nn; i++) {
576 		if (c[i]!=mz[i]) {
577 			if (debug) cout &lt;&lt; "i=" &lt;&lt; i &lt;&lt; c[i] &lt;&lt; "!=" &lt;&lt; mz[i] &lt;&lt; endl;
578 			delete[] c;
579 			return false;
580 		}
581 	}
582 	delete[] c;
583 	return true;
584 }
585 void TestIntervalVector::diff01() {
586 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
587 	IntervalVector* c;
588 	IntervalVector _x(3,x);
589 	CPPUNIT_ASSERT(_x.diff(IntervalVector::empty(3),c)==1);
590 	CPPUNIT_ASSERT(c[0]==_x);
591 	delete[] c;
592 }
593 void TestIntervalVector::diff02() {
594 	double y[][2]= {{-2,2},{-2,2},{-2,2}};
595 	IntervalVector* c;
596 	CPPUNIT_ASSERT(IntervalVector::empty(3).diff(IntervalVector(3,y),c)==0);
597 	delete[] c;
598 }
599 void TestIntervalVector::diff03() {
600 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
601 	double y[][2]= {{-1,1},{3,4},{-1,1}};
602 	double z[][2]= {{-2,2},{-2,2},{-2,2}};
603 	CPPUNIT_ASSERT(test_diff(3,x,y,1,z));
604 }
605 void TestIntervalVector::diff04() {
606 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
607 	double y[][2]= {{-1,1},{-1,-1},{-1,1}};
608 	double z[][2]= {{-2,2},{-2,2},{-2,2}};
609 	CPPUNIT_ASSERT(test_diff(3,x,y,1,z));
610 }
611 void TestIntervalVector::diff05() {
612 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
613 	double y[][2]= {{-1,1},{-1,1},{-1,1}};
614 	double z[][2]= {{-2,-1},{-2,2},{-2,2},
615 			        {1,2},{-2,2},{-2,2},
616 					{-1,1},{-2,-1},{-2,2},
617 					{-1,1},{1,2},{-2,2},
618 					{-1,1},{-1,1},{-2,-1},
619 					{-1,1},{-1,1},{1,2}};
620 	CPPUNIT_ASSERT(test_diff(3,x,y,6,z));
621 }
622 void TestIntervalVector::diff06() {
623 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
624 	double y[][2]= {{-1,1},{-1,1},{-2,1}};
625 	double z[][2]= {{-2,-1},{-2,2},{-2,2},
626 			        {1,2},{-2,2},{-2,2},
627 					{-1,1},{-2,-1},{-2,2},
628 					{-1,1},{1,2},{-2,2},
629 					{-1,1},{-1,1},{1,2}};
630 	CPPUNIT_ASSERT(test_diff(3,x,y,5,z));
631 }
632 <a name="0"></a>void TestIntervalVector::diff07() {
633 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
634 	double y[][2]= {{-1,1},{-1,1},{-2,2}};
635 <font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>	double z[][2]= {{-2,-1},{-2,2},{-2,2},
636 			        {1,2},{-2,2},{-2,2},
637 					{-1,1},{-2,-1},{-2,2},
638 					{-1,1},{1,2},{-2,2}};</b></font>
639 	CPPUNIT_ASSERT(test_diff(3,x,y,4,z));
640 }
641 void TestIntervalVector::diff08() {
642 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
643 	double y[][2]= {{-1,1},{-2,1},{-1,1}};
644 	double z[][2]= {{-2,-1},{-2,2},{-2,2},
645 			        {1,2},{-2,2},{-2,2},
646 					{-1,1},{1,2},{-2,2},
647 					{-1,1},{-2,1},{-2,-1},
648 					{-1,1},{-2,1},{1,2}};
649 	CPPUNIT_ASSERT(test_diff(3,x,y,5,z));
650 }
651 void TestIntervalVector::diff09() {
652 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
653 	double y[][2]= {{-1,1},{-2,2},{-1,1}};
654 	double z[][2]= {{-2,-1},{-2,2},{-2,2},
655 			        {1,2},{-2,2},{-2,2},
656 					{-1,1},{-2,2},{-2,-1},
657 					{-1,1},{-2,2},{1,2}};
658 	CPPUNIT_ASSERT(test_diff(3,x,y,4,z));
659 }
660 void TestIntervalVector::diff10() {
661 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
662 	double y[][2]= {{-2,1},{-1,1},{-1,1}};
663 	double z[][2]= {{1,2},{-2,2},{-2,2},
664 					{-2,1},{-2,-1},{-2,2},
665 					{-2,1},{1,2},{-2,2},
666 					{-2,1},{-1,1},{-2,-1},
667 					{-2,1},{-1,1},{1,2}};
668 	CPPUNIT_ASSERT(test_diff(3,x,y,5,z));
669 }
670 void TestIntervalVector::diff11() {
671 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
672 	double y[][2]= {{-2,2},{-1,2},{-1,1}};
673 	double z[][2]= {{-2,2},{-2,-1},{-2,2},
674 					{-2,2},{-1,2},{-2,-1},
675 					{-2,2},{-1,2},{1,2}};
676 	CPPUNIT_ASSERT(test_diff(3,x,y,3,z));
677 }
678 void TestIntervalVector::diff12() {
679 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
680 	double y[][2]= {{-1,1},{-2,1},{-2,1}};
681 	double z[][2]= {{-2,-1},{-2,2},{-2,2},
682 			        {1,2},{-2,2},{-2,2},
683 					{-1,1},{1,2},{-2,2},
684 					{-1,1},{-2,1},{1,2}};
685 	CPPUNIT_ASSERT(test_diff(3,x,y,4,z));
686 }
687 void TestIntervalVector::diff13() {
688 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
689 	double y[][2]= {{-1,1},{-2,1},{-2,2}};
690 	double z[][2]= {{-2,-1},{-2,2},{-2,2},
691 			        {1,2},{-2,2},{-2,2},
692 					{-1,1},{1,2},{-2,2}};
693 	CPPUNIT_ASSERT(test_diff(3,x,y,3,z));
694 }
695 void TestIntervalVector::diff14() {
696 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
697 	double y[][2]= {{-2,1},{-1,1},{-2,1}};
698 	double z[][2]= {{1,2},{-2,2},{-2,2},
699 					{-2,1},{-2,-1},{-2,2},
700 					{-2,1},{1,2},{-2,2},
701 					{-2,1},{-1,1},{1,2}};
702 	CPPUNIT_ASSERT(test_diff(3,x,y,4,z));
703 }
704 void TestIntervalVector::diff15() {
705 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
706 	double y[][2]= {{-2,1},{-1,1},{-2,2}};
707 	double z[][2]= {{1,2},{-2,2},{-2,2},
708 					{-2,1},{-2,-1},{-2,2},
709 					{-2,1},{1,2},{-2,2}};
710 	CPPUNIT_ASSERT(test_diff(3,x,y,3,z));
711 }
712 void TestIntervalVector::diff16() {
713 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
714 	double y[][2]= {{-2,1},{-2,1},{-1,1}};
715 	double z[][2]= {{1,2},{-2,2},{-2,2},
716 					{-2,1},{1,2},{-2,2},
717 					{-2,1},{-2,1},{-2,-1},
718 					{-2,1},{-2,1},{1,2}};
719 	CPPUNIT_ASSERT(test_diff(3,x,y,4,z));
720 }
721 void TestIntervalVector::diff17() {
722 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
723 	double y[][2]= {{-2,1},{-2,2},{-1,1}};
724 	double z[][2]= {{1,2},{-2,2},{-2,2},
725 					{-2,1},{-2,2},{-2,-1},
726 					{-2,1},{-2,2},{1,2}};
727 	CPPUNIT_ASSERT(test_diff(3,x,y,3,z));
728 }
729 void TestIntervalVector::diff18() {
730 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
731 	double y[][2]= {{-2,1},{-2,1},{-2,1}};
732 	double z[][2]= {{1,2},{-2,2},{-2,2},
733 					{-2,1},{1,2},{-2,2},
734 					{-2,1},{-2,1},{1,2}};
735 	CPPUNIT_ASSERT(test_diff(3,x,y,3,z));
736 }
737 <a name="2"></a>
738 void TestIntervalVector::diff19() {
739 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
740 <font color="#980517"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>	double y[][2]= {{-2,1},{-2,1},{-2,2}};
741 	double z[][2]= {{1,2},{-2,2},{-2,2},
742 					{-2,1},{1,2},{-2,2}};</b></font>
743 	CPPUNIT_ASSERT(test_diff(3,x,y,2,z));
744 }
745 <a name="9"></a>void TestIntervalVector::diff20() {
746 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
747 	double y[][2]= {{-2,1},{-2,2},{-2,1}};
748 <font color="#83a33a"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>	double z[][2]= {{1,2},{-2,2},{-2,2},
749 					{-2,1},{-2,2},{1,2}};</b></font>
750 	CPPUNIT_ASSERT(test_diff(3,x,y,2,z));
751 }
752 void TestIntervalVector::diff21() {
753 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
754 	double y[][2]= {{-2,2},{-2,1},{-2,1}};
755 	double z[][2]= {{-2,2},{1,2},{-2,2},
756 					{-2,2},{-2,1},{1,2}};
757 	CPPUNIT_ASSERT(test_diff(3,x,y,2,z));
758 }
759 void TestIntervalVector::diff22() {
760 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
761 	double y[][2]= {{-2,1},{-2,2},{-2,2}};
762 	double z[][2]= {{1,2},{-2,2},{-2,2}};
763 	CPPUNIT_ASSERT(test_diff(3,x,y,1,z));
764 }
765 void TestIntervalVector::diff23() {
766 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
767 	double y[][2]= {{-2,2},{-2,2},{-2,1}};
768 	double z[][2]= {{-2,2},{-2,2},{1,2}};
769 	CPPUNIT_ASSERT(test_diff(3,x,y,1,z));
770 }
771 void TestIntervalVector::diff24() {
772 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
773 	double y[][2]= {{-2,2},{-2,1},{-2,2}};
774 	double z[][2]= {{-2,2},{1,2},{-2,2}};
775 	CPPUNIT_ASSERT(test_diff(3,x,y,1,z));
776 }
777 void TestIntervalVector::diff25() {
778 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
779 	double y[][2]= {{-2,2},{-2,2},{-2,2}};
780 <a name="4"></a>	IntervalVector* c;
781 	CPPUNIT_ASSERT(IntervalVector(3,x).diff(IntervalVector(3,y),c)==0);
782 	delete[] c;
783 <font color="#6cc417"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>}
784 void TestIntervalVector::diff26() {
785 }
786 void TestIntervalVector::diff27() {
787 }
788 void TestIntervalVector::diff28() {
789 }
790 void TestIntervalVector::diff29() {
791 }
792 void TestIntervalVector::diff30() {</b></font>
793 	double x[][2]= {{0,0},{-2,2},{-2,2}};
794 	double y[][2]= {{0,0},{-1,1},{-1,1}};
795 	double z[][2]= {{0,0},{-2,-1},{-2,2},
796 			        {0,0},{1,2},{-2,2},
797 					{0,0},{-1,1},{-2,-1},
798 					{0,0},{-1,1},{1,2}};
799 	CPPUNIT_ASSERT(test_diff(3,x,y,4,z));
800 }
801 void TestIntervalVector::diff31() {
802 	double x[][2]= {{0,0},{0,0},{-2,2}};
803 	double y[][2]= {{0,0},{0,0},{-1,1}};
804 	double z[][2]= {{0,0},{0,0},{-2,-1},
805 			        {0,0},{0,0},{1,2}};
806 	CPPUNIT_ASSERT(test_diff(3,x,y,2,z));
807 }
808 void TestIntervalVector::diff32() {
809 	double x[][2]= {{0,0},{-2,2},{0,0}};
810 	double y[][2]= {{0,0},{-1,1},{0,0}};
811 	double z[][2]= {{0,0},{-2,-1},{0,0},
812 			        {0,0},{1,2},{0,0}};
813 	CPPUNIT_ASSERT(test_diff(3,x,y,2,z));
814 }
815 void TestIntervalVector::diff33() {
816 	double x[][2]= {{-2,2},{0,0},{0,0}};
817 	double y[][2]= {{-1,1},{0,0},{0,0}};
818 	double z[][2]= {{-2,-1},{0,0},{0,0},
819 			        {1,2},{0,0},{0,0}};
820 	CPPUNIT_ASSERT(test_diff(3,x,y,2,z));
821 }
822 void TestIntervalVector::diff34() {
823 	double x[][2]= {{0,0},{-2,2},{-2,2}};
824 	double y[][2]= {{-1,1},{-1,1},{-1,1}};
825 	double z[][2]= {{0,0},{-2,-1},{-2,2},
826 			        {0,0},{1,2},{-2,2},
827 					{0,0},{-1,1},{-2,-1},
828 					{0,0},{-1,1},{1,2}};
829 	CPPUNIT_ASSERT(test_diff(3,x,y,4,z));
830 }
831 void TestIntervalVector::diff35() {
832 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
833 	double y[][2]= {{2,4},{-2,2},{-2,2}};
834 	double z[][2]= {{-2,2},{-2,2},{-2,2}};
835 	CPPUNIT_ASSERT(test_diff(3,x,y,1,z));
836 }
837 void TestIntervalVector::diff36() {
838 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
839 	double y[][2]= {{2,4},{-1,1},{-1,1}};
840 	double z[][2]= {{-2,2},{-2,2},{-2,2}};
841 	CPPUNIT_ASSERT(test_diff(3,x,y,1,z));
842 }
843 void TestIntervalVector::diff37() {
844 	double x[][2]= {{-2,2},{-2,2}};
845 	double y[][2]= {{-2,2},{1,1}};
846 	double z[][2]= {{-2,2},{-2,1},
847 									{-2,2},{1,2}};
848 	CPPUNIT_ASSERT(test_diff(2,x,y,2,z,false));
849 }
850 void TestIntervalVector::diff38() {
851 	double x[][2]= {{-2,2},{1,1}};
852 	double y[][2]= {{0,2},{-2,2}};
853 	double z[][2]= {{-2,0},{1,1}};
854 	CPPUNIT_ASSERT(test_diff(2,x,y,1,z,false));
855 }
856 void TestIntervalVector::issue228() {
857 	double x[][2]= {{-1,-1},{-1,1},{-1,1}};
858 	double y[][2]= {{0,2},{0,2},{0,2}};
859 	double z[][2]= {{-1,-1},{-1,1},{-1,1}};
860 	CPPUNIT_ASSERT(test_diff(3,x,y,1,z));
861 }
862 void TestIntervalVector::random01() {
863 	double _b[][2]={{0,1},{0,1}};
864 	IntervalVector b(2,_b);
865 	IntervalVector r=b.random();
866 	CPPUNIT_ASSERT(r.size()==2);
867 	CPPUNIT_ASSERT(r.max_diam()==0);
868 	CPPUNIT_ASSERT(b.is_superset(r));
869 }
870 void TestIntervalVector::random02() {
871 	double _b[][2]={{1,1},{2,2}};
872 	IntervalVector b(2,_b);
873 	IntervalVector r=b.random();
874 	CPPUNIT_ASSERT(b==r);
875 }
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
