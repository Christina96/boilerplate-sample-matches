
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Tokens: 28, <button onclick='openModal()' class='match'>CODE CLONE</button></h2>
        <div class="column">
            <h3>abseil-cpp-MDEwOlJlcG9zaXRvcnkxMDQyMzE1NDE=-flat-str_replace_test.cc</h3>
            <pre><code>1  #include &quot;absl/strings/str_replace.h&quot;
2  #include &lt;list&gt;
3  #include &lt;map&gt;
4  #include &lt;tuple&gt;
5  #include &quot;gtest/gtest.h&quot;
6  #include &quot;absl/strings/str_cat.h&quot;
7  #include &quot;absl/strings/str_split.h&quot;
8  TEST(StrReplaceAll, OneReplacement) {
9    std::string s;
10    s = absl::StrReplaceAll(s, {{&quot;&quot;, &quot;&quot;}});
11    EXPECT_EQ(s, &quot;&quot;);
12    s = absl::StrReplaceAll(s, {{&quot;x&quot;, &quot;&quot;}});
13    EXPECT_EQ(s, &quot;&quot;);
14    s = absl::StrReplaceAll(s, {{&quot;&quot;, &quot;y&quot;}});
15    EXPECT_EQ(s, &quot;&quot;);
16    s = absl::StrReplaceAll(s, {{&quot;x&quot;, &quot;y&quot;}});
17    EXPECT_EQ(s, &quot;&quot;);
18    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;&quot;, &quot;&quot;}});
19    EXPECT_EQ(s, &quot;abc&quot;);
20    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;&quot;, &quot;y&quot;}});
21    EXPECT_EQ(s, &quot;abc&quot;);
22    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;x&quot;, &quot;&quot;}});
23    EXPECT_EQ(s, &quot;abc&quot;);
24    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;xyz&quot;, &quot;123&quot;}});
25    EXPECT_EQ(s, &quot;abc&quot;);
26    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;abc&quot;, &quot;xyz&quot;}});
27    EXPECT_EQ(s, &quot;xyz&quot;);
28    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;a&quot;, &quot;x&quot;}});
29    EXPECT_EQ(s, &quot;xbc&quot;);
30    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;b&quot;, &quot;x&quot;}});
31    EXPECT_EQ(s, &quot;axc&quot;);
32    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;c&quot;, &quot;x&quot;}});
33    EXPECT_EQ(s, &quot;abx&quot;);
34    s = absl::StrReplaceAll(&quot;ababa&quot;, {{&quot;a&quot;, &quot;xxx&quot;}});
35    EXPECT_EQ(s, &quot;xxxbxxxbxxx&quot;);
36    s = absl::StrReplaceAll(&quot;ababa&quot;, {{&quot;b&quot;, &quot;xxx&quot;}});
37    EXPECT_EQ(s, &quot;axxxaxxxa&quot;);
38    s = absl::StrReplaceAll(&quot;aaabaaabaaa&quot;, {{&quot;aaa&quot;, &quot;x&quot;}});
39    EXPECT_EQ(s, &quot;xbxbx&quot;);
40    s = absl::StrReplaceAll(&quot;abbbabbba&quot;, {{&quot;bbb&quot;, &quot;x&quot;}});
41    EXPECT_EQ(s, &quot;axaxa&quot;);
42    s = absl::StrReplaceAll(&quot;aaa&quot;, {{&quot;aa&quot;, &quot;x&quot;}});
43    EXPECT_EQ(s, &quot;xa&quot;);
44    s = absl::StrReplaceAll(&quot;aaa&quot;, {{&quot;aa&quot;, &quot;a&quot;}});
45    EXPECT_EQ(s, &quot;aa&quot;);
46  }
47  TEST(StrReplaceAll, ManyReplacements) {
48    std::string s;
49    s = absl::StrReplaceAll(&quot;&quot;, {{&quot;&quot;, &quot;&quot;}, {&quot;x&quot;, &quot;&quot;}, {&quot;&quot;, &quot;y&quot;}, {&quot;x&quot;, &quot;y&quot;}});
50    EXPECT_EQ(s, &quot;&quot;);
51    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;&quot;, &quot;&quot;}, {&quot;&quot;, &quot;y&quot;}, {&quot;x&quot;, &quot;&quot;}});
52    EXPECT_EQ(s, &quot;abc&quot;);
53    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;a&quot;, &quot;x&quot;}, {&quot;b&quot;, &quot;y&quot;}, {&quot;c&quot;, &quot;z&quot;}});
54    EXPECT_EQ(s, &quot;xyz&quot;);
55    s = absl::StrReplaceAll(&quot;zxy&quot;, {{&quot;z&quot;, &quot;x&quot;}, {&quot;x&quot;, &quot;y&quot;}, {&quot;y&quot;, &quot;z&quot;}});
56    EXPECT_EQ(s, &quot;xyz&quot;);
57    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;a&quot;, &quot;x&quot;}, {&quot;ab&quot;, &quot;xy&quot;}, {&quot;abc&quot;, &quot;xyz&quot;}});
58    EXPECT_EQ(s, &quot;xyz&quot;);
59    s = absl::StrReplaceAll(
60        &quot;Abc!&quot;, {{&quot;a&quot;, &quot;x&quot;}, {&quot;ab&quot;, &quot;xy&quot;}, {&quot;b&quot;, &quot;y&quot;}, {&quot;bc&quot;, &quot;yz&quot;}, {&quot;c&quot;, &quot;z&quot;}});
61    EXPECT_EQ(s, &quot;Ayz!&quot;);
62    s = absl::StrReplaceAll(
63        &quot;Abc!&quot;,
64        {{&quot;a&quot;, &quot;x&quot;}, {&quot;ab&quot;, &quot;xy&quot;}, {&quot;b&quot;, &quot;y&quot;}, {&quot;bc!&quot;, &quot;yz?&quot;}, {&quot;c!&quot;, &quot;z;&quot;}});
65    EXPECT_EQ(s, &quot;Ayz?&quot;);
66    s = absl::StrReplaceAll(&quot;ababa&quot;, {{&quot;a&quot;, &quot;xxx&quot;}, {&quot;b&quot;, &quot;XXXX&quot;}});
67    EXPECT_EQ(s, &quot;xxxXXXXxxxXXXXxxx&quot;);
68    s = absl::StrReplaceAll(&quot;aaa&quot;, {{&quot;aa&quot;, &quot;x&quot;}, {&quot;a&quot;, &quot;X&quot;}});
69    EXPECT_EQ(s, &quot;xX&quot;);
70    s = absl::StrReplaceAll(&quot;aaa&quot;, {{&quot;a&quot;, &quot;X&quot;}, {&quot;aa&quot;, &quot;x&quot;}});
71    EXPECT_EQ(s, &quot;xX&quot;);
72    s = absl::StrReplaceAll(&quot;the quick brown fox jumped over the lazy dogs&quot;,
73                            {
74                                {&quot;brown&quot;, &quot;box&quot;},
75                                {&quot;dogs&quot;, &quot;jugs&quot;},
76                                {&quot;fox&quot;, &quot;with&quot;},
77                                {&quot;jumped&quot;, &quot;five&quot;},
78                                {&quot;over&quot;, &quot;dozen&quot;},
79                                {&quot;quick&quot;, &quot;my&quot;},
80                                {&quot;the&quot;, &quot;pack&quot;},
81                                {&quot;the lazy&quot;, &quot;liquor&quot;},
82                            });
83    EXPECT_EQ(s, &quot;pack my box with five dozen liquor jugs&quot;);
84  }
85  TEST(StrReplaceAll, ManyReplacementsInMap) {
<span onclick='openModal()' class='match'>86    std::map&lt;const char *, const char *&gt; replacements;
87    replacements[&quot;$who&quot;] = &quot;Bob&quot;;
88    replacements[&quot;$count&quot;] = &quot;5&quot;;
89    replacements[&quot;#Noun&quot;] = &quot;Apples&quot;;
</span>90    std::string s = absl::StrReplaceAll(&quot;$who bought $count #Noun. Thanks $who!&quot;,
91                                        replacements);
92    EXPECT_EQ(&quot;Bob bought 5 Apples. Thanks Bob!&quot;, s);
93  }
94  TEST(StrReplaceAll, ReplacementsInPlace) {
95    std::string s = std::string(&quot;$who bought $count #Noun. Thanks $who!&quot;);
96    int count;
97    count = absl::StrReplaceAll({{&quot;$count&quot;, absl::StrCat(5)},
98                                {&quot;$who&quot;, &quot;Bob&quot;},
99                                {&quot;#Noun&quot;, &quot;Apples&quot;}}, &amp;s);
100    EXPECT_EQ(count, 4);
101    EXPECT_EQ(&quot;Bob bought 5 Apples. Thanks Bob!&quot;, s);
102  }
103  TEST(StrReplaceAll, ReplacementsInPlaceInMap) {
104    std::string s = std::string(&quot;$who bought $count #Noun. Thanks $who!&quot;);
105    std::map&lt;absl::string_view, absl::string_view&gt; replacements;
106    replacements[&quot;$who&quot;] = &quot;Bob&quot;;
107    replacements[&quot;$count&quot;] = &quot;5&quot;;
108    replacements[&quot;#Noun&quot;] = &quot;Apples&quot;;
109    int count;
110    count = absl::StrReplaceAll(replacements, &amp;s);
111    EXPECT_EQ(count, 4);
112    EXPECT_EQ(&quot;Bob bought 5 Apples. Thanks Bob!&quot;, s);
113  }
114  struct Cont {
115    Cont() {}
116    explicit Cont(absl::string_view src) : data(src) {}
117    absl::string_view data;
118  };
119  template &lt;int index&gt;
120  absl::string_view get(const Cont&amp; c) {
121    auto splitter = absl::StrSplit(c.data, &#x27;:&#x27;);
122    auto it = splitter.begin();
123    for (int i = 0; i &lt; index; ++i) ++it;
124    return *it;
125  }
126  TEST(StrReplaceAll, VariableNumber) {
127    std::string s;
128    {
129      std::vector&lt;std::pair&lt;std::string, std::string&gt;&gt; replacements;
130      s = &quot;abc&quot;;
131      EXPECT_EQ(0, absl::StrReplaceAll(replacements, &amp;s));
132      EXPECT_EQ(&quot;abc&quot;, s);
133      s = &quot;abc&quot;;
134      replacements.push_back({&quot;a&quot;, &quot;A&quot;});
135      EXPECT_EQ(1, absl::StrReplaceAll(replacements, &amp;s));
136      EXPECT_EQ(&quot;Abc&quot;, s);
137      s = &quot;abc&quot;;
138      replacements.push_back({&quot;b&quot;, &quot;B&quot;});
139      EXPECT_EQ(2, absl::StrReplaceAll(replacements, &amp;s));
140      EXPECT_EQ(&quot;ABc&quot;, s);
141      s = &quot;abc&quot;;
142      replacements.push_back({&quot;d&quot;, &quot;D&quot;});
143      EXPECT_EQ(2, absl::StrReplaceAll(replacements, &amp;s));
144      EXPECT_EQ(&quot;ABc&quot;, s);
145      EXPECT_EQ(&quot;ABcABc&quot;, absl::StrReplaceAll(&quot;abcabc&quot;, replacements));
146    }
147    {
148      std::map&lt;const char*, const char*&gt; replacements;
149      replacements[&quot;aa&quot;] = &quot;x&quot;;
150      replacements[&quot;a&quot;] = &quot;X&quot;;
151      s = &quot;aaa&quot;;
152      EXPECT_EQ(2, absl::StrReplaceAll(replacements, &amp;s));
153      EXPECT_EQ(&quot;xX&quot;, s);
154      EXPECT_EQ(&quot;xxX&quot;, absl::StrReplaceAll(&quot;aaaaa&quot;, replacements));
155    }
156    {
157      std::list&lt;std::pair&lt;absl::string_view, absl::string_view&gt;&gt; replacements = {
158          {&quot;a&quot;, &quot;x&quot;}, {&quot;b&quot;, &quot;y&quot;}, {&quot;c&quot;, &quot;z&quot;}};
159      std::string s = absl::StrReplaceAll(&quot;abc&quot;, replacements);
160      EXPECT_EQ(s, &quot;xyz&quot;);
161    }
162    {
163      using X = std::tuple&lt;absl::string_view, std::string, int&gt;;
164      std::vector&lt;X&gt; replacements(3);
165      replacements[0] = X{&quot;a&quot;, &quot;x&quot;, 1};
166      replacements[1] = X{&quot;b&quot;, &quot;y&quot;, 0};
167      replacements[2] = X{&quot;c&quot;, &quot;z&quot;, -1};
168      std::string s = absl::StrReplaceAll(&quot;abc&quot;, replacements);
169      EXPECT_EQ(s, &quot;xyz&quot;);
170    }
171    {
172      std::vector&lt;Cont&gt; replacements(3);
173      replacements[0] = Cont{&quot;a:x&quot;};
174      replacements[1] = Cont{&quot;b:y&quot;};
175      replacements[2] = Cont{&quot;c:z&quot;};
176      std::string s = absl::StrReplaceAll(&quot;abc&quot;, replacements);
177      EXPECT_EQ(s, &quot;xyz&quot;);
178    }
179  }
180  TEST(StrReplaceAll, Inplace) {
181    std::string s;
182    int reps;
183    s = &quot;&quot;;
184    reps = absl::StrReplaceAll({{&quot;&quot;, &quot;&quot;}, {&quot;x&quot;, &quot;&quot;}, {&quot;&quot;, &quot;y&quot;}, {&quot;x&quot;, &quot;y&quot;}}, &amp;s);
185    EXPECT_EQ(reps, 0);
186    EXPECT_EQ(s, &quot;&quot;);
187    s = &quot;abc&quot;;
188    reps = absl::StrReplaceAll({{&quot;&quot;, &quot;&quot;}, {&quot;&quot;, &quot;y&quot;}, {&quot;x&quot;, &quot;&quot;}}, &amp;s);
189    EXPECT_EQ(reps, 0);
190    EXPECT_EQ(s, &quot;abc&quot;);
191    s = &quot;abc&quot;;
192    reps = absl::StrReplaceAll({{&quot;a&quot;, &quot;x&quot;}, {&quot;b&quot;, &quot;y&quot;}, {&quot;c&quot;, &quot;z&quot;}}, &amp;s);
193    EXPECT_EQ(reps, 3);
194    EXPECT_EQ(s, &quot;xyz&quot;);
195    s = &quot;zxy&quot;;
196    reps = absl::StrReplaceAll({{&quot;z&quot;, &quot;x&quot;}, {&quot;x&quot;, &quot;y&quot;}, {&quot;y&quot;, &quot;z&quot;}}, &amp;s);
197    EXPECT_EQ(reps, 3);
198    EXPECT_EQ(s, &quot;xyz&quot;);
199    s = &quot;abc&quot;;
200    reps = absl::StrReplaceAll({{&quot;a&quot;, &quot;x&quot;}, {&quot;ab&quot;, &quot;xy&quot;}, {&quot;abc&quot;, &quot;xyz&quot;}}, &amp;s);
201    EXPECT_EQ(reps, 1);
202    EXPECT_EQ(s, &quot;xyz&quot;);
203    s = &quot;Abc!&quot;;
204    reps = absl::StrReplaceAll(
205        {{&quot;a&quot;, &quot;x&quot;}, {&quot;ab&quot;, &quot;xy&quot;}, {&quot;b&quot;, &quot;y&quot;}, {&quot;bc&quot;, &quot;yz&quot;}, {&quot;c&quot;, &quot;z&quot;}}, &amp;s);
206    EXPECT_EQ(reps, 1);
207    EXPECT_EQ(s, &quot;Ayz!&quot;);
208    s = &quot;Abc!&quot;;
209    reps = absl::StrReplaceAll(
210        {{&quot;a&quot;, &quot;x&quot;}, {&quot;ab&quot;, &quot;xy&quot;}, {&quot;b&quot;, &quot;y&quot;}, {&quot;bc!&quot;, &quot;yz?&quot;}, {&quot;c!&quot;, &quot;z;&quot;}}, &amp;s);
211    EXPECT_EQ(reps, 1);
212    EXPECT_EQ(s, &quot;Ayz?&quot;);
213    s = &quot;ababa&quot;;
214    reps = absl::StrReplaceAll({{&quot;a&quot;, &quot;xxx&quot;}, {&quot;b&quot;, &quot;XXXX&quot;}}, &amp;s);
215    EXPECT_EQ(reps, 5);
216    EXPECT_EQ(s, &quot;xxxXXXXxxxXXXXxxx&quot;);
217    s = &quot;aaa&quot;;
218    reps = absl::StrReplaceAll({{&quot;aa&quot;, &quot;x&quot;}, {&quot;a&quot;, &quot;X&quot;}}, &amp;s);
219    EXPECT_EQ(reps, 2);
220    EXPECT_EQ(s, &quot;xX&quot;);
221    s = &quot;aaa&quot;;
222    reps = absl::StrReplaceAll({{&quot;a&quot;, &quot;X&quot;}, {&quot;aa&quot;, &quot;x&quot;}}, &amp;s);
223    EXPECT_EQ(reps, 2);
224    EXPECT_EQ(s, &quot;xX&quot;);
225    s = &quot;the quick brown fox jumped over the lazy dogs&quot;;
226    reps = absl::StrReplaceAll(
227        {
228            {&quot;brown&quot;, &quot;box&quot;},
229            {&quot;dogs&quot;, &quot;jugs&quot;},
230            {&quot;fox&quot;, &quot;with&quot;},
231            {&quot;jumped&quot;, &quot;five&quot;},
232            {&quot;over&quot;, &quot;dozen&quot;},
233            {&quot;quick&quot;, &quot;my&quot;},
234            {&quot;the&quot;, &quot;pack&quot;},
235            {&quot;the lazy&quot;, &quot;liquor&quot;},
236        },
237        &amp;s);
238    EXPECT_EQ(reps, 8);
239    EXPECT_EQ(s, &quot;pack my box with five dozen liquor jugs&quot;);
240  }
</code></pre>
        </div>
        <div class="column">
            <h3>abseil-cpp-MDEwOlJlcG9zaXRvcnkxMDQyMzE1NDE=-flat-str_replace_test.cc</h3>
            <pre><code>1  #include &quot;absl/strings/str_replace.h&quot;
2  #include &lt;list&gt;
3  #include &lt;map&gt;
4  #include &lt;tuple&gt;
5  #include &quot;gtest/gtest.h&quot;
6  #include &quot;absl/strings/str_cat.h&quot;
7  #include &quot;absl/strings/str_split.h&quot;
8  TEST(StrReplaceAll, OneReplacement) {
9    std::string s;
10    s = absl::StrReplaceAll(s, {{&quot;&quot;, &quot;&quot;}});
11    EXPECT_EQ(s, &quot;&quot;);
12    s = absl::StrReplaceAll(s, {{&quot;x&quot;, &quot;&quot;}});
13    EXPECT_EQ(s, &quot;&quot;);
14    s = absl::StrReplaceAll(s, {{&quot;&quot;, &quot;y&quot;}});
15    EXPECT_EQ(s, &quot;&quot;);
16    s = absl::StrReplaceAll(s, {{&quot;x&quot;, &quot;y&quot;}});
17    EXPECT_EQ(s, &quot;&quot;);
18    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;&quot;, &quot;&quot;}});
19    EXPECT_EQ(s, &quot;abc&quot;);
20    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;&quot;, &quot;y&quot;}});
21    EXPECT_EQ(s, &quot;abc&quot;);
22    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;x&quot;, &quot;&quot;}});
23    EXPECT_EQ(s, &quot;abc&quot;);
24    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;xyz&quot;, &quot;123&quot;}});
25    EXPECT_EQ(s, &quot;abc&quot;);
26    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;abc&quot;, &quot;xyz&quot;}});
27    EXPECT_EQ(s, &quot;xyz&quot;);
28    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;a&quot;, &quot;x&quot;}});
29    EXPECT_EQ(s, &quot;xbc&quot;);
30    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;b&quot;, &quot;x&quot;}});
31    EXPECT_EQ(s, &quot;axc&quot;);
32    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;c&quot;, &quot;x&quot;}});
33    EXPECT_EQ(s, &quot;abx&quot;);
34    s = absl::StrReplaceAll(&quot;ababa&quot;, {{&quot;a&quot;, &quot;xxx&quot;}});
35    EXPECT_EQ(s, &quot;xxxbxxxbxxx&quot;);
36    s = absl::StrReplaceAll(&quot;ababa&quot;, {{&quot;b&quot;, &quot;xxx&quot;}});
37    EXPECT_EQ(s, &quot;axxxaxxxa&quot;);
38    s = absl::StrReplaceAll(&quot;aaabaaabaaa&quot;, {{&quot;aaa&quot;, &quot;x&quot;}});
39    EXPECT_EQ(s, &quot;xbxbx&quot;);
40    s = absl::StrReplaceAll(&quot;abbbabbba&quot;, {{&quot;bbb&quot;, &quot;x&quot;}});
41    EXPECT_EQ(s, &quot;axaxa&quot;);
42    s = absl::StrReplaceAll(&quot;aaa&quot;, {{&quot;aa&quot;, &quot;x&quot;}});
43    EXPECT_EQ(s, &quot;xa&quot;);
44    s = absl::StrReplaceAll(&quot;aaa&quot;, {{&quot;aa&quot;, &quot;a&quot;}});
45    EXPECT_EQ(s, &quot;aa&quot;);
46  }
47  TEST(StrReplaceAll, ManyReplacements) {
48    std::string s;
49    s = absl::StrReplaceAll(&quot;&quot;, {{&quot;&quot;, &quot;&quot;}, {&quot;x&quot;, &quot;&quot;}, {&quot;&quot;, &quot;y&quot;}, {&quot;x&quot;, &quot;y&quot;}});
50    EXPECT_EQ(s, &quot;&quot;);
51    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;&quot;, &quot;&quot;}, {&quot;&quot;, &quot;y&quot;}, {&quot;x&quot;, &quot;&quot;}});
52    EXPECT_EQ(s, &quot;abc&quot;);
53    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;a&quot;, &quot;x&quot;}, {&quot;b&quot;, &quot;y&quot;}, {&quot;c&quot;, &quot;z&quot;}});
54    EXPECT_EQ(s, &quot;xyz&quot;);
55    s = absl::StrReplaceAll(&quot;zxy&quot;, {{&quot;z&quot;, &quot;x&quot;}, {&quot;x&quot;, &quot;y&quot;}, {&quot;y&quot;, &quot;z&quot;}});
56    EXPECT_EQ(s, &quot;xyz&quot;);
57    s = absl::StrReplaceAll(&quot;abc&quot;, {{&quot;a&quot;, &quot;x&quot;}, {&quot;ab&quot;, &quot;xy&quot;}, {&quot;abc&quot;, &quot;xyz&quot;}});
58    EXPECT_EQ(s, &quot;xyz&quot;);
59    s = absl::StrReplaceAll(
60        &quot;Abc!&quot;, {{&quot;a&quot;, &quot;x&quot;}, {&quot;ab&quot;, &quot;xy&quot;}, {&quot;b&quot;, &quot;y&quot;}, {&quot;bc&quot;, &quot;yz&quot;}, {&quot;c&quot;, &quot;z&quot;}});
61    EXPECT_EQ(s, &quot;Ayz!&quot;);
62    s = absl::StrReplaceAll(
63        &quot;Abc!&quot;,
64        {{&quot;a&quot;, &quot;x&quot;}, {&quot;ab&quot;, &quot;xy&quot;}, {&quot;b&quot;, &quot;y&quot;}, {&quot;bc!&quot;, &quot;yz?&quot;}, {&quot;c!&quot;, &quot;z;&quot;}});
65    EXPECT_EQ(s, &quot;Ayz?&quot;);
66    s = absl::StrReplaceAll(&quot;ababa&quot;, {{&quot;a&quot;, &quot;xxx&quot;}, {&quot;b&quot;, &quot;XXXX&quot;}});
67    EXPECT_EQ(s, &quot;xxxXXXXxxxXXXXxxx&quot;);
68    s = absl::StrReplaceAll(&quot;aaa&quot;, {{&quot;aa&quot;, &quot;x&quot;}, {&quot;a&quot;, &quot;X&quot;}});
69    EXPECT_EQ(s, &quot;xX&quot;);
70    s = absl::StrReplaceAll(&quot;aaa&quot;, {{&quot;a&quot;, &quot;X&quot;}, {&quot;aa&quot;, &quot;x&quot;}});
71    EXPECT_EQ(s, &quot;xX&quot;);
72    s = absl::StrReplaceAll(&quot;the quick brown fox jumped over the lazy dogs&quot;,
73                            {
74                                {&quot;brown&quot;, &quot;box&quot;},
75                                {&quot;dogs&quot;, &quot;jugs&quot;},
76                                {&quot;fox&quot;, &quot;with&quot;},
77                                {&quot;jumped&quot;, &quot;five&quot;},
78                                {&quot;over&quot;, &quot;dozen&quot;},
79                                {&quot;quick&quot;, &quot;my&quot;},
80                                {&quot;the&quot;, &quot;pack&quot;},
81                                {&quot;the lazy&quot;, &quot;liquor&quot;},
82                            });
83    EXPECT_EQ(s, &quot;pack my box with five dozen liquor jugs&quot;);
84  }
85  TEST(StrReplaceAll, ManyReplacementsInMap) {
86    std::map&lt;const char *, const char *&gt; replacements;
87    replacements[&quot;$who&quot;] = &quot;Bob&quot;;
88    replacements[&quot;$count&quot;] = &quot;5&quot;;
89    replacements[&quot;#Noun&quot;] = &quot;Apples&quot;;
90    std::string s = absl::StrReplaceAll(&quot;$who bought $count #Noun. Thanks $who!&quot;,
91                                        replacements);
92    EXPECT_EQ(&quot;Bob bought 5 Apples. Thanks Bob!&quot;, s);
93  }
94  TEST(StrReplaceAll, ReplacementsInPlace) {
95    std::string s = std::string(&quot;$who bought $count #Noun. Thanks $who!&quot;);
96    int count;
97    count = absl::StrReplaceAll({{&quot;$count&quot;, absl::StrCat(5)},
98                                {&quot;$who&quot;, &quot;Bob&quot;},
99                                {&quot;#Noun&quot;, &quot;Apples&quot;}}, &amp;s);
100    EXPECT_EQ(count, 4);
101    EXPECT_EQ(&quot;Bob bought 5 Apples. Thanks Bob!&quot;, s);
102  }
103  TEST(StrReplaceAll, ReplacementsInPlaceInMap) {
104    std::string s = std::string(&quot;$who bought $count #Noun. Thanks $who!&quot;);
105    std::map&lt;absl::string_view, absl::string_view&gt; replacements;
106    replacements[&quot;$who&quot;] = &quot;Bob&quot;;
107    replacements[&quot;$count&quot;] = &quot;5&quot;;
108    replacements[&quot;#Noun&quot;] = &quot;Apples&quot;;
109    int count;
110    count = absl::StrReplaceAll(replacements, &amp;s);
111    EXPECT_EQ(count, 4);
112    EXPECT_EQ(&quot;Bob bought 5 Apples. Thanks Bob!&quot;, s);
113  }
114  struct Cont {
115    Cont() {}
116    explicit Cont(absl::string_view src) : data(src) {}
117    absl::string_view data;
118  };
119  template &lt;int index&gt;
120  absl::string_view get(const Cont&amp; c) {
121    auto splitter = absl::StrSplit(c.data, &#x27;:&#x27;);
122    auto it = splitter.begin();
123    for (int i = 0; i &lt; index; ++i) ++it;
124    return *it;
125  }
126  TEST(StrReplaceAll, VariableNumber) {
127    std::string s;
128    {
129      std::vector&lt;std::pair&lt;std::string, std::string&gt;&gt; replacements;
130      s = &quot;abc&quot;;
131      EXPECT_EQ(0, absl::StrReplaceAll(replacements, &amp;s));
132      EXPECT_EQ(&quot;abc&quot;, s);
133      s = &quot;abc&quot;;
134      replacements.push_back({&quot;a&quot;, &quot;A&quot;});
135      EXPECT_EQ(1, absl::StrReplaceAll(replacements, &amp;s));
136      EXPECT_EQ(&quot;Abc&quot;, s);
137      s = &quot;abc&quot;;
138      replacements.push_back({&quot;b&quot;, &quot;B&quot;});
139      EXPECT_EQ(2, absl::StrReplaceAll(replacements, &amp;s));
140      EXPECT_EQ(&quot;ABc&quot;, s);
141      s = &quot;abc&quot;;
142      replacements.push_back({&quot;d&quot;, &quot;D&quot;});
143      EXPECT_EQ(2, absl::StrReplaceAll(replacements, &amp;s));
144      EXPECT_EQ(&quot;ABc&quot;, s);
145      EXPECT_EQ(&quot;ABcABc&quot;, absl::StrReplaceAll(&quot;abcabc&quot;, replacements));
146    }
147    {
<span onclick='openModal()' class='match'>148      std::map&lt;const char*, const char*&gt; replacements;
149      replacements[&quot;aa&quot;] = &quot;x&quot;;
150      replacements[&quot;a&quot;] = &quot;X&quot;;
151      s = &quot;aaa&quot;;
</span>152      EXPECT_EQ(2, absl::StrReplaceAll(replacements, &amp;s));
153      EXPECT_EQ(&quot;xX&quot;, s);
154      EXPECT_EQ(&quot;xxX&quot;, absl::StrReplaceAll(&quot;aaaaa&quot;, replacements));
155    }
156    {
157      std::list&lt;std::pair&lt;absl::string_view, absl::string_view&gt;&gt; replacements = {
158          {&quot;a&quot;, &quot;x&quot;}, {&quot;b&quot;, &quot;y&quot;}, {&quot;c&quot;, &quot;z&quot;}};
159      std::string s = absl::StrReplaceAll(&quot;abc&quot;, replacements);
160      EXPECT_EQ(s, &quot;xyz&quot;);
161    }
162    {
163      using X = std::tuple&lt;absl::string_view, std::string, int&gt;;
164      std::vector&lt;X&gt; replacements(3);
165      replacements[0] = X{&quot;a&quot;, &quot;x&quot;, 1};
166      replacements[1] = X{&quot;b&quot;, &quot;y&quot;, 0};
167      replacements[2] = X{&quot;c&quot;, &quot;z&quot;, -1};
168      std::string s = absl::StrReplaceAll(&quot;abc&quot;, replacements);
169      EXPECT_EQ(s, &quot;xyz&quot;);
170    }
171    {
172      std::vector&lt;Cont&gt; replacements(3);
173      replacements[0] = Cont{&quot;a:x&quot;};
174      replacements[1] = Cont{&quot;b:y&quot;};
175      replacements[2] = Cont{&quot;c:z&quot;};
176      std::string s = absl::StrReplaceAll(&quot;abc&quot;, replacements);
177      EXPECT_EQ(s, &quot;xyz&quot;);
178    }
179  }
180  TEST(StrReplaceAll, Inplace) {
181    std::string s;
182    int reps;
183    s = &quot;&quot;;
184    reps = absl::StrReplaceAll({{&quot;&quot;, &quot;&quot;}, {&quot;x&quot;, &quot;&quot;}, {&quot;&quot;, &quot;y&quot;}, {&quot;x&quot;, &quot;y&quot;}}, &amp;s);
185    EXPECT_EQ(reps, 0);
186    EXPECT_EQ(s, &quot;&quot;);
187    s = &quot;abc&quot;;
188    reps = absl::StrReplaceAll({{&quot;&quot;, &quot;&quot;}, {&quot;&quot;, &quot;y&quot;}, {&quot;x&quot;, &quot;&quot;}}, &amp;s);
189    EXPECT_EQ(reps, 0);
190    EXPECT_EQ(s, &quot;abc&quot;);
191    s = &quot;abc&quot;;
192    reps = absl::StrReplaceAll({{&quot;a&quot;, &quot;x&quot;}, {&quot;b&quot;, &quot;y&quot;}, {&quot;c&quot;, &quot;z&quot;}}, &amp;s);
193    EXPECT_EQ(reps, 3);
194    EXPECT_EQ(s, &quot;xyz&quot;);
195    s = &quot;zxy&quot;;
196    reps = absl::StrReplaceAll({{&quot;z&quot;, &quot;x&quot;}, {&quot;x&quot;, &quot;y&quot;}, {&quot;y&quot;, &quot;z&quot;}}, &amp;s);
197    EXPECT_EQ(reps, 3);
198    EXPECT_EQ(s, &quot;xyz&quot;);
199    s = &quot;abc&quot;;
200    reps = absl::StrReplaceAll({{&quot;a&quot;, &quot;x&quot;}, {&quot;ab&quot;, &quot;xy&quot;}, {&quot;abc&quot;, &quot;xyz&quot;}}, &amp;s);
201    EXPECT_EQ(reps, 1);
202    EXPECT_EQ(s, &quot;xyz&quot;);
203    s = &quot;Abc!&quot;;
204    reps = absl::StrReplaceAll(
205        {{&quot;a&quot;, &quot;x&quot;}, {&quot;ab&quot;, &quot;xy&quot;}, {&quot;b&quot;, &quot;y&quot;}, {&quot;bc&quot;, &quot;yz&quot;}, {&quot;c&quot;, &quot;z&quot;}}, &amp;s);
206    EXPECT_EQ(reps, 1);
207    EXPECT_EQ(s, &quot;Ayz!&quot;);
208    s = &quot;Abc!&quot;;
209    reps = absl::StrReplaceAll(
210        {{&quot;a&quot;, &quot;x&quot;}, {&quot;ab&quot;, &quot;xy&quot;}, {&quot;b&quot;, &quot;y&quot;}, {&quot;bc!&quot;, &quot;yz?&quot;}, {&quot;c!&quot;, &quot;z;&quot;}}, &amp;s);
211    EXPECT_EQ(reps, 1);
212    EXPECT_EQ(s, &quot;Ayz?&quot;);
213    s = &quot;ababa&quot;;
214    reps = absl::StrReplaceAll({{&quot;a&quot;, &quot;xxx&quot;}, {&quot;b&quot;, &quot;XXXX&quot;}}, &amp;s);
215    EXPECT_EQ(reps, 5);
216    EXPECT_EQ(s, &quot;xxxXXXXxxxXXXXxxx&quot;);
217    s = &quot;aaa&quot;;
218    reps = absl::StrReplaceAll({{&quot;aa&quot;, &quot;x&quot;}, {&quot;a&quot;, &quot;X&quot;}}, &amp;s);
219    EXPECT_EQ(reps, 2);
220    EXPECT_EQ(s, &quot;xX&quot;);
221    s = &quot;aaa&quot;;
222    reps = absl::StrReplaceAll({{&quot;a&quot;, &quot;X&quot;}, {&quot;aa&quot;, &quot;x&quot;}}, &amp;s);
223    EXPECT_EQ(reps, 2);
224    EXPECT_EQ(s, &quot;xX&quot;);
225    s = &quot;the quick brown fox jumped over the lazy dogs&quot;;
226    reps = absl::StrReplaceAll(
227        {
228            {&quot;brown&quot;, &quot;box&quot;},
229            {&quot;dogs&quot;, &quot;jugs&quot;},
230            {&quot;fox&quot;, &quot;with&quot;},
231            {&quot;jumped&quot;, &quot;five&quot;},
232            {&quot;over&quot;, &quot;dozen&quot;},
233            {&quot;quick&quot;, &quot;my&quot;},
234            {&quot;the&quot;, &quot;pack&quot;},
235            {&quot;the lazy&quot;, &quot;liquor&quot;},
236        },
237        &amp;s);
238    EXPECT_EQ(reps, 8);
239    EXPECT_EQ(s, &quot;pack my box with five dozen liquor jugs&quot;);
240  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from abseil-cpp-MDEwOlJlcG9zaXRvcnkxMDQyMzE1NDE=-flat-str_replace_test.cc</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from abseil-cpp-MDEwOlJlcG9zaXRvcnkxMDQyMzE1NDE=-flat-str_replace_test.cc</div>
                </div>
                <div class="column column_space"><pre><code>86    std::map&lt;const char *, const char *&gt; replacements;
87    replacements[&quot;$who&quot;] = &quot;Bob&quot;;
88    replacements[&quot;$count&quot;] = &quot;5&quot;;
89    replacements[&quot;#Noun&quot;] = &quot;Apples&quot;;
</pre></code></div>
                <div class="column column_space"><pre><code>148      std::map&lt;const char*, const char*&gt; replacements;
149      replacements[&quot;aa&quot;] = &quot;x&quot;;
150      replacements[&quot;a&quot;] = &quot;X&quot;;
151      s = &quot;aaa&quot;;
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    