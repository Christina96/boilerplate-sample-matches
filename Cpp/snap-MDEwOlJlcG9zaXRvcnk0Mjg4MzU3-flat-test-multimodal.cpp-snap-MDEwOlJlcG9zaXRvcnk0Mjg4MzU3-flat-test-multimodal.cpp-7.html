
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Tokens: 25, <button onclick='openModal()' class='match'>CODE CLONE</button></h2>
        <div class="column">
            <h3>snap-MDEwOlJlcG9zaXRvcnk0Mjg4MzU3-flat-test-multimodal.cpp</h3>
            <pre><code>1  #include &lt;gtest/gtest.h&gt;
2  #include &quot;Snap.h&quot;
3  TEST(multimodal, AddNbrType) {
4    PMMNet Net;
5    Net = TMMNet::New();
6    TStr ModeName1(&quot;TestMode1&quot;);
7    TStr ModeName2(&quot;TestMode2&quot;);
8    Net-&gt;AddModeNet(ModeName1);
9    Net-&gt;AddModeNet(ModeName2);
10    TStr CrossName(&quot;TestCross&quot;);
11    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName);
12    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
13    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
14    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
15    TStrV M1Names;
16    TStrV M2Names;
17    M1.GetCrossNetNames(M1Names);
18    EXPECT_EQ(M1Names.Len(), 1);
19    EXPECT_EQ(M1Names[0], CrossName);
20    M2.GetCrossNetNames(M2Names);
21    EXPECT_EQ(M2Names.Len(), 1);
22    EXPECT_EQ(M2Names[0], CrossName);
23    EXPECT_EQ(Net-&gt;GetModeId(ModeName1), C1.GetMode1());
24    EXPECT_EQ(Net-&gt;GetModeId(ModeName2), C1.GetMode2());
25  }
26  TEST(multimodal, CheckNeighborsDirected) {
27    PMMNet Net;
28    Net = TMMNet::New();
29    TStr ModeName1(&quot;TestMode1&quot;);
30    TStr ModeName2(&quot;TestMode2&quot;);
31    Net-&gt;AddModeNet(ModeName1);
32    Net-&gt;AddModeNet(ModeName2);
33    TStr CrossName(&quot;TestCross&quot;);
34    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName);
35    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
36    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
37    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
38    M1.AddNode(0);
39    M2.AddNode(0);
40    int EId = C1.AddEdge(0, 0);
41    TIntV InNeighbors;
42    TIntV OutNeighbors;
43    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
44    EXPECT_EQ(1, InNeighbors.Len());
45    EXPECT_EQ(EId, InNeighbors[0]);
46    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
47    EXPECT_EQ(1, OutNeighbors.Len());
48    EXPECT_EQ(EId, OutNeighbors[0]);
49  }
50  TEST(multimodal, CheckNeighborsSameModeDirected) {
51    PMMNet Net;
52    Net = TMMNet::New();
53    TStr ModeName(&quot;TestMode&quot;);
54    Net-&gt;AddModeNet(ModeName);
55    TStr CrossName(&quot;TestCross&quot;);
56    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, true);
57    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
58    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
59    M1.AddNode(0);
60    M1.AddNode(1);
61    int EId = C1.AddEdge(0, 1);
62    TIntV InNeighbors;
63    TIntV OutNeighbors;
64    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
65    EXPECT_EQ(1, InNeighbors.Len());
66    EXPECT_EQ(EId, InNeighbors[0]);
67    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
68    EXPECT_EQ(0, OutNeighbors.Len());
69    InNeighbors.Clr();
70    OutNeighbors.Clr();
71    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
72    EXPECT_EQ(0, InNeighbors.Len());
73    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
74    EXPECT_EQ(1, OutNeighbors.Len());
75    EXPECT_EQ(EId, OutNeighbors[0]);
76  }
77  TEST(multimodal, CheckNeighborsSameModeUndirected) {
78    PMMNet Net;
79    Net = TMMNet::New();
80    TStr ModeName(&quot;TestMode&quot;);
81    Net-&gt;AddModeNet(ModeName);
82    TStr CrossName(&quot;TestCross&quot;);
83    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, false);
84    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
85    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
86    M1.AddNode(0);
87    M1.AddNode(1);
88    int EId = C1.AddEdge(0, 1);
89    TIntV InNeighbors;
90    TIntV OutNeighbors;
91    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
92    EXPECT_EQ(1, InNeighbors.Len());
93    EXPECT_EQ(EId, InNeighbors[0]);
94    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
95    EXPECT_EQ(1, OutNeighbors.Len());
96    EXPECT_EQ(EId, OutNeighbors[0]);
97    InNeighbors.Clr();
98    OutNeighbors.Clr();
99    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
100    EXPECT_EQ(1, InNeighbors.Len());
101    EXPECT_EQ(EId, InNeighbors[0]);
102    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
103    EXPECT_EQ(1, OutNeighbors.Len());
104    EXPECT_EQ(EId, OutNeighbors[0]);
105  }
106  TEST(multimodal, DelEdgeDirected) {
107    PMMNet Net;
108    Net = TMMNet::New();
109    TStr ModeName1(&quot;TestMode1&quot;);
110    TStr ModeName2(&quot;TestMode2&quot;);
111    Net-&gt;AddModeNet(ModeName1);
112    Net-&gt;AddModeNet(ModeName2);
113    TStr CrossName(&quot;TestCross&quot;);
114    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName);
115    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
116    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
117    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
118    M1.AddNode(0);
119    M2.AddNode(0);
120    int EId = C1.AddEdge(0, 0);
121    TIntV InNeighbors;
122    TIntV OutNeighbors;
123    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
124    EXPECT_EQ(1, InNeighbors.Len());
125    EXPECT_EQ(EId, InNeighbors[0]);
126    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
127    EXPECT_EQ(1, OutNeighbors.Len());
128    EXPECT_EQ(EId, OutNeighbors[0]);
129    C1.DelEdge(EId);
130    EXPECT_EQ(0, C1.GetEdges());
131    InNeighbors.Clr();
132    OutNeighbors.Clr();
133    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
134    EXPECT_EQ(0, InNeighbors.Len());
135    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
136    EXPECT_EQ(0, OutNeighbors.Len());
137  }
138  TEST(multimodal, DelEdgeSameModeDirected) {
139    PMMNet Net;
140    Net = TMMNet::New();
141    TStr ModeName(&quot;TestMode&quot;);
142    Net-&gt;AddModeNet(ModeName);
143    TStr CrossName(&quot;TestCross&quot;);
144    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, true);
145    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
146    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
147    M1.AddNode(0);
148    M1.AddNode(1);
149    int EId = C1.AddEdge(0, 1);
150    TIntV InNeighbors;
151    TIntV OutNeighbors;
152    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
153    EXPECT_EQ(1, InNeighbors.Len());
154    EXPECT_EQ(EId, InNeighbors[0]);
155    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
156    EXPECT_EQ(0, OutNeighbors.Len());
157    InNeighbors.Clr();
158    OutNeighbors.Clr();
159    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
160    EXPECT_EQ(0, InNeighbors.Len());
161    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
162    EXPECT_EQ(1, OutNeighbors.Len());
163    EXPECT_EQ(EId, OutNeighbors[0]);
164    C1.DelEdge(EId);
165    EXPECT_EQ(0, C1.GetEdges());
166    InNeighbors.Clr();
167    OutNeighbors.Clr();
168    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
169    EXPECT_EQ(0, InNeighbors.Len());\
170    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
171    EXPECT_EQ(0, OutNeighbors.Len());
172    InNeighbors.Clr();
173    OutNeighbors.Clr();
174    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
175    EXPECT_EQ(0, InNeighbors.Len());
176    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
177    EXPECT_EQ(0, OutNeighbors.Len());
178  }
179  TEST(multimodal, DelEdgeSameModeUndirected) {
180    PMMNet Net;
181    Net = TMMNet::New();
182    TStr ModeName(&quot;TestMode&quot;);
183    Net-&gt;AddModeNet(ModeName);
184    TStr CrossName(&quot;TestCross&quot;);
185    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, false);
186    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
187    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
188    M1.AddNode(0);
<span onclick='openModal()' class='match'>189    M1.AddNode(1);
190    int EId = C1.AddEdge(0, 1);
191    TIntV InNeighbors;
192    TIntV OutNeighbors;
193    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
</span>194    EXPECT_EQ(1, InNeighbors.Len());
195    EXPECT_EQ(EId, InNeighbors[0]);
196    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
197    EXPECT_EQ(1, OutNeighbors.Len());
198    EXPECT_EQ(EId, OutNeighbors[0]);
199    InNeighbors.Clr();
200    OutNeighbors.Clr();
201    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
202    EXPECT_EQ(1, InNeighbors.Len());
203    EXPECT_EQ(EId, InNeighbors[0]);
204    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
205    EXPECT_EQ(1, OutNeighbors.Len());
206    EXPECT_EQ(EId, OutNeighbors[0]);
207    C1.DelEdge(EId);
208    EXPECT_EQ(0, C1.GetEdges());
209    InNeighbors.Clr();
210    OutNeighbors.Clr();
211    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
212    EXPECT_EQ(0, InNeighbors.Len());\
213    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
214    EXPECT_EQ(0, OutNeighbors.Len());
215    InNeighbors.Clr();
216    OutNeighbors.Clr();
217    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
218    EXPECT_EQ(0, InNeighbors.Len());
219    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
220    EXPECT_EQ(0, OutNeighbors.Len());
221  }
222  TEST(multimodal, DelNode1Directed) {
223    PMMNet Net;
224    Net = TMMNet::New();
225    TStr ModeName1(&quot;TestMode1&quot;);
226    TStr ModeName2(&quot;TestMode2&quot;);
227    Net-&gt;AddModeNet(ModeName1);
228    Net-&gt;AddModeNet(ModeName2);
229    TStr CrossName(&quot;TestCross&quot;);
230    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName);
231    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
232    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
233    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
234    M1.AddNode(0);
235    M2.AddNode(0);
236    int EId = C1.AddEdge(0, 0);
237    TIntV InNeighbors;
238    TIntV OutNeighbors;
239    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
240    EXPECT_EQ(1, InNeighbors.Len());
241    EXPECT_EQ(EId, InNeighbors[0]);
242    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
243    EXPECT_EQ(1, OutNeighbors.Len());
244    EXPECT_EQ(EId, OutNeighbors[0]);
245    M1.DelNode(0);
246    OutNeighbors.Clr();
247    EXPECT_EQ(0, M1.GetNodes());
248    EXPECT_EQ(0, C1.GetEdges());
249    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
250    EXPECT_EQ(0, OutNeighbors.Len());
251  }
252  TEST(multimodal, DelNode1SameModeDirected) {
253    PMMNet Net;
254    Net = TMMNet::New();
255    TStr ModeName(&quot;TestMode&quot;);
256    Net-&gt;AddModeNet(ModeName);
257    TStr CrossName(&quot;TestCross&quot;);
258    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, true);
259    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
260    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
261    M1.AddNode(0);
262    M1.AddNode(1);
263    int EId = C1.AddEdge(0, 1);
264    TIntV InNeighbors;
265    TIntV OutNeighbors;
266    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
267    EXPECT_EQ(1, InNeighbors.Len());
268    EXPECT_EQ(EId, InNeighbors[0]);
269    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
270    EXPECT_EQ(0, OutNeighbors.Len());
271    InNeighbors.Clr();
272    OutNeighbors.Clr();
273    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
274    EXPECT_EQ(0, InNeighbors.Len());
275    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
276    EXPECT_EQ(1, OutNeighbors.Len());
277    EXPECT_EQ(EId, OutNeighbors[0]);
278    EXPECT_EQ(1, C1.GetEdges());
279    M1.DelNode(0);
280    EXPECT_EQ(1, M1.GetNodes());
281    EXPECT_EQ(0, C1.GetEdges());
282    InNeighbors.Clr();
283    OutNeighbors.Clr();
284    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
285    EXPECT_EQ(0, InNeighbors.Len());
286    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
287    EXPECT_EQ(0, OutNeighbors.Len());
288  }
289  TEST(multimodal, DelNode1SameModeUndirected) {
290    PMMNet Net;
291    Net = TMMNet::New();
292    TStr ModeName(&quot;TestMode&quot;);
293    Net-&gt;AddModeNet(ModeName);
294    TStr CrossName(&quot;TestCross&quot;);
295    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, false);
296    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
297    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
298    M1.AddNode(0);
299    M1.AddNode(1);
300    int EId = C1.AddEdge(0, 1);
301    TIntV InNeighbors;
302    TIntV OutNeighbors;
303    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
304    EXPECT_EQ(1, InNeighbors.Len());
305    EXPECT_EQ(EId, InNeighbors[0]);
306    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
307    EXPECT_EQ(1, OutNeighbors.Len());
308    EXPECT_EQ(EId, OutNeighbors[0]);
309    InNeighbors.Clr();
310    OutNeighbors.Clr();
311    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
312    EXPECT_EQ(1, InNeighbors.Len());
313    EXPECT_EQ(EId, InNeighbors[0]);
314    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
315    EXPECT_EQ(1, OutNeighbors.Len());
316    EXPECT_EQ(EId, OutNeighbors[0]);
317    M1.DelNode(0);
318    EXPECT_EQ(1, M1.GetNodes());
319    EXPECT_EQ(0, C1.GetEdges());
320    InNeighbors.Clr();
321    OutNeighbors.Clr();
322    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
323    EXPECT_EQ(0, InNeighbors.Len());
324    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
325    EXPECT_EQ(0, OutNeighbors.Len());
326  }
327  TEST(multimodal, DelNode2Directed) {
328    PMMNet Net;
329    Net = TMMNet::New();
330    TStr ModeName1(&quot;TestMode1&quot;);
331    TStr ModeName2(&quot;TestMode2&quot;);
332    Net-&gt;AddModeNet(ModeName1);
333    Net-&gt;AddModeNet(ModeName2);
334    TStr CrossName(&quot;TestCross&quot;);
335    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName);
336    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
337    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
338    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
339    M1.AddNode(0);
340    M2.AddNode(0);
341    int EId = C1.AddEdge(0, 0);
342    TIntV InNeighbors;
343    TIntV OutNeighbors;
344    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
345    EXPECT_EQ(1, InNeighbors.Len());
346    EXPECT_EQ(EId, InNeighbors[0]);
347    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
348    EXPECT_EQ(1, OutNeighbors.Len());
349    EXPECT_EQ(EId, OutNeighbors[0]);
350    M2.DelNode(0);
351    OutNeighbors.Clr();
352    EXPECT_EQ(0, M2.GetNodes());
353    EXPECT_EQ(0, C1.GetEdges());
354    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
355    EXPECT_EQ(0, OutNeighbors.Len());
356  }
357  TEST(multimodal, DelNode2SameModeDirected) {
358    PMMNet Net;
359    Net = TMMNet::New();
360    TStr ModeName(&quot;TestMode&quot;);
361    Net-&gt;AddModeNet(ModeName);
362    TStr CrossName(&quot;TestCross&quot;);
363    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, true);
364    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
365    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
366    M1.AddNode(0);
367    M1.AddNode(1);
368    int EId = C1.AddEdge(0, 1);
369    TIntV InNeighbors;
370    TIntV OutNeighbors;
371    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
372    EXPECT_EQ(1, InNeighbors.Len());
373    EXPECT_EQ(EId, InNeighbors[0]);
374    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
375    EXPECT_EQ(0, OutNeighbors.Len());
376    InNeighbors.Clr();
377    OutNeighbors.Clr();
378    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
379    EXPECT_EQ(0, InNeighbors.Len());
380    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
381    EXPECT_EQ(1, OutNeighbors.Len());
382    EXPECT_EQ(EId, OutNeighbors[0]);
383    EXPECT_EQ(1, C1.GetEdges());
384    M1.DelNode(1);
385    EXPECT_EQ(1, M1.GetNodes());
386    EXPECT_EQ(0, C1.GetEdges());
387    InNeighbors.Clr();
388    OutNeighbors.Clr();
389    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
390    EXPECT_EQ(0, InNeighbors.Len());
391    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
392    EXPECT_EQ(0, OutNeighbors.Len());
393  }
394  TEST(multimodal, DelNode2SameModeUndirected) {
395    PMMNet Net;
396    Net = TMMNet::New();
397    TStr ModeName(&quot;TestMode&quot;);
398    Net-&gt;AddModeNet(ModeName);
399    TStr CrossName(&quot;TestCross&quot;);
400    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, false);
401    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
402    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
403    M1.AddNode(0);
404    M1.AddNode(1);
405    int EId = C1.AddEdge(0, 1);
406    TIntV InNeighbors;
407    TIntV OutNeighbors;
408    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
409    EXPECT_EQ(1, InNeighbors.Len());
410    EXPECT_EQ(EId, InNeighbors[0]);
411    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
412    EXPECT_EQ(1, OutNeighbors.Len());
413    EXPECT_EQ(EId, OutNeighbors[0]);
414    InNeighbors.Clr();
415    OutNeighbors.Clr();
416    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
417    EXPECT_EQ(1, InNeighbors.Len());
418    EXPECT_EQ(EId, InNeighbors[0]);
419    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
420    EXPECT_EQ(1, OutNeighbors.Len());
421    EXPECT_EQ(EId, OutNeighbors[0]);
422    M1.DelNode(1);
423    EXPECT_EQ(1, M1.GetNodes());
424    EXPECT_EQ(0, C1.GetEdges());
425    InNeighbors.Clr();
426    OutNeighbors.Clr();
427    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
428    EXPECT_EQ(0, InNeighbors.Len());
429    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
430    EXPECT_EQ(0, OutNeighbors.Len());
431  }
432  TEST(multimodal, DelCrossNetSameModeUndirected) {
433    PMMNet Net;
434    Net = TMMNet::New();
435    TStr ModeName(&quot;TestMode&quot;);
436    Net-&gt;AddModeNet(ModeName);
437    TStr CrossName(&quot;TestCross&quot;);
438    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, false);
439    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
440    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
441    M1.AddNode(0);
442    M1.AddNode(1);
443    C1.AddEdge(0, 1);
444    TStrV InNeighbors;
445    TStrV OutNeighbors;
446    M1.IntVAttrNameNI(0, InNeighbors);
447    M1.IntVAttrNameNI(0, OutNeighbors);
448    EXPECT_EQ(1, InNeighbors.Len());
449    EXPECT_EQ(1, OutNeighbors.Len());
450    InNeighbors.Clr();
451    OutNeighbors.Clr();
452    M1.IntVAttrNameNI(1, InNeighbors);
453    M1.IntVAttrNameNI(1, OutNeighbors);
454    EXPECT_EQ(1, InNeighbors.Len());
455    EXPECT_EQ(1, OutNeighbors.Len());
456    Net-&gt;DelCrossNet(CrossName);
457    EXPECT_EQ(Net-&gt;BegCrossNetI(), Net-&gt;EndCrossNetI());
458    InNeighbors.Clr();
459    OutNeighbors.Clr();
460    M1.IntVAttrNameNI(0, InNeighbors);
461    M1.IntVAttrNameNI(0, OutNeighbors);
462    EXPECT_EQ(0, InNeighbors.Len());
463    EXPECT_EQ(0, OutNeighbors.Len());
464    InNeighbors.Clr();
465    OutNeighbors.Clr();
466    M1.IntVAttrNameNI(1, InNeighbors);
467    M1.IntVAttrNameNI(1, OutNeighbors);
468    EXPECT_EQ(0, InNeighbors.Len());
469    EXPECT_EQ(0, OutNeighbors.Len());
470  }
471  TEST(multimodal, DelCrossNetSameModeDirected) {
472    PMMNet Net;
473    Net = TMMNet::New();
474    TStr ModeName(&quot;TestMode&quot;);
475    Net-&gt;AddModeNet(ModeName);
476    TStr CrossName(&quot;TestCross&quot;);
477    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, true);
478    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
479    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
480    M1.AddNode(0);
481    M1.AddNode(1);
482    C1.AddEdge(0, 1);
483    TStrV InNeighbors;
484    TStrV OutNeighbors;
485    M1.IntVAttrNameNI(0, InNeighbors);
486    M1.IntVAttrNameNI(0, OutNeighbors);
487    EXPECT_EQ(2, InNeighbors.Len());
488    EXPECT_EQ(2, OutNeighbors.Len());
489    InNeighbors.Clr();
490    OutNeighbors.Clr();
491    M1.IntVAttrNameNI(1, InNeighbors);
492    M1.IntVAttrNameNI(1, OutNeighbors);
493    EXPECT_EQ(2, InNeighbors.Len());
494    EXPECT_EQ(2, OutNeighbors.Len());
495    Net-&gt;DelCrossNet(CrossName);
496    EXPECT_EQ(Net-&gt;BegCrossNetI(), Net-&gt;EndCrossNetI());
497    InNeighbors.Clr();
498    OutNeighbors.Clr();
499    M1.IntVAttrNameNI(0, InNeighbors);
500    M1.IntVAttrNameNI(0, OutNeighbors);
501    EXPECT_EQ(0, InNeighbors.Len());
502    EXPECT_EQ(0, OutNeighbors.Len());
503    InNeighbors.Clr();
504    OutNeighbors.Clr();
505    M1.IntVAttrNameNI(1, InNeighbors);
506    M1.IntVAttrNameNI(1, OutNeighbors);
507    EXPECT_EQ(0, InNeighbors.Len());
508    EXPECT_EQ(0, OutNeighbors.Len());
509  }
510  TEST(multimodal, DelCrossNetDifModeUndirected) {
511    PMMNet Net;
512    Net = TMMNet::New();
513    TStr ModeName1(&quot;TestMode1&quot;);
514    TStr ModeName2(&quot;TestMode2&quot;);
515    Net-&gt;AddModeNet(ModeName1);
516    Net-&gt;AddModeNet(ModeName2);
517    TStr CrossName(&quot;TestCross&quot;);
518    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName, false);
519    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
520    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
521    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
522    M1.AddNode(0);
523    M2.AddNode(0);
524    C1.AddEdge(0, 0);
525    TStrV InNeighbors;
526    TStrV OutNeighbors;
527    M1.IntVAttrNameNI(0, InNeighbors);
528    M2.IntVAttrNameNI(0, OutNeighbors);
529    EXPECT_EQ(1, InNeighbors.Len());
530    EXPECT_EQ(1, OutNeighbors.Len());
531    Net-&gt;DelCrossNet(CrossName);
532    EXPECT_EQ(Net-&gt;BegCrossNetI(), Net-&gt;EndCrossNetI());
533    InNeighbors.Clr();
534    OutNeighbors.Clr();
535    M1.IntVAttrNameNI(0, InNeighbors);
536    M2.IntVAttrNameNI(0, OutNeighbors);
537    EXPECT_EQ(0, InNeighbors.Len());
538    EXPECT_EQ(0, OutNeighbors.Len());
539  }
540  TEST(multimodal, DelCrossNetDifModeDirected) {
541    PMMNet Net;
542    Net = TMMNet::New();
543    TStr ModeName1(&quot;TestMode1&quot;);
544    TStr ModeName2(&quot;TestMode2&quot;);
545    Net-&gt;AddModeNet(ModeName1);
546    Net-&gt;AddModeNet(ModeName2);
547    TStr CrossName(&quot;TestCross&quot;);
548    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName, true);
549    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
550    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
551    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
552    M1.AddNode(0);
553    M2.AddNode(0);
554    C1.AddEdge(0, 0);
555    TStrV InNeighbors;
556    TStrV OutNeighbors;
557    M1.IntVAttrNameNI(0, InNeighbors);
558    M2.IntVAttrNameNI(0, OutNeighbors);
559    EXPECT_EQ(1, InNeighbors.Len());
560    EXPECT_EQ(1, OutNeighbors.Len());
561    Net-&gt;DelCrossNet(CrossName);
562    EXPECT_EQ(Net-&gt;BegCrossNetI(), Net-&gt;EndCrossNetI());
563    InNeighbors.Clr();
564    OutNeighbors.Clr();
565    M1.IntVAttrNameNI(0, InNeighbors);
566    M2.IntVAttrNameNI(0, OutNeighbors);
567    EXPECT_EQ(0, InNeighbors.Len());
568    EXPECT_EQ(0, OutNeighbors.Len());
569  }
570  TEST(multimodal, DelModeNet) {
571    PMMNet Net;
572    Net = TMMNet::New();
573    TStr ModeName1(&quot;TestMode1&quot;);
574    Net-&gt;AddModeNet(ModeName1);
575    EXPECT_NE(Net-&gt;BegModeNetI(), Net-&gt;EndModeNetI());
576    Net-&gt;DelModeNet(ModeName1);
577    EXPECT_EQ(Net-&gt;BegModeNetI(), Net-&gt;EndModeNetI());
578  }
579  TEST(multimodal, DelModeNetWithCrossNet) {
580    PMMNet Net;
581    Net = TMMNet::New();
582    TStr ModeName1(&quot;TestMode1&quot;);
583    TStr ModeName2(&quot;TestMode2&quot;);
584    Net-&gt;AddModeNet(ModeName1);
585    Net-&gt;AddModeNet(ModeName2);
586    TStr CrossName(&quot;TestCross&quot;);
587    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName, true);
588    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
589    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
590    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
591    M1.AddNode(0);
592    M2.AddNode(0);
593    C1.AddEdge(0, 0);
594    EXPECT_NE(Net-&gt;BegModeNetI(), Net-&gt;EndModeNetI());
595    EXPECT_NE(Net-&gt;BegCrossNetI(), Net-&gt;EndCrossNetI());
596    Net-&gt;DelModeNet(ModeName1);
597    TStrV OutNeighbors;
598    M2.IntVAttrNameNI(0, OutNeighbors);
599    EXPECT_EQ(0, OutNeighbors.Len());
600    TMMNet::TModeNetI it = Net-&gt;BegModeNetI();
601    it++;
602    EXPECT_NE(Net-&gt;BegModeNetI(), Net-&gt;EndModeNetI());
603    EXPECT_EQ(it, Net-&gt;EndModeNetI());
604    EXPECT_EQ(Net-&gt;BegCrossNetI(), Net-&gt;EndCrossNetI());
605  }
606  TEST(multimodal, DelModeNetWithSameModeCrossNet) {
607    PMMNet Net;
608    Net = TMMNet::New();
609    TStr ModeName1(&quot;TestMode1&quot;);
610    Net-&gt;AddModeNet(ModeName1);
611    TStr CrossName(&quot;TestCross&quot;);
612    Net-&gt;AddCrossNet(ModeName1, ModeName1, CrossName, true);
613    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
614    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
615    M1.AddNode(0);
616    M1.AddNode(1);
617    C1.AddEdge(0, 1);
618    EXPECT_NE(Net-&gt;BegModeNetI(), Net-&gt;EndModeNetI());
619    EXPECT_NE(Net-&gt;BegCrossNetI(), Net-&gt;EndCrossNetI());
620    Net-&gt;DelModeNet(ModeName1);
621    EXPECT_EQ(Net-&gt;BegModeNetI(), Net-&gt;EndModeNetI());
622    EXPECT_EQ(Net-&gt;BegCrossNetI(), Net-&gt;EndCrossNetI());
623  }
624  TEST(multimodal, ClrCrossDirected) {
625    PMMNet Net;
626    Net = TMMNet::New();
627    TStr ModeName1(&quot;TestMode1&quot;);
628    TStr ModeName2(&quot;TestMode2&quot;);
629    Net-&gt;AddModeNet(ModeName1);
630    Net-&gt;AddModeNet(ModeName2);
631    TStr CrossName(&quot;TestCross&quot;);
632    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName);
633    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
634    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
635    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
636    M1.AddNode(0);
637    M2.AddNode(0);
638    int EId = C1.AddEdge(0, 0);
639    TIntV InNeighbors;
640    TIntV OutNeighbors;
641    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
642    EXPECT_EQ(1, InNeighbors.Len());
643    EXPECT_EQ(EId, InNeighbors[0]);
644    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
645    EXPECT_EQ(1, OutNeighbors.Len());
646    EXPECT_EQ(EId, OutNeighbors[0]);
647    C1.Clr();
648    EXPECT_EQ(0, C1.GetEdges());
649    InNeighbors.Clr();
650    OutNeighbors.Clr();
651    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
652    EXPECT_EQ(0, InNeighbors.Len());
653    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
654    EXPECT_EQ(0, OutNeighbors.Len());
655  }
656  TEST(multimodal, ClrCrossSameModeDirected) {
657    PMMNet Net;
658    Net = TMMNet::New();
659    TStr ModeName(&quot;TestMode&quot;);
660    Net-&gt;AddModeNet(ModeName);
661    TStr CrossName(&quot;TestCross&quot;);
662    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, true);
663    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
664    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
665    M1.AddNode(0);
666    M1.AddNode(1);
667    int EId = C1.AddEdge(0, 1);
668    TIntV InNeighbors;
669    TIntV OutNeighbors;
670    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
671    EXPECT_EQ(1, InNeighbors.Len());
672    EXPECT_EQ(EId, InNeighbors[0]);
673    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
674    EXPECT_EQ(0, OutNeighbors.Len());
675    InNeighbors.Clr();
676    OutNeighbors.Clr();
677    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
678    EXPECT_EQ(0, InNeighbors.Len());
679    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
680    EXPECT_EQ(1, OutNeighbors.Len());
681    EXPECT_EQ(EId, OutNeighbors[0]);
682    C1.Clr();
683    EXPECT_EQ(0, C1.GetEdges());
684    InNeighbors.Clr();
685    OutNeighbors.Clr();
686    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
687    EXPECT_EQ(0, InNeighbors.Len());\
688    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
689    EXPECT_EQ(0, OutNeighbors.Len());
690    InNeighbors.Clr();
691    OutNeighbors.Clr();
692    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
693    EXPECT_EQ(0, InNeighbors.Len());
694    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
695    EXPECT_EQ(0, OutNeighbors.Len());
696  }
697  TEST(multimodal, ClrCrossSameModeUndirected) {
698    PMMNet Net;
699    Net = TMMNet::New();
700    TStr ModeName(&quot;TestMode&quot;);
701    Net-&gt;AddModeNet(ModeName);
702    TStr CrossName(&quot;TestCross&quot;);
703    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, false);
704    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
705    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
706    M1.AddNode(0);
707    M1.AddNode(1);
708    int EId = C1.AddEdge(0, 1);
709    TIntV InNeighbors;
710    TIntV OutNeighbors;
711    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
712    EXPECT_EQ(1, InNeighbors.Len());
713    EXPECT_EQ(EId, InNeighbors[0]);
714    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
715    EXPECT_EQ(1, OutNeighbors.Len());
716    EXPECT_EQ(EId, OutNeighbors[0]);
717    InNeighbors.Clr();
718    OutNeighbors.Clr();
719    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
720    EXPECT_EQ(1, InNeighbors.Len());
721    EXPECT_EQ(EId, InNeighbors[0]);
722    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
723    EXPECT_EQ(1, OutNeighbors.Len());
724    EXPECT_EQ(EId, OutNeighbors[0]);
725    C1.Clr();
726    EXPECT_EQ(0, C1.GetEdges());
727    InNeighbors.Clr();
728    OutNeighbors.Clr();
729    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
730    EXPECT_EQ(0, InNeighbors.Len());\
731    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
732    EXPECT_EQ(0, OutNeighbors.Len());
733    InNeighbors.Clr();
734    OutNeighbors.Clr();
735    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
736    EXPECT_EQ(0, InNeighbors.Len());
737    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
738    EXPECT_EQ(0, OutNeighbors.Len());
739  }
740  TEST(multimodal, ClrMode1Directed) {
741    PMMNet Net;
742    Net = TMMNet::New();
743    TStr ModeName1(&quot;TestMode1&quot;);
744    TStr ModeName2(&quot;TestMode2&quot;);
745    Net-&gt;AddModeNet(ModeName1);
746    Net-&gt;AddModeNet(ModeName2);
747    TStr CrossName(&quot;TestCross&quot;);
748    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName);
749    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
750    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
751    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
752    M1.AddNode(0);
753    M2.AddNode(0);
754    int EId = C1.AddEdge(0, 0);
755    TIntV InNeighbors;
756    TIntV OutNeighbors;
757    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
758    EXPECT_EQ(1, InNeighbors.Len());
759    EXPECT_EQ(EId, InNeighbors[0]);
760    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
761    EXPECT_EQ(1, OutNeighbors.Len());
762    EXPECT_EQ(EId, OutNeighbors[0]);
763    M1.Clr();
764    OutNeighbors.Clr();
765    EXPECT_EQ(0, M1.GetNodes());
766    EXPECT_EQ(0, C1.GetEdges());
767    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
768    EXPECT_EQ(0, OutNeighbors.Len());
769  }
770  TEST(multimodal, ClrMode1SameModeDirected) {
771    PMMNet Net;
772    Net = TMMNet::New();
773    TStr ModeName(&quot;TestMode&quot;);
774    Net-&gt;AddModeNet(ModeName);
775    TStr CrossName(&quot;TestCross&quot;);
776    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, true);
777    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
778    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
779    M1.AddNode(0);
780    M1.AddNode(1);
781    int EId = C1.AddEdge(0, 1);
782    TIntV InNeighbors;
783    TIntV OutNeighbors;
784    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
785    EXPECT_EQ(1, InNeighbors.Len());
786    EXPECT_EQ(EId, InNeighbors[0]);
787    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
788    EXPECT_EQ(0, OutNeighbors.Len());
789    InNeighbors.Clr();
790    OutNeighbors.Clr();
791    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
792    EXPECT_EQ(0, InNeighbors.Len());
793    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
794    EXPECT_EQ(1, OutNeighbors.Len());
795    EXPECT_EQ(EId, OutNeighbors[0]);
796    EXPECT_EQ(1, C1.GetEdges());
797    M1.Clr();
798    EXPECT_EQ(0, M1.GetNodes());
799    EXPECT_EQ(0, C1.GetEdges());
800  }
801  TEST(multimodal, ClrMode1SameModeUndirected) {
802    PMMNet Net;
803    Net = TMMNet::New();
804    TStr ModeName(&quot;TestMode&quot;);
805    Net-&gt;AddModeNet(ModeName);
806    TStr CrossName(&quot;TestCross&quot;);
807    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, false);
808    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
809    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
810    M1.AddNode(0);
811    M1.AddNode(1);
812    int EId = C1.AddEdge(0, 1);
813    TIntV InNeighbors;
814    TIntV OutNeighbors;
815    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
816    EXPECT_EQ(1, InNeighbors.Len());
817    EXPECT_EQ(EId, InNeighbors[0]);
818    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
819    EXPECT_EQ(1, OutNeighbors.Len());
820    EXPECT_EQ(EId, OutNeighbors[0]);
821    InNeighbors.Clr();
822    OutNeighbors.Clr();
823    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
824    EXPECT_EQ(1, InNeighbors.Len());
825    EXPECT_EQ(EId, InNeighbors[0]);
826    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
827    EXPECT_EQ(1, OutNeighbors.Len());
828    EXPECT_EQ(EId, OutNeighbors[0]);
829    M1.Clr();
830    EXPECT_EQ(0, M1.GetNodes());
831    EXPECT_EQ(0, C1.GetEdges());
832  }
833  TEST(multimodal, ClrMode2Directed) {
834    PMMNet Net;
835    Net = TMMNet::New();
836    TStr ModeName1(&quot;TestMode1&quot;);
837    TStr ModeName2(&quot;TestMode2&quot;);
838    Net-&gt;AddModeNet(ModeName1);
839    Net-&gt;AddModeNet(ModeName2);
840    TStr CrossName(&quot;TestCross&quot;);
841    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName);
842    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
843    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
844    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
845    M1.AddNode(0);
846    M2.AddNode(0);
847    int EId = C1.AddEdge(0, 0);
848    TIntV InNeighbors;
849    TIntV OutNeighbors;
850    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
851    EXPECT_EQ(1, InNeighbors.Len());
852    EXPECT_EQ(EId, InNeighbors[0]);
853    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
854    EXPECT_EQ(1, OutNeighbors.Len());
855    EXPECT_EQ(EId, OutNeighbors[0]);
856    M2.Clr();
857    OutNeighbors.Clr();
858    EXPECT_EQ(0, M2.GetNodes());
859    EXPECT_EQ(0, C1.GetEdges());
860    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
861    EXPECT_EQ(0, OutNeighbors.Len());
862  }
863  TEST(multimodal, ClrMode2SameModeDirected) {
864    PMMNet Net;
865    Net = TMMNet::New();
866    TStr ModeName(&quot;TestMode&quot;);
867    Net-&gt;AddModeNet(ModeName);
868    TStr CrossName(&quot;TestCross&quot;);
869    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, true);
870    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
871    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
872    M1.AddNode(0);
873    M1.AddNode(1);
874    int EId = C1.AddEdge(0, 1);
875    TIntV InNeighbors;
876    TIntV OutNeighbors;
877    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
878    EXPECT_EQ(1, InNeighbors.Len());
879    EXPECT_EQ(EId, InNeighbors[0]);
880    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
881    EXPECT_EQ(0, OutNeighbors.Len());
882    InNeighbors.Clr();
883    OutNeighbors.Clr();
884    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
885    EXPECT_EQ(0, InNeighbors.Len());
886    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
887    EXPECT_EQ(1, OutNeighbors.Len());
888    EXPECT_EQ(EId, OutNeighbors[0]);
889    EXPECT_EQ(1, C1.GetEdges());
890    M1.Clr();
891    EXPECT_EQ(0, M1.GetNodes());
892    EXPECT_EQ(0, C1.GetEdges());
893  }
894  TEST(multimodal, ClrMode2SameModeUndirected) {
895    PMMNet Net;
896    Net = TMMNet::New();
897    TStr ModeName(&quot;TestMode&quot;);
898    Net-&gt;AddModeNet(ModeName);
899    TStr CrossName(&quot;TestCross&quot;);
900    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, false);
901    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
902    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
903    M1.AddNode(0);
904    M1.AddNode(1);
905    int EId = C1.AddEdge(0, 1);
906    TIntV InNeighbors;
907    TIntV OutNeighbors;
908    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
909    EXPECT_EQ(1, InNeighbors.Len());
910    EXPECT_EQ(EId, InNeighbors[0]);
911    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
912    EXPECT_EQ(1, OutNeighbors.Len());
913    EXPECT_EQ(EId, OutNeighbors[0]);
914    InNeighbors.Clr();
915    OutNeighbors.Clr();
916    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
917    EXPECT_EQ(1, InNeighbors.Len());
918    EXPECT_EQ(EId, InNeighbors[0]);
919    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
920    EXPECT_EQ(1, OutNeighbors.Len());
921    EXPECT_EQ(EId, OutNeighbors[0]);
922    M1.Clr();
923    EXPECT_EQ(0, M1.GetNodes());
924    EXPECT_EQ(0, C1.GetEdges());
925  }
926  TEST(multimodal, GetSubgraph) {
927    int NNodes = 1000;
928    int NEdges = 1000;
929    PMMNet Graph;
930    Graph = PMMNet::New();
931    TStr TestMode1(&quot;TestMode1&quot;);
932    Graph-&gt;AddModeNet(TestMode1);
933    TInt TestModeId1 = Graph-&gt;GetModeId(TestMode1);
934    TStr TestMode2(&quot;TestMode2&quot;);
935    Graph-&gt;AddModeNet(TestMode2);
936    TInt TestModeId2 = Graph-&gt;GetModeId(TestMode2);
937    TStr TestCross1(&quot;TestCross1&quot;);
938    Graph-&gt;AddCrossNet(TestMode1, TestMode1, TestCross1, true);
939    Graph-&gt;GetCrossId(TestCross1);
940    TStr TestCross2(&quot;TestCross2&quot;);
941    Graph-&gt;AddCrossNet(TestModeId1, TestModeId1, TestCross2, false);
942    TInt TestCrossId2 = Graph-&gt;GetCrossId(TestCross2);
943    TStr TestCross3(&quot;TestCross3&quot;);
944    Graph-&gt;AddCrossNet(TestMode1, TestMode2, TestCross3, true);
945    TStr TestCross4(&quot;TestCross4&quot;);
946    Graph-&gt;AddCrossNet(TestModeId1, TestModeId2, TestCross4, false);
947    TInt TestCrossId4 = Graph-&gt;GetCrossId(TestCross4);
948    TModeNet&amp; ModeNet1 = Graph-&gt;GetModeNetByName(TestMode1);
949    TModeNet&amp; ModeNet2 = Graph-&gt;GetModeNetById(TestModeId2);
950    for (int i=0; i &lt; NNodes; i++) {
951      ModeNet1.AddNode(i);
952      ModeNet2.AddNode(i*2);
953    }
954    TCrossNet&amp; CrossNet1 = Graph-&gt;GetCrossNetByName(TestCross1);
955    TCrossNet&amp; CrossNet2 = Graph-&gt;GetCrossNetById(TestCrossId2);
956    TCrossNet&amp; CrossNet3 = Graph-&gt;GetCrossNetByName(TestCross3);
957    TCrossNet&amp; CrossNet4 = Graph-&gt;GetCrossNetById(TestCrossId4);
958    for (int i=0; i &lt; NEdges; i++) {
959      CrossNet1.AddEdge(i, (i+1)%NNodes, i);
960      CrossNet2.AddEdge((i+5)%NNodes, i, i);
961      CrossNet3.AddEdge(i, (i%NNodes)*2, i);
962      CrossNet4.AddEdge((i+5)%NNodes, (i%NNodes)*2, i);
963    }
964    TStrV CrossNets;
965    CrossNets.Add(TestCross1);
966    PMMNet Subgraph = Graph-&gt;GetSubgraphByCrossNet(CrossNets);
967    EXPECT_EQ(1, Subgraph-&gt;GetModeNets());
968    EXPECT_EQ(1, Subgraph-&gt;GetCrossNets());
969    TModeNet&amp; M1 = Subgraph-&gt;GetModeNetByName(TestMode1);
970    TStrV M1Names;
971    M1.GetCrossNetNames(M1Names);
972    EXPECT_EQ(1, M1Names.Len());
973    TIntV Neighbors;
974    M1.GetNeighborsByCrossNet(0, TestCross1, Neighbors);
975    EXPECT_EQ(1, Neighbors.Len());
976  }
977  TEST(multimodal, ToNetwork) {
978      int NNodes = 1000;
979    int NEdges = 1000;
980    PMMNet Graph;
981    Graph = PMMNet::New();
982    TStr TestMode1(&quot;TestMode1&quot;);
983    Graph-&gt;AddModeNet(TestMode1);
984    TInt TestModeId1 = Graph-&gt;GetModeId(TestMode1);
985    TStr TestMode2(&quot;TestMode2&quot;);
986    Graph-&gt;AddModeNet(TestMode2);
987    TInt TestModeId2 = Graph-&gt;GetModeId(TestMode2);
988    TStr TestCross1(&quot;TestCross1&quot;);
989    Graph-&gt;AddCrossNet(TestMode1, TestMode1, TestCross1, true);
990    TInt TestCrossId1 = Graph-&gt;GetCrossId(TestCross1);
991    TStr TestCross2(&quot;TestCross2&quot;);
992    Graph-&gt;AddCrossNet(TestModeId1, TestModeId1, TestCross2, false);
993    TInt TestCrossId2 = Graph-&gt;GetCrossId(TestCross2);
994    TStr TestCross3(&quot;TestCross3&quot;);
995    Graph-&gt;AddCrossNet(TestMode1, TestMode2, TestCross3, true);
996    TInt TestCrossId3 = Graph-&gt;GetCrossId(TestCross3);
997    TStr TestCross4(&quot;TestCross4&quot;);
998    Graph-&gt;AddCrossNet(TestModeId1, TestModeId2, TestCross4, false);
999    TInt TestCrossId4 = Graph-&gt;GetCrossId(TestCross4);
1000    TModeNet&amp; ModeNet1 = Graph-&gt;GetModeNetByName(TestMode1);
1001    TModeNet&amp; ModeNet2 = Graph-&gt;GetModeNetById(TestModeId2);
1002    for (int i=0; i &lt; NNodes; i++) {
1003      ModeNet1.AddNode(i);
1004      ModeNet2.AddNode(i*2);
1005    }
1006    TCrossNet&amp; CrossNet1 = Graph-&gt;GetCrossNetByName(TestCross1);
1007    TCrossNet&amp; CrossNet2 = Graph-&gt;GetCrossNetById(TestCrossId2);
1008    TCrossNet&amp; CrossNet3 = Graph-&gt;GetCrossNetByName(TestCross3);
1009    TCrossNet&amp; CrossNet4 = Graph-&gt;GetCrossNetById(TestCrossId4);
1010    for (int i=0; i &lt; NEdges; i++) {
1011      CrossNet1.AddEdge(i, (i+1)%NNodes, i);
1012      CrossNet2.AddEdge((i+5)%NNodes, i, i);
1013      CrossNet3.AddEdge(i, (i%NNodes)*2, i);
1014      CrossNet4.AddEdge((i+5)%NNodes, (i%NNodes)*2, i);
1015    }
1016    TIntV CrossNetIds;
1017    CrossNetIds.Add(TestCrossId1);
1018    CrossNetIds.Add(TestCrossId2);
1019    CrossNetIds.Add(TestCrossId3);
1020    CrossNetIds.Add(TestCrossId4);
1021    TVec&lt;TTriple&lt;TInt, TStr, TStr&gt; &gt; NodeAttrMapping; 
1022    TVec&lt;TTriple&lt;TInt, TStr, TStr&gt; &gt; EdgeAttrMapping; 
1023    PNEANet Net = Graph-&gt;ToNetwork(CrossNetIds, NodeAttrMapping, EdgeAttrMapping);
1024    EXPECT_EQ(NNodes*2, Net-&gt;GetNodes());
1025    EXPECT_EQ(NEdges*6, Net-&gt;GetEdges()); 
1026  }
</code></pre>
        </div>
        <div class="column">
            <h3>snap-MDEwOlJlcG9zaXRvcnk0Mjg4MzU3-flat-test-multimodal.cpp</h3>
            <pre><code>1  #include &lt;gtest/gtest.h&gt;
2  #include &quot;Snap.h&quot;
3  TEST(multimodal, AddNbrType) {
4    PMMNet Net;
5    Net = TMMNet::New();
6    TStr ModeName1(&quot;TestMode1&quot;);
7    TStr ModeName2(&quot;TestMode2&quot;);
8    Net-&gt;AddModeNet(ModeName1);
9    Net-&gt;AddModeNet(ModeName2);
10    TStr CrossName(&quot;TestCross&quot;);
11    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName);
12    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
13    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
14    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
15    TStrV M1Names;
16    TStrV M2Names;
17    M1.GetCrossNetNames(M1Names);
18    EXPECT_EQ(M1Names.Len(), 1);
19    EXPECT_EQ(M1Names[0], CrossName);
20    M2.GetCrossNetNames(M2Names);
21    EXPECT_EQ(M2Names.Len(), 1);
22    EXPECT_EQ(M2Names[0], CrossName);
23    EXPECT_EQ(Net-&gt;GetModeId(ModeName1), C1.GetMode1());
24    EXPECT_EQ(Net-&gt;GetModeId(ModeName2), C1.GetMode2());
25  }
26  TEST(multimodal, CheckNeighborsDirected) {
27    PMMNet Net;
28    Net = TMMNet::New();
29    TStr ModeName1(&quot;TestMode1&quot;);
30    TStr ModeName2(&quot;TestMode2&quot;);
31    Net-&gt;AddModeNet(ModeName1);
32    Net-&gt;AddModeNet(ModeName2);
33    TStr CrossName(&quot;TestCross&quot;);
34    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName);
35    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
36    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
37    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
38    M1.AddNode(0);
39    M2.AddNode(0);
40    int EId = C1.AddEdge(0, 0);
41    TIntV InNeighbors;
42    TIntV OutNeighbors;
43    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
44    EXPECT_EQ(1, InNeighbors.Len());
45    EXPECT_EQ(EId, InNeighbors[0]);
46    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
47    EXPECT_EQ(1, OutNeighbors.Len());
48    EXPECT_EQ(EId, OutNeighbors[0]);
49  }
50  TEST(multimodal, CheckNeighborsSameModeDirected) {
51    PMMNet Net;
52    Net = TMMNet::New();
53    TStr ModeName(&quot;TestMode&quot;);
54    Net-&gt;AddModeNet(ModeName);
55    TStr CrossName(&quot;TestCross&quot;);
56    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, true);
57    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
58    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
59    M1.AddNode(0);
60    M1.AddNode(1);
61    int EId = C1.AddEdge(0, 1);
62    TIntV InNeighbors;
63    TIntV OutNeighbors;
64    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
65    EXPECT_EQ(1, InNeighbors.Len());
66    EXPECT_EQ(EId, InNeighbors[0]);
67    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
68    EXPECT_EQ(0, OutNeighbors.Len());
69    InNeighbors.Clr();
70    OutNeighbors.Clr();
71    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
72    EXPECT_EQ(0, InNeighbors.Len());
73    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
74    EXPECT_EQ(1, OutNeighbors.Len());
75    EXPECT_EQ(EId, OutNeighbors[0]);
76  }
77  TEST(multimodal, CheckNeighborsSameModeUndirected) {
78    PMMNet Net;
79    Net = TMMNet::New();
80    TStr ModeName(&quot;TestMode&quot;);
81    Net-&gt;AddModeNet(ModeName);
82    TStr CrossName(&quot;TestCross&quot;);
83    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, false);
84    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
85    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
86    M1.AddNode(0);
87    M1.AddNode(1);
88    int EId = C1.AddEdge(0, 1);
89    TIntV InNeighbors;
90    TIntV OutNeighbors;
91    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
92    EXPECT_EQ(1, InNeighbors.Len());
93    EXPECT_EQ(EId, InNeighbors[0]);
94    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
95    EXPECT_EQ(1, OutNeighbors.Len());
96    EXPECT_EQ(EId, OutNeighbors[0]);
97    InNeighbors.Clr();
98    OutNeighbors.Clr();
99    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
100    EXPECT_EQ(1, InNeighbors.Len());
101    EXPECT_EQ(EId, InNeighbors[0]);
102    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
103    EXPECT_EQ(1, OutNeighbors.Len());
104    EXPECT_EQ(EId, OutNeighbors[0]);
105  }
106  TEST(multimodal, DelEdgeDirected) {
107    PMMNet Net;
108    Net = TMMNet::New();
109    TStr ModeName1(&quot;TestMode1&quot;);
110    TStr ModeName2(&quot;TestMode2&quot;);
111    Net-&gt;AddModeNet(ModeName1);
112    Net-&gt;AddModeNet(ModeName2);
113    TStr CrossName(&quot;TestCross&quot;);
114    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName);
115    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
116    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
117    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
118    M1.AddNode(0);
119    M2.AddNode(0);
120    int EId = C1.AddEdge(0, 0);
121    TIntV InNeighbors;
122    TIntV OutNeighbors;
123    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
124    EXPECT_EQ(1, InNeighbors.Len());
125    EXPECT_EQ(EId, InNeighbors[0]);
126    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
127    EXPECT_EQ(1, OutNeighbors.Len());
128    EXPECT_EQ(EId, OutNeighbors[0]);
129    C1.DelEdge(EId);
130    EXPECT_EQ(0, C1.GetEdges());
131    InNeighbors.Clr();
132    OutNeighbors.Clr();
133    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
134    EXPECT_EQ(0, InNeighbors.Len());
135    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
136    EXPECT_EQ(0, OutNeighbors.Len());
137  }
138  TEST(multimodal, DelEdgeSameModeDirected) {
139    PMMNet Net;
140    Net = TMMNet::New();
141    TStr ModeName(&quot;TestMode&quot;);
142    Net-&gt;AddModeNet(ModeName);
143    TStr CrossName(&quot;TestCross&quot;);
144    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, true);
145    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
146    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
147    M1.AddNode(0);
148    M1.AddNode(1);
149    int EId = C1.AddEdge(0, 1);
150    TIntV InNeighbors;
151    TIntV OutNeighbors;
152    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
153    EXPECT_EQ(1, InNeighbors.Len());
154    EXPECT_EQ(EId, InNeighbors[0]);
155    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
156    EXPECT_EQ(0, OutNeighbors.Len());
157    InNeighbors.Clr();
158    OutNeighbors.Clr();
159    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
160    EXPECT_EQ(0, InNeighbors.Len());
161    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
162    EXPECT_EQ(1, OutNeighbors.Len());
163    EXPECT_EQ(EId, OutNeighbors[0]);
164    C1.DelEdge(EId);
165    EXPECT_EQ(0, C1.GetEdges());
166    InNeighbors.Clr();
167    OutNeighbors.Clr();
168    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
169    EXPECT_EQ(0, InNeighbors.Len());\
170    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
171    EXPECT_EQ(0, OutNeighbors.Len());
172    InNeighbors.Clr();
173    OutNeighbors.Clr();
174    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
175    EXPECT_EQ(0, InNeighbors.Len());
176    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
177    EXPECT_EQ(0, OutNeighbors.Len());
178  }
179  TEST(multimodal, DelEdgeSameModeUndirected) {
180    PMMNet Net;
181    Net = TMMNet::New();
182    TStr ModeName(&quot;TestMode&quot;);
183    Net-&gt;AddModeNet(ModeName);
184    TStr CrossName(&quot;TestCross&quot;);
185    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, false);
186    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
187    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
188    M1.AddNode(0);
189    M1.AddNode(1);
190    int EId = C1.AddEdge(0, 1);
191    TIntV InNeighbors;
192    TIntV OutNeighbors;
193    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
194    EXPECT_EQ(1, InNeighbors.Len());
195    EXPECT_EQ(EId, InNeighbors[0]);
196    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
197    EXPECT_EQ(1, OutNeighbors.Len());
198    EXPECT_EQ(EId, OutNeighbors[0]);
199    InNeighbors.Clr();
200    OutNeighbors.Clr();
201    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
202    EXPECT_EQ(1, InNeighbors.Len());
203    EXPECT_EQ(EId, InNeighbors[0]);
204    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
205    EXPECT_EQ(1, OutNeighbors.Len());
206    EXPECT_EQ(EId, OutNeighbors[0]);
207    C1.DelEdge(EId);
208    EXPECT_EQ(0, C1.GetEdges());
209    InNeighbors.Clr();
210    OutNeighbors.Clr();
211    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
212    EXPECT_EQ(0, InNeighbors.Len());\
213    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
214    EXPECT_EQ(0, OutNeighbors.Len());
215    InNeighbors.Clr();
216    OutNeighbors.Clr();
217    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
218    EXPECT_EQ(0, InNeighbors.Len());
219    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
220    EXPECT_EQ(0, OutNeighbors.Len());
221  }
222  TEST(multimodal, DelNode1Directed) {
223    PMMNet Net;
224    Net = TMMNet::New();
225    TStr ModeName1(&quot;TestMode1&quot;);
226    TStr ModeName2(&quot;TestMode2&quot;);
227    Net-&gt;AddModeNet(ModeName1);
228    Net-&gt;AddModeNet(ModeName2);
229    TStr CrossName(&quot;TestCross&quot;);
230    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName);
231    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
232    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
233    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
234    M1.AddNode(0);
235    M2.AddNode(0);
236    int EId = C1.AddEdge(0, 0);
237    TIntV InNeighbors;
238    TIntV OutNeighbors;
239    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
240    EXPECT_EQ(1, InNeighbors.Len());
241    EXPECT_EQ(EId, InNeighbors[0]);
242    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
243    EXPECT_EQ(1, OutNeighbors.Len());
244    EXPECT_EQ(EId, OutNeighbors[0]);
245    M1.DelNode(0);
246    OutNeighbors.Clr();
247    EXPECT_EQ(0, M1.GetNodes());
248    EXPECT_EQ(0, C1.GetEdges());
249    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
250    EXPECT_EQ(0, OutNeighbors.Len());
251  }
252  TEST(multimodal, DelNode1SameModeDirected) {
253    PMMNet Net;
254    Net = TMMNet::New();
255    TStr ModeName(&quot;TestMode&quot;);
256    Net-&gt;AddModeNet(ModeName);
257    TStr CrossName(&quot;TestCross&quot;);
258    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, true);
259    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
260    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
261    M1.AddNode(0);
262    M1.AddNode(1);
263    int EId = C1.AddEdge(0, 1);
264    TIntV InNeighbors;
265    TIntV OutNeighbors;
266    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
267    EXPECT_EQ(1, InNeighbors.Len());
268    EXPECT_EQ(EId, InNeighbors[0]);
269    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
270    EXPECT_EQ(0, OutNeighbors.Len());
271    InNeighbors.Clr();
272    OutNeighbors.Clr();
273    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
274    EXPECT_EQ(0, InNeighbors.Len());
275    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
276    EXPECT_EQ(1, OutNeighbors.Len());
277    EXPECT_EQ(EId, OutNeighbors[0]);
278    EXPECT_EQ(1, C1.GetEdges());
279    M1.DelNode(0);
280    EXPECT_EQ(1, M1.GetNodes());
281    EXPECT_EQ(0, C1.GetEdges());
282    InNeighbors.Clr();
283    OutNeighbors.Clr();
284    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
285    EXPECT_EQ(0, InNeighbors.Len());
286    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
287    EXPECT_EQ(0, OutNeighbors.Len());
288  }
289  TEST(multimodal, DelNode1SameModeUndirected) {
290    PMMNet Net;
291    Net = TMMNet::New();
292    TStr ModeName(&quot;TestMode&quot;);
293    Net-&gt;AddModeNet(ModeName);
294    TStr CrossName(&quot;TestCross&quot;);
295    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, false);
296    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
297    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
298    M1.AddNode(0);
299    M1.AddNode(1);
300    int EId = C1.AddEdge(0, 1);
301    TIntV InNeighbors;
302    TIntV OutNeighbors;
303    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
304    EXPECT_EQ(1, InNeighbors.Len());
305    EXPECT_EQ(EId, InNeighbors[0]);
306    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
307    EXPECT_EQ(1, OutNeighbors.Len());
308    EXPECT_EQ(EId, OutNeighbors[0]);
309    InNeighbors.Clr();
310    OutNeighbors.Clr();
311    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
312    EXPECT_EQ(1, InNeighbors.Len());
313    EXPECT_EQ(EId, InNeighbors[0]);
314    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
315    EXPECT_EQ(1, OutNeighbors.Len());
316    EXPECT_EQ(EId, OutNeighbors[0]);
317    M1.DelNode(0);
318    EXPECT_EQ(1, M1.GetNodes());
319    EXPECT_EQ(0, C1.GetEdges());
320    InNeighbors.Clr();
321    OutNeighbors.Clr();
322    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
323    EXPECT_EQ(0, InNeighbors.Len());
324    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
325    EXPECT_EQ(0, OutNeighbors.Len());
326  }
327  TEST(multimodal, DelNode2Directed) {
328    PMMNet Net;
329    Net = TMMNet::New();
330    TStr ModeName1(&quot;TestMode1&quot;);
331    TStr ModeName2(&quot;TestMode2&quot;);
332    Net-&gt;AddModeNet(ModeName1);
333    Net-&gt;AddModeNet(ModeName2);
334    TStr CrossName(&quot;TestCross&quot;);
335    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName);
336    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
337    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
338    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
339    M1.AddNode(0);
340    M2.AddNode(0);
341    int EId = C1.AddEdge(0, 0);
342    TIntV InNeighbors;
343    TIntV OutNeighbors;
344    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
345    EXPECT_EQ(1, InNeighbors.Len());
346    EXPECT_EQ(EId, InNeighbors[0]);
347    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
348    EXPECT_EQ(1, OutNeighbors.Len());
349    EXPECT_EQ(EId, OutNeighbors[0]);
350    M2.DelNode(0);
351    OutNeighbors.Clr();
352    EXPECT_EQ(0, M2.GetNodes());
353    EXPECT_EQ(0, C1.GetEdges());
354    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
355    EXPECT_EQ(0, OutNeighbors.Len());
356  }
357  TEST(multimodal, DelNode2SameModeDirected) {
358    PMMNet Net;
359    Net = TMMNet::New();
360    TStr ModeName(&quot;TestMode&quot;);
361    Net-&gt;AddModeNet(ModeName);
362    TStr CrossName(&quot;TestCross&quot;);
363    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, true);
364    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
365    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
366    M1.AddNode(0);
367    M1.AddNode(1);
368    int EId = C1.AddEdge(0, 1);
369    TIntV InNeighbors;
370    TIntV OutNeighbors;
371    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
372    EXPECT_EQ(1, InNeighbors.Len());
373    EXPECT_EQ(EId, InNeighbors[0]);
374    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
375    EXPECT_EQ(0, OutNeighbors.Len());
376    InNeighbors.Clr();
377    OutNeighbors.Clr();
378    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
379    EXPECT_EQ(0, InNeighbors.Len());
380    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
381    EXPECT_EQ(1, OutNeighbors.Len());
382    EXPECT_EQ(EId, OutNeighbors[0]);
383    EXPECT_EQ(1, C1.GetEdges());
384    M1.DelNode(1);
385    EXPECT_EQ(1, M1.GetNodes());
386    EXPECT_EQ(0, C1.GetEdges());
387    InNeighbors.Clr();
388    OutNeighbors.Clr();
389    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
390    EXPECT_EQ(0, InNeighbors.Len());
391    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
392    EXPECT_EQ(0, OutNeighbors.Len());
393  }
394  TEST(multimodal, DelNode2SameModeUndirected) {
395    PMMNet Net;
396    Net = TMMNet::New();
397    TStr ModeName(&quot;TestMode&quot;);
398    Net-&gt;AddModeNet(ModeName);
399    TStr CrossName(&quot;TestCross&quot;);
400    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, false);
401    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
402    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
403    M1.AddNode(0);
404    M1.AddNode(1);
405    int EId = C1.AddEdge(0, 1);
406    TIntV InNeighbors;
407    TIntV OutNeighbors;
408    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
409    EXPECT_EQ(1, InNeighbors.Len());
410    EXPECT_EQ(EId, InNeighbors[0]);
411    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
412    EXPECT_EQ(1, OutNeighbors.Len());
413    EXPECT_EQ(EId, OutNeighbors[0]);
414    InNeighbors.Clr();
415    OutNeighbors.Clr();
416    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
417    EXPECT_EQ(1, InNeighbors.Len());
418    EXPECT_EQ(EId, InNeighbors[0]);
419    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
420    EXPECT_EQ(1, OutNeighbors.Len());
421    EXPECT_EQ(EId, OutNeighbors[0]);
422    M1.DelNode(1);
423    EXPECT_EQ(1, M1.GetNodes());
424    EXPECT_EQ(0, C1.GetEdges());
425    InNeighbors.Clr();
426    OutNeighbors.Clr();
427    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
428    EXPECT_EQ(0, InNeighbors.Len());
429    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
430    EXPECT_EQ(0, OutNeighbors.Len());
431  }
432  TEST(multimodal, DelCrossNetSameModeUndirected) {
433    PMMNet Net;
434    Net = TMMNet::New();
435    TStr ModeName(&quot;TestMode&quot;);
436    Net-&gt;AddModeNet(ModeName);
437    TStr CrossName(&quot;TestCross&quot;);
438    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, false);
439    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
440    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
441    M1.AddNode(0);
442    M1.AddNode(1);
443    C1.AddEdge(0, 1);
444    TStrV InNeighbors;
445    TStrV OutNeighbors;
446    M1.IntVAttrNameNI(0, InNeighbors);
447    M1.IntVAttrNameNI(0, OutNeighbors);
448    EXPECT_EQ(1, InNeighbors.Len());
449    EXPECT_EQ(1, OutNeighbors.Len());
450    InNeighbors.Clr();
451    OutNeighbors.Clr();
452    M1.IntVAttrNameNI(1, InNeighbors);
453    M1.IntVAttrNameNI(1, OutNeighbors);
454    EXPECT_EQ(1, InNeighbors.Len());
455    EXPECT_EQ(1, OutNeighbors.Len());
456    Net-&gt;DelCrossNet(CrossName);
457    EXPECT_EQ(Net-&gt;BegCrossNetI(), Net-&gt;EndCrossNetI());
458    InNeighbors.Clr();
459    OutNeighbors.Clr();
460    M1.IntVAttrNameNI(0, InNeighbors);
461    M1.IntVAttrNameNI(0, OutNeighbors);
462    EXPECT_EQ(0, InNeighbors.Len());
463    EXPECT_EQ(0, OutNeighbors.Len());
464    InNeighbors.Clr();
465    OutNeighbors.Clr();
466    M1.IntVAttrNameNI(1, InNeighbors);
467    M1.IntVAttrNameNI(1, OutNeighbors);
468    EXPECT_EQ(0, InNeighbors.Len());
469    EXPECT_EQ(0, OutNeighbors.Len());
470  }
471  TEST(multimodal, DelCrossNetSameModeDirected) {
472    PMMNet Net;
473    Net = TMMNet::New();
474    TStr ModeName(&quot;TestMode&quot;);
475    Net-&gt;AddModeNet(ModeName);
476    TStr CrossName(&quot;TestCross&quot;);
477    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, true);
478    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
479    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
480    M1.AddNode(0);
481    M1.AddNode(1);
482    C1.AddEdge(0, 1);
483    TStrV InNeighbors;
484    TStrV OutNeighbors;
485    M1.IntVAttrNameNI(0, InNeighbors);
486    M1.IntVAttrNameNI(0, OutNeighbors);
487    EXPECT_EQ(2, InNeighbors.Len());
488    EXPECT_EQ(2, OutNeighbors.Len());
489    InNeighbors.Clr();
490    OutNeighbors.Clr();
491    M1.IntVAttrNameNI(1, InNeighbors);
492    M1.IntVAttrNameNI(1, OutNeighbors);
493    EXPECT_EQ(2, InNeighbors.Len());
494    EXPECT_EQ(2, OutNeighbors.Len());
495    Net-&gt;DelCrossNet(CrossName);
496    EXPECT_EQ(Net-&gt;BegCrossNetI(), Net-&gt;EndCrossNetI());
497    InNeighbors.Clr();
498    OutNeighbors.Clr();
499    M1.IntVAttrNameNI(0, InNeighbors);
500    M1.IntVAttrNameNI(0, OutNeighbors);
501    EXPECT_EQ(0, InNeighbors.Len());
502    EXPECT_EQ(0, OutNeighbors.Len());
503    InNeighbors.Clr();
504    OutNeighbors.Clr();
505    M1.IntVAttrNameNI(1, InNeighbors);
506    M1.IntVAttrNameNI(1, OutNeighbors);
507    EXPECT_EQ(0, InNeighbors.Len());
508    EXPECT_EQ(0, OutNeighbors.Len());
509  }
510  TEST(multimodal, DelCrossNetDifModeUndirected) {
511    PMMNet Net;
512    Net = TMMNet::New();
513    TStr ModeName1(&quot;TestMode1&quot;);
514    TStr ModeName2(&quot;TestMode2&quot;);
515    Net-&gt;AddModeNet(ModeName1);
516    Net-&gt;AddModeNet(ModeName2);
517    TStr CrossName(&quot;TestCross&quot;);
518    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName, false);
519    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
520    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
521    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
522    M1.AddNode(0);
523    M2.AddNode(0);
524    C1.AddEdge(0, 0);
525    TStrV InNeighbors;
526    TStrV OutNeighbors;
527    M1.IntVAttrNameNI(0, InNeighbors);
528    M2.IntVAttrNameNI(0, OutNeighbors);
529    EXPECT_EQ(1, InNeighbors.Len());
530    EXPECT_EQ(1, OutNeighbors.Len());
531    Net-&gt;DelCrossNet(CrossName);
532    EXPECT_EQ(Net-&gt;BegCrossNetI(), Net-&gt;EndCrossNetI());
533    InNeighbors.Clr();
534    OutNeighbors.Clr();
535    M1.IntVAttrNameNI(0, InNeighbors);
536    M2.IntVAttrNameNI(0, OutNeighbors);
537    EXPECT_EQ(0, InNeighbors.Len());
538    EXPECT_EQ(0, OutNeighbors.Len());
539  }
540  TEST(multimodal, DelCrossNetDifModeDirected) {
541    PMMNet Net;
542    Net = TMMNet::New();
543    TStr ModeName1(&quot;TestMode1&quot;);
544    TStr ModeName2(&quot;TestMode2&quot;);
545    Net-&gt;AddModeNet(ModeName1);
546    Net-&gt;AddModeNet(ModeName2);
547    TStr CrossName(&quot;TestCross&quot;);
548    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName, true);
549    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
550    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
551    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
552    M1.AddNode(0);
553    M2.AddNode(0);
554    C1.AddEdge(0, 0);
555    TStrV InNeighbors;
556    TStrV OutNeighbors;
557    M1.IntVAttrNameNI(0, InNeighbors);
558    M2.IntVAttrNameNI(0, OutNeighbors);
559    EXPECT_EQ(1, InNeighbors.Len());
560    EXPECT_EQ(1, OutNeighbors.Len());
561    Net-&gt;DelCrossNet(CrossName);
562    EXPECT_EQ(Net-&gt;BegCrossNetI(), Net-&gt;EndCrossNetI());
563    InNeighbors.Clr();
564    OutNeighbors.Clr();
565    M1.IntVAttrNameNI(0, InNeighbors);
566    M2.IntVAttrNameNI(0, OutNeighbors);
567    EXPECT_EQ(0, InNeighbors.Len());
568    EXPECT_EQ(0, OutNeighbors.Len());
569  }
570  TEST(multimodal, DelModeNet) {
571    PMMNet Net;
572    Net = TMMNet::New();
573    TStr ModeName1(&quot;TestMode1&quot;);
574    Net-&gt;AddModeNet(ModeName1);
575    EXPECT_NE(Net-&gt;BegModeNetI(), Net-&gt;EndModeNetI());
576    Net-&gt;DelModeNet(ModeName1);
577    EXPECT_EQ(Net-&gt;BegModeNetI(), Net-&gt;EndModeNetI());
578  }
579  TEST(multimodal, DelModeNetWithCrossNet) {
580    PMMNet Net;
581    Net = TMMNet::New();
582    TStr ModeName1(&quot;TestMode1&quot;);
583    TStr ModeName2(&quot;TestMode2&quot;);
584    Net-&gt;AddModeNet(ModeName1);
585    Net-&gt;AddModeNet(ModeName2);
586    TStr CrossName(&quot;TestCross&quot;);
587    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName, true);
588    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
589    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
590    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
591    M1.AddNode(0);
592    M2.AddNode(0);
593    C1.AddEdge(0, 0);
594    EXPECT_NE(Net-&gt;BegModeNetI(), Net-&gt;EndModeNetI());
595    EXPECT_NE(Net-&gt;BegCrossNetI(), Net-&gt;EndCrossNetI());
596    Net-&gt;DelModeNet(ModeName1);
597    TStrV OutNeighbors;
598    M2.IntVAttrNameNI(0, OutNeighbors);
599    EXPECT_EQ(0, OutNeighbors.Len());
600    TMMNet::TModeNetI it = Net-&gt;BegModeNetI();
601    it++;
602    EXPECT_NE(Net-&gt;BegModeNetI(), Net-&gt;EndModeNetI());
603    EXPECT_EQ(it, Net-&gt;EndModeNetI());
604    EXPECT_EQ(Net-&gt;BegCrossNetI(), Net-&gt;EndCrossNetI());
605  }
606  TEST(multimodal, DelModeNetWithSameModeCrossNet) {
607    PMMNet Net;
608    Net = TMMNet::New();
609    TStr ModeName1(&quot;TestMode1&quot;);
610    Net-&gt;AddModeNet(ModeName1);
611    TStr CrossName(&quot;TestCross&quot;);
612    Net-&gt;AddCrossNet(ModeName1, ModeName1, CrossName, true);
613    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
614    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
615    M1.AddNode(0);
616    M1.AddNode(1);
617    C1.AddEdge(0, 1);
618    EXPECT_NE(Net-&gt;BegModeNetI(), Net-&gt;EndModeNetI());
619    EXPECT_NE(Net-&gt;BegCrossNetI(), Net-&gt;EndCrossNetI());
620    Net-&gt;DelModeNet(ModeName1);
621    EXPECT_EQ(Net-&gt;BegModeNetI(), Net-&gt;EndModeNetI());
622    EXPECT_EQ(Net-&gt;BegCrossNetI(), Net-&gt;EndCrossNetI());
623  }
624  TEST(multimodal, ClrCrossDirected) {
625    PMMNet Net;
626    Net = TMMNet::New();
627    TStr ModeName1(&quot;TestMode1&quot;);
628    TStr ModeName2(&quot;TestMode2&quot;);
629    Net-&gt;AddModeNet(ModeName1);
630    Net-&gt;AddModeNet(ModeName2);
631    TStr CrossName(&quot;TestCross&quot;);
632    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName);
633    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
634    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
635    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
636    M1.AddNode(0);
<span onclick='openModal()' class='match'>637    M2.AddNode(0);
638    int EId = C1.AddEdge(0, 0);
639    TIntV InNeighbors;
640    TIntV OutNeighbors;
641    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
</span>642    EXPECT_EQ(1, InNeighbors.Len());
643    EXPECT_EQ(EId, InNeighbors[0]);
644    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
645    EXPECT_EQ(1, OutNeighbors.Len());
646    EXPECT_EQ(EId, OutNeighbors[0]);
647    C1.Clr();
648    EXPECT_EQ(0, C1.GetEdges());
649    InNeighbors.Clr();
650    OutNeighbors.Clr();
651    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
652    EXPECT_EQ(0, InNeighbors.Len());
653    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
654    EXPECT_EQ(0, OutNeighbors.Len());
655  }
656  TEST(multimodal, ClrCrossSameModeDirected) {
657    PMMNet Net;
658    Net = TMMNet::New();
659    TStr ModeName(&quot;TestMode&quot;);
660    Net-&gt;AddModeNet(ModeName);
661    TStr CrossName(&quot;TestCross&quot;);
662    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, true);
663    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
664    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
665    M1.AddNode(0);
666    M1.AddNode(1);
667    int EId = C1.AddEdge(0, 1);
668    TIntV InNeighbors;
669    TIntV OutNeighbors;
670    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
671    EXPECT_EQ(1, InNeighbors.Len());
672    EXPECT_EQ(EId, InNeighbors[0]);
673    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
674    EXPECT_EQ(0, OutNeighbors.Len());
675    InNeighbors.Clr();
676    OutNeighbors.Clr();
677    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
678    EXPECT_EQ(0, InNeighbors.Len());
679    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
680    EXPECT_EQ(1, OutNeighbors.Len());
681    EXPECT_EQ(EId, OutNeighbors[0]);
682    C1.Clr();
683    EXPECT_EQ(0, C1.GetEdges());
684    InNeighbors.Clr();
685    OutNeighbors.Clr();
686    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
687    EXPECT_EQ(0, InNeighbors.Len());\
688    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
689    EXPECT_EQ(0, OutNeighbors.Len());
690    InNeighbors.Clr();
691    OutNeighbors.Clr();
692    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
693    EXPECT_EQ(0, InNeighbors.Len());
694    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
695    EXPECT_EQ(0, OutNeighbors.Len());
696  }
697  TEST(multimodal, ClrCrossSameModeUndirected) {
698    PMMNet Net;
699    Net = TMMNet::New();
700    TStr ModeName(&quot;TestMode&quot;);
701    Net-&gt;AddModeNet(ModeName);
702    TStr CrossName(&quot;TestCross&quot;);
703    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, false);
704    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
705    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
706    M1.AddNode(0);
707    M1.AddNode(1);
708    int EId = C1.AddEdge(0, 1);
709    TIntV InNeighbors;
710    TIntV OutNeighbors;
711    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
712    EXPECT_EQ(1, InNeighbors.Len());
713    EXPECT_EQ(EId, InNeighbors[0]);
714    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
715    EXPECT_EQ(1, OutNeighbors.Len());
716    EXPECT_EQ(EId, OutNeighbors[0]);
717    InNeighbors.Clr();
718    OutNeighbors.Clr();
719    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
720    EXPECT_EQ(1, InNeighbors.Len());
721    EXPECT_EQ(EId, InNeighbors[0]);
722    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
723    EXPECT_EQ(1, OutNeighbors.Len());
724    EXPECT_EQ(EId, OutNeighbors[0]);
725    C1.Clr();
726    EXPECT_EQ(0, C1.GetEdges());
727    InNeighbors.Clr();
728    OutNeighbors.Clr();
729    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
730    EXPECT_EQ(0, InNeighbors.Len());\
731    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
732    EXPECT_EQ(0, OutNeighbors.Len());
733    InNeighbors.Clr();
734    OutNeighbors.Clr();
735    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
736    EXPECT_EQ(0, InNeighbors.Len());
737    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
738    EXPECT_EQ(0, OutNeighbors.Len());
739  }
740  TEST(multimodal, ClrMode1Directed) {
741    PMMNet Net;
742    Net = TMMNet::New();
743    TStr ModeName1(&quot;TestMode1&quot;);
744    TStr ModeName2(&quot;TestMode2&quot;);
745    Net-&gt;AddModeNet(ModeName1);
746    Net-&gt;AddModeNet(ModeName2);
747    TStr CrossName(&quot;TestCross&quot;);
748    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName);
749    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
750    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
751    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
752    M1.AddNode(0);
753    M2.AddNode(0);
754    int EId = C1.AddEdge(0, 0);
755    TIntV InNeighbors;
756    TIntV OutNeighbors;
757    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
758    EXPECT_EQ(1, InNeighbors.Len());
759    EXPECT_EQ(EId, InNeighbors[0]);
760    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
761    EXPECT_EQ(1, OutNeighbors.Len());
762    EXPECT_EQ(EId, OutNeighbors[0]);
763    M1.Clr();
764    OutNeighbors.Clr();
765    EXPECT_EQ(0, M1.GetNodes());
766    EXPECT_EQ(0, C1.GetEdges());
767    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
768    EXPECT_EQ(0, OutNeighbors.Len());
769  }
770  TEST(multimodal, ClrMode1SameModeDirected) {
771    PMMNet Net;
772    Net = TMMNet::New();
773    TStr ModeName(&quot;TestMode&quot;);
774    Net-&gt;AddModeNet(ModeName);
775    TStr CrossName(&quot;TestCross&quot;);
776    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, true);
777    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
778    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
779    M1.AddNode(0);
780    M1.AddNode(1);
781    int EId = C1.AddEdge(0, 1);
782    TIntV InNeighbors;
783    TIntV OutNeighbors;
784    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
785    EXPECT_EQ(1, InNeighbors.Len());
786    EXPECT_EQ(EId, InNeighbors[0]);
787    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
788    EXPECT_EQ(0, OutNeighbors.Len());
789    InNeighbors.Clr();
790    OutNeighbors.Clr();
791    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
792    EXPECT_EQ(0, InNeighbors.Len());
793    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
794    EXPECT_EQ(1, OutNeighbors.Len());
795    EXPECT_EQ(EId, OutNeighbors[0]);
796    EXPECT_EQ(1, C1.GetEdges());
797    M1.Clr();
798    EXPECT_EQ(0, M1.GetNodes());
799    EXPECT_EQ(0, C1.GetEdges());
800  }
801  TEST(multimodal, ClrMode1SameModeUndirected) {
802    PMMNet Net;
803    Net = TMMNet::New();
804    TStr ModeName(&quot;TestMode&quot;);
805    Net-&gt;AddModeNet(ModeName);
806    TStr CrossName(&quot;TestCross&quot;);
807    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, false);
808    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
809    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
810    M1.AddNode(0);
811    M1.AddNode(1);
812    int EId = C1.AddEdge(0, 1);
813    TIntV InNeighbors;
814    TIntV OutNeighbors;
815    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
816    EXPECT_EQ(1, InNeighbors.Len());
817    EXPECT_EQ(EId, InNeighbors[0]);
818    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
819    EXPECT_EQ(1, OutNeighbors.Len());
820    EXPECT_EQ(EId, OutNeighbors[0]);
821    InNeighbors.Clr();
822    OutNeighbors.Clr();
823    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
824    EXPECT_EQ(1, InNeighbors.Len());
825    EXPECT_EQ(EId, InNeighbors[0]);
826    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
827    EXPECT_EQ(1, OutNeighbors.Len());
828    EXPECT_EQ(EId, OutNeighbors[0]);
829    M1.Clr();
830    EXPECT_EQ(0, M1.GetNodes());
831    EXPECT_EQ(0, C1.GetEdges());
832  }
833  TEST(multimodal, ClrMode2Directed) {
834    PMMNet Net;
835    Net = TMMNet::New();
836    TStr ModeName1(&quot;TestMode1&quot;);
837    TStr ModeName2(&quot;TestMode2&quot;);
838    Net-&gt;AddModeNet(ModeName1);
839    Net-&gt;AddModeNet(ModeName2);
840    TStr CrossName(&quot;TestCross&quot;);
841    Net-&gt;AddCrossNet(ModeName1, ModeName2, CrossName);
842    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName1);
843    TModeNet&amp; M2 = Net-&gt;GetModeNetByName(ModeName2);
844    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
845    M1.AddNode(0);
846    M2.AddNode(0);
847    int EId = C1.AddEdge(0, 0);
848    TIntV InNeighbors;
849    TIntV OutNeighbors;
850    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
851    EXPECT_EQ(1, InNeighbors.Len());
852    EXPECT_EQ(EId, InNeighbors[0]);
853    M2.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
854    EXPECT_EQ(1, OutNeighbors.Len());
855    EXPECT_EQ(EId, OutNeighbors[0]);
856    M2.Clr();
857    OutNeighbors.Clr();
858    EXPECT_EQ(0, M2.GetNodes());
859    EXPECT_EQ(0, C1.GetEdges());
860    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors);
861    EXPECT_EQ(0, OutNeighbors.Len());
862  }
863  TEST(multimodal, ClrMode2SameModeDirected) {
864    PMMNet Net;
865    Net = TMMNet::New();
866    TStr ModeName(&quot;TestMode&quot;);
867    Net-&gt;AddModeNet(ModeName);
868    TStr CrossName(&quot;TestCross&quot;);
869    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, true);
870    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
871    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
872    M1.AddNode(0);
873    M1.AddNode(1);
874    int EId = C1.AddEdge(0, 1);
875    TIntV InNeighbors;
876    TIntV OutNeighbors;
877    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
878    EXPECT_EQ(1, InNeighbors.Len());
879    EXPECT_EQ(EId, InNeighbors[0]);
880    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
881    EXPECT_EQ(0, OutNeighbors.Len());
882    InNeighbors.Clr();
883    OutNeighbors.Clr();
884    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
885    EXPECT_EQ(0, InNeighbors.Len());
886    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
887    EXPECT_EQ(1, OutNeighbors.Len());
888    EXPECT_EQ(EId, OutNeighbors[0]);
889    EXPECT_EQ(1, C1.GetEdges());
890    M1.Clr();
891    EXPECT_EQ(0, M1.GetNodes());
892    EXPECT_EQ(0, C1.GetEdges());
893  }
894  TEST(multimodal, ClrMode2SameModeUndirected) {
895    PMMNet Net;
896    Net = TMMNet::New();
897    TStr ModeName(&quot;TestMode&quot;);
898    Net-&gt;AddModeNet(ModeName);
899    TStr CrossName(&quot;TestCross&quot;);
900    Net-&gt;AddCrossNet(ModeName, ModeName, CrossName, false);
901    TModeNet&amp; M1 = Net-&gt;GetModeNetByName(ModeName);
902    TCrossNet&amp; C1 = Net-&gt;GetCrossNetByName(CrossName);
903    M1.AddNode(0);
904    M1.AddNode(1);
905    int EId = C1.AddEdge(0, 1);
906    TIntV InNeighbors;
907    TIntV OutNeighbors;
908    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
909    EXPECT_EQ(1, InNeighbors.Len());
910    EXPECT_EQ(EId, InNeighbors[0]);
911    M1.GetNeighborsByCrossNet(0, CrossName, OutNeighbors, false);
912    EXPECT_EQ(1, OutNeighbors.Len());
913    EXPECT_EQ(EId, OutNeighbors[0]);
914    InNeighbors.Clr();
915    OutNeighbors.Clr();
916    M1.GetNeighborsByCrossNet(1, CrossName, InNeighbors, true);
917    EXPECT_EQ(1, InNeighbors.Len());
918    EXPECT_EQ(EId, InNeighbors[0]);
919    M1.GetNeighborsByCrossNet(1, CrossName, OutNeighbors, false);
920    EXPECT_EQ(1, OutNeighbors.Len());
921    EXPECT_EQ(EId, OutNeighbors[0]);
922    M1.Clr();
923    EXPECT_EQ(0, M1.GetNodes());
924    EXPECT_EQ(0, C1.GetEdges());
925  }
926  TEST(multimodal, GetSubgraph) {
927    int NNodes = 1000;
928    int NEdges = 1000;
929    PMMNet Graph;
930    Graph = PMMNet::New();
931    TStr TestMode1(&quot;TestMode1&quot;);
932    Graph-&gt;AddModeNet(TestMode1);
933    TInt TestModeId1 = Graph-&gt;GetModeId(TestMode1);
934    TStr TestMode2(&quot;TestMode2&quot;);
935    Graph-&gt;AddModeNet(TestMode2);
936    TInt TestModeId2 = Graph-&gt;GetModeId(TestMode2);
937    TStr TestCross1(&quot;TestCross1&quot;);
938    Graph-&gt;AddCrossNet(TestMode1, TestMode1, TestCross1, true);
939    Graph-&gt;GetCrossId(TestCross1);
940    TStr TestCross2(&quot;TestCross2&quot;);
941    Graph-&gt;AddCrossNet(TestModeId1, TestModeId1, TestCross2, false);
942    TInt TestCrossId2 = Graph-&gt;GetCrossId(TestCross2);
943    TStr TestCross3(&quot;TestCross3&quot;);
944    Graph-&gt;AddCrossNet(TestMode1, TestMode2, TestCross3, true);
945    TStr TestCross4(&quot;TestCross4&quot;);
946    Graph-&gt;AddCrossNet(TestModeId1, TestModeId2, TestCross4, false);
947    TInt TestCrossId4 = Graph-&gt;GetCrossId(TestCross4);
948    TModeNet&amp; ModeNet1 = Graph-&gt;GetModeNetByName(TestMode1);
949    TModeNet&amp; ModeNet2 = Graph-&gt;GetModeNetById(TestModeId2);
950    for (int i=0; i &lt; NNodes; i++) {
951      ModeNet1.AddNode(i);
952      ModeNet2.AddNode(i*2);
953    }
954    TCrossNet&amp; CrossNet1 = Graph-&gt;GetCrossNetByName(TestCross1);
955    TCrossNet&amp; CrossNet2 = Graph-&gt;GetCrossNetById(TestCrossId2);
956    TCrossNet&amp; CrossNet3 = Graph-&gt;GetCrossNetByName(TestCross3);
957    TCrossNet&amp; CrossNet4 = Graph-&gt;GetCrossNetById(TestCrossId4);
958    for (int i=0; i &lt; NEdges; i++) {
959      CrossNet1.AddEdge(i, (i+1)%NNodes, i);
960      CrossNet2.AddEdge((i+5)%NNodes, i, i);
961      CrossNet3.AddEdge(i, (i%NNodes)*2, i);
962      CrossNet4.AddEdge((i+5)%NNodes, (i%NNodes)*2, i);
963    }
964    TStrV CrossNets;
965    CrossNets.Add(TestCross1);
966    PMMNet Subgraph = Graph-&gt;GetSubgraphByCrossNet(CrossNets);
967    EXPECT_EQ(1, Subgraph-&gt;GetModeNets());
968    EXPECT_EQ(1, Subgraph-&gt;GetCrossNets());
969    TModeNet&amp; M1 = Subgraph-&gt;GetModeNetByName(TestMode1);
970    TStrV M1Names;
971    M1.GetCrossNetNames(M1Names);
972    EXPECT_EQ(1, M1Names.Len());
973    TIntV Neighbors;
974    M1.GetNeighborsByCrossNet(0, TestCross1, Neighbors);
975    EXPECT_EQ(1, Neighbors.Len());
976  }
977  TEST(multimodal, ToNetwork) {
978      int NNodes = 1000;
979    int NEdges = 1000;
980    PMMNet Graph;
981    Graph = PMMNet::New();
982    TStr TestMode1(&quot;TestMode1&quot;);
983    Graph-&gt;AddModeNet(TestMode1);
984    TInt TestModeId1 = Graph-&gt;GetModeId(TestMode1);
985    TStr TestMode2(&quot;TestMode2&quot;);
986    Graph-&gt;AddModeNet(TestMode2);
987    TInt TestModeId2 = Graph-&gt;GetModeId(TestMode2);
988    TStr TestCross1(&quot;TestCross1&quot;);
989    Graph-&gt;AddCrossNet(TestMode1, TestMode1, TestCross1, true);
990    TInt TestCrossId1 = Graph-&gt;GetCrossId(TestCross1);
991    TStr TestCross2(&quot;TestCross2&quot;);
992    Graph-&gt;AddCrossNet(TestModeId1, TestModeId1, TestCross2, false);
993    TInt TestCrossId2 = Graph-&gt;GetCrossId(TestCross2);
994    TStr TestCross3(&quot;TestCross3&quot;);
995    Graph-&gt;AddCrossNet(TestMode1, TestMode2, TestCross3, true);
996    TInt TestCrossId3 = Graph-&gt;GetCrossId(TestCross3);
997    TStr TestCross4(&quot;TestCross4&quot;);
998    Graph-&gt;AddCrossNet(TestModeId1, TestModeId2, TestCross4, false);
999    TInt TestCrossId4 = Graph-&gt;GetCrossId(TestCross4);
1000    TModeNet&amp; ModeNet1 = Graph-&gt;GetModeNetByName(TestMode1);
1001    TModeNet&amp; ModeNet2 = Graph-&gt;GetModeNetById(TestModeId2);
1002    for (int i=0; i &lt; NNodes; i++) {
1003      ModeNet1.AddNode(i);
1004      ModeNet2.AddNode(i*2);
1005    }
1006    TCrossNet&amp; CrossNet1 = Graph-&gt;GetCrossNetByName(TestCross1);
1007    TCrossNet&amp; CrossNet2 = Graph-&gt;GetCrossNetById(TestCrossId2);
1008    TCrossNet&amp; CrossNet3 = Graph-&gt;GetCrossNetByName(TestCross3);
1009    TCrossNet&amp; CrossNet4 = Graph-&gt;GetCrossNetById(TestCrossId4);
1010    for (int i=0; i &lt; NEdges; i++) {
1011      CrossNet1.AddEdge(i, (i+1)%NNodes, i);
1012      CrossNet2.AddEdge((i+5)%NNodes, i, i);
1013      CrossNet3.AddEdge(i, (i%NNodes)*2, i);
1014      CrossNet4.AddEdge((i+5)%NNodes, (i%NNodes)*2, i);
1015    }
1016    TIntV CrossNetIds;
1017    CrossNetIds.Add(TestCrossId1);
1018    CrossNetIds.Add(TestCrossId2);
1019    CrossNetIds.Add(TestCrossId3);
1020    CrossNetIds.Add(TestCrossId4);
1021    TVec&lt;TTriple&lt;TInt, TStr, TStr&gt; &gt; NodeAttrMapping; 
1022    TVec&lt;TTriple&lt;TInt, TStr, TStr&gt; &gt; EdgeAttrMapping; 
1023    PNEANet Net = Graph-&gt;ToNetwork(CrossNetIds, NodeAttrMapping, EdgeAttrMapping);
1024    EXPECT_EQ(NNodes*2, Net-&gt;GetNodes());
1025    EXPECT_EQ(NEdges*6, Net-&gt;GetEdges()); 
1026  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from snap-MDEwOlJlcG9zaXRvcnk0Mjg4MzU3-flat-test-multimodal.cpp</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from snap-MDEwOlJlcG9zaXRvcnk0Mjg4MzU3-flat-test-multimodal.cpp</div>
                </div>
                <div class="column column_space"><pre><code>189    M1.AddNode(1);
190    int EId = C1.AddEdge(0, 1);
191    TIntV InNeighbors;
192    TIntV OutNeighbors;
193    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors, true);
</pre></code></div>
                <div class="column column_space"><pre><code>637    M2.AddNode(0);
638    int EId = C1.AddEdge(0, 0);
639    TIntV InNeighbors;
640    TIntV OutNeighbors;
641    M1.GetNeighborsByCrossNet(0, CrossName, InNeighbors);
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    