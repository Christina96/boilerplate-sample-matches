<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for TestExprDiff.cpp &amp; TestIntervalVector.cpp</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for TestExprDiff.cpp &amp; TestIntervalVector.cpp
      </h3>
<h1 align="center">
        7.4%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>TestExprDiff.cpp (36.86007%)<th>TestIntervalVector.cpp (4.1618495%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(182-192)<td><a href="#" name="0">(234-245)</a><td align="center"><font color="#ff0000">21</font>
<tr onclick='openModal("#f63526")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#f63526"><font color="#f63526">-</font><td><a href="#" name="1">(136-155)<td><a href="#" name="1">(279-287)</a><td align="center"><font color="#c20000">16</font>
<tr onclick='openModal("#980517")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#980517"><font color="#980517">-</font><td><a href="#" name="2">(123-128)<td><a href="#" name="2">(1035-1040)</a><td align="center"><font color="#c20000">16</font>
<tr onclick='openModal("#53858b")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#53858b"><font color="#53858b">-</font><td><a href="#" name="3">(74-80)<td><a href="#" name="3">(476-484)</a><td align="center"><font color="#c20000">16</font>
<tr onclick='openModal("#6cc417")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#6cc417"><font color="#6cc417">-</font><td><a href="#" name="4">(275-308)<td><a href="#" name="4">(80-90)</a><td align="center"><font color="#9d0000">13</font>
<tr onclick='openModal("#151b8d")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#151b8d"><font color="#151b8d">-</font><td><a href="#" name="5">(101-108)<td><a href="#" name="5">(598-603)</a><td align="center"><font color="#9d0000">13</font>
<tr onclick='openModal("#8c8774")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#8c8774"><font color="#8c8774">-</font><td><a href="#" name="6">(27-36)<td><a href="#" name="6">(418-427)</a><td align="center"><font color="#9d0000">13</font>
</td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>TestExprDiff.cpp</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 #include "TestExprDiff.h"
2 #include "ibex_ExprDiff.h"
3 using namespace std;
4 namespace ibex {
5 void TestExprDiff::linear01() {
6 	Variable x,y;
7 	Function f(x,y,2*x+3*y);
8 	Function df(f,Function::DIFF);
9 <a name="6"></a>	const ExprConstant* c=dynamic_cast&lt;const ExprConstant*&gt;(&amp;df.expr());
10 	CPPUNIT_ASSERT(c);
11 	CPPUNIT_ASSERT(c-&gt;dim.type()==Dim::ROW_VECTOR);
12 <font color="#8c8774"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>	double _grad[][2] = {{2,2},{3,3}};
13 	IntervalVector grad(2,_grad);
14 	check(c-&gt;get_vector_value(),grad);
15 }
16 void TestExprDiff::poly01() {
17 	Variable x("x"),y("y");
18 	Function f(x,y,((sqr(x)+2*(x*y))+pow(y,3))+1);
19 	Function df(f,Function::DIFF);</b></font>
20 	const ExprVector* v=dynamic_cast&lt;const ExprVector*&gt;(&amp;df.expr());
21 	CPPUNIT_ASSERT(v);
22 	CPPUNIT_ASSERT(v-&gt;dim.type()==Dim::ROW_VECTOR);
23 	CPPUNIT_ASSERT(sameExpr(v-&gt;arg(0),"((2*x)+(2*y))")
24 			|| sameExpr(v-&gt;arg(0),"((2*y)+(2*x))")
25 			||sameExpr(v-&gt;arg(0),"(([2,2]*x)+(2*y))")
26 			|| sameExpr(v-&gt;arg(0),"((2*y)+([2,2]*x))")
27 			|| sameExpr(v-&gt;arg(0),"(([2,2]*y)+([2,2]*x))")
28 			||sameExpr(v-&gt;arg(0),"(([2,2]*y)+(2*x))")
29 			|| sameExpr(v-&gt;arg(0),"((2*x)+([2,2]*y))")
30 			|| sameExpr(v-&gt;arg(0),"(([2,2]*x)+([2,2]*y))"));
31 	CPPUNIT_ASSERT(sameExpr(v-&gt;arg(1),"((2*x)+(3*y^2))")
32 			|| sameExpr(v-&gt;arg(1),"(([2,2]*x)+([3,3]*y^2))")
33 			|| sameExpr(v-&gt;arg(1),"((2*x)+([3,3]*y^2))")
34 			|| sameExpr(v-&gt;arg(1),"(([2,2]*x)+(3*y^2))")
35 	        || sameExpr(v-&gt;arg(1),"((x*2)+(3*y^2))"));
36 }
37 void TestExprDiff::one_var_one_func() {
38 	Variable x("x");
39 	Function f(x,sqr(x)+1);
40 	Function df(f,Function::DIFF);
41 	CPPUNIT_ASSERT(df.expr().dim.type()==Dim::SCALAR);
42 	CPPUNIT_ASSERT(sameExpr(df.expr(),"(2*x)")
43 			||sameExpr(df.expr(),"([2,2]*x)"));
44 }
45 void TestExprDiff::vec01() {
46 	Variable x(4,"x");
47 	Function f(x,x[0]+x[3]);
48 	Function df(f,Function::DIFF);
49 <a name="3"></a>	const ExprConstant* c=dynamic_cast&lt;const ExprConstant*&gt;(&amp;df.expr());
50 	CPPUNIT_ASSERT(c);
51 	CPPUNIT_ASSERT(c-&gt;dim.type()==Dim::ROW_VECTOR);
52 <font color="#53858b"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>	double _grad[][2] = {{1,1},{0,0},{0,0},{1,1}};
53 	IntervalVector grad(4,_grad);
54 	CPPUNIT_ASSERT(c-&gt;get_vector_value()==grad);
55 }
56 void TestExprDiff::vec02() {</b></font>
57 	Variable x(4,"x");
58 	Function f(x,x[0]*x[3]);
59 	Function df(f,Function::DIFF);
60 	const ExprVector* v=dynamic_cast&lt;const ExprVector*&gt;(&amp;df.expr());
61 	CPPUNIT_ASSERT(v);
62 	CPPUNIT_ASSERT(v-&gt;dim.type()==Dim::ROW_VECTOR);
63 	CPPUNIT_ASSERT(sameExpr(v-&gt;arg(0),x[3]));
64 	CPPUNIT_ASSERT(sameExpr(v-&gt;arg(3),x[0]));
65 }
66 void TestExprDiff::vec03() {
67 	Variable x(2,"x");
68 	Array&lt;const ExprNode&gt; _vec1(x[0],x[1]);
69 	const ExprNode&amp; vec1=ExprVector::new_col(_vec1);
70 	Function f(x,vec1[1]);
71 	Function df(f,Function::DIFF);
72 <a name="5"></a>	const ExprConstant* c=dynamic_cast&lt;const ExprConstant*&gt;(&amp;df.expr());
73 	CPPUNIT_ASSERT(c);
74 	CPPUNIT_ASSERT(c-&gt;dim.type()==Dim::ROW_VECTOR);
75 <font color="#151b8d"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>	double _v[][2]= {{0,0},{1,1}};
76 	CPPUNIT_ASSERT(c-&gt;get_vector_value()==IntervalVector(2,_v));
77 }
78 void TestExprDiff::row_vec() {
79 	Variable x(1,3,"x");
80 	Function f(x,x);
81 	Function df(f,Function::DIFF);</b></font>
82 	const ExprConstant* c=dynamic_cast&lt;const ExprConstant*&gt;(&amp;df.expr());
83 	CPPUNIT_ASSERT(c);
84 	CPPUNIT_ASSERT(c-&gt;dim.type()==Dim::MATRIX);
85 	CPPUNIT_ASSERT(c-&gt;get_matrix_value()==Matrix::eye(3));
86 }
87 void TestExprDiff::mat01() {
88 	Variable x(2,2,"x");
89 	Function f(x,x[1][0]);
90 	Function df(f,Function::DIFF);
91 <a name="2"></a>	const ExprConstant* c=dynamic_cast&lt;const ExprConstant*&gt;(&amp;df.expr());
92 	CPPUNIT_ASSERT(c!=NULL);
93 <font color="#980517"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>	double _M[][2]= {{0,0},{0,0},{1,1},{0,0}};
94 	CPPUNIT_ASSERT(c-&gt;get_vector_value()==IntervalVector(4,_M));
95 }
96 void TestExprDiff::mat02() {</b></font>
97 	Variable x(2,2,"x");
98 	Array&lt;const ExprNode&gt; vec1(x[0],x[1]);
99 	Function f(x,vec1[1][0]);
100 	Function df(f,Function::DIFF);
101 <a name="1"></a>	const ExprConstant* c=dynamic_cast&lt;const ExprConstant*&gt;(&amp;df.expr());
102 	CPPUNIT_ASSERT(c!=NULL);
103 <font color="#f63526"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>	double _M[][2]= {{0,0},{0,0},{1,1},{0,0}};
104 	CPPUNIT_ASSERT(c-&gt;get_vector_value()==IntervalVector(4,_M));
105 }
106 void TestExprDiff::apply01() {
107 	Variable x("x");
108 	Function f(x,sqr(x),"f");
109 	Function g(x,f(3*x));
110 	Function dg(g,Function::DIFF);
111 	CPPUNIT_ASSERT(sameExpr(dg.expr(),"(18*x)"));
112 }
113 void TestExprDiff::apply02() {</b></font>
114 	Variable x("x");
115 	Function f(x,sqr(x),"f");
116 	Function g(x,3*f(x));
117 	Function dg(g,Function::DIFF);
118 	CPPUNIT_ASSERT(sameExpr(dg.expr(),"(6*x)"));
119 }
120 void TestExprDiff::apply03() {
121 	Variable x("x"),y("y");
122 	Function f(x,y,x*y,"f");
123 	Function g(x,y,f(2*x,3*y));
124 	Function dg(g,Function::DIFF);
125 <a name="0"></a>	//CPPUNIT_ASSERT(sameExpr(dg.expr(),"((df((2*x),(3*y))[0]*2),(df((2*x),(3*y))[1]*3))"));
126 	CPPUNIT_ASSERT(sameExpr(dg.expr(),"((6*y),(6*x))"));
127 <font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>	double _box[][2]={{1,1},{2,2}};
128 	double _dg_box[][2]={{12,12},{6,6}};
129 	IntervalVector dg_box(dg.eval_vector(IntervalVector(2,_box)));
130 	check(dg_box,IntervalVector(2,_dg_box));
131 	CPPUNIT_ASSERT(dg_box.is_superset(IntervalVector(2,_dg_box)));
132 }
133 void TestExprDiff::cst_grad() {
134 	Function f("x","y","z","10*(x-y)");
135 	Function df(f,Function::DIFF);</b></font>
136 	const ExprNode&amp; y=df.expr();
137 	const ExprConstant* c = dynamic_cast&lt;const ExprConstant*&gt;(&amp;y);
138 	CPPUNIT_ASSERT(c);
139 	CPPUNIT_ASSERT(c-&gt;dim.is_vector());
140 	IntervalVector v(3);
141 	v[0]=Interval(10,10);
142 	v[1]=Interval(-10,-10);
143 	v[2]=Interval(0,0);
144 	check(c-&gt;get_vector_value(),v);
145 	CPPUNIT_ASSERT((c-&gt;get_vector_value()).is_superset(v));
146 }
147 void TestExprDiff::vecimg01() {
148 	Function f("x","(x;x;x)");
149 	Function df(f,Function::DIFF);
150 	const ExprNode&amp; y=df.expr();
151 	const ExprConstant* c = dynamic_cast&lt;const ExprConstant*&gt;(&amp;y);
152 	CPPUNIT_ASSERT(c!=NULL);
153 	CPPUNIT_ASSERT(c-&gt;dim.is_vector());
154 	IntervalVector v(3,Interval(1.0));
155 	check(c-&gt;get_vector_value(),v);
156 	CPPUNIT_ASSERT((c-&gt;get_vector_value()).is_superset(v));
157 }
158 void TestExprDiff::vecimg02() {
159 	Function f("x","y","(x;y;-x)");
160 	Function df(f,Function::DIFF);
161 	const ExprNode&amp; y=df.expr();
162 	const ExprConstant* c = dynamic_cast&lt;const ExprConstant*&gt;(&amp;y);
163 	CPPUNIT_ASSERT(c);
164 	CPPUNIT_ASSERT(c-&gt;dim.is_matrix());
165 	double _mat[3*2] = {1,0,0,1,-1,0};
166 	Matrix mat(3,2,_mat);
167 	CPPUNIT_ASSERT(c-&gt;get_matrix_value()==mat);
168 }
169 void TestExprDiff::mul01() {
170 	Variable x("x");
171 	const ExprVector&amp; v1=ExprVector::new_row(x,x);
172 	const ExprVector&amp; v2=ExprVector::new_col(x,Interval(2,2));
173 	Function f(x,v1*v2);
174 	Function df(f,Function::DIFF);
175 	CPPUNIT_ASSERT(sameExpr(df.expr(),"(2+(2*x))"));
176 }
177 void TestExprDiff::mul02() {
178 	Variable x("x");
179 	const ExprVector&amp; v1=ExprVector::new_col(x,x);
180 	const ExprVector&amp; v2=ExprVector::new_col(x,Interval(2,2));
181 	Function f(x,transpose(v1)*v2);
182 	Function df(f,Function::DIFF);
183 	CPPUNIT_ASSERT(sameExpr(df.expr(),"(2+(2*x))"));
184 }
185 void TestExprDiff::mul03() {
186 	Variable x("x");
187 	Variable y("y");
188 	const ExprVector&amp; v=ExprVector::new_col(x,y);
189 	const ExprConstant&amp; M=ExprConstant::new_matrix(Matrix::eye(2));
190 	Function f(x,y,M*v);
191 	Function df(f,Function::DIFF);
192 	const ExprConstant* c=dynamic_cast&lt;const ExprConstant*&gt;(&amp;df.expr());
193 	CPPUNIT_ASSERT(c);
194 	CPPUNIT_ASSERT(c-&gt;dim.type()==Dim::MATRIX);
195 	CPPUNIT_ASSERT(c-&gt;get_matrix_value()==Matrix::eye(2));
196 }
197 void TestExprDiff::mul04() {
198 	Variable x("x");
199 	Variable y("y");
200 	const ExprVector&amp; v=ExprVector::new_row(x,y);
201 	const ExprConstant&amp; M=ExprConstant::new_matrix(Matrix::eye(2));
202 	Function f(x,y,v*M);
203 	Function df(f,Function::DIFF);
204 	const ExprConstant* c=dynamic_cast&lt;const ExprConstant*&gt;(&amp;df.expr());
205 <a name="4"></a>	CPPUNIT_ASSERT(c);
206 	CPPUNIT_ASSERT(c-&gt;dim.type()==Dim::MATRIX);
207 	CPPUNIT_ASSERT(c-&gt;get_matrix_value()==Matrix::eye(2));
208 <font color="#6cc417"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>}
209 void TestExprDiff::apply_mul01() {
210 	Variable x,y;
211 	Function f(x,y,x,"f");
212 	Variable x3,y3;
213 	Function g(x3,y3,y3,"g");
214 	Variable x2("x"),y2("y");
215 	Function h(x2,y2,f(x2,y2)*g(x2,y2));
216 	Function dh(h,Function::DIFF);
217 	CPPUNIT_ASSERT(sameExpr(dh.expr(),"(y,x)"));
218 }
219 void TestExprDiff::apply_mul02() {
220 }
221 void TestExprDiff::issue247() {</b></font>
222 	const ExprSymbol&amp; x=ExprSymbol::new_();
223 	const ExprSymbol&amp; y=ExprSymbol::new_();
224 	const ExprNode&amp; e=x+y;
225 	Array&lt;const ExprNode&gt; a(e,e,e);
226 	const ExprVector&amp; v1=ExprVector::new_col(a);
227 	DoubleIndex idx(v1.dim,0,1,0,0);
228 	const ExprVector&amp; v2=ExprVector::new_col(v1[idx],v1[idx]);
229 	Function f(x,y,v2[0]);
230 	IntervalVector g=f.gradient(IntervalVector(2));
231 	CPPUNIT_ASSERT(g==Vector::ones(2));
232 }
233 } 
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>TestIntervalVector.cpp</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 #include "TestIntervalVector.h"
2 #include "ibex_Interval.h"
3 #include "utils.h"
4 using namespace std;
5 void TestIntervalVector::cons01() {
6 	IntervalVector x(2);
7 	x[0]=Interval::all_reals();
8 	x[1]=Interval::all_reals();
9 	check(x,IntervalVector(2));
10 	check(x,IntervalVector(x));
11 	check(x,IntervalVector(2)=x);
12 }
13 void TestIntervalVector::cons02() {
14 	IntervalVector x(2);
15 	x[0]=Interval(0,1);
16 	x[1]=Interval(0,1);
17 	check(x,IntervalVector(2,Interval(0,1)));
18 	check(x,IntervalVector(x));
19 	check(x,IntervalVector(2)=x);
20 }
21 void TestIntervalVector::cons03() {
22 	IntervalVector x(2);
23 	x[0]=Interval(0,1);
24 	x[1]=Interval(2,3);
25 	check(x,IntervalVector(x));
26 	check(x,IntervalVector(2)=x);
27 }
28 void TestIntervalVector::cons04() {
29 	double bounds[][2] = {{0,1},{2,3}};
30 	IntervalVector x(2);
31 	x[0]=Interval(0,1);
32 	x[1]=Interval(2,3);
33 	check(x,IntervalVector(2,bounds));
34 	check(x,IntervalVector(2)=x);
35 }
36 void TestIntervalVector::cons05() {
37 	IntervalVector x(2);
38 	x[0].set_empty();
39 	x[1].set_empty();
40 	CPPUNIT_ASSERT(x.is_empty());
41 	CPPUNIT_ASSERT((IntervalVector(2)=x).is_empty());
42 }
43 void TestIntervalVector::consInitList() {
44 	IntervalVector x{
45 		{1.0, 2.0},
46 		{2.0, 3.0},
47 		{4}
48 	};
49 	CPPUNIT_ASSERT(x.size() == 3);
50 	CPPUNIT_ASSERT(x[0] == Interval(1.0, 2.0));
51 	CPPUNIT_ASSERT(x[1] == Interval(2.0, 3.0));
52 	CPPUNIT_ASSERT(x[2] == Interval(4.0, 4.0));
53 }
54 void TestIntervalVector::set_empty01() {
55 	IntervalVector x(2);
56 <a name="4"></a>	CPPUNIT_ASSERT(!x.is_empty());
57 	x.set_empty();
58 	CPPUNIT_ASSERT(x.is_empty());
59 <font color="#6cc417"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>}
60 void TestIntervalVector::is_empty01() {
61 	CPPUNIT_ASSERT(IntervalVector::empty(2).is_empty());
62 }
63 void TestIntervalVector::is_empty02() {
64 	CPPUNIT_ASSERT(!IntervalVector(2).is_empty());
65 }
66 void TestIntervalVector::resize01() {</b></font>
67 	IntervalVector x(1);
68 	x[0]=Interval(1,2);
69 	x.resize(3);
70 	CPPUNIT_ASSERT(x.size()==3);
71 	check(x[0],Interval(1,2));
72 	check(x[1],Interval::all_reals());
73 	check(x[2],Interval::all_reals());
74 }
75 void TestIntervalVector::resize02() {
76 	IntervalVector x(1);
77 	x[0]=Interval(1,2);
78 	x.resize(1);
79 	CPPUNIT_ASSERT(x.size()==1);
80 	check(x[0],Interval(1,2));
81 }
82 void TestIntervalVector::resize03() {
83 	IntervalVector x(2);
84 	x[0]=Interval(1,2);
85 	x.set_empty();
86 	x.resize(3);
87 	CPPUNIT_ASSERT(x.size()==3);
88 	CPPUNIT_ASSERT(x.is_empty());
89 	CPPUNIT_ASSERT(x[2]==Interval::all_reals());
90 }
91 void TestIntervalVector::resize04() {
92 	IntervalVector x(5);
93 	x[0]=Interval(1,2);
94 	x[1]=Interval(3,4);
95 	x.resize(2);
96 	CPPUNIT_ASSERT(x.size()==2);
97 	check(x[0],Interval(1,2));
98 	check(x[1],Interval(3,4));
99 }
100 static double _x[][2]={{0,1},{2,3},{4,5}};
101 void TestIntervalVector::subvector01() {
102 	double _x01[][2]={{0,1},{2,3}};
103 	CPPUNIT_ASSERT(IntervalVector(3,_x).subvector(0,1)==IntervalVector(2,_x01));
104 }
105 void TestIntervalVector::subvector02() {
106 	double _x12[][2]={{2,3},{4,5}};
107 	CPPUNIT_ASSERT(IntervalVector(3,_x).subvector(1,2)==IntervalVector(2,_x12));
108 }
109 void TestIntervalVector::subvector03() {
110 	double _x11[][2]={{2,3}};
111 	CPPUNIT_ASSERT(IntervalVector(3,_x).subvector(1,1)==IntervalVector(1,_x11));
112 }
113 void TestIntervalVector::subvector04() {
114 	double _x22[][2]={{4,5}};
115 	CPPUNIT_ASSERT(IntervalVector(3,_x).subvector(2,2)==IntervalVector(1,_x22));
116 }
117 void TestIntervalVector::subvector05() {
118 	CPPUNIT_ASSERT(IntervalVector(3,_x).subvector(0,2)==IntervalVector(3,_x));
119 }
120 void TestIntervalVector::subvector06() {
121 	CPPUNIT_ASSERT(IntervalVector::empty(3).subvector(1,2).is_empty());
122 }
123 void TestIntervalVector::cart_prod01() {
124 	CPPUNIT_ASSERT(cart_prod(IntervalVector(3,_x),IntervalVector::empty(3)).is_empty());
125 	CPPUNIT_ASSERT(cart_prod(IntervalVector::empty(3),IntervalVector(3,_x)).is_empty());
126 }
127 void TestIntervalVector::inter01() {
128 	double _x1[][2]={{0,2},{4,6}};
129 	double _x2[][2]={{1,3},{5,7}};
130 	double _res[][2]={{1,2},{5,6}};
131 	CPPUNIT_ASSERT(((IntervalVector(2,_x1)) &amp;=IntervalVector(2,_x2))==IntervalVector(2,_res));
132 	CPPUNIT_ASSERT(((IntervalVector(2,_x1)) &amp; IntervalVector(2,_x2))==IntervalVector(2,_res));
133 }
134 void TestIntervalVector::inter02() {
135 	double _x1[][2]={{0,2},{4,6}};
136 	double _x2[][2]={{1,3},{7,8}};
137 	CPPUNIT_ASSERT(((IntervalVector(2,_x1)) &amp;=IntervalVector(2,_x2)).is_empty());
138 	CPPUNIT_ASSERT(((IntervalVector(2,_x1)) &amp; IntervalVector(2,_x2)).is_empty());
139 }
140 void TestIntervalVector::inter03() {
141 	double _x1[][2]={{0,2},{4,6}};
142 	CPPUNIT_ASSERT(((IntervalVector(2,_x1)) &amp;=IntervalVector::empty(2)).is_empty());
143 	CPPUNIT_ASSERT(((IntervalVector(2,_x1)) &amp; IntervalVector::empty(2)).is_empty());
144 }
145 void TestIntervalVector::inter04() {
146 	double _x1[][2]={{0,2},{4,6}};
147 	CPPUNIT_ASSERT(((IntervalVector::empty(2)) &amp;=IntervalVector(2,_x1)).is_empty());
148 	CPPUNIT_ASSERT(((IntervalVector::empty(2)) &amp; IntervalVector(2,_x1)).is_empty());
149 }
150 void TestIntervalVector::hull01() {
151 	double _x1[][2]={{0,1},{4,5}};
152 	double _x2[][2]={{2,3},{6,7}};
153 	double _res[][2]={{0,3},{4,7}};
154 	CPPUNIT_ASSERT(((IntervalVector(2,_x1)) |=IntervalVector(2,_x2))==IntervalVector(2,_res));
155 	CPPUNIT_ASSERT(((IntervalVector(2,_x1)) | IntervalVector(2,_x2))==IntervalVector(2,_res));
156 }
157 void TestIntervalVector::hull02() {
158 	double _x1[][2]={{0,1},{4,5}};
159 	IntervalVector x1(2,_x1);
160 	CPPUNIT_ASSERT((x1 |= x1)==x1);
161 	CPPUNIT_ASSERT((x1 | x1)==x1);
162 }
163 void TestIntervalVector::hull03() {
164 	double _x1[][2]={{0,2},{4,6}};
165 	IntervalVector x1(2,_x1);
166 	CPPUNIT_ASSERT((x1 |=IntervalVector::empty(2))==x1);
167 	CPPUNIT_ASSERT((x1 | IntervalVector::empty(2))==x1);
168 }
169 void TestIntervalVector::hull04() {
170 	double _x1[][2]={{0,2},{4,6}};
171 	IntervalVector x1(2,_x1);
172 	CPPUNIT_ASSERT(((IntervalVector::empty(2)) |= x1)==x1);
173 	CPPUNIT_ASSERT(((IntervalVector::empty(2)) | x1)==x1);
174 }
175 void TestIntervalVector::eq01() {
176 	IntervalVector x(3,_x);
177 	CPPUNIT_ASSERT(x==x);
178 	CPPUNIT_ASSERT(!(x!=x));
179 }
180 void TestIntervalVector::eq02() {
181 	IntervalVector x(3,_x);
182 	double _x01[][2]={{0,1},{2,3}};
183 	IntervalVector x1(2,_x01);
184 	CPPUNIT_ASSERT(!(x==x1));
185 	CPPUNIT_ASSERT(x!=x1);
186 <a name="0"></a>}
187 void TestIntervalVector::eq03() {
188 <font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>	double _x1[][2]={{0,1},{4,5}};
189 	double _x2[][2]={{2,3},{6,7}};
190 	IntervalVector x1(2,_x1);
191 	IntervalVector x2(2,_x2);
192 	x1.set_empty();
193 	x2.set_empty();
194 	CPPUNIT_ASSERT(x1==x2);
195 	CPPUNIT_ASSERT(!(x1!=x2));
196 }
197 void TestIntervalVector::eq04() {
198 	CPPUNIT_ASSERT(IntervalVector::empty(2)==IntervalVector::empty(2));</b></font>
199 	CPPUNIT_ASSERT(IntervalVector::empty(2)!=IntervalVector::empty(3));
200 	IntervalVector x(2);
201 	x.set_empty();
202 	CPPUNIT_ASSERT(IntervalVector::empty(2)==x);
203 }
204 void TestIntervalVector::mid01() {
205 	IntervalVector x(3,_x);
206 	Vector m=x.mid();
207 	check(m[0],0.5);
208 	check(m[1],2.5);
209 	check(m[2],4.5);
210 }
211 void TestIntervalVector::is_flat01() {
212 	CPPUNIT_ASSERT(!IntervalVector(3,_x).is_flat());
213 }
214 void TestIntervalVector::is_flat02() {
215 	CPPUNIT_ASSERT(IntervalVector::empty(3).is_flat());
216 }
217 void TestIntervalVector::is_flat03() {
218 	CPPUNIT_ASSERT(IntervalVector(1,Interval(0,0)).is_flat());
219 	CPPUNIT_ASSERT(!IntervalVector(1,Interval(0,1)).is_flat());
220 }
221 void TestIntervalVector::is_flat04() {
222 	double _x1[][2]={{0,1},{2,2},{3,4}};
223 	CPPUNIT_ASSERT(IntervalVector(3,_x1).is_flat());
224 <a name="1"></a>}
225 void TestIntervalVector::is_flat05() {
226 <font color="#f63526"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>	double _x1[][2]={{0,1},{2,3},{4,4}};
227 	CPPUNIT_ASSERT(IntervalVector(3,_x1).is_flat());
228 }
229 void TestIntervalVector::is_unbounded01() {
230 	CPPUNIT_ASSERT(!IntervalVector::empty(3).is_unbounded());
231 }
232 void TestIntervalVector::is_unbounded02() {</b></font>
233 	double _x1[][2]={{0,1},{0,2},{NEG_INFINITY,0}};
234 	CPPUNIT_ASSERT(IntervalVector(3,_x1).is_unbounded());
235 }
236 void TestIntervalVector::is_unbounded03() {
237 	double _x1[][2]={{0,1},{0,2}};
238 	CPPUNIT_ASSERT(!IntervalVector(2,_x1).is_unbounded());
239 }
240 void TestIntervalVector::is_unbounded04() {
241 	CPPUNIT_ASSERT(IntervalVector(1).is_unbounded());
242 }
243 void TestIntervalVector::is_subset01() {
244 	double _x1[][2]={{0,2},{2,4}};
245 	double _x2[][2]={{0,1},{3,4}};
246 	IntervalVector x1(2,_x1);
247 	IntervalVector x2(2,_x2);
248 	CPPUNIT_ASSERT(x1.is_superset(x2));
249 	CPPUNIT_ASSERT(x2.is_subset(x1));
250 	CPPUNIT_ASSERT(x1.is_strict_superset(x2));
251 	CPPUNIT_ASSERT(!x2.is_strict_interior_subset(x1));
252 }
253 void TestIntervalVector::is_subset02() {
254 	double _x1[][2]={{0,2},{2,4}};
255 	double _x2[][2]={{1,1},{3,4}};
256 	IntervalVector x1(2,_x1);
257 	IntervalVector x2(2,_x2);
258 	CPPUNIT_ASSERT(x1.is_superset(x2));
259 	CPPUNIT_ASSERT(x2.is_subset(x1));
260 	CPPUNIT_ASSERT(x1.is_strict_superset(x2));
261 	CPPUNIT_ASSERT(!x2.is_strict_interior_subset(x1));
262 }
263 void TestIntervalVector::is_subset03() {
264 	double _x1[][2]={{0,2},{2,4}};
265 	double _x2[][2]={{0,1},{3,3}};
266 	IntervalVector x1(2,_x1);
267 	IntervalVector x2(2,_x2);
268 	CPPUNIT_ASSERT(x1.is_superset(x2));
269 	CPPUNIT_ASSERT(x2.is_subset(x1));
270 	CPPUNIT_ASSERT(x1.is_strict_superset(x2));
271 	CPPUNIT_ASSERT(!x2.is_strict_interior_subset(x1));
272 }
273 void TestIntervalVector::is_subset04() {
274 	double _x1[][2]={{0,2},{2,4}};
275 	double _x2[][2]={{1,1},{3,3}};
276 	IntervalVector x1(2,_x1);
277 	IntervalVector x2(2,_x2);
278 	CPPUNIT_ASSERT(x1.is_superset(x2));
279 	CPPUNIT_ASSERT(x2.is_subset(x1));
280 	CPPUNIT_ASSERT(x1.is_strict_superset(x2));
281 	CPPUNIT_ASSERT(x2.is_strict_interior_subset(x1));
282 }
283 void TestIntervalVector::is_subset05() {
284 	double _x1[][2]={{0,2},{2,4}};
285 	IntervalVector x1(2,_x1);
286 	IntervalVector x2(IntervalVector::empty(2));
287 	CPPUNIT_ASSERT(x1.is_superset(x2));
288 	CPPUNIT_ASSERT(x2.is_subset(x1));
289 	CPPUNIT_ASSERT(x1.is_strict_superset(x2));
290 	CPPUNIT_ASSERT(x2.is_strict_interior_subset(x1));
291 }
292 void TestIntervalVector::is_subset06() {
293 	double _x2[][2]={{1,1},{3,3}};
294 	IntervalVector x1(IntervalVector::empty(2));
295 	IntervalVector x2(2,_x2);
296 	CPPUNIT_ASSERT(!x1.is_superset(x2));
297 	CPPUNIT_ASSERT(!x2.is_subset(x1));
298 	CPPUNIT_ASSERT(!x1.is_strict_superset(x2));
299 	CPPUNIT_ASSERT(!x2.is_strict_interior_subset(x1));
300 }
301 void TestIntervalVector::is_subset07() {
302 	double _x1[][2]={{0,2},{2,4}};
303 	double _x2[][2]={{1,1},{3,5}};
304 	IntervalVector x1(2,_x1);
305 	IntervalVector x2(2,_x2);
306 	CPPUNIT_ASSERT(!x1.is_superset(x2));
307 	CPPUNIT_ASSERT(!x2.is_subset(x1));
308 	CPPUNIT_ASSERT(!x1.is_strict_superset(x2));
309 	CPPUNIT_ASSERT(!x2.is_strict_interior_subset(x1));
310 }
311 void TestIntervalVector::is_relative_interior01() {
312 	double _x1[][2]={{1,1},{3,4}};
313 	double _x2[][2]={{1,1},{2,5}};
314 	IntervalVector x1(2,_x1);
315 	IntervalVector x2(2,_x2);
316 	CPPUNIT_ASSERT(x1.is_relative_interior_subset(x2));
317 }
318 void TestIntervalVector::is_relative_interior02() {
319 	double _x1[][2]={{3,4},{3,3}};
320 	double _x2[][2]={{2,5},{3,3}};
321 	IntervalVector x1(2,_x1);
322 	IntervalVector x2(2,_x2);
323 	CPPUNIT_ASSERT(x1.is_relative_interior_subset(x2));
324 }
325 void TestIntervalVector::is_relative_interior03() {
326 	double _x1[][2]={{0,0},{1,1}};
327 	double _x2[][2]={{1,1},{1,1}};
328 	IntervalVector x1(2,_x1);
329 	IntervalVector x2(2,_x2);
330 	CPPUNIT_ASSERT(!x1.is_relative_interior_subset(x2));
331 }
332 <a name="6"></a>
333 void TestIntervalVector::is_relative_interior04() {
334 	double _x1[][2]={{0,0},{1,1}};
335 <font color="#8c8774"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>	double _x2[][2]={{0,0},{1,1}};
336 	IntervalVector x1(2,_x1);
337 	IntervalVector x2(2,_x2);
338 	CPPUNIT_ASSERT(x1.is_relative_interior_subset(x2));
339 }
340 void TestIntervalVector::is_relative_interior05() {
341 	CPPUNIT_ASSERT(IntervalVector::empty(2).is_relative_interior_subset(IntervalVector(2)));</b></font>
342 }
343 void TestIntervalVector::extr_diam_index01() {
344 	 double _x1[][2]={{0,2},{0,1},{0,3}};
345 	IntervalVector x1(3,_x1);
346 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==1);
347 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==2);
348 	CPPUNIT_ASSERT(x1.min_diam()==1);
349 	CPPUNIT_ASSERT(x1.max_diam()==3);
350 }
351 void TestIntervalVector::extr_diam_index02() {
352 	double _x1[][2]={{0,1},{0,3},{0,2}};
353 	IntervalVector x1(3,_x1);
354 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==0);
355 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==1);
356 	CPPUNIT_ASSERT(x1.min_diam()==1);
357 	CPPUNIT_ASSERT(x1.max_diam()==3);
358 }
359 void TestIntervalVector::extr_diam_index03() {
360 	double _x1[][2]={{0,3},{0,2},{0,1}};
361 	IntervalVector x1(3,_x1);
362 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==2);
363 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==0);
364 	CPPUNIT_ASSERT(x1.min_diam()==1);
365 	CPPUNIT_ASSERT(x1.max_diam()==3);
366 }
367 void TestIntervalVector::extr_diam_index04() {
368 	double _x1[][2]={{0,1},{0,2},{NEG_INFINITY,0}};
369 	IntervalVector x1(3,_x1);
370 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==0);
371 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==2);
372 	CPPUNIT_ASSERT(x1.min_diam()==1);
373 	CPPUNIT_ASSERT(x1.max_diam()==POS_INFINITY);
374 }
375 void TestIntervalVector::extr_diam_index05() {
376 	double _x1[][2]={{NEG_INFINITY,0}};
377 	IntervalVector x1(1,_x1);
378 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==0);
379 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==0);
380 	CPPUNIT_ASSERT(x1.min_diam()==POS_INFINITY);
381 	CPPUNIT_ASSERT(x1.max_diam()==POS_INFINITY);
382 <a name="3"></a>}
383 void TestIntervalVector::extr_diam_index06() {
384 <font color="#53858b"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>	double _x1[][2]={{NEG_INFINITY,0},{0,1},{NEG_INFINITY,1},{1,3}};
385 	IntervalVector x1(4,_x1);
386 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==1);
387 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==2);
388 	CPPUNIT_ASSERT(x1.min_diam()==1);
389 	CPPUNIT_ASSERT(x1.max_diam()==POS_INFINITY);
390 }
391 void TestIntervalVector::extr_diam_index07() {</b></font>
392 	double _x1[][2]={{NEG_INFINITY,0},{-2,POS_INFINITY},{NEG_INFINITY,1}};
393 	IntervalVector x1(3,_x1);
394 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==0);
395 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==1);
396 	CPPUNIT_ASSERT(x1.min_diam()==POS_INFINITY);
397 	CPPUNIT_ASSERT(x1.max_diam()==POS_INFINITY);
398 }
399 void TestIntervalVector::extr_diam_index08() {
400 	double _x1[][2]={{NEG_INFINITY,0},{NEG_INFINITY,1},{-2,POS_INFINITY}};
401 	IntervalVector x1(3,_x1);
402 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==0);
403 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==2);
404 	CPPUNIT_ASSERT(x1.min_diam()==POS_INFINITY);
405 	CPPUNIT_ASSERT(x1.max_diam()==POS_INFINITY);
406 }
407 void TestIntervalVector::extr_diam_index09() {
408 	double _x1[][2]={{-2,POS_INFINITY},{NEG_INFINITY,0},{NEG_INFINITY,1}};
409 	IntervalVector x1(3,_x1);
410 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==1);
411 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==0);
412 	CPPUNIT_ASSERT(x1.min_diam()==POS_INFINITY);
413 	CPPUNIT_ASSERT(x1.max_diam()==POS_INFINITY);
414 }
415 void TestIntervalVector::extr_diam_index10() {
416 	double _x1[][2]={{-2,POS_INFINITY},{NEG_INFINITY,1},{NEG_INFINITY,0}};
417 	IntervalVector x1(3,_x1);
418 	CPPUNIT_ASSERT(x1.extr_diam_index(true)==2);
419 	CPPUNIT_ASSERT(x1.extr_diam_index(false)==0);
420 	CPPUNIT_ASSERT(x1.min_diam()==POS_INFINITY);
421 	CPPUNIT_ASSERT(x1.max_diam()==POS_INFINITY);
422 }
423 void TestIntervalVector::sort_indices01() {
424 	double _x[][2]={{0,2},{NEG_INFINITY,0},{0,1},{3,3},{-10,10}};
425 	IntervalVector x(5,_x);
426 	int tab[5];
427 	x.sort_indices(true,tab);
428 	CPPUNIT_ASSERT(tab[0]==3);
429 	CPPUNIT_ASSERT(tab[1]==2);
430 	CPPUNIT_ASSERT(tab[2]==0);
431 	CPPUNIT_ASSERT(tab[3]==4);
432 	CPPUNIT_ASSERT(tab[4]==1);
433 }
434 void TestIntervalVector::sort_indices02() {
435 	double _x[][2]={{0,2},{NEG_INFINITY,0},{0,1},{3,3},{-10,10}};
436 	IntervalVector x(5,_x);
437 	int tab[5];
438 	x.sort_indices(false,tab);
439 	CPPUNIT_ASSERT(tab[0]==1);
440 	CPPUNIT_ASSERT(tab[1]==4);
441 	CPPUNIT_ASSERT(tab[2]==0);
442 	CPPUNIT_ASSERT(tab[3]==2);
443 	CPPUNIT_ASSERT(tab[4]==3);
444 }
445 void TestIntervalVector::rel_distance01() {
446   IntervalVector box1(3);
447   IntervalVector box2(3);
448   box1[0]=Interval(0,0);
449   box2[0]=Interval(0,0);
450   box1[1]=Interval(-1,0);
451   box2[1]=Interval(-1,0);
452   box1[2]=Interval(1,4);
453   box2[2]=Interval(1.5,3);
454   CPPUNIT_ASSERT_DOUBLES_EQUAL(1.0/3.0,box1.rel_distance(box2),ERROR);
455 }
456 void TestIntervalVector::perimeter01() {
457   IntervalVector box1(3);
458   IntervalVector box2(3);
459   box1[0]=Interval(0,0);
460   box2[0]=Interval(0,0);
461   box1[1]=Interval(-1,0);
462   box2[1]=Interval(-1,0);
463   box1[2]=Interval(1,4);
464   box2[2]=Interval(1.5,3);
465   CPPUNIT_ASSERT_DOUBLES_EQUAL(4.0,box1.perimeter(),ERROR);
466   CPPUNIT_ASSERT_DOUBLES_EQUAL(2.5,box2.perimeter(),ERROR);
467 }
468 void TestIntervalVector::perimeter02() {
469 	double _x1[][2]={{0,1},{0,POS_INFINITY}};
470 	CPPUNIT_ASSERT(IntervalVector(2,_x1).perimeter()==POS_INFINITY);
471 }
472 void TestIntervalVector::volume01() {
473 	double _x1[][2]={{0,1},{0,POS_INFINITY}};
474 	CPPUNIT_ASSERT(IntervalVector(2,_x1).volume()==POS_INFINITY);
475 }
476 void TestIntervalVector::volume02() {
477 	double _x1[][2]={{0,1},{1,1}};
478 	CPPUNIT_ASSERT(IntervalVector(2,_x1).volume()==0);
479 }
480 void TestIntervalVector::volume03() {
481 	double _x1[][2]={{0,2},{2,5},{4,8}};
482 	CPPUNIT_ASSERT_DOUBLES_EQUAL(24.0,IntervalVector(3,_x1).volume(),ERROR);
483 }
484 void TestIntervalVector::minus01() {
485 	double _x1[][2]={{0,3},{0,2},{0,1}};
486 	double _x2[][2]={{-3,0},{-2,0},{-1,0}};
487 	CPPUNIT_ASSERT((-IntervalVector(3,_x1))==IntervalVector(3,_x2));
488 }
489 <a name="5"></a>
490 void TestIntervalVector::minus02() {
491 	double _x1[][2]={{0,1},{0,POS_INFINITY}};
492 <font color="#151b8d"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>	double _x2[][2]={{-1,0},{NEG_INFINITY,0}};
493 	check(-IntervalVector(2,_x1),IntervalVector(2,_x2));
494 }
495 void TestIntervalVector::minus03() {
496 	check(-IntervalVector::empty(2),IntervalVector::empty(2));</b></font>
497 }
498 void TestIntervalVector::add01() {
499 	double _x1[][2]={{0,3},{0,2},{0,1}};
500 	double _x2[][2]={{0,1},{0,1},{0,1}};
501 	double _x3[][2]={{0,4},{0,3},{0,2}};
502 	IntervalVector x1(3,_x1);
503 	IntervalVector x2(3,_x2);
504 	IntervalVector x3(3,_x3);
505 	IntervalVector e(IntervalVector::empty(3));
506 	check(x1+x2,x3);
507 	CPPUNIT_ASSERT((x1+e).is_empty());
508 	CPPUNIT_ASSERT((IntervalVector(x1)+=e).is_empty());
509 	CPPUNIT_ASSERT((e+x1).is_empty());
510 	CPPUNIT_ASSERT((e+=x1).is_empty());
511 	CPPUNIT_ASSERT((e+e).is_empty());
512 	CPPUNIT_ASSERT((e+=e).is_empty());
513 	check(IntervalVector(x1)+=x2,x3);
514 	CPPUNIT_ASSERT((IntervalVector(x1)+=e).is_empty());
515 	check(IntervalVector(x2)+=x1,x3);
516 }
517 void TestIntervalVector::sub01() {
518 	double _x1[][2]={{0,3},{0,2},{0,1}};
519 	double _x2[][2]={{0,1},{0,1},{0,1}};
520 	double _x3[][2]={{-1,3},{-1,2},{-1,1}};
521 	IntervalVector x1(3,_x1);
522 	IntervalVector x2(3,_x2);
523 	IntervalVector x3(3,_x3);
524 	IntervalVector e(IntervalVector::empty(3));
525 	check(x1-x2,x3);
526 	check(x2-x1,-x3);
527 	CPPUNIT_ASSERT((x1-e).is_empty());
528 	CPPUNIT_ASSERT((IntervalVector(x1)-=e).is_empty());
529 	CPPUNIT_ASSERT((e-x1).is_empty());
530 	CPPUNIT_ASSERT((e-=x1).is_empty());
531 	CPPUNIT_ASSERT((e-e).is_empty());
532 	CPPUNIT_ASSERT((e-=e).is_empty());
533 	check(IntervalVector(x1)-=x2,x3);
534 	check(IntervalVector(x2)-=x1,-x3);
535 }
536 void TestIntervalVector::compl01() {
537 	double _b[][2]={{0,1},{0,1}};
538 	IntervalVector b(2,_b);
539 	IntervalVector* c;
540 	int n=b.complementary(c);
541 	CPPUNIT_ASSERT(n==4);
542 	CPPUNIT_ASSERT(c[0].size()==2);
543 	CPPUNIT_ASSERT(c[0][0]==Interval::neg_reals());
544 	CPPUNIT_ASSERT(c[0][1]==Interval::all_reals());
545 	CPPUNIT_ASSERT(c[1][0]==Interval(1,POS_INFINITY));
546 	CPPUNIT_ASSERT(c[1][1]==Interval::all_reals());
547 	CPPUNIT_ASSERT(c[2][0]==Interval(0,1));
548 	CPPUNIT_ASSERT(c[2][1]==Interval::neg_reals());
549 	CPPUNIT_ASSERT(c[3][0]==Interval(0,1));
550 	CPPUNIT_ASSERT(c[3][1]==Interval(1,POS_INFINITY));
551 	delete[] c;
552 }
553 void TestIntervalVector::compl02() {
554 	IntervalVector* c;
555 	int n=IntervalVector::empty(2).complementary(c);
556 	CPPUNIT_ASSERT(n==1);
557 	CPPUNIT_ASSERT(c[0].size()==2);
558 	CPPUNIT_ASSERT(c[0][0]==Interval::all_reals());
559 	CPPUNIT_ASSERT(c[0][1]==Interval::all_reals());
560 	delete[] c;
561 }
562 bool TestIntervalVector::test_diff(int n, double _x[][2], double _y[][2], int m, double _z[][2], bool compactness, bool debug) {
563 	IntervalVector x(n,_x);
564 	IntervalVector y(n,_y);
565 	IntervalMatrix mz(m,n,_z);
566 	IntervalVector* c;
567 	int nn=x.diff(y,c,compactness);
568 	if (debug) {
569 		cout &lt;&lt; x &lt;&lt; " diff " &lt;&lt; y &lt;&lt; " gives:" &lt;&lt; endl;
570 		for (int i=0; i&lt;nn; i++) {
571 			cout &lt;&lt; c[i] &lt;&lt; endl;
572 		}
573 		cout &lt;&lt; "==================================\n";
574 	}
575 	if (nn!=m) return false;
576 	for (int i=0; i&lt;nn; i++) {
577 		if (c[i]!=mz[i]) {
578 			if (debug) cout &lt;&lt; "i=" &lt;&lt; i &lt;&lt; c[i] &lt;&lt; "!=" &lt;&lt; mz[i] &lt;&lt; endl;
579 			delete[] c;
580 			return false;
581 		}
582 	}
583 	delete[] c;
584 	return true;
585 }
586 void TestIntervalVector::diff01() {
587 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
588 	IntervalVector* c;
589 	IntervalVector _x(3,x);
590 	CPPUNIT_ASSERT(_x.diff(IntervalVector::empty(3),c)==1);
591 	CPPUNIT_ASSERT(c[0]==_x);
592 	delete[] c;
593 }
594 void TestIntervalVector::diff02() {
595 	double y[][2]= {{-2,2},{-2,2},{-2,2}};
596 	IntervalVector* c;
597 	CPPUNIT_ASSERT(IntervalVector::empty(3).diff(IntervalVector(3,y),c)==0);
598 	delete[] c;
599 }
600 void TestIntervalVector::diff03() {
601 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
602 	double y[][2]= {{-1,1},{3,4},{-1,1}};
603 	double z[][2]= {{-2,2},{-2,2},{-2,2}};
604 	CPPUNIT_ASSERT(test_diff(3,x,y,1,z));
605 }
606 void TestIntervalVector::diff04() {
607 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
608 	double y[][2]= {{-1,1},{-1,-1},{-1,1}};
609 	double z[][2]= {{-2,2},{-2,2},{-2,2}};
610 	CPPUNIT_ASSERT(test_diff(3,x,y,1,z));
611 }
612 void TestIntervalVector::diff05() {
613 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
614 	double y[][2]= {{-1,1},{-1,1},{-1,1}};
615 	double z[][2]= {{-2,-1},{-2,2},{-2,2},
616 			        {1,2},{-2,2},{-2,2},
617 					{-1,1},{-2,-1},{-2,2},
618 					{-1,1},{1,2},{-2,2},
619 					{-1,1},{-1,1},{-2,-1},
620 					{-1,1},{-1,1},{1,2}};
621 	CPPUNIT_ASSERT(test_diff(3,x,y,6,z));
622 }
623 void TestIntervalVector::diff06() {
624 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
625 	double y[][2]= {{-1,1},{-1,1},{-2,1}};
626 	double z[][2]= {{-2,-1},{-2,2},{-2,2},
627 			        {1,2},{-2,2},{-2,2},
628 					{-1,1},{-2,-1},{-2,2},
629 					{-1,1},{1,2},{-2,2},
630 					{-1,1},{-1,1},{1,2}};
631 	CPPUNIT_ASSERT(test_diff(3,x,y,5,z));
632 }
633 void TestIntervalVector::diff07() {
634 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
635 	double y[][2]= {{-1,1},{-1,1},{-2,2}};
636 	double z[][2]= {{-2,-1},{-2,2},{-2,2},
637 			        {1,2},{-2,2},{-2,2},
638 					{-1,1},{-2,-1},{-2,2},
639 					{-1,1},{1,2},{-2,2}};
640 	CPPUNIT_ASSERT(test_diff(3,x,y,4,z));
641 }
642 void TestIntervalVector::diff08() {
643 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
644 	double y[][2]= {{-1,1},{-2,1},{-1,1}};
645 	double z[][2]= {{-2,-1},{-2,2},{-2,2},
646 			        {1,2},{-2,2},{-2,2},
647 					{-1,1},{1,2},{-2,2},
648 					{-1,1},{-2,1},{-2,-1},
649 					{-1,1},{-2,1},{1,2}};
650 	CPPUNIT_ASSERT(test_diff(3,x,y,5,z));
651 }
652 void TestIntervalVector::diff09() {
653 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
654 	double y[][2]= {{-1,1},{-2,2},{-1,1}};
655 	double z[][2]= {{-2,-1},{-2,2},{-2,2},
656 			        {1,2},{-2,2},{-2,2},
657 					{-1,1},{-2,2},{-2,-1},
658 					{-1,1},{-2,2},{1,2}};
659 	CPPUNIT_ASSERT(test_diff(3,x,y,4,z));
660 }
661 void TestIntervalVector::diff10() {
662 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
663 	double y[][2]= {{-2,1},{-1,1},{-1,1}};
664 	double z[][2]= {{1,2},{-2,2},{-2,2},
665 					{-2,1},{-2,-1},{-2,2},
666 					{-2,1},{1,2},{-2,2},
667 					{-2,1},{-1,1},{-2,-1},
668 					{-2,1},{-1,1},{1,2}};
669 	CPPUNIT_ASSERT(test_diff(3,x,y,5,z));
670 }
671 void TestIntervalVector::diff11() {
672 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
673 	double y[][2]= {{-2,2},{-1,2},{-1,1}};
674 	double z[][2]= {{-2,2},{-2,-1},{-2,2},
675 					{-2,2},{-1,2},{-2,-1},
676 					{-2,2},{-1,2},{1,2}};
677 	CPPUNIT_ASSERT(test_diff(3,x,y,3,z));
678 }
679 void TestIntervalVector::diff12() {
680 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
681 	double y[][2]= {{-1,1},{-2,1},{-2,1}};
682 	double z[][2]= {{-2,-1},{-2,2},{-2,2},
683 			        {1,2},{-2,2},{-2,2},
684 					{-1,1},{1,2},{-2,2},
685 					{-1,1},{-2,1},{1,2}};
686 	CPPUNIT_ASSERT(test_diff(3,x,y,4,z));
687 }
688 void TestIntervalVector::diff13() {
689 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
690 	double y[][2]= {{-1,1},{-2,1},{-2,2}};
691 	double z[][2]= {{-2,-1},{-2,2},{-2,2},
692 			        {1,2},{-2,2},{-2,2},
693 					{-1,1},{1,2},{-2,2}};
694 	CPPUNIT_ASSERT(test_diff(3,x,y,3,z));
695 }
696 void TestIntervalVector::diff14() {
697 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
698 	double y[][2]= {{-2,1},{-1,1},{-2,1}};
699 	double z[][2]= {{1,2},{-2,2},{-2,2},
700 					{-2,1},{-2,-1},{-2,2},
701 					{-2,1},{1,2},{-2,2},
702 					{-2,1},{-1,1},{1,2}};
703 	CPPUNIT_ASSERT(test_diff(3,x,y,4,z));
704 }
705 void TestIntervalVector::diff15() {
706 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
707 	double y[][2]= {{-2,1},{-1,1},{-2,2}};
708 	double z[][2]= {{1,2},{-2,2},{-2,2},
709 					{-2,1},{-2,-1},{-2,2},
710 					{-2,1},{1,2},{-2,2}};
711 	CPPUNIT_ASSERT(test_diff(3,x,y,3,z));
712 }
713 void TestIntervalVector::diff16() {
714 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
715 	double y[][2]= {{-2,1},{-2,1},{-1,1}};
716 	double z[][2]= {{1,2},{-2,2},{-2,2},
717 					{-2,1},{1,2},{-2,2},
718 					{-2,1},{-2,1},{-2,-1},
719 					{-2,1},{-2,1},{1,2}};
720 	CPPUNIT_ASSERT(test_diff(3,x,y,4,z));
721 }
722 void TestIntervalVector::diff17() {
723 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
724 	double y[][2]= {{-2,1},{-2,2},{-1,1}};
725 	double z[][2]= {{1,2},{-2,2},{-2,2},
726 					{-2,1},{-2,2},{-2,-1},
727 					{-2,1},{-2,2},{1,2}};
728 	CPPUNIT_ASSERT(test_diff(3,x,y,3,z));
729 }
730 void TestIntervalVector::diff18() {
731 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
732 	double y[][2]= {{-2,1},{-2,1},{-2,1}};
733 	double z[][2]= {{1,2},{-2,2},{-2,2},
734 					{-2,1},{1,2},{-2,2},
735 					{-2,1},{-2,1},{1,2}};
736 	CPPUNIT_ASSERT(test_diff(3,x,y,3,z));
737 }
738 void TestIntervalVector::diff19() {
739 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
740 	double y[][2]= {{-2,1},{-2,1},{-2,2}};
741 	double z[][2]= {{1,2},{-2,2},{-2,2},
742 					{-2,1},{1,2},{-2,2}};
743 	CPPUNIT_ASSERT(test_diff(3,x,y,2,z));
744 }
745 void TestIntervalVector::diff20() {
746 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
747 	double y[][2]= {{-2,1},{-2,2},{-2,1}};
748 	double z[][2]= {{1,2},{-2,2},{-2,2},
749 					{-2,1},{-2,2},{1,2}};
750 	CPPUNIT_ASSERT(test_diff(3,x,y,2,z));
751 }
752 void TestIntervalVector::diff21() {
753 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
754 	double y[][2]= {{-2,2},{-2,1},{-2,1}};
755 	double z[][2]= {{-2,2},{1,2},{-2,2},
756 					{-2,2},{-2,1},{1,2}};
757 	CPPUNIT_ASSERT(test_diff(3,x,y,2,z));
758 }
759 void TestIntervalVector::diff22() {
760 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
761 	double y[][2]= {{-2,1},{-2,2},{-2,2}};
762 	double z[][2]= {{1,2},{-2,2},{-2,2}};
763 	CPPUNIT_ASSERT(test_diff(3,x,y,1,z));
764 }
765 void TestIntervalVector::diff23() {
766 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
767 	double y[][2]= {{-2,2},{-2,2},{-2,1}};
768 	double z[][2]= {{-2,2},{-2,2},{1,2}};
769 	CPPUNIT_ASSERT(test_diff(3,x,y,1,z));
770 }
771 void TestIntervalVector::diff24() {
772 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
773 	double y[][2]= {{-2,2},{-2,1},{-2,2}};
774 	double z[][2]= {{-2,2},{1,2},{-2,2}};
775 	CPPUNIT_ASSERT(test_diff(3,x,y,1,z));
776 }
777 void TestIntervalVector::diff25() {
778 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
779 	double y[][2]= {{-2,2},{-2,2},{-2,2}};
780 	IntervalVector* c;
781 	CPPUNIT_ASSERT(IntervalVector(3,x).diff(IntervalVector(3,y),c)==0);
782 	delete[] c;
783 }
784 void TestIntervalVector::diff26() {
785 }
786 void TestIntervalVector::diff27() {
787 }
788 void TestIntervalVector::diff28() {
789 }
790 void TestIntervalVector::diff29() {
791 }
792 void TestIntervalVector::diff30() {
793 	double x[][2]= {{0,0},{-2,2},{-2,2}};
794 	double y[][2]= {{0,0},{-1,1},{-1,1}};
795 	double z[][2]= {{0,0},{-2,-1},{-2,2},
796 			        {0,0},{1,2},{-2,2},
797 					{0,0},{-1,1},{-2,-1},
798 					{0,0},{-1,1},{1,2}};
799 	CPPUNIT_ASSERT(test_diff(3,x,y,4,z));
800 }
801 void TestIntervalVector::diff31() {
802 	double x[][2]= {{0,0},{0,0},{-2,2}};
803 	double y[][2]= {{0,0},{0,0},{-1,1}};
804 	double z[][2]= {{0,0},{0,0},{-2,-1},
805 			        {0,0},{0,0},{1,2}};
806 	CPPUNIT_ASSERT(test_diff(3,x,y,2,z));
807 }
808 void TestIntervalVector::diff32() {
809 	double x[][2]= {{0,0},{-2,2},{0,0}};
810 	double y[][2]= {{0,0},{-1,1},{0,0}};
811 	double z[][2]= {{0,0},{-2,-1},{0,0},
812 			        {0,0},{1,2},{0,0}};
813 	CPPUNIT_ASSERT(test_diff(3,x,y,2,z));
814 }
815 void TestIntervalVector::diff33() {
816 	double x[][2]= {{-2,2},{0,0},{0,0}};
817 	double y[][2]= {{-1,1},{0,0},{0,0}};
818 	double z[][2]= {{-2,-1},{0,0},{0,0},
819 			        {1,2},{0,0},{0,0}};
820 	CPPUNIT_ASSERT(test_diff(3,x,y,2,z));
821 }
822 void TestIntervalVector::diff34() {
823 	double x[][2]= {{0,0},{-2,2},{-2,2}};
824 	double y[][2]= {{-1,1},{-1,1},{-1,1}};
825 	double z[][2]= {{0,0},{-2,-1},{-2,2},
826 			        {0,0},{1,2},{-2,2},
827 					{0,0},{-1,1},{-2,-1},
828 					{0,0},{-1,1},{1,2}};
829 	CPPUNIT_ASSERT(test_diff(3,x,y,4,z));
830 }
831 void TestIntervalVector::diff35() {
832 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
833 	double y[][2]= {{2,4},{-2,2},{-2,2}};
834 	double z[][2]= {{-2,2},{-2,2},{-2,2}};
835 	CPPUNIT_ASSERT(test_diff(3,x,y,1,z));
836 }
837 void TestIntervalVector::diff36() {
838 	double x[][2]= {{-2,2},{-2,2},{-2,2}};
839 	double y[][2]= {{2,4},{-1,1},{-1,1}};
840 	double z[][2]= {{-2,2},{-2,2},{-2,2}};
841 	CPPUNIT_ASSERT(test_diff(3,x,y,1,z));
842 }
843 <a name="2"></a>void TestIntervalVector::diff37() {
844 	double x[][2]= {{-2,2},{-2,2}};
845 	double y[][2]= {{-2,2},{1,1}};
846 <font color="#980517"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>	double z[][2]= {{-2,2},{-2,1},
847 									{-2,2},{1,2}};
848 	CPPUNIT_ASSERT(test_diff(2,x,y,2,z,false));
849 }
850 void TestIntervalVector::diff38() {</b></font>
851 	double x[][2]= {{-2,2},{1,1}};
852 	double y[][2]= {{0,2},{-2,2}};
853 	double z[][2]= {{-2,0},{1,1}};
854 	CPPUNIT_ASSERT(test_diff(2,x,y,1,z,false));
855 }
856 void TestIntervalVector::issue228() {
857 	double x[][2]= {{-1,-1},{-1,1},{-1,1}};
858 	double y[][2]= {{0,2},{0,2},{0,2}};
859 	double z[][2]= {{-1,-1},{-1,1},{-1,1}};
860 	CPPUNIT_ASSERT(test_diff(3,x,y,1,z));
861 }
862 void TestIntervalVector::random01() {
863 	double _b[][2]={{0,1},{0,1}};
864 	IntervalVector b(2,_b);
865 	IntervalVector r=b.random();
866 	CPPUNIT_ASSERT(r.size()==2);
867 	CPPUNIT_ASSERT(r.max_diam()==0);
868 	CPPUNIT_ASSERT(b.is_superset(r));
869 }
870 void TestIntervalVector::random02() {
871 	double _b[][2]={{1,1},{2,2}};
872 	IntervalVector b(2,_b);
873 	IntervalVector r=b.random();
874 	CPPUNIT_ASSERT(b==r);
875 }
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
