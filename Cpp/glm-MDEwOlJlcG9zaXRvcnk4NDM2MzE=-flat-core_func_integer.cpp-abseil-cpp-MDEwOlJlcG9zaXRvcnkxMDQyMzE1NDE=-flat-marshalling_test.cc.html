
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 21.305841924398624%, Tokens: 15</h2>
        <div class="column">
            <h3>glm-MDEwOlJlcG9zaXRvcnk4NDM2MzE=-flat-core_func_integer.cpp</h3>
            <pre><code>1  #include <glm/glm.hpp>
2  #include <iostream>
3  enum result
4  {
5  	SUCCESS,
6  	FAIL,
7  	ASSERT,
8  	STATIC_ASSERT
9  };
10  namespace bitfieldExtract
11  {
12  	template <typename genType, typename sizeType>
13  	struct type
14  	{
15  		genType		Value;
16  		sizeType	BitFirst;
17  		sizeType	BitCount;
18  		genType		Return;
19  		result		Result;
20  	};
21  	typedef type<glm::uint, glm::uint> typeU32;
22  	typeU32 const Data32[] =
23  	{
24  		{0xffffffff, 8, 0, 0x00000000, SUCCESS},
25  		{0x00000000, 0,32, 0x00000000, SUCCESS},
26  		{0xffffffff, 0,32, 0xffffffff, SUCCESS},
27  		{0x0f0f0f0f, 0,32, 0x0f0f0f0f, SUCCESS},
28  		{0x00000000, 8, 0, 0x00000000, SUCCESS},
29  		{0x80000000,31, 1, 0x00000001, SUCCESS},
30  		{0x7fffffff,31, 1, 0x00000000, SUCCESS},
31  		{0x00000300, 8, 8, 0x00000003, SUCCESS},
32  		{0x0000ff00, 8, 8, 0x000000ff, SUCCESS},
33  		{0xfffffff0, 0, 5, 0x00000010, SUCCESS},
<span onclick='openModal()' class='match'>34  		{0x000000ff, 1, 3, 0x00000007, SUCCESS},
35  		{0x000000ff, 0, 3, 0x00000007, SUCCESS},
36  		{0x00000000, 0, 2, 0x00000000, SUCCESS},
37  		{0xffffffff, 0, 8, 0x000000ff, SUCCESS},
38  		{0xffff0000,16,16, 0x0000ffff, SUCCESS},
39  		{0xfffffff0, 0, 8, 0x00000000, FAIL},
40  		{0xffffffff,16,16, 0x00000000, FAIL},
41  	};
</span>42  	int test()
43  	{
44  		glm::uint count = sizeof(Data32) / sizeof(typeU32);
45  		for(glm::uint i = 0; i < count; ++i)
46  		{
47  			glm::uint Return = glm::bitfieldExtract(
48  				Data32[i].Value, 
49  				Data32[i].BitFirst, 
50  				Data32[i].BitCount);
51  			bool Compare = Data32[i].Return == Return;
52  			if(Data32[i].Result == SUCCESS && Compare)
53  				continue;
54  			else if(Data32[i].Result == FAIL && !Compare)
55  				continue;
56  			std::cout << "glm::bitfieldExtract test fail on test " << i << std::endl;
57  			return 1;
58  		}
59  		return 0;
60  	}
61  }
62  namespace bitfieldReverse
63  {
64  	template <typename genType>
65  	struct type
66  	{
67  		genType		Value;
68  		genType		Return;
69  		result		Result;
70  	};
71  	typedef type<glm::uint> typeU32;
72  	typeU32 const Data32[] =
73  	{
74  		{0xffffffff, 0xffffffff, SUCCESS},
75  		{0x00000000, 0x00000000, SUCCESS},
76  		{0xf0000000, 0x0000000f, SUCCESS},
77  	};
78  	int test()
79  	{
80  		glm::uint count = sizeof(Data32) / sizeof(typeU32);
81  		for(glm::uint i = 0; i < count; ++i)
82  		{
83  			glm::uint Return = glm::bitfieldReverse(
84  				Data32[i].Value);
85  			bool Compare = Data32[i].Return == Return;
86  			if(Data32[i].Result == SUCCESS && Compare)
87  				continue;
88  			else if(Data32[i].Result == FAIL && !Compare)
89  				continue;
90  			std::cout << "glm::bitfieldReverse test fail on test " << i << std::endl;
91  			return 1;
92  		}
93  		return 0;
94  	}
95  }
96  int main()
97  {
98  	int Error = 0;
99  	std::cout << "sizeof(glm::uint64): " << sizeof(glm::detail::uint64) << std::endl;
100  	Error += ::bitfieldExtract::test();
101  	Error += ::bitfieldReverse::test();
102  	return Error;
103  }
</code></pre>
        </div>
        <div class="column">
            <h3>abseil-cpp-MDEwOlJlcG9zaXRvcnkxMDQyMzE1NDE=-flat-marshalling_test.cc</h3>
            <pre><code>1  #include "absl/flags/marshalling.h"
2  #include <stdint.h>
3  #include <cmath>
4  #include <limits>
5  #include <string>
6  #include <vector>
7  #include "gtest/gtest.h"
8  namespace {
9  TEST(MarshallingTest, TestBoolParsing) {
10    std::string err;
11    bool value;
12    EXPECT_TRUE(absl::ParseFlag("True", &value, &err));
13    EXPECT_TRUE(value);
14    EXPECT_TRUE(absl::ParseFlag("true", &value, &err));
15    EXPECT_TRUE(value);
16    EXPECT_TRUE(absl::ParseFlag("TRUE", &value, &err));
17    EXPECT_TRUE(value);
18    EXPECT_TRUE(absl::ParseFlag("Yes", &value, &err));
19    EXPECT_TRUE(value);
20    EXPECT_TRUE(absl::ParseFlag("yes", &value, &err));
21    EXPECT_TRUE(value);
22    EXPECT_TRUE(absl::ParseFlag("YES", &value, &err));
23    EXPECT_TRUE(value);
24    EXPECT_TRUE(absl::ParseFlag("t", &value, &err));
25    EXPECT_TRUE(value);
26    EXPECT_TRUE(absl::ParseFlag("T", &value, &err));
27    EXPECT_TRUE(value);
28    EXPECT_TRUE(absl::ParseFlag("y", &value, &err));
29    EXPECT_TRUE(value);
30    EXPECT_TRUE(absl::ParseFlag("Y", &value, &err));
31    EXPECT_TRUE(value);
32    EXPECT_TRUE(absl::ParseFlag("1", &value, &err));
33    EXPECT_TRUE(value);
34    EXPECT_TRUE(absl::ParseFlag("False", &value, &err));
35    EXPECT_FALSE(value);
36    EXPECT_TRUE(absl::ParseFlag("false", &value, &err));
37    EXPECT_FALSE(value);
38    EXPECT_TRUE(absl::ParseFlag("FALSE", &value, &err));
39    EXPECT_FALSE(value);
40    EXPECT_TRUE(absl::ParseFlag("No", &value, &err));
41    EXPECT_FALSE(value);
42    EXPECT_TRUE(absl::ParseFlag("no", &value, &err));
43    EXPECT_FALSE(value);
44    EXPECT_TRUE(absl::ParseFlag("NO", &value, &err));
45    EXPECT_FALSE(value);
46    EXPECT_TRUE(absl::ParseFlag("f", &value, &err));
47    EXPECT_FALSE(value);
48    EXPECT_TRUE(absl::ParseFlag("F", &value, &err));
49    EXPECT_FALSE(value);
50    EXPECT_TRUE(absl::ParseFlag("n", &value, &err));
51    EXPECT_FALSE(value);
52    EXPECT_TRUE(absl::ParseFlag("N", &value, &err));
53    EXPECT_FALSE(value);
54    EXPECT_TRUE(absl::ParseFlag("0", &value, &err));
55    EXPECT_FALSE(value);
56    EXPECT_TRUE(absl::ParseFlag("  true", &value, &err));
57    EXPECT_TRUE(value);
58    EXPECT_TRUE(absl::ParseFlag("true  ", &value, &err));
59    EXPECT_TRUE(value);
60    EXPECT_TRUE(absl::ParseFlag("  true   ", &value, &err));
61    EXPECT_TRUE(value);
62    EXPECT_FALSE(absl::ParseFlag("", &value, &err));
63    EXPECT_FALSE(absl::ParseFlag("  ", &value, &err));
64    EXPECT_FALSE(absl::ParseFlag("\n", &value, &err));
65    EXPECT_FALSE(absl::ParseFlag("\t", &value, &err));
66    EXPECT_FALSE(absl::ParseFlag("2", &value, &err));
67    EXPECT_FALSE(absl::ParseFlag("11", &value, &err));
68    EXPECT_FALSE(absl::ParseFlag("tt", &value, &err));
69  }
70  TEST(MarshallingTest, TestInt16Parsing) {
71    std::string err;
72    int16_t value;
73    EXPECT_TRUE(absl::ParseFlag("1", &value, &err));
74    EXPECT_EQ(value, 1);
75    EXPECT_TRUE(absl::ParseFlag("0", &value, &err));
76    EXPECT_EQ(value, 0);
77    EXPECT_TRUE(absl::ParseFlag("-1", &value, &err));
78    EXPECT_EQ(value, -1);
79    EXPECT_TRUE(absl::ParseFlag("123", &value, &err));
80    EXPECT_EQ(value, 123);
81    EXPECT_TRUE(absl::ParseFlag("-18765", &value, &err));
82    EXPECT_EQ(value, -18765);
83    EXPECT_TRUE(absl::ParseFlag("+3", &value, &err));
84    EXPECT_EQ(value, 3);
85    EXPECT_TRUE(absl::ParseFlag("01", &value, &err));
86    EXPECT_EQ(value, 1);
87    EXPECT_TRUE(absl::ParseFlag("-001", &value, &err));
88    EXPECT_EQ(value, -1);
89    EXPECT_TRUE(absl::ParseFlag("0000100", &value, &err));
90    EXPECT_EQ(value, 100);
91    EXPECT_TRUE(absl::ParseFlag("0x10", &value, &err));
92    EXPECT_EQ(value, 16);
93    EXPECT_TRUE(absl::ParseFlag("0X234", &value, &err));
94    EXPECT_EQ(value, 564);
95    EXPECT_FALSE(absl::ParseFlag("-0x7FFD", &value, &err));
96    EXPECT_NE(value, -3);
97    EXPECT_FALSE(absl::ParseFlag("+0x31", &value, &err));
98    EXPECT_NE(value, 49);
99    EXPECT_TRUE(absl::ParseFlag("10  ", &value, &err));
100    EXPECT_EQ(value, 10);
101    EXPECT_TRUE(absl::ParseFlag("  11", &value, &err));
102    EXPECT_EQ(value, 11);
103    EXPECT_TRUE(absl::ParseFlag("  012  ", &value, &err));
104    EXPECT_EQ(value, 12);
105    EXPECT_TRUE(absl::ParseFlag(" 0x22    ", &value, &err));
106    EXPECT_EQ(value, 34);
107    EXPECT_FALSE(absl::ParseFlag("", &value, &err));
108    EXPECT_FALSE(absl::ParseFlag(" ", &value, &err));
109    EXPECT_FALSE(absl::ParseFlag("  ", &value, &err));
110    EXPECT_FALSE(absl::ParseFlag("40000", &value, &err));
111    EXPECT_FALSE(absl::ParseFlag("--1", &value, &err));
112    EXPECT_FALSE(absl::ParseFlag("\n", &value, &err));
113    EXPECT_FALSE(absl::ParseFlag("\t", &value, &err));
114    EXPECT_FALSE(absl::ParseFlag("2U", &value, &err));
115    EXPECT_FALSE(absl::ParseFlag("FFF", &value, &err));
116  }
117  TEST(MarshallingTest, TestUint16Parsing) {
118    std::string err;
119    uint16_t value;
120    EXPECT_TRUE(absl::ParseFlag("1", &value, &err));
121    EXPECT_EQ(value, 1);
122    EXPECT_TRUE(absl::ParseFlag("0", &value, &err));
123    EXPECT_EQ(value, 0);
124    EXPECT_TRUE(absl::ParseFlag("123", &value, &err));
125    EXPECT_EQ(value, 123);
126    EXPECT_TRUE(absl::ParseFlag("+3", &value, &err));
127    EXPECT_EQ(value, 3);
128    EXPECT_TRUE(absl::ParseFlag("01", &value, &err));
129    EXPECT_EQ(value, 1);
130    EXPECT_TRUE(absl::ParseFlag("001", &value, &err));
131    EXPECT_EQ(value, 1);
132    EXPECT_TRUE(absl::ParseFlag("0000100", &value, &err));
133    EXPECT_EQ(value, 100);
134    EXPECT_TRUE(absl::ParseFlag("0x10", &value, &err));
135    EXPECT_EQ(value, 16);
136    EXPECT_TRUE(absl::ParseFlag("0X234", &value, &err));
137    EXPECT_EQ(value, 564);
138    EXPECT_FALSE(absl::ParseFlag("+0x31", &value, &err));
139    EXPECT_NE(value, 49);
140    EXPECT_TRUE(absl::ParseFlag("10  ", &value, &err));
141    EXPECT_EQ(value, 10);
142    EXPECT_TRUE(absl::ParseFlag("  11", &value, &err));
143    EXPECT_EQ(value, 11);
144    EXPECT_TRUE(absl::ParseFlag("  012  ", &value, &err));
145    EXPECT_EQ(value, 12);
146    EXPECT_TRUE(absl::ParseFlag(" 0x22    ", &value, &err));
147    EXPECT_EQ(value, 34);
148    EXPECT_FALSE(absl::ParseFlag("", &value, &err));
149    EXPECT_FALSE(absl::ParseFlag(" ", &value, &err));
150    EXPECT_FALSE(absl::ParseFlag("  ", &value, &err));
151    EXPECT_FALSE(absl::ParseFlag("70000", &value, &err));
152    EXPECT_FALSE(absl::ParseFlag("-1", &value, &err));
153    EXPECT_FALSE(absl::ParseFlag("--1", &value, &err));
154    EXPECT_FALSE(absl::ParseFlag("\n", &value, &err));
155    EXPECT_FALSE(absl::ParseFlag("\t", &value, &err));
156    EXPECT_FALSE(absl::ParseFlag("2U", &value, &err));
157    EXPECT_FALSE(absl::ParseFlag("FFF", &value, &err));
158  }
159  TEST(MarshallingTest, TestInt32Parsing) {
160    std::string err;
161    int32_t value;
162    EXPECT_TRUE(absl::ParseFlag("1", &value, &err));
163    EXPECT_EQ(value, 1);
164    EXPECT_TRUE(absl::ParseFlag("0", &value, &err));
165    EXPECT_EQ(value, 0);
166    EXPECT_TRUE(absl::ParseFlag("-1", &value, &err));
167    EXPECT_EQ(value, -1);
168    EXPECT_TRUE(absl::ParseFlag("123", &value, &err));
169    EXPECT_EQ(value, 123);
170    EXPECT_TRUE(absl::ParseFlag("-98765", &value, &err));
171    EXPECT_EQ(value, -98765);
172    EXPECT_TRUE(absl::ParseFlag("+3", &value, &err));
173    EXPECT_EQ(value, 3);
174    EXPECT_TRUE(absl::ParseFlag("01", &value, &err));
175    EXPECT_EQ(value, 1);
176    EXPECT_TRUE(absl::ParseFlag("-001", &value, &err));
177    EXPECT_EQ(value, -1);
178    EXPECT_TRUE(absl::ParseFlag("0000100", &value, &err));
179    EXPECT_EQ(value, 100);
180    EXPECT_TRUE(absl::ParseFlag("0x10", &value, &err));
181    EXPECT_EQ(value, 16);
182    EXPECT_TRUE(absl::ParseFlag("0X234", &value, &err));
183    EXPECT_EQ(value, 564);
184    EXPECT_FALSE(absl::ParseFlag("-0x7FFFFFFD", &value, &err));
185    EXPECT_NE(value, -3);
186    EXPECT_FALSE(absl::ParseFlag("+0x31", &value, &err));
187    EXPECT_NE(value, 49);
188    EXPECT_TRUE(absl::ParseFlag("10  ", &value, &err));
189    EXPECT_EQ(value, 10);
190    EXPECT_TRUE(absl::ParseFlag("  11", &value, &err));
191    EXPECT_EQ(value, 11);
192    EXPECT_TRUE(absl::ParseFlag("  012  ", &value, &err));
193    EXPECT_EQ(value, 12);
194    EXPECT_TRUE(absl::ParseFlag(" 0x22    ", &value, &err));
195    EXPECT_EQ(value, 34);
196    EXPECT_FALSE(absl::ParseFlag("", &value, &err));
197    EXPECT_FALSE(absl::ParseFlag(" ", &value, &err));
198    EXPECT_FALSE(absl::ParseFlag("  ", &value, &err));
199    EXPECT_FALSE(absl::ParseFlag("70000000000", &value, &err));
200    EXPECT_FALSE(absl::ParseFlag("--1", &value, &err));
201    EXPECT_FALSE(absl::ParseFlag("\n", &value, &err));
202    EXPECT_FALSE(absl::ParseFlag("\t", &value, &err));
203    EXPECT_FALSE(absl::ParseFlag("2U", &value, &err));
204    EXPECT_FALSE(absl::ParseFlag("FFF", &value, &err));
205  }
206  TEST(MarshallingTest, TestUint32Parsing) {
207    std::string err;
208    uint32_t value;
209    EXPECT_TRUE(absl::ParseFlag("1", &value, &err));
210    EXPECT_EQ(value, 1);
211    EXPECT_TRUE(absl::ParseFlag("0", &value, &err));
212    EXPECT_EQ(value, 0);
213    EXPECT_TRUE(absl::ParseFlag("123", &value, &err));
214    EXPECT_EQ(value, 123);
215    EXPECT_TRUE(absl::ParseFlag("+3", &value, &err));
216    EXPECT_EQ(value, 3);
217    EXPECT_TRUE(absl::ParseFlag("01", &value, &err));
218    EXPECT_EQ(value, 1);
219    EXPECT_TRUE(absl::ParseFlag("0000100", &value, &err));
220    EXPECT_EQ(value, 100);
221    EXPECT_TRUE(absl::ParseFlag("0x10", &value, &err));
222    EXPECT_EQ(value, 16);
223    EXPECT_TRUE(absl::ParseFlag("0X234", &value, &err));
224    EXPECT_EQ(value, 564);
225    EXPECT_TRUE(absl::ParseFlag("0xFFFFFFFD", &value, &err));
226    EXPECT_EQ(value, 4294967293);
227    EXPECT_FALSE(absl::ParseFlag("+0x31", &value, &err));
228    EXPECT_NE(value, 49);
229    EXPECT_TRUE(absl::ParseFlag("10  ", &value, &err));
230    EXPECT_EQ(value, 10);
231    EXPECT_TRUE(absl::ParseFlag("  11", &value, &err));
232    EXPECT_EQ(value, 11);
233    EXPECT_TRUE(absl::ParseFlag("  012  ", &value, &err));
234    EXPECT_EQ(value, 12);
235    EXPECT_TRUE(absl::ParseFlag(" 0x22    ", &value, &err));
236    EXPECT_EQ(value, 34);
237    EXPECT_FALSE(absl::ParseFlag("", &value, &err));
238    EXPECT_FALSE(absl::ParseFlag(" ", &value, &err));
239    EXPECT_FALSE(absl::ParseFlag("  ", &value, &err));
240    EXPECT_FALSE(absl::ParseFlag("140000000000", &value, &err));
241    EXPECT_FALSE(absl::ParseFlag("-1", &value, &err));
242    EXPECT_FALSE(absl::ParseFlag("--1", &value, &err));
243    EXPECT_FALSE(absl::ParseFlag("\n", &value, &err));
244    EXPECT_FALSE(absl::ParseFlag("\t", &value, &err));
245    EXPECT_FALSE(absl::ParseFlag("2U", &value, &err));
246    EXPECT_FALSE(absl::ParseFlag("FFF", &value, &err));
247  }
248  TEST(MarshallingTest, TestInt64Parsing) {
249    std::string err;
250    int64_t value;
251    EXPECT_TRUE(absl::ParseFlag("1", &value, &err));
252    EXPECT_EQ(value, 1);
253    EXPECT_TRUE(absl::ParseFlag("0", &value, &err));
254    EXPECT_EQ(value, 0);
255    EXPECT_TRUE(absl::ParseFlag("-1", &value, &err));
256    EXPECT_EQ(value, -1);
257    EXPECT_TRUE(absl::ParseFlag("123", &value, &err));
258    EXPECT_EQ(value, 123);
259    EXPECT_TRUE(absl::ParseFlag("-98765", &value, &err));
260    EXPECT_EQ(value, -98765);
261    EXPECT_TRUE(absl::ParseFlag("+3", &value, &err));
262    EXPECT_EQ(value, 3);
263    EXPECT_TRUE(absl::ParseFlag("01", &value, &err));
264    EXPECT_EQ(value, 1);
265    EXPECT_TRUE(absl::ParseFlag("001", &value, &err));
266    EXPECT_EQ(value, 1);
267    EXPECT_TRUE(absl::ParseFlag("0000100", &value, &err));
268    EXPECT_EQ(value, 100);
269    EXPECT_TRUE(absl::ParseFlag("0x10", &value, &err));
270    EXPECT_EQ(value, 16);
271    EXPECT_TRUE(absl::ParseFlag("0XFFFAAABBBCCCDDD", &value, &err));
272    EXPECT_EQ(value, 1152827684197027293);
273    EXPECT_FALSE(absl::ParseFlag("-0x7FFFFFFFFFFFFFFE", &value, &err));
274    EXPECT_NE(value, -2);
275    EXPECT_FALSE(absl::ParseFlag("+0x31", &value, &err));
276    EXPECT_NE(value, 49);
277    EXPECT_TRUE(absl::ParseFlag("10  ", &value, &err));
278    EXPECT_EQ(value, 10);
279    EXPECT_TRUE(absl::ParseFlag("  11", &value, &err));
280    EXPECT_EQ(value, 11);
281    EXPECT_TRUE(absl::ParseFlag("  012  ", &value, &err));
282    EXPECT_EQ(value, 12);
283    EXPECT_TRUE(absl::ParseFlag(" 0x7F    ", &value, &err));
284    EXPECT_EQ(value, 127);
285    EXPECT_FALSE(absl::ParseFlag("", &value, &err));
286    EXPECT_FALSE(absl::ParseFlag(" ", &value, &err));
287    EXPECT_FALSE(absl::ParseFlag("  ", &value, &err));
288    EXPECT_FALSE(absl::ParseFlag("0xFFFFFFFFFFFFFFFFFF", &value, &err));
289    EXPECT_FALSE(absl::ParseFlag("--1", &value, &err));
290    EXPECT_FALSE(absl::ParseFlag("\n", &value, &err));
291    EXPECT_FALSE(absl::ParseFlag("\t", &value, &err));
292    EXPECT_FALSE(absl::ParseFlag("2U", &value, &err));
293    EXPECT_FALSE(absl::ParseFlag("FFF", &value, &err));
294  }
295  TEST(MarshallingTest, TestUInt64Parsing) {
296    std::string err;
297    uint64_t value;
298    EXPECT_TRUE(absl::ParseFlag("1", &value, &err));
299    EXPECT_EQ(value, 1);
300    EXPECT_TRUE(absl::ParseFlag("0", &value, &err));
301    EXPECT_EQ(value, 0);
302    EXPECT_TRUE(absl::ParseFlag("123", &value, &err));
303    EXPECT_EQ(value, 123);
304    EXPECT_TRUE(absl::ParseFlag("+13", &value, &err));
305    EXPECT_EQ(value, 13);
306    EXPECT_TRUE(absl::ParseFlag("01", &value, &err));
307    EXPECT_EQ(value, 1);
308    EXPECT_TRUE(absl::ParseFlag("001", &value, &err));
309    EXPECT_EQ(value, 1);
310    EXPECT_TRUE(absl::ParseFlag("0000300", &value, &err));
311    EXPECT_EQ(value, 300);
312    EXPECT_TRUE(absl::ParseFlag("0x10", &value, &err));
313    EXPECT_EQ(value, 16);
314    EXPECT_TRUE(absl::ParseFlag("0XFFFF", &value, &err));
315    EXPECT_EQ(value, 65535);
316    EXPECT_FALSE(absl::ParseFlag("+0x31", &value, &err));
317    EXPECT_NE(value, 49);
318    EXPECT_TRUE(absl::ParseFlag("10  ", &value, &err));
319    EXPECT_EQ(value, 10);
320    EXPECT_TRUE(absl::ParseFlag("  11", &value, &err));
321    EXPECT_EQ(value, 11);
322    EXPECT_TRUE(absl::ParseFlag("  012  ", &value, &err));
323    EXPECT_EQ(value, 12);
324    EXPECT_FALSE(absl::ParseFlag("", &value, &err));
325    EXPECT_FALSE(absl::ParseFlag(" ", &value, &err));
326    EXPECT_FALSE(absl::ParseFlag("  ", &value, &err));
327    EXPECT_FALSE(absl::ParseFlag("0xFFFFFFFFFFFFFFFFFF", &value, &err));
328    EXPECT_FALSE(absl::ParseFlag("-1", &value, &err));
329    EXPECT_FALSE(absl::ParseFlag("--1", &value, &err));
330    EXPECT_FALSE(absl::ParseFlag("\n", &value, &err));
331    EXPECT_FALSE(absl::ParseFlag("\t", &value, &err));
332    EXPECT_FALSE(absl::ParseFlag("2U", &value, &err));
333    EXPECT_FALSE(absl::ParseFlag("FFF", &value, &err));
334  }
335  TEST(MarshallingTest, TestInt128Parsing) {
336    std::string err;
337    absl::int128 value;
338    absl::int128 zero = 0;
339    absl::int128 one = 1;
340    absl::int128 neg_one = -1;
341    absl::int128 hundred = 100;
342    absl::int128 hundreds_val = 123;
343    absl::int128 neg_thousands_val = -98765;
344    absl::int128 pos_three = 3;
345    EXPECT_TRUE(absl::ParseFlag("0", &value, &err));
346    EXPECT_EQ(value, zero);
347    EXPECT_TRUE(absl::ParseFlag("1", &value, &err));
348    EXPECT_EQ(value, one);
349    EXPECT_TRUE(absl::ParseFlag("-1", &value, &err));
350    EXPECT_EQ(value, neg_one);
351    EXPECT_TRUE(absl::ParseFlag("123", &value, &err));
352    EXPECT_EQ(value, hundreds_val);
353    EXPECT_TRUE(absl::ParseFlag("-98765", &value, &err));
354    EXPECT_EQ(value, neg_thousands_val);
355    EXPECT_TRUE(absl::ParseFlag("+3", &value, &err));
356    EXPECT_EQ(value, pos_three);
357    EXPECT_TRUE(absl::ParseFlag("01", &value, &err));
358    EXPECT_EQ(value, one);
359    EXPECT_TRUE(absl::ParseFlag("001", &value, &err));
360    EXPECT_EQ(value, one);
361    EXPECT_TRUE(absl::ParseFlag("0000100", &value, &err));
362    EXPECT_EQ(value, hundred);
363    absl::int128 sixteen = 16;
364    absl::int128 quintillion_val = 1152827684197027293;
365    absl::int128 quintillion_val2 =
366        absl::MakeInt128(0x000000000000fff, 0xFFFFFFFFFFFFFFF);
367    EXPECT_TRUE(absl::ParseFlag("0x10", &value, &err));
368    EXPECT_EQ(value, sixteen);
369    EXPECT_TRUE(absl::ParseFlag("0xFFFAAABBBCCCDDD", &value, &err));
370    EXPECT_EQ(value, quintillion_val);
371    EXPECT_TRUE(absl::ParseFlag("0xFFF0FFFFFFFFFFFFFFF", &value, &err));
372    EXPECT_EQ(value, quintillion_val2);
373    EXPECT_TRUE(absl::ParseFlag("16  ", &value, &err));
374    EXPECT_EQ(value, sixteen);
375    EXPECT_TRUE(absl::ParseFlag("  16", &value, &err));
376    EXPECT_EQ(value, sixteen);
377    EXPECT_TRUE(absl::ParseFlag("  0100  ", &value, &err));
378    EXPECT_EQ(value, hundred);
379    EXPECT_TRUE(absl::ParseFlag(" 0x7B    ", &value, &err));
380    EXPECT_EQ(value, hundreds_val);  
381    EXPECT_FALSE(absl::ParseFlag("", &value, &err));
382    EXPECT_FALSE(absl::ParseFlag(" ", &value, &err));
383    EXPECT_FALSE(absl::ParseFlag("  ", &value, &err));
384    EXPECT_FALSE(absl::ParseFlag("--1", &value, &err));
385    EXPECT_FALSE(absl::ParseFlag("\n", &value, &err));
386    EXPECT_FALSE(absl::ParseFlag("\t", &value, &err));
387    EXPECT_FALSE(absl::ParseFlag("2U", &value, &err));
388    EXPECT_FALSE(absl::ParseFlag("FFF", &value, &err));
389  }
390  TEST(MarshallingTest, TestUint128Parsing) {
391    std::string err;
392    absl::uint128 value;
393    absl::uint128 zero = 0;
394    absl::uint128 one = 1;
395    absl::uint128 hundred = 100;
396    absl::uint128 hundreds_val = 123;
397    absl::uint128 pos_three = 3;
398    EXPECT_TRUE(absl::ParseFlag("0", &value, &err));
399    EXPECT_EQ(value, zero);
400    EXPECT_TRUE(absl::ParseFlag("1", &value, &err));
401    EXPECT_EQ(value, one);
402    EXPECT_TRUE(absl::ParseFlag("123", &value, &err));
403    EXPECT_EQ(value, hundreds_val);
404    EXPECT_TRUE(absl::ParseFlag("+3", &value, &err));
405    EXPECT_EQ(value, pos_three);
406    EXPECT_TRUE(absl::ParseFlag("01", &value, &err));
407    EXPECT_EQ(value, one);
408    EXPECT_TRUE(absl::ParseFlag("001", &value, &err));
409    EXPECT_EQ(value, one);
410    EXPECT_TRUE(absl::ParseFlag("0000100", &value, &err));
411    EXPECT_EQ(value, hundred);
412    absl::uint128 sixteen = 16;
413    absl::uint128 quintillion_val = 1152827684197027293;
414    absl::uint128 quintillion_val2 =
415        absl::MakeInt128(0x000000000000fff, 0xFFFFFFFFFFFFFFF);
416    EXPECT_TRUE(absl::ParseFlag("0x10", &value, &err));
417    EXPECT_EQ(value, sixteen);
418    EXPECT_TRUE(absl::ParseFlag("0xFFFAAABBBCCCDDD", &value, &err));
419    EXPECT_EQ(value, quintillion_val);
420    EXPECT_TRUE(absl::ParseFlag("0xFFF0FFFFFFFFFFFFFFF", &value, &err));
421    EXPECT_EQ(value, quintillion_val2);
422    EXPECT_TRUE(absl::ParseFlag("16  ", &value, &err));
423    EXPECT_EQ(value, sixteen);
424    EXPECT_TRUE(absl::ParseFlag("  16", &value, &err));
425    EXPECT_EQ(value, sixteen);
426    EXPECT_TRUE(absl::ParseFlag("  0100  ", &value, &err));
427    EXPECT_EQ(value, hundred);
428    EXPECT_TRUE(absl::ParseFlag(" 0x7B    ", &value, &err));
429    EXPECT_EQ(value, hundreds_val);  
430    EXPECT_FALSE(absl::ParseFlag("", &value, &err));
431    EXPECT_FALSE(absl::ParseFlag(" ", &value, &err));
432    EXPECT_FALSE(absl::ParseFlag("  ", &value, &err));
433    EXPECT_FALSE(absl::ParseFlag("-1", &value, &err));
434    EXPECT_FALSE(absl::ParseFlag("--1", &value, &err));
435    EXPECT_FALSE(absl::ParseFlag("\n", &value, &err));
436    EXPECT_FALSE(absl::ParseFlag("\t", &value, &err));
437    EXPECT_FALSE(absl::ParseFlag("2U", &value, &err));
438    EXPECT_FALSE(absl::ParseFlag("FFF", &value, &err));
439  }
440  TEST(MarshallingTest, TestFloatParsing) {
441    std::string err;
442    float value;
443    EXPECT_TRUE(absl::ParseFlag("1.3", &value, &err));
444    EXPECT_FLOAT_EQ(value, 1.3f);
445    EXPECT_TRUE(absl::ParseFlag("-0.1", &value, &err));
446    EXPECT_DOUBLE_EQ(value, -0.1f);
447    EXPECT_TRUE(absl::ParseFlag("+0.01", &value, &err));
448    EXPECT_DOUBLE_EQ(value, 0.01f);
449    EXPECT_TRUE(absl::ParseFlag("1.2e3", &value, &err));
450    EXPECT_DOUBLE_EQ(value, 1.2e3f);
451    EXPECT_TRUE(absl::ParseFlag("9.8765402e-37", &value, &err));
452    EXPECT_DOUBLE_EQ(value, 9.8765402e-37f);
453    EXPECT_TRUE(absl::ParseFlag("0.11e+3", &value, &err));
454    EXPECT_DOUBLE_EQ(value, 0.11e+3f);
455    EXPECT_TRUE(absl::ParseFlag("1.e-2300", &value, &err));
456    EXPECT_DOUBLE_EQ(value, 0.f);
457    EXPECT_TRUE(absl::ParseFlag("1.e+2300", &value, &err));
458    EXPECT_TRUE(std::isinf(value));
459    EXPECT_TRUE(absl::ParseFlag("01.6", &value, &err));
460    EXPECT_DOUBLE_EQ(value, 1.6f);
461    EXPECT_TRUE(absl::ParseFlag("000.0001", &value, &err));
462    EXPECT_DOUBLE_EQ(value, 0.0001f);
463    EXPECT_TRUE(absl::ParseFlag("-5.1000", &value, &err));
464    EXPECT_DOUBLE_EQ(value, -5.1f);
465    EXPECT_TRUE(absl::ParseFlag("NaN", &value, &err));
466    EXPECT_TRUE(std::isnan(value));
467    EXPECT_TRUE(absl::ParseFlag("Inf", &value, &err));
468    EXPECT_TRUE(std::isinf(value));
469    EXPECT_TRUE(absl::ParseFlag("0x10.23p12", &value, &err));
470    EXPECT_DOUBLE_EQ(value, 66096.f);
471    EXPECT_TRUE(absl::ParseFlag("-0xF1.A3p-2", &value, &err));
472    EXPECT_NEAR(value, -60.4092f, 5e-5f);
473    EXPECT_TRUE(absl::ParseFlag("+0x0.0AAp-12", &value, &err));
474    EXPECT_NEAR(value, 1.01328e-05f, 5e-11f);
475    EXPECT_TRUE(absl::ParseFlag("0x.01p1", &value, &err));
476    EXPECT_NEAR(value, 0.0078125f, 5e-8f);
477    EXPECT_TRUE(absl::ParseFlag("10.1  ", &value, &err));
478    EXPECT_DOUBLE_EQ(value, 10.1f);
479    EXPECT_TRUE(absl::ParseFlag("  2.34", &value, &err));
480    EXPECT_DOUBLE_EQ(value, 2.34f);
481    EXPECT_TRUE(absl::ParseFlag("  5.7  ", &value, &err));
482    EXPECT_DOUBLE_EQ(value, 5.7f);
483    EXPECT_TRUE(absl::ParseFlag("  -0xE0.F3p01  ", &value, &err));
484    EXPECT_NEAR(value, -449.8984375f, 5e-8f);
485    EXPECT_FALSE(absl::ParseFlag("", &value, &err));
486    EXPECT_FALSE(absl::ParseFlag(" ", &value, &err));
487    EXPECT_FALSE(absl::ParseFlag("  ", &value, &err));
488    EXPECT_FALSE(absl::ParseFlag("--1", &value, &err));
489    EXPECT_FALSE(absl::ParseFlag("\n", &value, &err));
490    EXPECT_FALSE(absl::ParseFlag("\t", &value, &err));
491    EXPECT_FALSE(absl::ParseFlag("2.3xxx", &value, &err));
492    EXPECT_FALSE(absl::ParseFlag("0x0.1pAA", &value, &err));
493    EXPECT_TRUE(absl::ParseFlag("0x0.1", &value, &err));
494  }
495  TEST(MarshallingTest, TestDoubleParsing) {
496    std::string err;
497    double value;
498    EXPECT_TRUE(absl::ParseFlag("1.3", &value, &err));
499    EXPECT_DOUBLE_EQ(value, 1.3);
500    EXPECT_TRUE(absl::ParseFlag("-0.1", &value, &err));
501    EXPECT_DOUBLE_EQ(value, -0.1);
502    EXPECT_TRUE(absl::ParseFlag("+0.01", &value, &err));
503    EXPECT_DOUBLE_EQ(value, 0.01);
504    EXPECT_TRUE(absl::ParseFlag("1.2e3", &value, &err));
505    EXPECT_DOUBLE_EQ(value, 1.2e3);
506    EXPECT_TRUE(absl::ParseFlag("9.00000002e-123", &value, &err));
507    EXPECT_DOUBLE_EQ(value, 9.00000002e-123);
508    EXPECT_TRUE(absl::ParseFlag("0.11e+3", &value, &err));
509    EXPECT_DOUBLE_EQ(value, 0.11e+3);
510    EXPECT_TRUE(absl::ParseFlag("1.e-2300", &value, &err));
511    EXPECT_DOUBLE_EQ(value, 0);
512    EXPECT_TRUE(absl::ParseFlag("1.e+2300", &value, &err));
513    EXPECT_TRUE(std::isinf(value));
514    EXPECT_TRUE(absl::ParseFlag("01.6", &value, &err));
515    EXPECT_DOUBLE_EQ(value, 1.6);
516    EXPECT_TRUE(absl::ParseFlag("000.0001", &value, &err));
517    EXPECT_DOUBLE_EQ(value, 0.0001);
518    EXPECT_TRUE(absl::ParseFlag("-5.1000", &value, &err));
519    EXPECT_DOUBLE_EQ(value, -5.1);
520    EXPECT_TRUE(absl::ParseFlag("NaN", &value, &err));
521    EXPECT_TRUE(std::isnan(value));
522    EXPECT_TRUE(absl::ParseFlag("nan", &value, &err));
523    EXPECT_TRUE(std::isnan(value));
524    EXPECT_TRUE(absl::ParseFlag("Inf", &value, &err));
525    EXPECT_TRUE(std::isinf(value));
526    EXPECT_TRUE(absl::ParseFlag("inf", &value, &err));
527    EXPECT_TRUE(std::isinf(value));
528    EXPECT_TRUE(absl::ParseFlag("0x10.23p12", &value, &err));
529    EXPECT_DOUBLE_EQ(value, 66096);
530    EXPECT_TRUE(absl::ParseFlag("-0xF1.A3p-2", &value, &err));
531    EXPECT_NEAR(value, -60.4092, 5e-5);
532    EXPECT_TRUE(absl::ParseFlag("+0x0.0AAp-12", &value, &err));
533    EXPECT_NEAR(value, 1.01328e-05, 5e-11);
534    EXPECT_TRUE(absl::ParseFlag("0x.01p1", &value, &err));
535    EXPECT_NEAR(value, 0.0078125, 5e-8);
536    EXPECT_TRUE(absl::ParseFlag("10.1  ", &value, &err));
537    EXPECT_DOUBLE_EQ(value, 10.1);
538    EXPECT_TRUE(absl::ParseFlag("  2.34", &value, &err));
539    EXPECT_DOUBLE_EQ(value, 2.34);
540    EXPECT_TRUE(absl::ParseFlag("  5.7  ", &value, &err));
541    EXPECT_DOUBLE_EQ(value, 5.7);
542    EXPECT_TRUE(absl::ParseFlag("  -0xE0.F3p01  ", &value, &err));
543    EXPECT_NEAR(value, -449.8984375, 5e-8);
544    EXPECT_FALSE(absl::ParseFlag("", &value, &err));
545    EXPECT_FALSE(absl::ParseFlag(" ", &value, &err));
546    EXPECT_FALSE(absl::ParseFlag("  ", &value, &err));
547    EXPECT_FALSE(absl::ParseFlag("--1", &value, &err));
548    EXPECT_FALSE(absl::ParseFlag("\n", &value, &err));
549    EXPECT_FALSE(absl::ParseFlag("\t", &value, &err));
550    EXPECT_FALSE(absl::ParseFlag("2.3xxx", &value, &err));
551    EXPECT_FALSE(absl::ParseFlag("0x0.1pAA", &value, &err));
552    EXPECT_TRUE(absl::ParseFlag("0x0.1", &value, &err));
553  }
554  TEST(MarshallingTest, TestStringParsing) {
555    std::string err;
556    std::string value;
557    EXPECT_TRUE(absl::ParseFlag("", &value, &err));
558    EXPECT_EQ(value, "");
559    EXPECT_TRUE(absl::ParseFlag(" ", &value, &err));
560    EXPECT_EQ(value, " ");
561    EXPECT_TRUE(absl::ParseFlag("   ", &value, &err));
562    EXPECT_EQ(value, "   ");
563    EXPECT_TRUE(absl::ParseFlag("\n", &value, &err));
564    EXPECT_EQ(value, "\n");
565    EXPECT_TRUE(absl::ParseFlag("\t", &value, &err));
566    EXPECT_EQ(value, "\t");
567    EXPECT_TRUE(absl::ParseFlag("asdfg", &value, &err));
568    EXPECT_EQ(value, "asdfg");
569    EXPECT_TRUE(absl::ParseFlag("asdf ghjk", &value, &err));
570    EXPECT_EQ(value, "asdf ghjk");
571    EXPECT_TRUE(absl::ParseFlag("a\nb\nc", &value, &err));
572    EXPECT_EQ(value, "a\nb\nc");
573    EXPECT_TRUE(absl::ParseFlag("asd\0fgh", &value, &err));
574    EXPECT_EQ(value, "asd");
575    EXPECT_TRUE(absl::ParseFlag("\\\\", &value, &err));
576    EXPECT_EQ(value, "\\\\");
577  }
578  TEST(MarshallingTest, TestVectorOfStringParsing) {
579    std::string err;
580    std::vector<std::string> value;
581    EXPECT_TRUE(absl::ParseFlag("", &value, &err));
<span onclick='openModal()' class='match'>582    EXPECT_EQ(value, std::vector<std::string>{});
583    EXPECT_TRUE(absl::ParseFlag("1", &value, &err));
584    EXPECT_EQ(value, std::vector<std::string>({"1"}));
585    EXPECT_TRUE(absl::ParseFlag("a,b", &value, &err));
586    EXPECT_EQ(value, std::vector<std::string>({"a", "b"}));
587    EXPECT_TRUE(absl::ParseFlag("a,b,c,", &value, &err));
588    EXPECT_EQ(value, std::vector<std::string>({"a", "b", "c", ""}));
589    EXPECT_TRUE(absl::ParseFlag("a,,", &value, &err));
590    EXPECT_EQ(value, std::vector<std::string>({"a", "", ""}));
591    EXPECT_TRUE(absl::ParseFlag(",", &value, &err));
592    EXPECT_EQ(value, std::vector<std::string>({"", ""}));
593    EXPECT_TRUE(absl::ParseFlag("a, b,c ", &value, &err));
594    EXPECT_EQ(value, std::vector<std::string>({"a", " b", "c "}));
595  }
</span>596  TEST(MarshallingTest, TestOptionalBoolParsing) {
597    std::string err;
598    absl::optional<bool> value;
599    EXPECT_TRUE(absl::ParseFlag("", &value, &err));
600    EXPECT_FALSE(value.has_value());
601    EXPECT_TRUE(absl::ParseFlag("true", &value, &err));
602    EXPECT_TRUE(value.has_value());
603    EXPECT_TRUE(*value);
604    EXPECT_TRUE(absl::ParseFlag("false", &value, &err));
605    EXPECT_TRUE(value.has_value());
606    EXPECT_FALSE(*value);
607    EXPECT_FALSE(absl::ParseFlag("nullopt", &value, &err));
608  }
609  TEST(MarshallingTest, TestOptionalIntParsing) {
610    std::string err;
611    absl::optional<int> value;
612    EXPECT_TRUE(absl::ParseFlag("", &value, &err));
613    EXPECT_FALSE(value.has_value());
614    EXPECT_TRUE(absl::ParseFlag("10", &value, &err));
615    EXPECT_TRUE(value.has_value());
616    EXPECT_EQ(*value, 10);
617    EXPECT_TRUE(absl::ParseFlag("0x1F", &value, &err));
618    EXPECT_TRUE(value.has_value());
619    EXPECT_EQ(*value, 31);
620    EXPECT_FALSE(absl::ParseFlag("nullopt", &value, &err));
621  }
622  TEST(MarshallingTest, TestOptionalDoubleParsing) {
623    std::string err;
624    absl::optional<double> value;
625    EXPECT_TRUE(absl::ParseFlag("", &value, &err));
626    EXPECT_FALSE(value.has_value());
627    EXPECT_TRUE(absl::ParseFlag("1.11", &value, &err));
628    EXPECT_TRUE(value.has_value());
629    EXPECT_EQ(*value, 1.11);
630    EXPECT_TRUE(absl::ParseFlag("-0.12", &value, &err));
631    EXPECT_TRUE(value.has_value());
632    EXPECT_EQ(*value, -0.12);
633    EXPECT_FALSE(absl::ParseFlag("nullopt", &value, &err));
634  }
635  TEST(MarshallingTest, TestOptionalStringParsing) {
636    std::string err;
637    absl::optional<std::string> value;
638    EXPECT_TRUE(absl::ParseFlag("", &value, &err));
639    EXPECT_FALSE(value.has_value());
640    EXPECT_TRUE(absl::ParseFlag(" ", &value, &err));
641    EXPECT_TRUE(value.has_value());
642    EXPECT_EQ(*value, " ");
643    EXPECT_TRUE(absl::ParseFlag("aqswde", &value, &err));
644    EXPECT_TRUE(value.has_value());
645    EXPECT_EQ(*value, "aqswde");
646    EXPECT_TRUE(absl::ParseFlag("nullopt", &value, &err));
647    EXPECT_TRUE(value.has_value());
648    EXPECT_EQ(*value, "nullopt");
649  }
650  TEST(MarshallingTest, TestBoolUnparsing) {
651    EXPECT_EQ(absl::UnparseFlag(true), "true");
652    EXPECT_EQ(absl::UnparseFlag(false), "false");
653  }
654  TEST(MarshallingTest, TestInt16Unparsing) {
655    int16_t value;
656    value = 1;
657    EXPECT_EQ(absl::UnparseFlag(value), "1");
658    value = 0;
659    EXPECT_EQ(absl::UnparseFlag(value), "0");
660    value = -1;
661    EXPECT_EQ(absl::UnparseFlag(value), "-1");
662    value = 9876;
663    EXPECT_EQ(absl::UnparseFlag(value), "9876");
664    value = -987;
665    EXPECT_EQ(absl::UnparseFlag(value), "-987");
666  }
667  TEST(MarshallingTest, TestUint16Unparsing) {
668    uint16_t value;
669    value = 1;
670    EXPECT_EQ(absl::UnparseFlag(value), "1");
671    value = 0;
672    EXPECT_EQ(absl::UnparseFlag(value), "0");
673    value = 19876;
674    EXPECT_EQ(absl::UnparseFlag(value), "19876");
675  }
676  TEST(MarshallingTest, TestInt32Unparsing) {
677    int32_t value;
678    value = 1;
679    EXPECT_EQ(absl::UnparseFlag(value), "1");
680    value = 0;
681    EXPECT_EQ(absl::UnparseFlag(value), "0");
682    value = -1;
683    EXPECT_EQ(absl::UnparseFlag(value), "-1");
684    value = 12345;
685    EXPECT_EQ(absl::UnparseFlag(value), "12345");
686    value = -987;
687    EXPECT_EQ(absl::UnparseFlag(value), "-987");
688  }
689  TEST(MarshallingTest, TestUint32Unparsing) {
690    uint32_t value;
691    value = 1;
692    EXPECT_EQ(absl::UnparseFlag(value), "1");
693    value = 0;
694    EXPECT_EQ(absl::UnparseFlag(value), "0");
695    value = 1234500;
696    EXPECT_EQ(absl::UnparseFlag(value), "1234500");
697  }
698  TEST(MarshallingTest, TestInt64Unparsing) {
699    int64_t value;
700    value = 1;
701    EXPECT_EQ(absl::UnparseFlag(value), "1");
702    value = 0;
703    EXPECT_EQ(absl::UnparseFlag(value), "0");
704    value = -1;
705    EXPECT_EQ(absl::UnparseFlag(value), "-1");
706    value = 123456789L;
707    EXPECT_EQ(absl::UnparseFlag(value), "123456789");
708    value = -987654321L;
709    EXPECT_EQ(absl::UnparseFlag(value), "-987654321");
710    value = 0x7FFFFFFFFFFFFFFF;
711    EXPECT_EQ(absl::UnparseFlag(value), "9223372036854775807");
712    value = 0xFFFFFFFFFFFFFFFF;
713    EXPECT_EQ(absl::UnparseFlag(value), "-1");
714  }
715  TEST(MarshallingTest, TestUint64Unparsing) {
716    uint64_t value;
717    value = 1;
718    EXPECT_EQ(absl::UnparseFlag(value), "1");
719    value = 0;
720    EXPECT_EQ(absl::UnparseFlag(value), "0");
721    value = 123456789L;
722    EXPECT_EQ(absl::UnparseFlag(value), "123456789");
723    value = 0xFFFFFFFFFFFFFFFF;
724    EXPECT_EQ(absl::UnparseFlag(value), "18446744073709551615");
725  }
726  TEST(MarshallingTest, TestFloatUnparsing) {
727    float value;
728    value = 1.1f;
729    EXPECT_EQ(absl::UnparseFlag(value), "1.1");
730    value = 0.01f;
731    EXPECT_EQ(absl::UnparseFlag(value), "0.01");
732    value = 1.23e-2f;
733    EXPECT_EQ(absl::UnparseFlag(value), "0.0123");
734    value = -0.71f;
735    EXPECT_EQ(absl::UnparseFlag(value), "-0.71");
736  }
737  TEST(MarshallingTest, TestDoubleUnparsing) {
738    double value;
739    value = 1.1;
740    EXPECT_EQ(absl::UnparseFlag(value), "1.1");
741    value = 0.01;
742    EXPECT_EQ(absl::UnparseFlag(value), "0.01");
743    value = 1.23e-2;
744    EXPECT_EQ(absl::UnparseFlag(value), "0.0123");
745    value = -0.71;
746    EXPECT_EQ(absl::UnparseFlag(value), "-0.71");
747    value = -0;
748    EXPECT_EQ(absl::UnparseFlag(value), "0");
749    value = std::nan("");
750    EXPECT_EQ(absl::UnparseFlag(value), "nan");
751    value = std::numeric_limits<double>::infinity();
752    EXPECT_EQ(absl::UnparseFlag(value), "inf");
753  }
754  TEST(MarshallingTest, TestStringUnparsing) {
755    EXPECT_EQ(absl::UnparseFlag(""), "");
756    EXPECT_EQ(absl::UnparseFlag(" "), " ");
757    EXPECT_EQ(absl::UnparseFlag("qwerty"), "qwerty");
758    EXPECT_EQ(absl::UnparseFlag("ASDFGH"), "ASDFGH");
759    EXPECT_EQ(absl::UnparseFlag("\n\t  "), "\n\t  ");
760  }
761  TEST(MarshallingTest, TestOptionalBoolUnparsing) {
762    absl::optional<bool> value;
763    EXPECT_EQ(absl::UnparseFlag(value), "");
764    value = true;
765    EXPECT_EQ(absl::UnparseFlag(value), "true");
766    value = false;
767    EXPECT_EQ(absl::UnparseFlag(value), "false");
768    value = absl::nullopt;
769    EXPECT_EQ(absl::UnparseFlag(value), "");
770  }
771  TEST(MarshallingTest, TestOptionalIntUnparsing) {
772    absl::optional<int> value;
773    EXPECT_EQ(absl::UnparseFlag(value), "");
774    value = 0;
775    EXPECT_EQ(absl::UnparseFlag(value), "0");
776    value = -12;
777    EXPECT_EQ(absl::UnparseFlag(value), "-12");
778    value = absl::nullopt;
779    EXPECT_EQ(absl::UnparseFlag(value), "");
780  }
781  TEST(MarshallingTest, TestOptionalDoubleUnparsing) {
782    absl::optional<double> value;
783    EXPECT_EQ(absl::UnparseFlag(value), "");
784    value = 1.;
785    EXPECT_EQ(absl::UnparseFlag(value), "1");
786    value = -1.23;
787    EXPECT_EQ(absl::UnparseFlag(value), "-1.23");
788    value = absl::nullopt;
789    EXPECT_EQ(absl::UnparseFlag(value), "");
790  }
791  TEST(MarshallingTest, TestOptionalStringUnparsing) {
792    absl::optional<std::string> strvalue;
793    EXPECT_EQ(absl::UnparseFlag(strvalue), "");
794    strvalue = "asdfg";
795    EXPECT_EQ(absl::UnparseFlag(strvalue), "asdfg");
796    strvalue = " ";
797    EXPECT_EQ(absl::UnparseFlag(strvalue), " ");
798    strvalue = "";  
799    EXPECT_EQ(absl::UnparseFlag(strvalue), "");
800  }
801  #if defined(ABSL_HAVE_STD_OPTIONAL) && !defined(ABSL_USES_STD_OPTIONAL)
802  TEST(MarshallingTest, TestStdOptionalUnparsing) {
803    std::optional<std::string> strvalue;
804    EXPECT_EQ(absl::UnparseFlag(strvalue), "");
805    strvalue = "asdfg";
806    EXPECT_EQ(absl::UnparseFlag(strvalue), "asdfg");
807    strvalue = " ";
808    EXPECT_EQ(absl::UnparseFlag(strvalue), " ");
809    strvalue = "";  
810    EXPECT_EQ(absl::UnparseFlag(strvalue), "");
811    std::optional<int> intvalue;
812    EXPECT_EQ(absl::UnparseFlag(intvalue), "");
813    intvalue = 10;
814    EXPECT_EQ(absl::UnparseFlag(intvalue), "10");
815  }
816  #endif
817  template <typename T>
818  void TestRoundtrip(T v) {
819    T new_v;
820    std::string err;
821    EXPECT_TRUE(absl::ParseFlag(absl::UnparseFlag(v), &new_v, &err));
822    EXPECT_EQ(new_v, v);
823  }
824  TEST(MarshallingTest, TestFloatRoundTrip) {
825    TestRoundtrip(0.1f);
826    TestRoundtrip(0.12f);
827    TestRoundtrip(0.123f);
828    TestRoundtrip(0.1234f);
829    TestRoundtrip(0.12345f);
830    TestRoundtrip(0.123456f);
831    TestRoundtrip(0.1234567f);
832    TestRoundtrip(0.12345678f);
833    TestRoundtrip(0.1e20f);
834    TestRoundtrip(0.12e20f);
835    TestRoundtrip(0.123e20f);
836    TestRoundtrip(0.1234e20f);
837    TestRoundtrip(0.12345e20f);
838    TestRoundtrip(0.123456e20f);
839    TestRoundtrip(0.1234567e20f);
840    TestRoundtrip(0.12345678e20f);
841    TestRoundtrip(0.1e-20f);
842    TestRoundtrip(0.12e-20f);
843    TestRoundtrip(0.123e-20f);
844    TestRoundtrip(0.1234e-20f);
845    TestRoundtrip(0.12345e-20f);
846    TestRoundtrip(0.123456e-20f);
847    TestRoundtrip(0.1234567e-20f);
848    TestRoundtrip(0.12345678e-20f);
849  }
850  TEST(MarshallingTest, TestDoubleRoundTrip) {
851    TestRoundtrip(0.1);
852    TestRoundtrip(0.12);
853    TestRoundtrip(0.123);
854    TestRoundtrip(0.1234);
855    TestRoundtrip(0.12345);
856    TestRoundtrip(0.123456);
857    TestRoundtrip(0.1234567);
858    TestRoundtrip(0.12345678);
859    TestRoundtrip(0.123456789);
860    TestRoundtrip(0.1234567891);
861    TestRoundtrip(0.12345678912);
862    TestRoundtrip(0.123456789123);
863    TestRoundtrip(0.1234567891234);
864    TestRoundtrip(0.12345678912345);
865    TestRoundtrip(0.123456789123456);
866    TestRoundtrip(0.1234567891234567);
867    TestRoundtrip(0.12345678912345678);
868    TestRoundtrip(0.1e50);
869    TestRoundtrip(0.12e50);
870    TestRoundtrip(0.123e50);
871    TestRoundtrip(0.1234e50);
872    TestRoundtrip(0.12345e50);
873    TestRoundtrip(0.123456e50);
874    TestRoundtrip(0.1234567e50);
875    TestRoundtrip(0.12345678e50);
876    TestRoundtrip(0.123456789e50);
877    TestRoundtrip(0.1234567891e50);
878    TestRoundtrip(0.12345678912e50);
879    TestRoundtrip(0.123456789123e50);
880    TestRoundtrip(0.1234567891234e50);
881    TestRoundtrip(0.12345678912345e50);
882    TestRoundtrip(0.123456789123456e50);
883    TestRoundtrip(0.1234567891234567e50);
884    TestRoundtrip(0.12345678912345678e50);
885    TestRoundtrip(0.1e-50);
886    TestRoundtrip(0.12e-50);
887    TestRoundtrip(0.123e-50);
888    TestRoundtrip(0.1234e-50);
889    TestRoundtrip(0.12345e-50);
890    TestRoundtrip(0.123456e-50);
891    TestRoundtrip(0.1234567e-50);
892    TestRoundtrip(0.12345678e-50);
893    TestRoundtrip(0.123456789e-50);
894    TestRoundtrip(0.1234567891e-50);
895    TestRoundtrip(0.12345678912e-50);
896    TestRoundtrip(0.123456789123e-50);
897    TestRoundtrip(0.1234567891234e-50);
898    TestRoundtrip(0.12345678912345e-50);
899    TestRoundtrip(0.123456789123456e-50);
900    TestRoundtrip(0.1234567891234567e-50);
901    TestRoundtrip(0.12345678912345678e-50);
902  }
903  }  
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from glm-MDEwOlJlcG9zaXRvcnk4NDM2MzE=-flat-core_func_integer.cpp</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from abseil-cpp-MDEwOlJlcG9zaXRvcnkxMDQyMzE1NDE=-flat-marshalling_test.cc</div>
                </div>
                <div class="column column_space"><pre><code>34  		{0x000000ff, 1, 3, 0x00000007, SUCCESS},
35  		{0x000000ff, 0, 3, 0x00000007, SUCCESS},
36  		{0x00000000, 0, 2, 0x00000000, SUCCESS},
37  		{0xffffffff, 0, 8, 0x000000ff, SUCCESS},
38  		{0xffff0000,16,16, 0x0000ffff, SUCCESS},
39  		{0xfffffff0, 0, 8, 0x00000000, FAIL},
40  		{0xffffffff,16,16, 0x00000000, FAIL},
41  	};
</pre></code></div>
                <div class="column column_space"><pre><code>582    EXPECT_EQ(value, std::vector<std::string>{});
583    EXPECT_TRUE(absl::ParseFlag("1", &value, &err));
584    EXPECT_EQ(value, std::vector<std::string>({"1"}));
585    EXPECT_TRUE(absl::ParseFlag("a,b", &value, &err));
586    EXPECT_EQ(value, std::vector<std::string>({"a", "b"}));
587    EXPECT_TRUE(absl::ParseFlag("a,b,c,", &value, &err));
588    EXPECT_EQ(value, std::vector<std::string>({"a", "b", "c", ""}));
589    EXPECT_TRUE(absl::ParseFlag("a,,", &value, &err));
590    EXPECT_EQ(value, std::vector<std::string>({"a", "", ""}));
591    EXPECT_TRUE(absl::ParseFlag(",", &value, &err));
592    EXPECT_EQ(value, std::vector<std::string>({"", ""}));
593    EXPECT_TRUE(absl::ParseFlag("a, b,c ", &value, &err));
594    EXPECT_EQ(value, std::vector<std::string>({"a", " b", "c "}));
595  }
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    