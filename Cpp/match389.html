<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Matches for eventtimingcodesframe.cpp & generalencapsulatedobjectframe.cpp</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</HEAD>
<body>
  <div style="align-items: center; display: flex; justify-content: space-around;">
    <div>
      <h3 align="center">
Matches for eventtimingcodesframe.cpp & generalencapsulatedobjectframe.cpp
      </h3>
      <h1 align="center">
        28.8%
      </h1>
      <center>
        <a href="index.html" target="_top">
          INDEX
        </a>
        <span>-</span>
        <a href="help-en.html" target="_top">
          HELP
        </a>
      </center>
    </div>
    <div>
<TABLE BORDER="1" CELLSPACING="0" BGCOLOR="#d0d0d0">
<TR><TH><TH>eventtimingcodesframe.cpp (32.0%)<TH>generalencapsulatedobjectframe.cpp (26.229507%)<TH>Tokens
<TR><TD BGCOLOR="#0000ff"><FONT COLOR="#0000ff">-</FONT><TD><A HREF="javascript:ZweiFrames('match389-0.html#0',2,'match389-1.html#0',3)" NAME="0">(41-67)<TD><A HREF="javascript:ZweiFrames('match389-0.html#0',2,'match389-1.html#0',3)" NAME="0">(42-72)</A><TD ALIGN=center><FONT COLOR="#ff0000">18</FONT>
<TR><TD BGCOLOR="#f63526"><FONT COLOR="#f63526">-</FONT><TD><A HREF="javascript:ZweiFrames('match389-0.html#1',2,'match389-1.html#1',3)" NAME="1">(74-87)<TD><A HREF="javascript:ZweiFrames('match389-0.html#1',2,'match389-1.html#1',3)" NAME="1">(81-92)</A><TD ALIGN=center><FONT COLOR="#c60000">14</FONT>
</TABLE>
    </div>
  </div>
  <hr>
  <div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>eventtimingcodesframe.cpp</span>
<span> - </span>
<span></span>
</center>
</h3>
<HR>
<PRE>
/***************************************************************************
    copyright            : (C) 2014 by Urs Fleisch
    email                : ufleisch@users.sourceforge.net
 ***************************************************************************/

/***************************************************************************
 *   This library is free software; you can redistribute it and/or modify  *
 *   it  under the terms of the GNU Lesser General Public License version  *
 *   2.1 as published by the Free Software Foundation.                     *
 *                                                                         *
 *   This library is distributed in the hope that it will be useful, but   *
 *   WITHOUT ANY WARRANTY; without even the implied warranty of            *
 *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU     *
 *   Lesser General Public License for more details.                       *
 *                                                                         *
 *   You should have received a copy of the GNU Lesser General Public      *
 *   License along with this library; if not, write to the Free Software   *
 *   Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA         *
 *   02110-1301  USA                                                       *
 *                                                                         *
 *   Alternatively, this file is available under the Mozilla Public        *
 *   License Version 1.1.  You may obtain a copy of the License at         *
 *   http://www.mozilla.org/MPL/                                           *
 ***************************************************************************/

#include &quot;eventtimingcodesframe.h&quot;
#include &lt;tbytevectorlist.h&gt;
#include &lt;id3v2tag.h&gt;
#include &lt;tdebug.h&gt;
#include &lt;tpropertymap.h&gt;

using namespace TagLib;
using namespace ID3v2;

class EventTimingCodesFrame::EventTimingCodesFramePrivate
{
public:
<A NAME="0"></A>  EventTimingCodesFramePrivate() :
    timestampFormat(EventTimingCodesFrame::AbsoluteMilliseconds) {}
  EventTimingCodesFrame::TimestampFormat timestampFormat;
<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match389-1.html#0',3,'match389-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>  EventTimingCodesFrame::SynchedEventList synchedEvents;
};

////////////////////////////////////////////////////////////////////////////////
// public members
////////////////////////////////////////////////////////////////////////////////

EventTimingCodesFrame::EventTimingCodesFrame() :
  Frame(&quot;ETCO&quot;),
  d(new EventTimingCodesFramePrivate())
{
}

EventTimingCodesFrame::EventTimingCodesFrame(const ByteVector &amp;data) :
  Frame(data),
  d(new EventTimingCodesFramePrivate())
{
  setData(data);
}

EventTimingCodesFrame::~EventTimingCodesFrame()
{
  delete d;
}

String EventTimingCodesFrame::toString() const
{</B></FONT>
  return String();
}

<A NAME="1"></A>EventTimingCodesFrame::TimestampFormat
EventTimingCodesFrame::timestampFormat() const
{
<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match389-1.html#1',3,'match389-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>  return d-&gt;timestampFormat;
}

EventTimingCodesFrame::SynchedEventList
EventTimingCodesFrame::synchedEvents() const
{
  return d-&gt;synchedEvents;
}

void EventTimingCodesFrame::setTimestampFormat(
    EventTimingCodesFrame::TimestampFormat f)
{
  d-&gt;timestampFormat = f;
}</B></FONT>

void EventTimingCodesFrame::setSynchedEvents(
    const EventTimingCodesFrame::SynchedEventList &amp;e)
{
  d-&gt;synchedEvents = e;
}

////////////////////////////////////////////////////////////////////////////////
// protected members
////////////////////////////////////////////////////////////////////////////////

void EventTimingCodesFrame::parseFields(const ByteVector &amp;data)
{
  const int end = data.size();
  if(end &lt; 1) {
    debug(&quot;An event timing codes frame must contain at least 1 byte.&quot;);
    return;
  }

  d-&gt;timestampFormat = TimestampFormat(data[0]);

  int pos = 1;
  d-&gt;synchedEvents.clear();
  while(pos + 4 &lt; end) {
    EventType type = static_cast&lt;EventType&gt;(static_cast&lt;unsigned char&gt;(data[pos++]));
    unsigned int time = data.toUInt(pos, true);
    pos += 4;
    d-&gt;synchedEvents.append(SynchedEvent(time, type));
  }
}

ByteVector EventTimingCodesFrame::renderFields() const
{
  ByteVector v;

  v.append(char(d-&gt;timestampFormat));
  for(SynchedEventList::ConstIterator it = d-&gt;synchedEvents.begin();
      it != d-&gt;synchedEvents.end();
      ++it) {
    const SynchedEvent &amp;entry = *it;
    v.append(char(entry.type));
    v.append(ByteVector::fromUInt(entry.time));
  }

  return v;
}

////////////////////////////////////////////////////////////////////////////////
// private members
////////////////////////////////////////////////////////////////////////////////

EventTimingCodesFrame::EventTimingCodesFrame(const ByteVector &amp;data, Header *h) :
  Frame(h),
  d(new EventTimingCodesFramePrivate())
{
  parseFields(fieldData(data));
}
</PRE>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>generalencapsulatedobjectframe.cpp</span>
<span> - </span>
<span></span>
</center>
</h3>
<HR>
<PRE>
/***************************************************************************
    copyright            : (C) 2002 - 2008 by Scott Wheeler
    email                : wheeler@kde.org

    copyright            : (C) 2006 by Aaron VonderHaar
    email                : avh4@users.sourceforge.net
 ***************************************************************************/

/***************************************************************************
 *   This library is free software; you can redistribute it and/or modify  *
 *   it under the terms of the GNU Lesser General Public License version   *
 *   2.1 as published by the Free Software Foundation.                     *
 *                                                                         *
 *   This library is distributed in the hope that it will be useful, but   *
 *   WITHOUT ANY WARRANTY; without even the implied warranty of            *
 *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU     *
 *   Lesser General Public License for more details.                       *
 *                                                                         *
 *   You should have received a copy of the GNU Lesser General Public      *
 *   License along with this library; if not, write to the Free Software   *
 *   Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA         *
 *   02110-1301  USA                                                       *
 *                                                                         *
 *   Alternatively, this file is available under the Mozilla Public        *
 *   License Version 1.1.  You may obtain a copy of the License at         *
 *   http://www.mozilla.org/MPL/                                           *
 ***************************************************************************/

#include &lt;tdebug.h&gt;
#include &lt;tstringlist.h&gt;

#include &quot;generalencapsulatedobjectframe.h&quot;

using namespace TagLib;
using namespace ID3v2;

class GeneralEncapsulatedObjectFrame::GeneralEncapsulatedObjectFramePrivate
{
<A NAME="0"></A>public:
  GeneralEncapsulatedObjectFramePrivate() : textEncoding(String::Latin1) {}

<FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match389-0.html#0',2,'match389-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>  String::Type textEncoding;
  String mimeType;
  String fileName;
  String description;
  ByteVector data;
};

////////////////////////////////////////////////////////////////////////////////
// public members
////////////////////////////////////////////////////////////////////////////////

GeneralEncapsulatedObjectFrame::GeneralEncapsulatedObjectFrame() :
  Frame(&quot;GEOB&quot;),
  d(new GeneralEncapsulatedObjectFramePrivate())
{
}

GeneralEncapsulatedObjectFrame::GeneralEncapsulatedObjectFrame(const ByteVector &amp;data) :
  Frame(data),
  d(new GeneralEncapsulatedObjectFramePrivate())
{
  setData(data);
}

GeneralEncapsulatedObjectFrame::~GeneralEncapsulatedObjectFrame()
{
  delete d;
}

String GeneralEncapsulatedObjectFrame::toString() const
{</B></FONT>
  String text = &quot;[&quot; + d-&gt;mimeType + &quot;]&quot;;

  if(!d-&gt;fileName.isEmpty())
    text += &quot; &quot; + d-&gt;fileName;

<A NAME="1"></A>  if(!d-&gt;description.isEmpty())
    text += &quot; \&quot;&quot; + d-&gt;description + &quot;\&quot;&quot;;

<FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match389-0.html#1',2,'match389-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>  return text;
}

String::Type GeneralEncapsulatedObjectFrame::textEncoding() const
{
  return d-&gt;textEncoding;
}

void GeneralEncapsulatedObjectFrame::setTextEncoding(String::Type encoding)
{
  d-&gt;textEncoding = encoding;
}</B></FONT>

String GeneralEncapsulatedObjectFrame::mimeType() const
{
  return d-&gt;mimeType;
}

void GeneralEncapsulatedObjectFrame::setMimeType(const String &amp;type)
{
  d-&gt;mimeType = type;
}

String GeneralEncapsulatedObjectFrame::fileName() const
{
  return d-&gt;fileName;
}

void GeneralEncapsulatedObjectFrame::setFileName(const String &amp;name)
{
  d-&gt;fileName = name;
}

String GeneralEncapsulatedObjectFrame::description() const
{
  return d-&gt;description;
}

void GeneralEncapsulatedObjectFrame::setDescription(const String &amp;desc)
{
  d-&gt;description = desc;
}

ByteVector GeneralEncapsulatedObjectFrame::object() const
{
  return d-&gt;data;
}

void GeneralEncapsulatedObjectFrame::setObject(const ByteVector &amp;data)
{
  d-&gt;data = data;
}

////////////////////////////////////////////////////////////////////////////////
// protected members
////////////////////////////////////////////////////////////////////////////////

void GeneralEncapsulatedObjectFrame::parseFields(const ByteVector &amp;data)
{
  if(data.size() &lt; 4) {
    debug(&quot;An object frame must contain at least 4 bytes.&quot;);
    return;
  }

  d-&gt;textEncoding = String::Type(data[0]);

  int pos = 1;

  d-&gt;mimeType = readStringField(data, String::Latin1, &amp;pos);
  d-&gt;fileName = readStringField(data, d-&gt;textEncoding, &amp;pos);
  d-&gt;description = readStringField(data, d-&gt;textEncoding, &amp;pos);

  d-&gt;data = data.mid(pos);
}

ByteVector GeneralEncapsulatedObjectFrame::renderFields() const
{
  StringList sl;
  sl.append(d-&gt;fileName);
  sl.append(d-&gt;description);

  const String::Type encoding = checkTextEncoding(sl, d-&gt;textEncoding);

  ByteVector data;

  data.append(char(encoding));
  data.append(d-&gt;mimeType.data(String::Latin1));
  data.append(textDelimiter(String::Latin1));
  data.append(d-&gt;fileName.data(encoding));
  data.append(textDelimiter(encoding));
  data.append(d-&gt;description.data(encoding));
  data.append(textDelimiter(encoding));
  data.append(d-&gt;data);

  return data;
}

////////////////////////////////////////////////////////////////////////////////
// private members
////////////////////////////////////////////////////////////////////////////////

GeneralEncapsulatedObjectFrame::GeneralEncapsulatedObjectFrame(const ByteVector &amp;data, Header *h) :
  Frame(h),
  d(new GeneralEncapsulatedObjectFramePrivate())
{
  parseFields(fieldData(data));
}
</PRE>
</div>
  </div>
</body>
</html>
