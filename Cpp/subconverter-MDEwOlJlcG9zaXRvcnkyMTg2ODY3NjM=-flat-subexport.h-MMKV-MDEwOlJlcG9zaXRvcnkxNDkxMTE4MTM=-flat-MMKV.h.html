
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 8.73362445414847%, Tokens: 10</h2>
        <div class="column">
            <h3>subconverter-MDEwOlJlcG9zaXRvcnkyMTg2ODY3NjM=-flat-subexport.h</h3>
            <pre><code>1  #ifndef SUBEXPORT_H_INCLUDED
2  #define SUBEXPORT_H_INCLUDED
3  #include <string>
4  #ifndef NO_JS_RUNTIME
5  #include <quickjspp.hpp>
6  #endif 
7  #include "../../config/proxygroup.h"
8  #include "../../config/regmatch.h"
9  #include "../../parser/config/proxy.h"
10  #include "../../utils/ini_reader/ini_reader.h"
11  #include "../../utils/string.h"
12  #include "../../utils/yamlcpp_extra.h"
13  #include "ruleconvert.h"
14  struct extra_settings
15  {
<span onclick='openModal()' class='match'>16      bool enable_rule_generator = true;
17      bool overwrite_original_rules = true;
18      RegexMatchConfigs rename_array;
19      RegexMatchConfigs emoji_array;
20      bool add_emoji = false;
21      bool remove_emoji = false;
22      bool append_proxy_type = false;
23      bool nodelist = false;
24      bool sort_flag = false;
25      bool filter_deprecated = false;
26      bool clash_new_field_name = false;
27      bool clash_script = false;
</span>28      std::string surge_ssr_path;
29      std::string managed_config_prefix;
30      std::string quanx_dev_id;
31      tribool udp = tribool();
32      tribool tfo = tribool();
33      tribool skip_cert_verify = tribool();
34      tribool tls13 = tribool();
35      bool clash_classical_ruleset = false;
36      std::string sort_script = "";
37      std::string clash_proxies_style = "flow";
38      bool authorized = false;
39      extra_settings() {};
40      extra_settings(const extra_settings&) = delete;
41      extra_settings(extra_settings&&) = delete;
42  #ifndef NO_JS_RUNTIME
43      qjs::Runtime *js_runtime = nullptr;
44      qjs::Context *js_context = nullptr;
45      ~extra_settings()
46      {
47          delete js_context;
48          delete js_runtime;
49      }
50  #endif 
51  };
52  void rulesetToClash(YAML::Node &base_rule, std::vector<RulesetContent> &ruleset_content_array, bool overwrite_original_rules, bool new_field_name);
53  void rulesetToSurge(INIReader &base_rule, std::vector<RulesetContent> &ruleset_content_array, int surge_ver, bool overwrite_original_rules, std::string remote_path_prefix);
54  std::string proxyToClash(std::vector<Proxy> &nodes, const std::string &base_conf, std::vector<RulesetContent> &ruleset_content_array, const ProxyGroupConfigs &extra_proxy_group, bool clashR, extra_settings &ext);
55  void proxyToClash(std::vector<Proxy> &nodes, YAML::Node &yamlnode, const ProxyGroupConfigs &extra_proxy_group, bool clashR, extra_settings &ext);
56  std::string proxyToSurge(std::vector<Proxy> &nodes, const std::string &base_conf, std::vector<RulesetContent> &ruleset_content_array, const ProxyGroupConfigs &extra_proxy_group, int surge_ver, extra_settings &ext);
57  std::string proxyToMellow(std::vector<Proxy> &nodes, const std::string &base_conf, std::vector<RulesetContent> &ruleset_content_array, const ProxyGroupConfigs &extra_proxy_group, extra_settings &ext);
58  void proxyToMellow(std::vector<Proxy> &nodes, INIReader &ini, std::vector<RulesetContent> &ruleset_content_array, const ProxyGroupConfigs &extra_proxy_group, extra_settings &ext);
59  std::string proxyToLoon(std::vector<Proxy> &nodes, const std::string &base_conf, std::vector<RulesetContent> &ruleset_content_array, const ProxyGroupConfigs &extra_proxy_group, extra_settings &ext);
60  std::string proxyToSSSub(std::string base_conf, std::vector<Proxy> &nodes, extra_settings &ext);
61  std::string proxyToSingle(std::vector<Proxy> &nodes, int types, extra_settings &ext);
62  std::string proxyToQuanX(std::vector<Proxy> &nodes, const std::string &base_conf, std::vector<RulesetContent> &ruleset_content_array, const ProxyGroupConfigs &extra_proxy_group, extra_settings &ext);
63  void proxyToQuanX(std::vector<Proxy> &nodes, INIReader &ini, std::vector<RulesetContent> &ruleset_content_array, const ProxyGroupConfigs &extra_proxy_group, extra_settings &ext);
64  std::string proxyToQuan(std::vector<Proxy> &nodes, const std::string &base_conf, std::vector<RulesetContent> &ruleset_content_array, const ProxyGroupConfigs &extra_proxy_group, extra_settings &ext);
65  void proxyToQuan(std::vector<Proxy> &nodes, INIReader &ini, std::vector<RulesetContent> &ruleset_content_array, const ProxyGroupConfigs &extra_proxy_group, extra_settings &ext);
66  std::string proxyToSSD(std::vector<Proxy> &nodes, std::string &group, std::string &userinfo, extra_settings &ext);
67  #endif 
</code></pre>
        </div>
        <div class="column">
            <h3>MMKV-MDEwOlJlcG9zaXRvcnkxNDkxMTE4MTM=-flat-MMKV.h</h3>
            <pre><code>1  #ifndef MMKV_MMKV_H
2  #define MMKV_MMKV_H
3  #ifdef  __cplusplus
4  #include "MMBuffer.h"
5  #include <cstdint>
6  namespace mmkv {
7  class CodedOutputData;
8  class MemoryFile;
9  class AESCrypt;
10  struct MMKVMetaInfo;
11  class FileLock;
12  class InterProcessLock;
13  class ThreadLock;
14  } 
15  MMKV_NAMESPACE_BEGIN
16  enum MMKVMode : uint32_t {
17      MMKV_SINGLE_PROCESS = 1 << 0,
18      MMKV_MULTI_PROCESS = 1 << 1,
19  #ifdef MMKV_ANDROID
20      CONTEXT_MODE_MULTI_PROCESS = 1 << 2, 
21      MMKV_ASHMEM = 1 << 3,
22      MMKV_BACKUP = 1 << 4,
23  #endif
24  };
25  #define OUT
26  class MMKV {
27  #ifndef MMKV_ANDROID
28      std::string m_mmapKey;
29      MMKV(const std::string &mmapID, MMKVMode mode, std::string *cryptKey, MMKVPath_t *rootPath);
30  #else 
31      mmkv::FileLock *m_fileModeLock;
32      mmkv::InterProcessLock *m_sharedProcessModeLock;
33      mmkv::InterProcessLock *m_exclusiveProcessModeLock;
34      MMKV(const std::string &mmapID, int size, MMKVMode mode, std::string *cryptKey, MMKVPath_t *rootPath);
35      MMKV(const std::string &mmapID, int ashmemFD, int ashmemMetaFd, std::string *cryptKey = nullptr);
36  #endif
37      ~MMKV();
38      std::string m_mmapID;
39      MMKVPath_t m_path;
40      MMKVPath_t m_crcPath;
41      mmkv::MMKVMap *m_dic;
42      mmkv::MMKVMapCrypt *m_dicCrypt;
43      mmkv::MemoryFile *m_file;
44      size_t m_actualSize;
45      mmkv::CodedOutputData *m_output;
46      bool m_needLoadFromFile;
47      bool m_hasFullWriteback;
48      uint32_t m_crcDigest;
49      mmkv::MemoryFile *m_metaFile;
50      mmkv::MMKVMetaInfo *m_metaInfo;
51      mmkv::AESCrypt *m_crypter;
52      mmkv::ThreadLock *m_lock;
53      mmkv::FileLock *m_fileLock;
54      mmkv::InterProcessLock *m_sharedProcessLock;
55      mmkv::InterProcessLock *m_exclusiveProcessLock;
56  #ifdef MMKV_APPLE
57      using MMKVKey_t = NSString *__unsafe_unretained;
58      static bool isKeyEmpty(MMKVKey_t key) { return key.length <= 0; }
59  #else
60      using MMKVKey_t = const std::string &;
61      static bool isKeyEmpty(MMKVKey_t key) { return key.empty(); }
62  #endif
63      void loadFromFile();
64      void partialLoadFromFile();
65      void checkDataValid(bool &loadFromFile, bool &needFullWriteback);
66      void checkLoadData();
67      bool isFileValid();
68      bool checkFileCRCValid(size_t actualSize, uint32_t crcDigest);
69      void recaculateCRCDigestWithIV(const void *iv);
70      void updateCRCDigest(const uint8_t *ptr, size_t length);
71      size_t readActualSize();
72      void oldStyleWriteActualSize(size_t actualSize);
73      bool writeActualSize(size_t size, uint32_t crcDigest, const void *iv, bool increaseSequence);
74      bool ensureMemorySize(size_t newSize);
75      bool fullWriteback(mmkv::AESCrypt *newCrypter = nullptr);
76      bool doFullWriteBack(std::pair<mmkv::MMBuffer, size_t> preparedData, mmkv::AESCrypt *newCrypter);
77      mmkv::MMBuffer getDataForKey(MMKVKey_t key);
78      bool setDataForKey(mmkv::MMBuffer &&data, MMKVKey_t key, bool isDataHolder = false);
79      bool removeDataForKey(MMKVKey_t key);
80      using KVHolderRet_t = std::pair<bool, mmkv::KeyValueHolder>;
81      KVHolderRet_t doAppendDataWithKey(const mmkv::MMBuffer &data, const mmkv::MMBuffer &key, bool isDataHolder, uint32_t keyLength);
82      KVHolderRet_t appendDataWithKey(const mmkv::MMBuffer &data, MMKVKey_t key, bool isDataHolder = false);
83      KVHolderRet_t appendDataWithKey(const mmkv::MMBuffer &data, const mmkv::KeyValueHolder &kvHolder, bool isDataHolder = false);
84  #ifdef MMKV_APPLE
85      KVHolderRet_t appendDataWithKey(const mmkv::MMBuffer &data,
86                                      MMKVKey_t key,
87                                      const mmkv::KeyValueHolderCrypt &kvHolder,
88                                      bool isDataHolder = false);
89  #endif
90      void notifyContentChanged();
91  #if defined(MMKV_ANDROID) && !defined(MMKV_DISABLE_CRYPT)
92      void checkReSetCryptKey(int fd, int metaFD, std::string *cryptKey);
93  #endif
94      static bool backupOneToDirectory(const std::string &mmapKey, const MMKVPath_t &dstPath, const MMKVPath_t &srcPath, bool compareFullPath);
95      static size_t backupAllToDirectory(const MMKVPath_t &dstDir, const MMKVPath_t &srcDir, bool isInSpecialDir);
96      static bool restoreOneFromDirectory(const std::string &mmapKey, const MMKVPath_t &srcPath, const MMKVPath_t &dstPath, bool compareFullPath);
97      static size_t restoreAllFromDirectory(const MMKVPath_t &srcDir, const MMKVPath_t &dstDir, bool isInSpecialDir);
98  public:
99      static void initializeMMKV(const MMKVPath_t &rootDir, MMKVLogLevel logLevel = MMKVLogInfo, mmkv::LogHandler handler = nullptr);
100  #ifdef MMKV_APPLE
101      static void minimalInit(MMKVPath_t defaultRootDir);
102  #endif
103      static MMKV *defaultMMKV(MMKVMode mode = MMKV_SINGLE_PROCESS, std::string *cryptKey = nullptr);
104  #ifndef MMKV_ANDROID
105      static MMKV *mmkvWithID(const std::string &mmapID,
106                              MMKVMode mode = MMKV_SINGLE_PROCESS,
107                              std::string *cryptKey = nullptr,
108                              MMKVPath_t *rootPath = nullptr);
109  #else 
110      static MMKV *mmkvWithID(const std::string &mmapID,
111                              int size = mmkv::DEFAULT_MMAP_SIZE,
112                              MMKVMode mode = MMKV_SINGLE_PROCESS,
113                              std::string *cryptKey = nullptr,
114                              MMKVPath_t *rootPath = nullptr);
115      static MMKV *mmkvWithAshmemFD(const std::string &mmapID, int fd, int metaFD, std::string *cryptKey = nullptr);
116      int ashmemFD();
117      int ashmemMetaFD();
118      bool checkProcessMode();
119  #endif 
120      static void onExit();
121      const std::string &mmapID() const;
122      const bool m_isInterProcess;
123  #ifndef MMKV_DISABLE_CRYPT
124      std::string cryptKey() const;
125      bool reKey(const std::string &cryptKey);
126      void checkReSetCryptKey(const std::string *cryptKey);
127  #endif
128      bool set(bool value, MMKVKey_t key);
129      bool set(int32_t value, MMKVKey_t key);
130      bool set(uint32_t value, MMKVKey_t key);
131      bool set(int64_t value, MMKVKey_t key);
132      bool set(uint64_t value, MMKVKey_t key);
133      bool set(float value, MMKVKey_t key);
134      bool set(double value, MMKVKey_t key);
135      template <typename T>
136      bool set(T value, MMKVKey_t key) = delete;
137  #ifdef MMKV_APPLE
138      bool set(NSObject<NSCoding> *__unsafe_unretained obj, MMKVKey_t key);
139      NSObject *getObject(MMKVKey_t key, Class cls);
140  #else  
141      bool set(const char *value, MMKVKey_t key);
142      bool set(const std::string &value, MMKVKey_t key);
143      bool set(const mmkv::MMBuffer &value, MMKVKey_t key);
144      bool set(const std::vector<std::string> &vector, MMKVKey_t key);
145      bool getString(MMKVKey_t key, std::string &result);
146      mmkv::MMBuffer getBytes(MMKVKey_t key);
147      bool getBytes(MMKVKey_t key, mmkv::MMBuffer &result);
148      bool getVector(MMKVKey_t key, std::vector<std::string> &result);
149  #endif 
<span onclick='openModal()' class='match'>150      bool getBool(MMKVKey_t key, bool defaultValue = false, OUT bool *hasValue = nullptr);
151      int32_t getInt32(MMKVKey_t key, int32_t defaultValue = 0, OUT bool *hasValue = nullptr);
152      uint32_t getUInt32(MMKVKey_t key, uint32_t defaultValue = 0, OUT bool *hasValue = nullptr);
153      int64_t getInt64(MMKVKey_t key, int64_t defaultValue = 0, OUT bool *hasValue = nullptr);
154      uint64_t getUInt64(MMKVKey_t key, uint64_t defaultValue = 0, OUT bool *hasValue = nullptr);
</span>155      float getFloat(MMKVKey_t key, float defaultValue = 0, OUT bool *hasValue = nullptr);
156      double getDouble(MMKVKey_t key, double defaultValue = 0, OUT bool *hasValue = nullptr);
157      size_t getValueSize(MMKVKey_t key, bool actualSize);
158      int32_t writeValueToBuffer(MMKVKey_t key, void *ptr, int32_t size);
159      bool containsKey(MMKVKey_t key);
160      size_t count();
161      size_t totalSize();
162      size_t actualSize();
163  #ifdef MMKV_APPLE
164      NSArray *allKeys();
165      void removeValuesForKeys(NSArray *arrKeys);
166      typedef void (^EnumerateBlock)(NSString *key, BOOL *stop);
167      void enumerateKeys(EnumerateBlock block);
168  #    ifdef MMKV_IOS
169      static void setIsInBackground(bool isInBackground);
170      static bool isInBackground();
171  #    endif
172  #else  
173      std::vector<std::string> allKeys();
174      void removeValuesForKeys(const std::vector<std::string> &arrKeys);
175  #endif 
176      void removeValueForKey(MMKVKey_t key);
177      void clearAll();
178      void trim();
179      void close();
180      void clearMemoryCache();
181      void sync(SyncFlag flag = MMKV_SYNC);
182      void lock();
183      void unlock();
184      bool try_lock();
185      static const MMKVPath_t &getRootDir();
186      static bool backupOneToDirectory(const std::string &mmapID, const MMKVPath_t &dstDir, const MMKVPath_t *srcDir = nullptr);
187      static bool restoreOneFromDirectory(const std::string &mmapID, const MMKVPath_t &srcDir, const MMKVPath_t *dstDir = nullptr);
188      static size_t backupAllToDirectory(const MMKVPath_t &dstDir, const MMKVPath_t *srcDir = nullptr);
189      static size_t restoreAllFromDirectory(const MMKVPath_t &srcDir, const MMKVPath_t *dstDir = nullptr);
190      void checkContentChanged();
191      static void registerContentChangeHandler(mmkv::ContentChangeHandler handler);
192      static void unRegisterContentChangeHandler();
193      static void registerErrorHandler(mmkv::ErrorHandler handler);
194      static void unRegisterErrorHandler();
195      static void setLogLevel(MMKVLogLevel level);
196      static void registerLogHandler(mmkv::LogHandler handler);
197      static void unRegisterLogHandler();
198      static bool isFileValid(const std::string &mmapID, MMKVPath_t *relatePath = nullptr);
199      explicit MMKV(const MMKV &other) = delete;
200      MMKV &operator=(const MMKV &other) = delete;
201  };
202  MMKV_NAMESPACE_END
203  #endif
204  #endif 
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from subconverter-MDEwOlJlcG9zaXRvcnkyMTg2ODY3NjM=-flat-subexport.h</div>
                <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from MMKV-MDEwOlJlcG9zaXRvcnkxNDkxMTE4MTM=-flat-MMKV.h</div>
                <div class="column column_space"><pre><code>16      bool enable_rule_generator = true;
17      bool overwrite_original_rules = true;
18      RegexMatchConfigs rename_array;
19      RegexMatchConfigs emoji_array;
20      bool add_emoji = false;
21      bool remove_emoji = false;
22      bool append_proxy_type = false;
23      bool nodelist = false;
24      bool sort_flag = false;
25      bool filter_deprecated = false;
26      bool clash_new_field_name = false;
27      bool clash_script = false;
</pre></code></div>
                <div class="column column_space"><pre><code>150      bool getBool(MMKVKey_t key, bool defaultValue = false, OUT bool *hasValue = nullptr);
151      int32_t getInt32(MMKVKey_t key, int32_t defaultValue = 0, OUT bool *hasValue = nullptr);
152      uint32_t getUInt32(MMKVKey_t key, uint32_t defaultValue = 0, OUT bool *hasValue = nullptr);
153      int64_t getInt64(MMKVKey_t key, int64_t defaultValue = 0, OUT bool *hasValue = nullptr);
154      uint64_t getUInt64(MMKVKey_t key, uint64_t defaultValue = 0, OUT bool *hasValue = nullptr);
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    