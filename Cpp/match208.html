<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for main.cpp &amp; testRobotDevastation.cpp</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for main.cpp &amp; testRobotDevastation.cpp
      </h3>
<h1 align="center">
        9.6%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>main.cpp (39.02439%)<th>testRobotDevastation.cpp (5.498282%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(46-61)<td><a href="#" name="0">(70-85)</a><td align="center"><font color="#ff0000">16</font>
</td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>main.cpp</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 #include &lt;cstdio&gt;
2 #include &lt;iostream&gt;
3 #include &lt;yarp/os/LogStream.h&gt;
4 #include &lt;yarp/os/Network.h&gt;
5 #include &lt;yarp/os/ResourceFinder.h&gt;
6 <a name="0"></a>#include "RobotDevastation.hpp"
7 int main(int argc, char *argv[])
8 <font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>{
9     std::printf("--------------------------------------------------------------\n");
10     std::printf("Robot Devastation @ ASROB 2019 (C) Robotics Society of the Universidad Carlos III de Madrid\n");
11     std::printf("Welcome to Robot Devastation v0.2, developed by David Estevez and Juan G Victores.\n");
12     std::printf("Based on Robot Devastation v0.1, developed by Santiago Morante and Juan G Victores.\n");
13     std::printf(" ____       _           _   ____                      _        _   _             \n");
14     std::printf("|  _ \\ ___ | |__   ___ | |_|  _ \\  _____   ____ _ ___| |_ __ _| |_(_) ___  _ __  \n");
15     std::printf("| |_) / _ \\| '_ \\ / _ \\| __| | | |/ _ \\ \\ / / _` / __| __/ _` | __| |/ _ \\| '_ \\ \n");
16     std::printf("|  _ &lt; (_) | |_) | (_) | |_| |_| |  __/\\ V / (_| \\__ \\ || (_| | |_| | (_) | | | |\n");
17     std::printf("|_| \\_\\___/|_.__/ \\___/ \\__|____/ \\___| \\_/ \\__,_|___/\\__\\__,_|\\__|_|\\___/|_| |_|\n");
18     std::printf("\n");
19     std::printf("Fire with 'space'. Reload with 'r'. Move with 'Left, Up, Down, Right'. Run \"robotDevastation --help\" for help.\n");
20     std::printf("For a full description, please visit http://wiki.asrob.uc3m.es/rddoc/group__robotDevastation.html.\n");
21     std::printf("--------------------------------------------------------------\n");
22     yarp::os::ResourceFinder rf;</b></font>
23     rf.setVerbose(false);
24     rf.setDefaultContext("robotDevastation");
25     rf.setDefaultConfigFile("robotDevastation.ini");
26     rf.configure(argc, argv);
27     if(rf.check("help"))
28     {
29         std::printf("RobotDevastation optional parameters:\n");
30         std::printf("\t--help (this help)\t--from [file.ini]\t--context [path]\n");
31         std::printf("\t--fakeRobotManager  //-- Fake robot motors\n");
32         std::printf("\t--fakeImageManager  //-- Fake robot camera\n");
33         std::printf("\t--yarpLocalImageManager  //-- Local webcam as camera\n");
34         std::printf("\t--fullscreen //-- Fullscreen mode (experimental)\n");
35         return 0;
36     }
37     yInfo() &lt;&lt; "Checking for yarp network...";
38     fflush(stdout);
39     yarp::os::Network yarp;
40     if ( ! yarp::os::Network::checkNetwork() )
41     {
42         yError() &lt;&lt; argv[0] &lt;&lt; "found no yarp network (try running \"yarpserver &amp;\")";
43         return 1;
44     }
45     rd::RobotDevastation robotDevastation;
46     return robotDevastation.runModule(rf);  //-- Internally calls rd::RobotDevastation::configure(yarp::os::ResourceFinder &amp;rf)
47 }
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>testRobotDevastation.cpp</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 #include "gtest/gtest.h"
2 #include &lt;string&gt;
3 #include &lt;vector&gt;
4 #include &lt;yarp/os/Network.h&gt;
5 #include &lt;yarp/os/Time.h&gt;
6 #include &lt;yarp/sig/all.h&gt;
7 #include &lt;yarp/os/ResourceFinder.h&gt;
8 #include "StateMachine.hpp"
9 #include "StateMachineBuilder.hpp"
10 #include "SDLUtils.hpp"
11 #include "MockNetworkManager.hpp"
12 #include "MockImageManager.hpp"
13 #include "MockInputManager.hpp"
14 #include "MentalMap.hpp"
15 #include "MockRobotManager.hpp"
16 #include "MockAudioManager.hpp"
17 #include "SDLScreenManager.hpp"
18 #include "StateMachine.hpp"
19 #include "StateMachineBuilder.hpp"
20 #include "InitState.hpp"
21 #include "GameState.hpp"
22 #include "DeadState.hpp"
23 namespace rd
24 {
25 namespace test
26 {
27 class RobotDevastationTestEnvironment : public testing::Environment
28 {
29     public:
30         RobotDevastationTestEnvironment(int argc, char ** argv)
31         {
32             this-&gt;argc = argc;
33             this-&gt;argv = argv;
34         }
35         virtual void SetUp()
36         {
37             initSDL();
38         }
39         virtual void TearDown()
40         {
41             cleanupSDL();
42         }
43     private:
44         int argc;
45         char ** argv;
46 };
47 class RobotDevastationTest : public testing::Test
48 <a name="0"></a>{
49     public:
50         virtual void SetUp()
51 <font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>        {
52             yarp::os::ResourceFinder rf;
53             rf.setDefaultContext("robotDevastation");
54             rf.setDefaultConfigFile("robotDevastation.ini");
55             yarp::os::NetworkBase::setLocalMode(true);
56             yarp::os::Network::init();
57             yarp::sig::file::read(test_frame_no_target, rf.findFileByName(FRAME_NO_TARGET_PATH));
58             yarp::sig::file::read(test_frame_with_target, rf.findFileByName(FRAME_WITH_TARGET_PATH));
59             MockInputManager::RegisterManager();</b></font>
60             inputManager = InputManager::getInputManager("MOCK");
61             mockInputManager = dynamic_cast&lt;MockInputManager *&gt;(inputManager);
62             ASSERT_NE((InputManager*) NULL, inputManager);
63             ASSERT_NE((MockInputManager*) NULL, mockInputManager);
64             MockAudioManager::RegisterManager();
65             audioManager = AudioManager::getAudioManager("MOCK");
66             mockAudioManager = dynamic_cast&lt;MockAudioManager *&gt;(audioManager);
67             ASSERT_NE((AudioManager*) NULL, audioManager);
68             ASSERT_NE((MockAudioManager*) NULL, mockAudioManager);
69             mockAudioManager-&gt;load("RD_THEME","RD_THEME", AudioManager::MUSIC);
70             mockAudioManager-&gt;load("RD_DEAD","RD_DEAD", AudioManager::MUSIC);
71             mockAudioManager-&gt;load("shoot","shoot", AudioManager::FX);
72             mockAudioManager-&gt;load("explosion","explosion", AudioManager::FX);
73             mockAudioManager-&gt;load("noAmmo","noAmmo", AudioManager::FX);
74             mockAudioManager-&gt;load("reload","reload", AudioManager::FX);
75             mockRobotManager = new MockRobotManager("MOCK");
76             robotManager = (asrob::IRobotManager *) mockRobotManager;
77             ASSERT_NE((MockRobotManager*) NULL, mockRobotManager);
78             ASSERT_NE((asrob::IRobotManager*) NULL, robotManager);
79             MockImageManager::RegisterManager();
80             imageManager = ImageManager::getImageManager("MOCK");
81             mockImageManager = dynamic_cast&lt;MockImageManager *&gt;(imageManager);
82             ASSERT_NE((ImageManager*) NULL, imageManager);
83             ASSERT_NE((MockImageManager*) NULL, mockImageManager);
84             mentalMap = MentalMap::getMentalMap();
85             ASSERT_NE((MentalMap*) NULL, mentalMap);
86             ASSERT_TRUE(mentalMap-&gt;configure(1));
87             std::vector&lt;Player&gt; players;
88             players.push_back(Player(1,"test_player",MAX_HEALTH,MAX_HEALTH,0,0) );
89             ASSERT_TRUE(mentalMap-&gt;updatePlayers(players));
90             mentalMap-&gt;addWeapon(Weapon("Default gun", 10, MAX_AMMO));
91             MockNetworkManager::RegisterManager();
92             networkManager = NetworkManager::getNetworkManager("MOCK");
93             mockNetworkManager = dynamic_cast&lt;MockNetworkManager *&gt;(networkManager);
94             ASSERT_NE((NetworkManager*) NULL, networkManager);
95             ASSERT_NE((MockNetworkManager*) NULL, mockNetworkManager);
96             networkManager-&gt;configure("player", players[0]);
97             SDLScreenManager::RegisterManager();
98             screenManager = ScreenManager::getScreenManager("SDL");
99             ASSERT_NE((ScreenManager*) NULL, screenManager);
100             screenManager-&gt;start();
101             StateMachineBuilder builder;
102             builder.setDirectorType("YARP");
103             init_state_id = builder.addState(new InitState(networkManager, imageManager, inputManager, mentalMap,
104                                                                robotManager, audioManager, screenManager));
105             game_state_id = builder.addState(new GameState(networkManager, imageManager, inputManager, mentalMap,
106                                                                robotManager, audioManager, screenManager));
107             dead_state_id = builder.addState(new DeadState(networkManager, imageManager, inputManager,
108                                                                mentalMap, robotManager, audioManager, screenManager));
109             end_state_id = builder.addState(State::getEndState());
110             builder.addTransition(init_state_id, game_state_id, InitState::LOGIN_SUCCESSFUL);
111             builder.addTransition(init_state_id, end_state_id, InitState::EXIT_REQUESTED);
112             builder.addTransition(game_state_id, dead_state_id, GameState::KILLED);
113             builder.addTransition(game_state_id, end_state_id, GameState::EXIT_REQUESTED);
114             builder.addTransition(dead_state_id, game_state_id, DeadState::RESPAWN_SELECTED);
115             builder.addTransition(dead_state_id, end_state_id, DeadState::EXIT_SELECTED);
116             builder.setInitialState(init_state_id);
117             fsm = builder.buildStateMachine();
118             ASSERT_NE((FiniteStateMachine*)NULL, fsm);
119         }
120         virtual void TearDown()
121         {
122             InputManager::destroyInputManager();
123             inputManager = NULL;
124             NetworkManager::destroyNetworkManager();
125             networkManager = NULL;
126             AudioManager::destroyAudioManager();
127             audioManager = NULL;
128             MentalMap::destroyMentalMap();
129             mentalMap = NULL;
130             ImageManager::destroyImageManager();
131             imageManager = NULL;
132             delete robotManager;
133             robotManager = NULL;
134             screenManager-&gt;stop();
135             ScreenManager::destroyScreenManager();
136             delete fsm;
137             fsm = NULL;
138             yarp::os::Network::fini();
139         }
140     static const int MAX_HEALTH;
141     static const int MAX_AMMO;
142     protected:
143         FiniteStateMachine *fsm;
144         NetworkManager * networkManager;
145         MockNetworkManager * mockNetworkManager;
146         ImageManager * imageManager;
147         MockImageManager * mockImageManager;
148         InputManager * inputManager;
149         MockInputManager * mockInputManager;
150         AudioManager * audioManager;
151         MockAudioManager * mockAudioManager;
152         MentalMap * mentalMap;
153         MockRobotManager * mockRobotManager;
154         asrob::IRobotManager * robotManager;
155         ScreenManager * screenManager;
156         int init_state_id, game_state_id, dead_state_id, end_state_id;
157         Image test_frame_no_target;
158         Image test_frame_with_target;
159         static const std::string FRAME_NO_TARGET_PATH;
160         static const std::string FRAME_WITH_TARGET_PATH;
161 };
162 const int RobotDevastationTest::MAX_HEALTH = 100;
163 const int RobotDevastationTest::MAX_AMMO = 10;
164 const std::string RobotDevastationTest::FRAME_NO_TARGET_PATH = "../images/test_frame_qr.ppm";
165 const std::string RobotDevastationTest::FRAME_WITH_TARGET_PATH = "../images/test_frame_qr_centered.ppm";
166 TEST_F(RobotDevastationTest, RobotDevastationWorks)
167 {
168     ASSERT_TRUE(mockAudioManager-&gt;isStopped());
169     ASSERT_TRUE(mockNetworkManager-&gt;isStopped());
170     ASSERT_TRUE(mockImageManager-&gt;isStopped());
171     ASSERT_TRUE(mockInputManager-&gt;isStopped());
172     ASSERT_TRUE(fsm-&gt;start());
173     ASSERT_FALSE(mockAudioManager-&gt;isStopped());
174     ASSERT_TRUE(mockAudioManager-&gt;isPlaying("RD_THEME"));
175     ASSERT_FALSE(mockNetworkManager-&gt;isStopped());
176     ASSERT_FALSE(mockNetworkManager-&gt;isLoggedIn());
177     ASSERT_TRUE(mockImageManager-&gt;isStopped());
178     ASSERT_FALSE(mockImageManager-&gt;isEnabled());
179     ASSERT_FALSE(mockInputManager-&gt;isStopped());
180     ASSERT_EQ(1, mockInputManager-&gt;getNumListeners());
181     mockInputManager-&gt;sendKeyPress(Key::KEY_ENTER);
182     yarp::os::Time::delay(0.5);
183     ASSERT_FALSE(mockAudioManager-&gt;isStopped());
184     ASSERT_TRUE(mockAudioManager-&gt;isPlaying("RD_THEME"));
185     ASSERT_FALSE(mockNetworkManager-&gt;isStopped());
186     ASSERT_TRUE(mockNetworkManager-&gt;isLoggedIn());
187     ASSERT_FALSE(mockImageManager-&gt;isStopped());
188     ASSERT_TRUE(mockImageManager-&gt;isEnabled());
189     ASSERT_FALSE(mockInputManager-&gt;isStopped());
190     ASSERT_EQ(1, mockInputManager-&gt;getNumListeners());
191     ASSERT_EQ(game_state_id, fsm-&gt;getCurrentState());
192     ASSERT_TRUE(mockNetworkManager-&gt;sendPlayerHit(mentalMap-&gt;getMyself(), 50));
193     yarp::os::Time::delay(0.5);
194     ASSERT_EQ(50, mentalMap-&gt;getMyself().getHealth());
195     mockInputManager-&gt;sendKeyDown(GameState::KEY_TURN_LEFT);
196     yarp::os::Time::delay(0.5);
197     ASSERT_TRUE(mockRobotManager-&gt;isMoving());
198     ASSERT_EQ(MockRobotManager::LEFT, ((MockRobotManager *)robotManager)-&gt;getMovementDirection());
199     mockInputManager-&gt;sendKeyUp(GameState::KEY_TURN_LEFT);
200     yarp::os::Time::delay(0.5);
201     ASSERT_FALSE(mockRobotManager-&gt;isMoving());
202     ASSERT_EQ(MockRobotManager::NONE, ((MockRobotManager *)robotManager)-&gt;getMovementDirection());
203     mockInputManager-&gt;sendKeyDown(GameState::KEY_TURN_RIGHT);
204     yarp::os::Time::delay(0.5);
205     ASSERT_TRUE(mockRobotManager-&gt;isMoving());
206     ASSERT_EQ(MockRobotManager::RIGHT,((MockRobotManager *)robotManager)-&gt;getMovementDirection());
207     mockInputManager-&gt;sendKeyUp(GameState::KEY_TURN_RIGHT);
208     yarp::os::Time::delay(0.5);
209     ASSERT_FALSE(mockRobotManager-&gt;isMoving());
210     ASSERT_EQ(MockRobotManager::NONE, ((MockRobotManager *)robotManager)-&gt;getMovementDirection());
211     mockInputManager-&gt;sendKeyDown(GameState::KEY_MOVE_FWD);
212     yarp::os::Time::delay(0.5);
213     ASSERT_TRUE(mockRobotManager-&gt;isMoving());
214     ASSERT_EQ(MockRobotManager::FORWARD, ((MockRobotManager *)robotManager)-&gt;getMovementDirection());
215     mockInputManager-&gt;sendKeyUp(GameState::KEY_MOVE_FWD);
216     yarp::os::Time::delay(0.5);
217     ASSERT_FALSE(mockRobotManager-&gt;isMoving());
218     ASSERT_EQ(MockRobotManager::NONE, ((MockRobotManager *)robotManager)-&gt;getMovementDirection());
219     mockInputManager-&gt;sendKeyDown(GameState::KEY_MOVE_BACK);
220     yarp::os::Time::delay(0.5);
221     ASSERT_TRUE(mockRobotManager-&gt;isMoving());
222     ASSERT_EQ(MockRobotManager::BACKWARDS, ((MockRobotManager *)robotManager)-&gt;getMovementDirection());
223     mockInputManager-&gt;sendKeyUp(GameState::KEY_MOVE_BACK);
224     yarp::os::Time::delay(0.5);
225     ASSERT_FALSE(mockRobotManager-&gt;isMoving());
226     ASSERT_EQ(MockRobotManager::NONE, ((MockRobotManager *)robotManager)-&gt;getMovementDirection());
227     mockImageManager-&gt;receiveImage(test_frame_no_target);
228     yarp::os::Time::delay(0.5);
229     std::vector&lt;Player&gt; players_before = mentalMap-&gt;getPlayers();
230     mockInputManager-&gt;sendKeyPress(GameState::KEY_SHOOT);
231     std::vector&lt;Player&gt; players_after = mentalMap-&gt;getPlayers();
232     ASSERT_EQ(players_before.size(), players_after.size());
233     for(int i = 0; i &lt; (int) players_before.size(); i++)
234         EXPECT_EQ(players_before[i].getHealth(), players_after[i].getHealth());
235     for(int i = 0; i &lt; MAX_AMMO; i++)
236         mockInputManager-&gt;sendKeyPress(GameState::KEY_SHOOT);
237     ASSERT_EQ(0, mentalMap-&gt;getCurrentWeapon().getCurrentAmmo());
238     yarp::os::Time::delay(0.5);
239     mockInputManager-&gt;sendKeyPress('r');
240     ASSERT_EQ(MAX_AMMO, mentalMap-&gt;getCurrentWeapon().getCurrentAmmo());
241     mockImageManager-&gt;receiveImage(test_frame_with_target);
242     yarp::os::Time::delay(0.5);
243     players_before = mentalMap-&gt;getPlayers();
244     mockInputManager-&gt;sendKeyPress(GameState::KEY_SHOOT);
245     yarp::os::Time::delay(0.5);
246     players_after = mentalMap-&gt;getPlayers();
247     ASSERT_EQ(players_before.size(), players_after.size());
248     for(int i = 0; i &lt; (int) players_before.size(); i++)
249         if (players_before[i].getId() != mentalMap-&gt;getMyself().getId())
250         {
251             ASSERT_EQ(players_before[i].getId(), players_after[i].getId());
252             EXPECT_LT(players_after[i].getHealth(), players_before[i].getHealth());
253         }
254     ASSERT_TRUE(mockNetworkManager-&gt;sendPlayerHit(mentalMap-&gt;getMyself(), 50));
255     ASSERT_EQ(0, mentalMap-&gt;getMyself().getHealth());
256     yarp::os::Time::delay(0.5);
257     ASSERT_EQ(dead_state_id, fsm-&gt;getCurrentState());
258     ASSERT_EQ(0, mentalMap-&gt;getMyself().getHealth()); //-- Important thing to check
259     ASSERT_FALSE(mockImageManager-&gt;isStopped());
260     ASSERT_FALSE(mockImageManager-&gt;isEnabled());
261     ASSERT_FALSE(mockInputManager-&gt;isStopped());
262     ASSERT_EQ(0, mockInputManager-&gt;getNumListeners());
263     ASSERT_FALSE(mockAudioManager-&gt;isStopped());
264     ASSERT_FALSE(mockAudioManager-&gt;isPlaying("RD_THEME"));
265     ASSERT_TRUE(mockAudioManager-&gt;isPlaying("RD_DEAD"));
266     ASSERT_FALSE(mockNetworkManager-&gt;isStopped());
267     ASSERT_TRUE(mockNetworkManager-&gt;isLoggedIn());
268     ASSERT_EQ(dead_state_id, fsm-&gt;getCurrentState());
269     yarp::os::Time::delay(0.5);
270     mockInputManager-&gt;sendKeyPress(Key::KEY_ENTER);
271     yarp::os::Time::delay(0.5);
272     ASSERT_EQ(dead_state_id, fsm-&gt;getCurrentState());
273     yarp::os::Time::delay(10);
274     ASSERT_EQ(1, mockInputManager-&gt;getNumListeners());
275     mockInputManager-&gt;sendKeyPress(Key::KEY_ESCAPE);
276     yarp::os::Time::delay(0.5);
277     ASSERT_TRUE(mockImageManager-&gt;isStopped());
278     ASSERT_FALSE(mockImageManager-&gt;isEnabled());
279     ASSERT_TRUE(mockInputManager-&gt;isStopped());
280     ASSERT_EQ(0, mockInputManager-&gt;getNumListeners());
281     ASSERT_TRUE(mockAudioManager-&gt;isStopped());
282     ASSERT_FALSE(mockAudioManager-&gt;isPlaying("RD_THEME"));
283     ASSERT_FALSE(mockAudioManager-&gt;isPlaying("RD_DEAD"));
284     ASSERT_TRUE(mockNetworkManager-&gt;isStopped());
285     ASSERT_FALSE(mockNetworkManager-&gt;isLoggedIn());
286     ASSERT_EQ(-1, fsm-&gt;getCurrentState()); //-- (When FSM is ended, no state is active, hence -1)
287 }
288 }  
289 }  
290 int main(int argc, char **argv)
291 {
292   testing::InitGoogleTest(&amp;argc, argv);
293   testing::Environment* env = testing::AddGlobalTestEnvironment(new rd::test::RobotDevastationTestEnvironment(argc, argv));
294   return RUN_ALL_TESTS();
295 }
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
