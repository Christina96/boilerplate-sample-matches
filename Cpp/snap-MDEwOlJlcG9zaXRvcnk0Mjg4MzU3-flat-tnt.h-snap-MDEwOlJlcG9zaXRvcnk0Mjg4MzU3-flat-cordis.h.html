
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Tokens: 19, <button onclick='openModal()' class='match'></button></h2>
        <div class="column">
            <h3>snap-MDEwOlJlcG9zaXRvcnk0Mjg4MzU3-flat-tnt.h</h3>
            <pre><code>1  #ifndef tnt_h
2  #define tnt_h
3  #include "base.h"
4  #include "mine.h"
5  class TTntBs;
6  class TTntBinDoc{
7  private:
8    TStr DocNm;
9    TUInt64 Tm;
10    TStr SubjStr;
11    TStr ContStr;
12    TIntStrPrV FqEntNmPrV;
13  public:
14    TTntBinDoc(){}
15    TTntBinDoc(const TTntBinDoc& Doc):
16      DocNm(Doc.DocNm), Tm(Doc.Tm),
17      SubjStr(Doc.SubjStr), ContStr(Doc.ContStr),
18      FqEntNmPrV(Doc.FqEntNmPrV){}
19    TTntBinDoc(
20     const TStr& _DocNm, const TUInt64& _Tm,
21     const TStr& _SubjStr, const TStr& _ContStr,
22     const TIntStrPrV& _FqEntNmPrV):
23      DocNm(_DocNm), Tm(_Tm),
24      SubjStr(_SubjStr), ContStr(_ContStr),
25      FqEntNmPrV(_FqEntNmPrV){}
26    ~TTntBinDoc(){}
27    TTntBinDoc(TSIn& SIn):
28      DocNm(SIn), Tm(SIn),
29      SubjStr(SIn), ContStr(SIn), 
30      FqEntNmPrV(SIn){}
31    void Save(TSOut& SOut) const {
32      DocNm.Save(SOut); Tm.Save(SOut);
33      SubjStr.Save(SOut); ContStr.Save(SOut);
34      FqEntNmPrV.Save(SOut);}
35    TTntBinDoc& operator=(const TTntBinDoc& Doc){
36      if (this!=&Doc){
37        DocNm=Doc.DocNm; Tm=Doc.Tm;
38        SubjStr=Doc.SubjStr; ContStr=Doc.ContStr;
39        FqEntNmPrV=Doc.FqEntNmPrV;}
40      return *this;}
41    TStr GetDocNm() const {return DocNm;}
42    uint64 GetTm() const {return Tm;}
43    TStr GetSubjStr() const {return SubjStr;}
44    TStr GetContStr() const {return ContStr;}
45    const TIntStrPrV& GetFqEntNmPrV() const {return FqEntNmPrV;}
46    int GetEnts() const {return FqEntNmPrV.Len();}
47    void GetEntNmFq(const int& EntN, TStr& EntNm, int& EntFq) const {
48      EntNm=FqEntNmPrV[EntN].Val2; EntFq=FqEntNmPrV[EntN].Val1;}
49    static void SaveBinDocV(
50     const TStr& InXmlFPath, const TStr& OutBinFNm, const int& MxDocs=-1);
51    static void LoadBinDocV(const TStr& InBinFNm);
52  };
53  ClassTPV(TTntDoc, PTntDoc, TTntDocV)
54  private:
55    TStr DocNm;
56    TUInt64 Tm;
57    TStr SubjStr;
58    TStr ContStr;
59    TIntPrV EntIdFqPrV;
60    UndefCopyAssign(TTntDoc);
61  public:
62    TTntDoc(){}
63    static PTntDoc New(){
64      return new TTntDoc();}
65    static PTntDoc New(
66     const TStr& DocNm, const uint64& Tm,
67     const TStr& SubjStr, const TStr& ContStr,
68     const TIntPrV& EntIdFqPrV){
69      PTntDoc Doc=TTntDoc::New();
70      Doc->DocNm=DocNm; Doc->Tm=Tm;
71      Doc->SubjStr=SubjStr; Doc->ContStr=ContStr;
72      Doc->EntIdFqPrV=EntIdFqPrV; return Doc;}
73    ~TTntDoc(){}
74    TTntDoc(TSIn& SIn):
75      DocNm(SIn), Tm(SIn), 
76      SubjStr(SIn), ContStr(SIn), 
77      EntIdFqPrV(SIn){}
78    static PTntDoc Load(TSIn& SIn){return new TTntDoc(SIn);}
79    void Save(TSOut& SOut) const {
80      DocNm.Save(SOut); Tm.Save(SOut); 
81      SubjStr.Save(SOut); ContStr.Save(SOut); 
82      EntIdFqPrV.Save(SOut);}
83    TStr GetDocNm() const {return DocNm;}
84    uint64 GetTm() const {return Tm;}
85    TStr GetSubjStr() const {return SubjStr;}
86    TStr GetContStr() const {return ContStr;}
87    int GetEnts() const {return EntIdFqPrV.Len();}
88    void GetEntNmFq(const int& EntN, int& EntId, int& EntFq) const {
89      EntId=EntIdFqPrV[EntN].Val1; EntFq=EntIdFqPrV[EntN].Val2;}
90  };
91  typedef TPair<TInt, PTntDoc> TTntIdDocPr;
92  typedef TVec<TTntIdDocPr> TTntIdDocPrV;
93  class TTntEntLinkCtx{
94  public:
95    TInt LinkWgt;
96    TInt DocId;
97    TUInt64 Tm;
98  public:
99    TTntEntLinkCtx(): LinkWgt(), DocId(), Tm(){}
100    TTntEntLinkCtx(const TTntEntLinkCtx& EntLinkCtx):
101      LinkWgt(EntLinkCtx.LinkWgt), DocId(EntLinkCtx.DocId), Tm(EntLinkCtx.Tm){}
102    TTntEntLinkCtx(const int& _LinkWgt, const int& _DocId, const uint64& _Tm):
103      LinkWgt(_LinkWgt), DocId(_DocId), Tm(_Tm){}
104    ~TTntEntLinkCtx(){}
105    TTntEntLinkCtx(TSIn& SIn):
106      LinkWgt(SIn), DocId(SIn), Tm(SIn){}
107    void Save(TSOut& SOut) const {
108      LinkWgt.Save(SOut); DocId.Save(SOut); Tm.Save(SOut);}
109    TTntEntLinkCtx& operator=(const TTntEntLinkCtx& EntLinkCtx){
110      if (this!=&EntLinkCtx){
111        LinkWgt=EntLinkCtx.LinkWgt; DocId=EntLinkCtx.DocId; Tm=EntLinkCtx.Tm;}
112      return *this;}
113    int GetLinkWgt() const {return LinkWgt;}
114    int GetDocId() const {return DocId;}
115    uint64 GetTm() const {return Tm;}
116  };
117  typedef TQQueue<TTntEntLinkCtx> TTntEntLinkCtxQ;
118  ClassTPV(TTntEnt, PTntEnt, TTntEntV)
119  public:
120    TIntQ DocIdQ;
121    THash<TInt, TTntEntLinkCtxQ> DstEntIdToLinkCtxQH;
122  public:
123    TTntEnt(): DocIdQ(), DstEntIdToLinkCtxQH(){}
124    static PTntEnt New(){return new TTntEnt();}
125    TTntEnt(const TTntEnt& Ent):
126      DocIdQ(Ent.DocIdQ), DstEntIdToLinkCtxQH(Ent.DstEntIdToLinkCtxQH){}
127    ~TTntEnt(){}
128    TTntEnt(TSIn& SIn):
129      DocIdQ(SIn), DstEntIdToLinkCtxQH(SIn){}
130    static PTntEnt Load(TSIn& SIn){return new TTntEnt(SIn);}
131    void Save(TSOut& SOut) const {
132      DocIdQ.Save(SOut); DstEntIdToLinkCtxQH.Save(SOut);}
133    TTntEnt& operator=(const TTntEnt& Ent){
134      if (this!=&Ent){
135        DocIdQ=Ent.DocIdQ; DstEntIdToLinkCtxQH=Ent.DstEntIdToLinkCtxQH;}
136      return *this;}
137    void PushDocId(const int& DocId){DocIdQ.Push(DocId);}
138    void PopDocId(){DocIdQ.Pop();}
139    int GetTopDocId() const {return DocIdQ.Top();}
140    int GetDocIds() const {return DocIdQ.Len();}
141    int GetDocId(const int& DocN) const {return DocIdQ[DocN];}
142    void GetDocIdV(const TTntBs* TntBs,
143     const uint64& MnTm, const uint64& MxTm, TIntV& DocIdV) const;
144    void GetDocsPerDateV(
145     const TTntBs* TntBs, TStrIntPrV& DateStrDocsPrV, int& Docs) const;
146    void GetDocCentroid(const TTntBs* TntBs,
147     const int& TopWords, const double& TopWordsWgtSumPrc,
148     TStrFltPrV& WordStrWgtPrV) const;
149    void GetDocCentroid(const TTntBs* TntBs,
150     const PBowDocBs& BowDocBs, const PBowDocWgtBs& BowDocWgtBs,
151     const uint64& MnTm, const TStr& QKwStr, 
152     const int& TopWords, const double& TopWordsWgtSumPrc,
153     int& Docs, TStrFltPrV& WordStrWgtPrV) const;
154    void GetEntClustV(const TTntBs* TntBs,
155     const uint64& MnTm, const int& MnDocs, const int& MxDocs, const int& Clusts,
156     TVec<TStrFltPrV>& EntNmWgtPrVV) const;
157    void AddLink(const int& DstEntId, const TTntEntLinkCtx& LinkCtx){
158      DstEntIdToLinkCtxQH.AddDat(DstEntId).Push(LinkCtx);}
159    int GetLinkEnts() const {
160      return DstEntIdToLinkCtxQH.Len();}
161    int GetLinkEntId(const int& EntIdN) const {
162      return DstEntIdToLinkCtxQH.GetKey(EntIdN);}
163    int GetEntLinks(const int& EntIdN) const {
164      return DstEntIdToLinkCtxQH[EntIdN].Len();}
165    const TTntEntLinkCtx& GetEntLinkCtx(const int& EntIdN, const int& LinkN) const {
166      return DstEntIdToLinkCtxQH[EntIdN][LinkN];}
167    void GetSorted_LinkWgtDstEntIdPrV(
168     const uint64& MnTm, const double& TopWgtSumPrc, TIntPrV& LinkWgtDstEntIdPrV) const;
169  };
170  ClassTPV(TTntEntRSet_TmSlice, PTntEntRSet_TmSlice, TTntEntRSet_TmSliceV)
171  public:
172    TUInt64 StartTmMSecs; 
173    TUInt64 EndTmMSecs;
174    TStrIntPrV LinkWgtDstEntNmPrV; 
175    TStrIntPrV PosDiffLinkWgtDstEntNmPrV; 
176    TStrIntPrV NegDiffLinkWgtDstEntNmPrV; 
177    TStrFltPrV WordStrWgtPrV; 
178    TStrFltPrV NegDiffWordStrWgtPrV; 
179    TStrFltPrV PosDiffWordStrWgtPrV; 
180  public:
181    TTntEntRSet_TmSlice(){}
182    static PTntEntRSet_TmSlice New(){return new TTntEntRSet_TmSlice();}
183    ~TTntEntRSet_TmSlice(){}
184    TTntEntRSet_TmSlice(TSIn& SIn):
185      StartTmMSecs(SIn), EndTmMSecs(SIn),
186      LinkWgtDstEntNmPrV(SIn), 
187      PosDiffLinkWgtDstEntNmPrV(SIn), NegDiffLinkWgtDstEntNmPrV(SIn),
188      WordStrWgtPrV(SIn), 
189      NegDiffWordStrWgtPrV(SIn), PosDiffWordStrWgtPrV(SIn){}
190    static PTntEntRSet_TmSlice Load(TSIn& SIn){return new TTntEntRSet_TmSlice(SIn);}
191    void Save(TSOut& SOut) const {
192      StartTmMSecs.Save(SOut); EndTmMSecs.Save(SOut);
193      LinkWgtDstEntNmPrV.Save(SOut); 
194      PosDiffLinkWgtDstEntNmPrV.Save(SOut); NegDiffLinkWgtDstEntNmPrV.Save(SOut);
195      WordStrWgtPrV.Save(SOut);
196      NegDiffWordStrWgtPrV.Save(SOut); PosDiffWordStrWgtPrV.Save(SOut);}
197    void PutStartEndTm(const uint64& _StartTmMSecs, const uint64& _EndTmMSecs){
198      StartTmMSecs=_StartTmMSecs; EndTmMSecs=_EndTmMSecs;}
199    void PutLinkWgtDstEntNmPrV(const TStrIntPrV& _LinkWgtDstEntNmPrV){
200      LinkWgtDstEntNmPrV=_LinkWgtDstEntNmPrV;}
201    void PutPosDiffLinkWgtDstEntNmPrV(const TStrIntPrV& _PosDiffLinkWgtDstEntNmPrV){
202      PosDiffLinkWgtDstEntNmPrV=_PosDiffLinkWgtDstEntNmPrV;}
203    void PutNegDiffLinkWgtDstEntNmPrV(const TStrIntPrV& _NegDiffLinkWgtDstEntNmPrV){
204      NegDiffLinkWgtDstEntNmPrV=_NegDiffLinkWgtDstEntNmPrV;}
205    void PutWordStrWgtPrV(const TStrFltPrV& _WordStrWgtPrV){
206      WordStrWgtPrV=_WordStrWgtPrV;}
207    void PutNegDiffWordStrWgtPrV(const TStrFltPrV& _NegDiffWordStrWgtPrV){
208      NegDiffWordStrWgtPrV=_NegDiffWordStrWgtPrV;}
209    void PutPosDiffWordStrWgtPrV(const TStrFltPrV& _PosDiffWordStrWgtPrV){
210      PosDiffWordStrWgtPrV=_PosDiffWordStrWgtPrV;}
211  };
212  ClassTPV(TTntEntRSet, PTntEntRSet, TTntEntRSetV)
213  private:
214    TStr EntNm;
215    TTntEntRSet_TmSliceV TmSliceV;
216  public:
217    TTntEntRSet(){}
218    static PTntEntRSet New(){return new TTntEntRSet();}
219    ~TTntEntRSet(){}
220    TTntEntRSet(TSIn& SIn):
221      EntNm(SIn), TmSliceV(SIn){}
222    static PTntEntRSet Load(TSIn& SIn){return new TTntEntRSet(SIn);}
223    void Save(TSOut& SOut) const {
224      EntNm.Save(SOut); TmSliceV.Save(SOut);}
225    void PutEntNm(const TStr& _EntNm){
226      EntNm=_EntNm;}
227    void AddTmSlice(const PTntEntRSet_TmSlice& TmSlice){
228      TmSliceV.Add(TmSlice);}
229  };
<span onclick='openModal()' class='match'>230  ClassTPV(TTntRSet, PTntRSet, TTntRSetV)
231  private:
232    TStr QTmStr, QSchNm, QWcEntNm, QKwStr;
233    TTm RawPivotTm, PivotTm;
</span>234    TTntEntRSetV EntRSetV;
235    TVec<TStrFltPrV> Clust_EntNmWgtPrVV;
236  public:
237    TTntRSet(){}
238    static PTntRSet New(){return new TTntRSet();}
239    ~TTntRSet(){}
240    TTntRSet(TSIn& SIn):
241      QTmStr(SIn), QSchNm(SIn), QWcEntNm(SIn), QKwStr(SIn),
242      RawPivotTm(SIn), PivotTm(SIn),
243      EntRSetV(SIn),
244      Clust_EntNmWgtPrVV(SIn){}
245    static PTntRSet Load(TSIn& SIn){return new TTntRSet(SIn);}
246    void Save(TSOut& SOut) const {
247      QTmStr.Save(SOut); QSchNm.Save(SOut); QWcEntNm.Save(SOut); QKwStr.Save(SOut);
248      RawPivotTm.Save(SOut); PivotTm.Save(SOut);
249      EntRSetV.Save(SOut);
250      Clust_EntNmWgtPrVV.Save(SOut);}
251    void PutQStrs(const TStr& _QTmStr, const TStr& _QSchNm, const TStr& _QWcEntNm, const TStr& _QKwStr){
252      QTmStr=_QTmStr; QSchNm=_QSchNm; QWcEntNm=_QWcEntNm; QKwStr=_QKwStr;}
253    void PutPivotTm(const TTm& _RawPivotTm, const TTm& _PivotTm){
254      RawPivotTm=_RawPivotTm; PivotTm=_PivotTm;}
255    void AddEntRSet(const PTntEntRSet& EntRSet){
256      EntRSetV.Add(EntRSet);}
257    void PutClust(const TVec<TStrFltPrV>& _Clust_EntNmWgtPrVV){
258      Clust_EntNmWgtPrVV=_Clust_EntNmWgtPrVV;}
259    static PTntRSet LoadBin(const TStr& FNm){
260      TFIn SIn(FNm); return Load(SIn);}
261    void SaveBin(const TStr& FNm){
262      TFOut SOut(FNm); Save(SOut);}
263  };
264  ClassTPV(TTntBs, PTntBs, TTntBsV)
265  private:
266    THash<TStr, PTntEnt> NmToEntH;
267    THash<TInt, PTntDoc> IdToDocH;
268    TInt LastDocId;
269    TInt MnEntsPerDoc, MnEntFqPerDoc;
270    UndefCopyAssign(TTntBs);
271  public:
272    TTntBs():
273      NmToEntH(), IdToDocH(),
274      LastDocId(0), MnEntsPerDoc(0), MnEntFqPerDoc(0){}
275    static PTntBs New(){return new TTntBs();}
276    ~TTntBs(){}
277    TTntBs(TSIn& SIn):
278      NmToEntH(SIn), IdToDocH(SIn),
279      LastDocId(SIn), MnEntsPerDoc(SIn), MnEntFqPerDoc(SIn){}
280    static PTntBs Load(TSIn& SIn){return new TTntBs(SIn);}
281    void Save(TSOut& SOut) const {
282      NmToEntH.Save(SOut); IdToDocH.Save(SOut);
283      LastDocId.Save(SOut); MnEntsPerDoc.Save(SOut); MnEntFqPerDoc.Save(SOut);}
284    int GetNewDocId(){LastDocId++; return LastDocId;}
285    void PutMnEntsPerDoc(const int& _MnEntsPerDoc){MnEntsPerDoc=_MnEntsPerDoc;}
286    int GetMnEntsPerDoc() const {return MnEntsPerDoc;}
287    void PutMnEntFqPerDoc(const int& _MnEntFqPerDoc){MnEntFqPerDoc=_MnEntFqPerDoc;}
288    int GetMnEntFqPerDoc() const {return MnEntFqPerDoc;}
289    int GetEnts() const {return NmToEntH.Len();}
290    int AddEnt(const TStr& EntNm){return NmToEntH.AddKey(EntNm);}
291    int GetEntId(const TStr& EntNm) const {return NmToEntH.GetKeyId(EntNm);}
292    TStr GetEntNm(const int& EntId) const {return NmToEntH.GetKey(EntId);}
293    PTntEnt GetEnt(const int& EntId){
294      PTntEnt Ent=NmToEntH[EntId]; 
295      if (Ent.Empty()){Ent=TTntEnt::New(); NmToEntH[EntId]=Ent;}
296      return Ent;}
297    PTntEnt GetEnt(const TStr& EntNm){return GetEnt(GetEntId(EntNm));}
298    void GetSorted_DocsEntIdPrV(TIntPrV& DocsEntIdPrV);
299    int GetDocs() const {return IdToDocH.Len();}
300    int AddDoc(
301     const TStr& DocNm, const uint64& Tm,
302     const TStr& SubjStr, const TStr& ContStr,
303     const TIntStrPrV FqEntNmPrV);
304    PTntDoc GetDoc(const int& DocId) const {
305      return IdToDocH.GetDat(DocId);}
306    void GetDocIdV(TIntV& DocIdV) const {
307      IdToDocH.GetKeyV(DocIdV);}
308    void GetIdDocPrV(TTntIdDocPrV& IdDocPrV) const {
309      IdToDocH.GetKeyDatPrV(IdDocPrV);}
310    void GetMnMxDocTm(uint64& MnDocTm, uint64& MxDocTm) const;
311    PBowDocBs GetBowDocBs(const int& MxNGramLen=1, const int& MnNGramFq=1) const;
312    PBowDocWgtBs GetBowDocWgtBs(const PBowDocBs& BowDocBs) const;
313    static void GetWordStrWgtPrVDiff(
314     const TStrFltPrV& OldWordStrWgtPrV, const TStrFltPrV& NewWordStrWgtPrV,
315     TStrFltPrV& NegDiffWordStrWgtPrV, TStrFltPrV& PosDiffWordStrWgtPrV);
316    static void GetWordStrWgtPrV(
317     const TStrFltPrV& WordStrWgtPrV, TChA& WordStrWgtPrVChA, TChA& WordStrWgtPrVXmlChA);
318    static void GetLinkWgtDstEntIdPrVDiff(
319     const TIntPrV& OldLinkWgtDstEntIdPrV, const TIntPrV& NewLinkWgtDstEntIdPrV,
320     TIntPrV& NegDiffLinkWgtDstEntIdPrV, TIntPrV& PosDiffLinkWgtDstEntIdPrV);
321    void GetLinkWgtDstEntNmPrV(const TIntPrV& LinkWgtDstEntIdPrV, 
322     TStrIntPrV& LinkWgtDstEntNmPrV, TChA& LinkWgtDstEntIdPrVChA, TChA& LinkWgtDstEntIdPrVXmlChA);
323    static PTntBs LoadBin(const TStr& FNm){
324      TFIn SIn(FNm); return Load(SIn);}
325    void SaveBin(const TStr& FNm){
326      TFOut SOut(FNm); Save(SOut);}
327    static void GetSchTmV(const TStr& SchNm, const uint64& PivotTm, TUInt64V& SchTmV);
328    void Search(
329     const PBowDocBs& TntBsBowDocBs, const PBowDocWgtBs& TntBsBowDocWgtBs, 
330     const TStr& QTmStr, const TStr& QSchNm, 
331     const TStr& QWcEntNm, const TStr& QKwStr,
332     PTntRSet& TntRSet, const TStr& OutXmlFNm, const TStr& OutTxtFNm);
333  };
334  #endif
</code></pre>
        </div>
        <div class="column">
            <h3>snap-MDEwOlJlcG9zaXRvcnk0Mjg4MzU3-flat-cordis.h</h3>
            <pre><code>1  #ifndef cordisold_h
2  #define cordisold_h
3  #include "net.h"
4  #include "mine.h"
<span onclick='openModal()' class='match'>5  ClassTPV(TCordisEuPart, PCordisEuPart, TCordisEuPartV)
6  private:
7    TStr DeptNm, OrgNm, OrgTypeNm, CountryNm;
8    TBool CoordP;
</span>9  public:
10    TCordisEuPart(){}
11    static PCordisEuPart New(){return new TCordisEuPart();}
12    TCordisEuPart(const TCordisEuPart& LfTree){Fail;}
13    TCordisEuPart(TSIn& SIn):
14      DeptNm(SIn), OrgNm(SIn), OrgTypeNm(SIn),
15      CountryNm(SIn), CoordP(SIn){}
16    static PCordisEuPart Load(TSIn& SIn){return new TCordisEuPart(SIn);}
17    void Save(TSOut& SOut){
18      DeptNm.Save(SOut); OrgNm.Save(SOut); OrgTypeNm.Save(SOut);
19      CountryNm.Save(SOut); CoordP.Save(SOut);}
20    TCordisEuPart& operator=(const TCordisEuPart&){Fail; return *this;}
21    TStr GetDeptNm() const {return DeptNm;}
22    TStr GetOrgNm() const {return OrgNm;}
23    TStr GetOrgTypeNm() const {return OrgTypeNm;}
24    TStr GetCountryNm() const {return CountryNm;}
25    bool IsCoord() const {return CoordP;}
26    static TStr ExtrCountry(const TStr& AddrStr);
27    static TStr ExtrDeptNm(const TStr& EuPartStr);
28    static void ExtrEuPartV(const TStr& AllEuPartStr, TCordisEuPartV& EuPartV);
29    static TStr GetNrOrgNm(const TStr& Str);
30  };
31  ClassTPV(TCordisEuProj, PCordisEuProj, TCordisEuProjV)
32  private:
33    TStr TitleStr, EuProgAcrStr, EuProjRefStr;
34    TStr StartDateStr, EndDateStr, DurationStr;
35    TStr EuProjStatusStr, EuProjAcrStr;
36    TStr EuProjDescHtmlStr;
37    TCordisEuPartV EuPartV;
38    UndefCopyAssigm(TCordisEuProj);
39  public:
40    TCordisEuProj(const TStr& _EuProjAcrStr=""):
41      EuProjAcrStr(_EuProjAcrStr){}
42    static PCordisEuProj New(const TStr& EuProjAcrStr=""){
43      return new TCordisEuProj(EuProjAcrStr);}
44    TCordisEuProj(TSIn& SIn):
45      TitleStr(SIn), EuProgAcrStr(SIn), EuProjRefStr(SIn),
46      StartDateStr(SIn), EndDateStr(SIn), DurationStr(SIn),
47      EuProjStatusStr(SIn), EuProjAcrStr(SIn),
48      EuProjDescHtmlStr(SIn), EuPartV(SIn){}
49    static PCordisEuProj Load(TSIn& SIn){return new TCordisEuProj(SIn);}
50    void Save(TSOut& SOut){
51      TitleStr.Save(SOut); EuProgAcrStr.Save(SOut); EuProjRefStr.Save(SOut);
52      StartDateStr.Save(SOut); EndDateStr.Save(SOut); DurationStr.Save(SOut);
53      EuProjStatusStr.Save(SOut); EuProjAcrStr.Save(SOut);
54      EuProjDescHtmlStr.Save(SOut); EuPartV.Save(SOut);}
55    bool operator==(const TCordisEuProj& EuProj) const {
56      return EuProjAcrStr==EuProj.EuProjAcrStr;}
57    TStr GetTitleStr() const {return TitleStr;}
58    TStr GetEuProgAcrStr() const {return EuProgAcrStr;}
59    TStr GetEuProjRefStr() const {return EuProjRefStr;}
60    TStr GetStartDateStr() const {return StartDateStr;}
61    TStr GetEndDateStr() const {return EndDateStr;}
62    TStr GetDurationStr() const {return DurationStr;}
63    TStr GetEuProjStatusStr() const {return EuProjStatusStr;}
64    TStr GetEuProjAcrStr() const {return EuProjAcrStr;}
65    TStr GetEuProjDescHtmlStr() const {return EuProjDescHtmlStr;}
66    int GetEuParts() const {return EuPartV.Len();}
67    PCordisEuPart GetEuPart(const int& EuPartN) const {return EuPartV[EuPartN];}
68    static void ExtrEuProjV(const TStr& EuProjHtmlBsFNm, TCordisEuProjV& EuProjV);
69  };
70  ClassTPV(TCordisEuProjBs, PCordisEuProjBs, TCordisEuProjBsV)
71  private:
72    TCordisEuProjV EuProjV;
73  public:
74    TCordisEuProjBs(){}
75    static PCordisEuProjBs New(){return new TCordisEuProjBs();}
76    TCordisEuProjBs(const TCordisEuProjBs& LfTree){Fail;}
77    TCordisEuProjBs(TSIn& SIn): EuProjV(SIn){}
78    static PCordisEuProjBs Load(TSIn& SIn){return new TCordisEuProjBs(SIn);}
79    void Save(TSOut& SOut){EuProjV.Save(SOut);}
80    TCordisEuProjBs& operator=(const TCordisEuProjBs&){Fail; return *this;}
81    int GetEuProjs() const {return EuProjV.Len();}
82    PCordisEuProj GetEuProj(const int& EuProjN) const {return EuProjV[EuProjN];}
83    PCordisEuProj GetEuProj(const TStr& EuProjAcrStr) const {
84      return EuProjV[EuProjV.SearchForw(TCordisEuProj::New(EuProjAcrStr))];}
85    bool IsEuProj(const TStr& EuProjAcrStr, PCordisEuProj& EuProj) const {
86      int EuProjN=EuProjV.SearchForw(TCordisEuProj::New(EuProjAcrStr));
87      if (EuProjN==-1){return false;}
88      else {EuProj=EuProjV[EuProjN]; return true;}}
89    static PCordisEuProjBs ExtrEuProjBs(const TStr& EuProjHtmlBsFNm);
90    PBowDocBs GetBowDocBsFromEuProjDesc() const;
91    static PCordisEuProjBs TCordisEuProjBs::LoadBin(const TStr& FNm){
92      TFIn SIn(FNm); return Load(SIn);}
93    void SaveBin(const TStr& FNm){
94      TFOut SOut(FNm); Save(SOut);}
95  };
96  typedef enum {eupUndef, eupAll,
97   eupIST, eupQualityOfLife, eupGrowth, eupEEST, eupINCO2,
98   eupInnovationSMEs, eupImprovingHumanPotential, eupEurAtom, eupMx} TEuProg;
99  class TCordisEuProjWebFetch: public TWebPgFetch{
100  private:
101    PSOut EuProjSOut;
102    TStr FetchSesIdStr;
103    int FetchDocN;
104    TStr FetchUrlStr;
105    int FetchRetries;
106  public:
107    TCordisEuProjWebFetch(const TStr& EuProjHtmlBsFNm):
108      TWebPgFetch(),
109      EuProjSOut(TFOut::New(EuProjHtmlBsFNm)),
110      FetchSesIdStr(), FetchDocN(-1),
111      FetchUrlStr(), FetchRetries(0){}
112    void OnFetch(const int& FId, const PWebPg& WebPg);
113    void OnError(const int& FId, const TStr& MsgStr);
114    static TStr GetEuProgUrlStr(const TEuProg& EuProg);
115    static void FetchEuProg(const TEuProg& EuProg, const TStr& EuProjHtmlBsFNm);
116  };
117  #endif
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from snap-MDEwOlJlcG9zaXRvcnk0Mjg4MzU3-flat-tnt.h</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from snap-MDEwOlJlcG9zaXRvcnk0Mjg4MzU3-flat-cordis.h</div>
                </div>
                <div class="column column_space"><pre><code>230  ClassTPV(TTntRSet, PTntRSet, TTntRSetV)
231  private:
232    TStr QTmStr, QSchNm, QWcEntNm, QKwStr;
233    TTm RawPivotTm, PivotTm;
</pre></code></div>
                <div class="column column_space"><pre><code>5  ClassTPV(TCordisEuPart, PCordisEuPart, TCordisEuPartV)
6  private:
7    TStr DeptNm, OrgNm, OrgTypeNm, CountryNm;
8    TBool CoordP;
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    