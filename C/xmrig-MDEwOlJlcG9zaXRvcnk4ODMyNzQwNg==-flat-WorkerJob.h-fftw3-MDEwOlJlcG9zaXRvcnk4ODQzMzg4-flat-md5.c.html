
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 4.232804232804233%, Tokens: 8, <button onclick='openModal()' class='match'></button></h2>
        <div class="column">
            <h3>xmrig-MDEwOlJlcG9zaXRvcnk4ODMyNzQwNg==-flat-WorkerJob.h</h3>
            <pre><code>1  #ifndef XMRIG_WORKERJOB_H
2  #define XMRIG_WORKERJOB_H
3  #include <cstring>
4  #include "base/net/stratum/Job.h"
5  #include "base/tools/Alignment.h"
6  #include "crypto/common/Nonce.h"
7  namespace xmrig {
8  template<size_t N>
9  class WorkerJob
10  {
11  public:
12      inline const Job &currentJob() const    { return m_jobs[index()]; }
13      inline uint32_t *nonce(size_t i = 0)    { return reinterpret_cast<uint32_t*>(blob() + (i * currentJob().size()) + nonceOffset()); }
14      inline uint64_t sequence() const        { return m_sequence; }
15      inline uint8_t *blob()                  { return m_blobs[index()]; }
16      inline uint8_t index() const            { return m_index; }
17      inline void add(const Job &job, uint32_t reserveCount, Nonce::Backend backend)
18      {
19          m_sequence = Nonce::sequence(backend);
20          if (currentJob() == job) {
21              return;
22          }
23          if (index() == 1 && job.index() == 0 && job == m_jobs[0]) {
24              m_index = 0;
25              return;
26          }
27          save(job, reserveCount, backend);
28      }
29      inline bool nextRound(uint32_t rounds, uint32_t roundSize)
30      {
31          m_rounds[index()]++;
32          if ((m_rounds[index()] & (rounds - 1)) == 0) {
33              for (size_t i = 0; i < N; ++i) {
34                  if (!Nonce::next(index(), nonce(i), rounds * roundSize, nonceMask())) {
35                      return false;
36                  }
37              }
38          }
39          else {
40              for (size_t i = 0; i < N; ++i) {
41                  writeUnaligned(nonce(i), readUnaligned(nonce(i)) + roundSize);
42              }
43          }
44          return true;
45      }
46      inline int32_t nonceOffset() const { return currentJob().nonceOffset(); }
47      inline size_t nonceSize() const { return currentJob().nonceSize(); }
48  private:
49      inline uint64_t nonceMask() const     { return m_nonce_mask[index()]; }
50      inline void save(const Job &job, uint32_t reserveCount, Nonce::Backend backend)
51      {
52          m_index           = job.index();
<span onclick='openModal()' class='match'>53          const size_t size = job.size();
54          m_jobs[index()]   = job;
55          m_rounds[index()] = 0;
56          m_nonce_mask[index()] = job.nonceMask();
57          m_jobs[index()].setBackend(backend);
58          for (size_t i = 0; i < N; ++i) {
</span>59              memcpy(m_blobs[index()] + (i * size), job.blob(), size);
60              Nonce::next(index(), nonce(i), reserveCount, nonceMask());
61          }
62      }
63      alignas(8) uint8_t m_blobs[2][Job::kMaxBlobSize * N]{};
64      Job m_jobs[2];
65      uint32_t m_rounds[2] = { 0, 0 };
66      uint64_t m_nonce_mask[2] = { 0, 0 };
67      uint64_t m_sequence  = 0;
68      uint8_t m_index      = 0;
69  };
70  template<>
71  inline uint32_t *xmrig::WorkerJob<1>::nonce(size_t)
72  {
73      return reinterpret_cast<uint32_t*>(blob() + nonceOffset());
74  }
75  template<>
76  inline bool xmrig::WorkerJob<1>::nextRound(uint32_t rounds, uint32_t roundSize)
77  {
78      m_rounds[index()]++;
79      uint32_t* n = nonce();
80      if ((m_rounds[index()] & (rounds - 1)) == 0) {
81          if (!Nonce::next(index(), n, rounds * roundSize, nonceMask())) {
82              return false;
83          }
84          if (nonceSize() == sizeof(uint64_t)) {
85              writeUnaligned(m_jobs[index()].nonce() + 1, readUnaligned(n + 1));
86          }
87      }
88      else {
89          writeUnaligned(n, readUnaligned(n) + roundSize);
90      }
91      return true;
92  }
93  template<>
94  inline void xmrig::WorkerJob<1>::save(const Job &job, uint32_t reserveCount, Nonce::Backend backend)
95  {
96      m_index           = job.index();
97      m_jobs[index()]   = job;
98      m_rounds[index()] = 0;
99      m_nonce_mask[index()] = job.nonceMask();
100      m_jobs[index()].setBackend(backend);
101      memcpy(blob(), job.blob(), job.size());
102      Nonce::next(index(), nonce(), reserveCount, nonceMask());
103  }
104  } 
105  #endif &bsol;* XMRIG_WORKERJOB_H */
</code></pre>
        </div>
        <div class="column">
            <h3>fftw3-MDEwOlJlcG9zaXRvcnk4ODQzMzg4-flat-md5.c</h3>
            <pre><code>1  #include "kernel/ifftw.h"
2  static const md5uint sintab[64] = {
3       0xd76aa478, 0xe8c7b756, 0x242070db, 0xc1bdceee,
4       0xf57c0faf, 0x4787c62a, 0xa8304613, 0xfd469501,
5       0x698098d8, 0x8b44f7af, 0xffff5bb1, 0x895cd7be,
6       0x6b901122, 0xfd987193, 0xa679438e, 0x49b40821,
7       0xf61e2562, 0xc040b340, 0x265e5a51, 0xe9b6c7aa,
8       0xd62f105d, 0x02441453, 0xd8a1e681, 0xe7d3fbc8,
9       0x21e1cde6, 0xc33707d6, 0xf4d50d87, 0x455a14ed,
10       0xa9e3e905, 0xfcefa3f8, 0x676f02d9, 0x8d2a4c8a,
11       0xfffa3942, 0x8771f681, 0x6d9d6122, 0xfde5380c,
12       0xa4beea44, 0x4bdecfa9, 0xf6bb4b60, 0xbebfbc70,
13       0x289b7ec6, 0xeaa127fa, 0xd4ef3085, 0x04881d05,
14       0xd9d4d039, 0xe6db99e5, 0x1fa27cf8, 0xc4ac5665,
15       0xf4292244, 0x432aff97, 0xab9423a7, 0xfc93a039,
16       0x655b59c3, 0x8f0ccc92, 0xffeff47d, 0x85845dd1,
17       0x6fa87e4f, 0xfe2ce6e0, 0xa3014314, 0x4e0811a1,
18       0xf7537e82, 0xbd3af235, 0x2ad7d2bb, 0xeb86d391
19  }; 
20  static const struct roundtab {
21       char k; 
22       char s;
23  } roundtab[64] = {
24       {  0,  7}, {  1, 12}, {  2, 17}, {  3, 22},
25       {  4,  7}, {  5, 12}, {  6, 17}, {  7, 22},
26       {  8,  7}, {  9, 12}, { 10, 17}, { 11, 22},
27       { 12,  7}, { 13, 12}, { 14, 17}, { 15, 22},
28       {  1,  5}, {  6,  9}, { 11, 14}, {  0, 20},
29       {  5,  5}, { 10,  9}, { 15, 14}, {  4, 20},
30       {  9,  5}, { 14,  9}, {  3, 14}, {  8, 20},
31       { 13,  5}, {  2,  9}, {  7, 14}, { 12, 20},
32       {  5,  4}, {  8, 11}, { 11, 16}, { 14, 23},
33       {  1,  4}, {  4, 11}, {  7, 16}, { 10, 23},
34       { 13,  4}, {  0, 11}, {  3, 16}, {  6, 23},
35       {  9,  4}, { 12, 11}, { 15, 16}, {  2, 23},
36       {  0,  6}, {  7, 10}, { 14, 15}, {  5, 21},
37       { 12,  6}, {  3, 10}, { 10, 15}, {  1, 21},
38       {  8,  6}, { 15, 10}, {  6, 15}, { 13, 21},
39       {  4,  6}, { 11, 10}, {  2, 15}, {  9, 21}
40  };
41  #define rol(a, s) ((a << (int)(s)) | (a >> (32 - (int)(s))))
42  static void doblock(md5sig state, const unsigned char *data)
43  {
44       md5uint a, b, c, d, t, x[16];
45       const md5uint msk = (md5uint)0xffffffffUL;
46       int i;
47       for (i = 0; i < 16; ++i) {
48  	  const unsigned char *p = data + 4 * i;
49  	  x[i] = (unsigned)p[0] | ((unsigned)p[1] << 8) | ((unsigned)p[2] << 16) | ((unsigned)p[3] << 24);
50       }
<span onclick='openModal()' class='match'>51       a = state[0]; b = state[1]; c = state[2]; d = state[3];
52       for (i = 0; i < 64; ++i) {
</span>53  	  const struct roundtab *p = roundtab + i;
54  	  switch (i >> 4) {
55  	      case 0: a += (b & c) | (~b & d); break;
56  	      case 1: a += (b & d) | (c & ~d); break;
57  	      case 2: a += b ^ c ^ d; break;
58  	      case 3: a += c ^ (b | ~d); break;
59  	  }
60  	  a += sintab[i];
61  	  a += x[(int)(p->k)];
62  	  a &= msk;
63  	  t = b + rol(a, p->s);
64  	  a = d; d = c; c = b; b = t;
65       }
66       state[0] = (state[0] + a) & msk;
67       state[1] = (state[1] + b) & msk;
68       state[2] = (state[2] + c) & msk;
69       state[3] = (state[3] + d) & msk;
70  }
71  void X(md5begin)(md5 *p)
72  {
73       p->s[0] = 0x67452301;
74       p->s[1] = 0xefcdab89;
75       p->s[2] = 0x98badcfe;
76       p->s[3] = 0x10325476;
77       p->l = 0;
78  }
79  void X(md5putc)(md5 *p, unsigned char c)
80  {
81       p->c[p->l % 64] = c;
82       if (((++p->l) % 64) == 0) doblock(p->s, p->c);
83  }
84  void X(md5end)(md5 *p)
85  {
86       unsigned l, i;
87       l = 8 * p->l; &bsol;* length before padding, in bits */
88       X(md5putc)(p, 0x80);
89       while ((p->l % 64) != 56) X(md5putc)(p, 0x00);
90       for (i = 0; i < 8; ++i) {
91  	  X(md5putc)(p, (unsigned char)(l & 0xFF));
92  	  l = l >> 8;
93       }
94  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from xmrig-MDEwOlJlcG9zaXRvcnk4ODMyNzQwNg==-flat-WorkerJob.h</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from fftw3-MDEwOlJlcG9zaXRvcnk4ODQzMzg4-flat-md5.c</div>
                </div>
                <div class="column column_space"><pre><code>53          const size_t size = job.size();
54          m_jobs[index()]   = job;
55          m_rounds[index()] = 0;
56          m_nonce_mask[index()] = job.nonceMask();
57          m_jobs[index()].setBackend(backend);
58          for (size_t i = 0; i < N; ++i) {
</pre></code></div>
                <div class="column column_space"><pre><code>51       a = state[0]; b = state[1]; c = state[2]; d = state[3];
52       for (i = 0; i < 64; ++i) {
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    