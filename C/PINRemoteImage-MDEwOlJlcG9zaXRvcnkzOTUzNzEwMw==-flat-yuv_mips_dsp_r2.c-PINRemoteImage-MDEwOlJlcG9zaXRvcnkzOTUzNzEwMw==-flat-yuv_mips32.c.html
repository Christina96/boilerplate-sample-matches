
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Tokens: 21, <button onclick='openModal()' class='match'></button></h2>
        <div class="column">
            <h3>PINRemoteImage-MDEwOlJlcG9zaXRvcnkzOTUzNzEwMw==-flat-yuv_mips_dsp_r2.c</h3>
            <pre><code>1  #include "src/dsp/dsp.h"
2  #if defined(WEBP_USE_MIPS_DSP_R2)
3  #include "src/dsp/yuv.h"
4  #define ROW_FUNC_PART_1()                                                      \
5    "lbu              %[temp3],   0(%[v])                         \n\t"          \
6    "lbu              %[temp4],   0(%[u])                         \n\t"          \
7    "lbu              %[temp0],   0(%[y])                         \n\t"          \
8    "mul              %[temp1],   %[t_con_1],     %[temp3]        \n\t"          \
9    "mul              %[temp3],   %[t_con_2],     %[temp3]        \n\t"          \
10    "mul              %[temp2],   %[t_con_3],     %[temp4]        \n\t"          \
11    "mul              %[temp4],   %[t_con_4],     %[temp4]        \n\t"          \
12    "mul              %[temp0],   %[t_con_5],     %[temp0]        \n\t"          \
13    "subu             %[temp1],   %[temp1],       %[t_con_6]      \n\t"          \
14    "subu             %[temp3],   %[temp3],       %[t_con_7]      \n\t"          \
15    "addu             %[temp2],   %[temp2],       %[temp3]        \n\t"          \
16    "subu             %[temp4],   %[temp4],       %[t_con_8]      \n\t"          \
17  
18  #define ROW_FUNC_PART_2(R, G, B, K)                                            \
19    "addu             %[temp5],   %[temp0],       %[temp1]        \n\t"          \
20    "subu             %[temp6],   %[temp0],       %[temp2]        \n\t"          \
21    "addu             %[temp7],   %[temp0],       %[temp4]        \n\t"          \
22  ".if " #K "                                                     \n\t"          \
23    "lbu              %[temp0],   1(%[y])                         \n\t"          \
24  ".endif                                                         \n\t"          \
25    "shll_s.w         %[temp5],   %[temp5],       17              \n\t"          \
26    "shll_s.w         %[temp6],   %[temp6],       17              \n\t"          \
27  ".if " #K "                                                     \n\t"          \
28    "mul              %[temp0],   %[t_con_5],     %[temp0]        \n\t"          \
29  ".endif                                                         \n\t"          \
30    "shll_s.w         %[temp7],   %[temp7],       17              \n\t"          \
31    "precrqu_s.qb.ph  %[temp5],   %[temp5],       $zero           \n\t"          \
32    "precrqu_s.qb.ph  %[temp6],   %[temp6],       $zero           \n\t"          \
33    "precrqu_s.qb.ph  %[temp7],   %[temp7],       $zero           \n\t"          \
34    "srl              %[temp5],   %[temp5],       24              \n\t"          \
35    "srl              %[temp6],   %[temp6],       24              \n\t"          \
36    "srl              %[temp7],   %[temp7],       24              \n\t"          \
37    "sb               %[temp5],   " #R "(%[dst])                  \n\t"          \
38    "sb               %[temp6],   " #G "(%[dst])                  \n\t"          \
39    "sb               %[temp7],   " #B "(%[dst])                  \n\t"          \
40  
41  #define ASM_CLOBBER_LIST()                                                     \
42    : [temp0]"=&r"(temp0), [temp1]"=&r"(temp1), [temp2]"=&r"(temp2),             \
43      [temp3]"=&r"(temp3), [temp4]"=&r"(temp4), [temp5]"=&r"(temp5),             \
44      [temp6]"=&r"(temp6), [temp7]"=&r"(temp7)                                   \
45    : [t_con_1]"r"(t_con_1), [t_con_2]"r"(t_con_2), [t_con_3]"r"(t_con_3),       \
46      [t_con_4]"r"(t_con_4), [t_con_5]"r"(t_con_5), [t_con_6]"r"(t_con_6),       \
47      [u]"r"(u), [v]"r"(v), [y]"r"(y), [dst]"r"(dst),                            \
48      [t_con_7]"r"(t_con_7), [t_con_8]"r"(t_con_8)                               \
49    : "memory", "hi", "lo"                                                       \
50  
51  #define ROW_FUNC(FUNC_NAME, XSTEP, R, G, B, A)                                 \
52  static void FUNC_NAME(const uint8_t* y,                                        \
53                        const uint8_t* u, const uint8_t* v,                      \
54                        uint8_t* dst, int len) {                                 \
55    int i;                                                                       \
56    uint32_t temp0, temp1, temp2, temp3, temp4, temp5, temp6, temp7;             \
57    const int t_con_1 = 26149;                                                   \
58    const int t_con_2 = 13320;                                                   \
59    const int t_con_3 = 6419;                                                    \
60    const int t_con_4 = 33050;                                                   \
61    const int t_con_5 = 19077;                                                   \
62    const int t_con_6 = 14234;                                                   \
63    const int t_con_7 = 8708;                                                    \
64    const int t_con_8 = 17685;                                                   \
65    for (i = 0; i < (len >> 1); i++) {                                           \
66      __asm__ volatile (                                                         \
67        ROW_FUNC_PART_1()                                                        \
68        ROW_FUNC_PART_2(R, G, B, 1)                                              \
69        ROW_FUNC_PART_2(R + XSTEP, G + XSTEP, B + XSTEP, 0)                      \
70        ASM_CLOBBER_LIST()                                                       \
71      );                                                                         \
72      if (A) dst[A] = dst[A + XSTEP] = 0xff;                                     \
73      y += 2;                                                                    \
74      ++u;                                                                       \
<span onclick='openModal()' class='match'>75      ++v;                                                                       \
76      dst += 2 * XSTEP;                                                          \
77    }                                                                            \
78    if (len & 1) {                                                               \
79      __asm__ volatile (                                                         \
</span>80        ROW_FUNC_PART_1()                                                        \
81        ROW_FUNC_PART_2(R, G, B, 0)                                              \
82        ASM_CLOBBER_LIST()                                                       \
83      );                                                                         \
84      if (A) dst[A] = 0xff;                                                      \
85    }                                                                            \
86  }
87  ROW_FUNC(YuvToRgbRow_MIPSdspR2,      3, 0, 1, 2, 0)
88  ROW_FUNC(YuvToRgbaRow_MIPSdspR2,     4, 0, 1, 2, 3)
89  ROW_FUNC(YuvToBgrRow_MIPSdspR2,      3, 2, 1, 0, 0)
90  ROW_FUNC(YuvToBgraRow_MIPSdspR2,     4, 2, 1, 0, 3)
91  #undef ROW_FUNC
92  #undef ASM_CLOBBER_LIST
93  #undef ROW_FUNC_PART_2
94  #undef ROW_FUNC_PART_1
95  extern void WebPInitSamplersMIPSdspR2(void);
96  WEBP_TSAN_IGNORE_FUNCTION void WebPInitSamplersMIPSdspR2(void) {
97    WebPSamplers[MODE_RGB]  = YuvToRgbRow_MIPSdspR2;
98    WebPSamplers[MODE_RGBA] = YuvToRgbaRow_MIPSdspR2;
99    WebPSamplers[MODE_BGR]  = YuvToBgrRow_MIPSdspR2;
100    WebPSamplers[MODE_BGRA] = YuvToBgraRow_MIPSdspR2;
101  }
102  #else  
103  WEBP_DSP_INIT_STUB(WebPInitSamplersMIPSdspR2)
104  #endif  
</code></pre>
        </div>
        <div class="column">
            <h3>PINRemoteImage-MDEwOlJlcG9zaXRvcnkzOTUzNzEwMw==-flat-yuv_mips32.c</h3>
            <pre><code>1  #include "src/dsp/dsp.h"
2  #if defined(WEBP_USE_MIPS32)
3  #include "src/dsp/yuv.h"
4  #define ROW_FUNC(FUNC_NAME, XSTEP, R, G, B, A)                                 \
5  static void FUNC_NAME(const uint8_t* y,                                        \
6                        const uint8_t* u, const uint8_t* v,                      \
7                        uint8_t* dst, int len) {                                 \
8    int i, r, g, b;                                                              \
9    int temp0, temp1, temp2, temp3, temp4;                                       \
10    for (i = 0; i < (len >> 1); i++) {                                           \
11      temp1 = MultHi(v[0], 26149);                                               \
12      temp3 = MultHi(v[0], 13320);                                               \
13      temp2 = MultHi(u[0], 6419);                                                \
14      temp4 = MultHi(u[0], 33050);                                               \
15      temp0 = MultHi(y[0], 19077);                                               \
16      temp1 -= 14234;                                                            \
17      temp3 -= 8708;                                                             \
18      temp2 += temp3;                                                            \
19      temp4 -= 17685;                                                            \
20      r = VP8Clip8(temp0 + temp1);                                               \
21      g = VP8Clip8(temp0 - temp2);                                               \
22      b = VP8Clip8(temp0 + temp4);                                               \
23      temp0 = MultHi(y[1], 19077);                                               \
24      dst[R] = r;                                                                \
25      dst[G] = g;                                                                \
26      dst[B] = b;                                                                \
27      if (A) dst[A] = 0xff;                                                      \
28      r = VP8Clip8(temp0 + temp1);                                               \
29      g = VP8Clip8(temp0 - temp2);                                               \
30      b = VP8Clip8(temp0 + temp4);                                               \
31      dst[R + XSTEP] = r;                                                        \
32      dst[G + XSTEP] = g;                                                        \
33      dst[B + XSTEP] = b;                                                        \
34      if (A) dst[A + XSTEP] = 0xff;                                              \
35      y += 2;                                                                    \
36      ++u;                                                                       \
<span onclick='openModal()' class='match'>37      ++v;                                                                       \
38      dst += 2 * XSTEP;                                                          \
39    }                                                                            \
40    if (len & 1) {                                                               \
41      temp1 = MultHi(v[0], 26149);                                               \
</span>42      temp3 = MultHi(v[0], 13320);                                               \
43      temp2 = MultHi(u[0], 6419);                                                \
44      temp4 = MultHi(u[0], 33050);                                               \
45      temp0 = MultHi(y[0], 19077);                                               \
46      temp1 -= 14234;                                                            \
47      temp3 -= 8708;                                                             \
48      temp2 += temp3;                                                            \
49      temp4 -= 17685;                                                            \
50      r = VP8Clip8(temp0 + temp1);                                               \
51      g = VP8Clip8(temp0 - temp2);                                               \
52      b = VP8Clip8(temp0 + temp4);                                               \
53      dst[R] = r;                                                                \
54      dst[G] = g;                                                                \
55      dst[B] = b;                                                                \
56      if (A) dst[A] = 0xff;                                                      \
57    }                                                                            \
58  }
59  ROW_FUNC(YuvToRgbRow_MIPS32,      3, 0, 1, 2, 0)
60  ROW_FUNC(YuvToRgbaRow_MIPS32,     4, 0, 1, 2, 3)
61  ROW_FUNC(YuvToBgrRow_MIPS32,      3, 2, 1, 0, 0)
62  ROW_FUNC(YuvToBgraRow_MIPS32,     4, 2, 1, 0, 3)
63  #undef ROW_FUNC
64  extern void WebPInitSamplersMIPS32(void);
65  WEBP_TSAN_IGNORE_FUNCTION void WebPInitSamplersMIPS32(void) {
66    WebPSamplers[MODE_RGB]  = YuvToRgbRow_MIPS32;
67    WebPSamplers[MODE_RGBA] = YuvToRgbaRow_MIPS32;
68    WebPSamplers[MODE_BGR]  = YuvToBgrRow_MIPS32;
69    WebPSamplers[MODE_BGRA] = YuvToBgraRow_MIPS32;
70  }
71  #else  
72  WEBP_DSP_INIT_STUB(WebPInitSamplersMIPS32)
73  #endif  
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from PINRemoteImage-MDEwOlJlcG9zaXRvcnkzOTUzNzEwMw==-flat-yuv_mips_dsp_r2.c</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from PINRemoteImage-MDEwOlJlcG9zaXRvcnkzOTUzNzEwMw==-flat-yuv_mips32.c</div>
                </div>
                <div class="column column_space"><pre><code>75      ++v;                                                                       \
76      dst += 2 * XSTEP;                                                          \
77    }                                                                            \
78    if (len & 1) {                                                               \
79      __asm__ volatile (                                                         \
</pre></code></div>
                <div class="column column_space"><pre><code>37      ++v;                                                                       \
38      dst += 2 * XSTEP;                                                          \
39    }                                                                            \
40    if (len & 1) {                                                               \
41      temp1 = MultHi(v[0], 26149);                                               \
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    