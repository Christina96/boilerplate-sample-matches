
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 62.5%, Tokens: 10</h2>
        <div class="column">
            <h3>MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-MudStack.razor.cs</h3>
            <pre><code>1  using Microsoft.AspNetCore.Components;
2  using MudBlazor.Utilities;
3  using MudBlazor.Extensions;
4  namespace MudBlazor;
5  public partial class MudStack : MudComponentBase
6  {
7      protected string Classname =>
8      new CssBuilder("d-flex")
9        .AddClass($"flex-{(Row ? "row" : "column")}{(Reverse ? "-reverse" : string.Empty)}")
10        .AddClass($"justify-{Justify?.ToDescriptionString()}", Justify != null)
11        .AddClass($"align-{AlignItems?.ToDescriptionString()}", AlignItems != null)
12        .AddClass($"gap-{Spacing}")
13        .AddClass(Class)
14      .Build();
15      [Parameter]
16      [Category(CategoryTypes.Stack.Behavior)]
17      public bool Row { get; set; }
18      [Parameter]
19      [Category(CategoryTypes.Stack.Behavior)]
20      public bool Reverse { get; set; }
21      [Parameter]
22      [Category(CategoryTypes.Stack.Behavior)]
23      public int Spacing { get; set; } = 3;
24      [Parameter]
25      [Category(CategoryTypes.Stack.Behavior)]
26      public Justify? Justify { get; set; }
27      [Parameter]
28      [Category(CategoryTypes.Stack.Behavior)]
<span onclick='openModal()' class='match'>29      public AlignItems? AlignItems { get; set; }
30      [Parameter]
31      [Category(CategoryTypes.Stack.Behavior)]
32      public RenderFragment ChildContent { get; set; }
</span>33  }
</code></pre>
        </div>
        <div class="column">
            <h3>MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-MudBaseDatePicker.razor.cs</h3>
            <pre><code>1  using System;
2  using System.Collections.Generic;
3  using System.Globalization;
4  using System.Threading.Tasks;
5  using Microsoft.AspNetCore.Components;
6  using MudBlazor.Extensions;
7  using MudBlazor.Utilities;
8  namespace MudBlazor
9  {
10      public abstract partial class MudBaseDatePicker : MudPicker<DateTime?>
11      {
12          private bool _dateFormatTouched;
13          protected MudBaseDatePicker() : base(new DefaultConverter<DateTime?>
14          {
15              Format = CultureInfo.CurrentCulture.DateTimeFormat.ShortDatePattern,
16              Culture = CultureInfo.CurrentCulture
17          })
18          {
19              AdornmentAriaLabel = "Open Date Picker";
20          }
21          [Inject] protected IScrollManager ScrollManager { get; set; }
22          [Parameter]
23          [Category(CategoryTypes.FormComponent.Validation)]
24          public DateTime? MaxDate { get; set; }
25          [Parameter]
26          [Category(CategoryTypes.FormComponent.Validation)]
27          public DateTime? MinDate { get; set; }
28          [Parameter]
29          [Category(CategoryTypes.FormComponent.PickerBehavior)]
30          public OpenTo OpenTo { get; set; } = OpenTo.Date;
31          [Parameter]
32          [Category(CategoryTypes.FormComponent.Behavior)]
33          public string DateFormat
34          {
35              get
36              {
37                  return (Converter as DefaultConverter<DateTime?>)?.Format;
38              }
39              set
40              {
41                  if (Converter is DefaultConverter<DateTime?> defaultConverter)
42                  {
43                      defaultConverter.Format = value;
44                      _dateFormatTouched = true;
45                  }
46                  DateFormatChanged(value);
47              }
48          }
49          protected virtual Task DateFormatChanged(string newFormat)
50          {
51              return Task.CompletedTask;
52          }
53          protected override bool SetCulture(CultureInfo value)
54          {
55              if (!base.SetCulture(value))
56                  return false;
57              if (!_dateFormatTouched && Converter is DefaultConverter<DateTime?> defaultConverter)
58                  defaultConverter.Format = value.DateTimeFormat.ShortDatePattern;
59              return true;
60          }
61          [Parameter]
62          [Category(CategoryTypes.FormComponent.PickerBehavior)]
<span onclick='openModal()' class='match'>63          public DayOfWeek? FirstDayOfWeek { get; set; } = null;
64          [Parameter]
65          [Category(CategoryTypes.FormComponent.PickerBehavior)]
66          public DateTime? PickerMonth
67          {
68              get => _picker_month;
</span>69              set
70              {
71                  if (value == _picker_month)
72                      return;
73                  _picker_month = value;
74                  InvokeAsync(StateHasChanged);
75                  PickerMonthChanged.InvokeAsync(value);
76              }
77          }
78          private DateTime? _picker_month;
79          [Parameter] public EventCallback<DateTime?> PickerMonthChanged { get; set; }
80          [Parameter]
81          [Category(CategoryTypes.FormComponent.PickerBehavior)]
82          public int ClosingDelay { get; set; } = 100;
83          [Parameter]
84          [Category(CategoryTypes.FormComponent.PickerBehavior)]
85          public int DisplayMonths { get; set; } = 1;
86          [Parameter]
87          [Category(CategoryTypes.FormComponent.PickerAppearance)]
88          public int? MaxMonthColumns { get; set; }
89          [Parameter]
90          [Category(CategoryTypes.FormComponent.PickerBehavior)]
91          public DateTime? StartMonth { get; set; }
92          [Parameter]
93          [Category(CategoryTypes.FormComponent.PickerBehavior)]
94          public bool ShowWeekNumbers { get; set; }
95          [Parameter]
96          [Category(CategoryTypes.FormComponent.PickerBehavior)]
97          public string TitleDateFormat { get; set; } = "ddd, dd MMM";
98          [Parameter]
99          [Category(CategoryTypes.FormComponent.PickerBehavior)]
100          public bool AutoClose { get; set; }
101          [Parameter]
102          [Category(CategoryTypes.FormComponent.Validation)]
103          public Func<DateTime, bool> IsDateDisabledFunc
104          {
105              get => _isDateDisabledFunc;
106              set
107              {
108                  _isDateDisabledFunc = value ?? (_ => false);
109              }
110          }
111          private Func<DateTime, bool> _isDateDisabledFunc = _ => false;
112          [Parameter]
113          [Category(CategoryTypes.FormComponent.Appearance)]
114          public Func<DateTime, string> AdditionalDateClassesFunc { get; set; }
115          [Parameter]
116          [Category(CategoryTypes.FormComponent.PickerAppearance)]
117          public string PreviousIcon { get; set; } = Icons.Material.Filled.ChevronLeft;
118          [Parameter]
119          [Category(CategoryTypes.FormComponent.PickerAppearance)]
120          public string NextIcon { get; set; } = Icons.Material.Filled.ChevronRight;
121          [Parameter]
122          [Category(CategoryTypes.FormComponent.PickerBehavior)]
123          public int? FixYear { get; set; }
124          [Parameter]
125          [Category(CategoryTypes.FormComponent.PickerBehavior)]
126          public int? FixMonth { get; set; }
127          [Parameter]
128          [Category(CategoryTypes.FormComponent.PickerBehavior)]
129          public int? FixDay { get; set; }
130          protected virtual bool IsRange { get; } = false;
131          protected OpenTo CurrentView;
132          protected override void OnPickerOpened()
133          {
134              base.OnPickerOpened();
135              if (Editable == true && Text != null)
136              {
137                  DateTime? a = Converter.Get(Text);
138                  if (a.HasValue)
139                  {
140                      a = new DateTime(a.Value.Year, a.Value.Month, 1);
141                      PickerMonth = a;
142                  }
143              }
144              if (OpenTo == OpenTo.Date && FixDay.HasValue)
145              {
146                  OpenTo = OpenTo.Month;
147              }
148              if (OpenTo == OpenTo.Date && FixDay.HasValue && FixMonth.HasValue)
149              {
150                  OpenTo = OpenTo.Year;
151              }
152              CurrentView = OpenTo;
153              if (CurrentView == OpenTo.Year)
154                  _scrollToYearAfterRender = true;
155          }
156          protected DateTime GetMonthStart(int month)
157          {
158              var monthStartDate = _picker_month ?? DateTime.Today.StartOfMonth(Culture);
159              if (_picker_month.HasValue && _picker_month.Value.Year == 1 && _picker_month.Value.Month == 1)
160              {
161                  return Culture.Calendar.MinSupportedDateTime;
162              }
163              return Culture.Calendar.AddMonths(monthStartDate, month);
164          }
165          protected DateTime GetMonthEnd(int month)
166          {
167              var monthStartDate = _picker_month ?? DateTime.Today.StartOfMonth(Culture);
168              return Culture.Calendar.AddMonths(monthStartDate, month).EndOfMonth(Culture);
169          }
170          protected DayOfWeek GetFirstDayOfWeek()
171          {
172              if (FirstDayOfWeek.HasValue)
173                  return FirstDayOfWeek.Value;
174              return Culture.DateTimeFormat.FirstDayOfWeek;
175          }
176          protected IEnumerable<DateTime> GetWeek(int month, int index)
177          {
178              if (index is < 0 or > 5)
179                  throw new ArgumentException("Index must be between 0 and 5");
180              var month_first = GetMonthStart(month);
181              var week_first = month_first.AddDays(index * 7).StartOfWeek(GetFirstDayOfWeek());
182              for (var i = 0; i < 7; i++)
183                  yield return week_first.AddDays(i);
184          }
185          private string GetWeekNumber(int month, int index)
186          {
187              if (index is < 0 or > 5)
188                  throw new ArgumentException("Index must be between 0 and 5");
189              var month_first = GetMonthStart(month);
190              var week_first = month_first.AddDays(index * 7).StartOfWeek(GetFirstDayOfWeek());
191              if (month_first.Month == 1 && index == 0)
192              {
193                  week_first = month_first;
194              }
195              if (week_first.Month != month_first.Month && week_first.AddDays(6).Month != month_first.Month)
196                  return "";
197              return Culture.Calendar.GetWeekOfYear(week_first,
198                  Culture.DateTimeFormat.CalendarWeekRule, FirstDayOfWeek ?? Culture.DateTimeFormat.FirstDayOfWeek).ToString();
199          }
200          protected virtual OpenTo? GetNextView()
201          {
202              OpenTo? nextView = CurrentView switch
203              {
204                  OpenTo.Year => !FixMonth.HasValue ? OpenTo.Month : !FixDay.HasValue ? OpenTo.Date : null,
205                  OpenTo.Month => !FixDay.HasValue ? OpenTo.Date : null,
206                  _ => null,
207              };
208              return nextView;
209          }
210          protected virtual async void SubmitAndClose()
211          {
212              if (PickerActions == null)
213              {
214                  Submit();
215                  if (PickerVariant != PickerVariant.Static)
216                  {
217                      await Task.Delay(ClosingDelay);
218                      Close(false);
219                  }
220              }
221          }
222          protected abstract string GetDayClasses(int month, DateTime day);
223          protected abstract void OnDayClicked(DateTime dateTime);
224          protected virtual void OnMonthSelected(DateTime month)
225          {
226              PickerMonth = month;
227              var nextView = GetNextView();
228              if (nextView != null)
229              {
230                  CurrentView = (OpenTo)nextView;
231              }
232          }
233          protected virtual void OnYearClicked(int year)
234          {
235              var current = GetMonthStart(0);
236              PickerMonth = new DateTime(year, current.Month, 1);
237              var nextView = GetNextView();
238              if (nextView != null)
239              {
240                  CurrentView = (OpenTo)nextView;
241              }
242          }
243          protected virtual void OnMonthClicked(int month)
244          {
245              CurrentView = OpenTo.Month;
246              _picker_month = _picker_month?.AddMonths(month);
247              StateHasChanged();
248          }
249          private bool IsMonthDisabled(DateTime month)
250          {
251              if (!FixDay.HasValue)
252              {
253                  return month.EndOfMonth(Culture) < MinDate || month > MaxDate;
254              }
255              var day = new DateTime(month.Year, month.Month, FixDay!.Value);
256              return day < MinDate || day > MaxDate || IsDateDisabledFunc(day);
257          }
258          protected IEnumerable<string> GetAbbreviatedDayNames()
259          {
260              var dayNamesNormal = Culture.DateTimeFormat.AbbreviatedDayNames;
261              var dayNamesShifted = Shift(dayNamesNormal, (int)GetFirstDayOfWeek());
262              return dayNamesShifted;
263          }
264          private static T[] Shift<T>(T[] array, int positions)
265          {
266              var copy = new T[array.Length];
267              Array.Copy(array, 0, copy, array.Length - positions, positions);
268              Array.Copy(array, positions, copy, 0, array.Length - positions);
269              return copy;
270          }
271          protected string GetMonthName(int month)
272          {
273              return GetMonthStart(month).ToString(Culture.DateTimeFormat.YearMonthPattern, Culture);
274          }
275          protected abstract string GetTitleDateString();
276          protected string FormatTitleDate(DateTime? date)
277          {
278              return date?.ToString(TitleDateFormat ?? "ddd, dd MMM", Culture) ?? "";
279          }
280          protected string GetFormattedYearString()
281          {
282              return GetMonthStart(0).ToString("yyyy", Culture);
283          }
284          private void OnPreviousMonthClick()
285          {
286              if (PickerMonth.HasValue && PickerMonth.Value.Year == 1 && PickerMonth.Value.Month == 1)
287              {
288                  return;
289              }
290              PickerMonth = GetMonthStart(0).AddDays(-1).StartOfMonth(Culture);
291          }
292          private void OnNextMonthClick()
293          {
294              PickerMonth = GetMonthEnd(0).AddDays(1);
295          }
296          private void OnPreviousYearClick()
297          {
298              PickerMonth = GetMonthStart(0).AddYears(-1);
299          }
300          private void OnNextYearClick()
301          {
302              PickerMonth = GetMonthStart(0).AddYears(1);
303          }
304          private void OnYearClick()
305          {
306              if (!FixYear.HasValue)
307              {
308                  CurrentView = OpenTo.Year;
309                  StateHasChanged();
310                  _scrollToYearAfterRender = true;
311              }
312          }
313          private string _componentId = Guid.NewGuid().ToString();
314          private bool _scrollToYearAfterRender = false;
315          public async void ScrollToYear()
316          {
317              _scrollToYearAfterRender = false;
318              var id = $"{_componentId}{GetMonthStart(0).Year}";
319              await ScrollManager.ScrollToYearAsync(id);
320              StateHasChanged();
321          }
322          private int GetMinYear()
323          {
324              if (MinDate.HasValue)
325                  return MinDate.Value.Year;
326              return DateTime.Today.Year - 100;
327          }
328          private int GetMaxYear()
329          {
330              if (MaxDate.HasValue)
331                  return MaxDate.Value.Year;
332              return DateTime.Today.Year + 100;
333          }
334          private string GetYearClasses(int year)
335          {
336              if (year == GetMonthStart(0).Year)
337                  return $"mud-picker-year-selected mud-{Color.ToDescriptionString()}-text";
338              return null;
339          }
340          private string GetCalendarHeaderClasses(int month)
341          {
342              return new CssBuilder("mud-picker-calendar-header")
343                  .AddClass($"mud-picker-calendar-header-{month + 1}")
344                  .AddClass($"mud-picker-calendar-header-last", month == DisplayMonths - 1)
345                  .Build();
346          }
347          private Typo GetYearTypo(int year)
348          {
349              if (year == GetMonthStart(0).Year)
350                  return Typo.h5;
351              return Typo.subtitle1;
352          }
353          private void OnFormattedDateClick()
354          {
355          }
356          private IEnumerable<DateTime> GetAllMonths()
357          {
358              var current = GetMonthStart(0);
359              var calendarYear = Culture.Calendar.GetYear(current);
360              var firstOfCalendarYear = Culture.Calendar.ToDateTime(calendarYear, 1, 1, 0, 0, 0, 0);
361              for (var i = 0; i < Culture.Calendar.GetMonthsInYear(calendarYear); i++)
362                  yield return Culture.Calendar.AddMonths(firstOfCalendarYear, i);
363          }
364          private string GetAbbreviatedMonthName(DateTime month)
365          {
366              var calendarMonth = Culture.Calendar.GetMonth(month);
367              return Culture.DateTimeFormat.AbbreviatedMonthNames[calendarMonth - 1];
368          }
369          private string GetMonthName(DateTime month)
370          {
371              var calendarMonth = Culture.Calendar.GetMonth(month);
372              return Culture.DateTimeFormat.MonthNames[calendarMonth - 1];
373          }
374          private string GetMonthClasses(DateTime month)
375          {
376              if (GetMonthStart(0) == month && !IsMonthDisabled(month))
377                  return $"mud-picker-month-selected mud-{Color.ToDescriptionString()}-text";
378              return null;
379          }
380          private Typo GetMonthTypo(DateTime month)
381          {
382              if (GetMonthStart(0) == month)
383                  return Typo.h5;
384              return Typo.subtitle1;
385          }
386          protected override void OnInitialized()
387          {
388              base.OnInitialized();
389              CurrentView = OpenTo;
390          }
391          protected override async Task OnAfterRenderAsync(bool firstRender)
392          {
393              await base.OnAfterRenderAsync(firstRender);
394              if (firstRender)
395              {
396                  _picker_month ??= GetCalendarStartOfMonth();
397              }
398              if (firstRender && CurrentView == OpenTo.Year)
399              {
400                  ScrollToYear();
401                  return;
402              }
403              if (_scrollToYearAfterRender)
404                  ScrollToYear();
405          }
406          protected abstract DateTime GetCalendarStartOfMonth();
407          private int GetCalendarDayOfMonth(DateTime date)
408          {
409              return Culture.Calendar.GetDayOfMonth(date);
410          }
411          protected abstract int GetCalendarYear(int year);
412      }
413  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-MudStack.razor.cs</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-MudBaseDatePicker.razor.cs</div>
                </div>
                <div class="column column_space"><pre><code>29      public AlignItems? AlignItems { get; set; }
30      [Parameter]
31      [Category(CategoryTypes.Stack.Behavior)]
32      public RenderFragment ChildContent { get; set; }
</pre></code></div>
                <div class="column column_space"><pre><code>63          public DayOfWeek? FirstDayOfWeek { get; set; } = null;
64          [Parameter]
65          [Category(CategoryTypes.FormComponent.PickerBehavior)]
66          public DateTime? PickerMonth
67          {
68              get => _picker_month;
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    