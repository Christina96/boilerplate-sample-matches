
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 45.04132231404959%, Tokens: 42</h2>
        <div class="column">
            <h3>MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-DrawerTest.cs</h3>
            <pre><code>1  #pragma warning disable CS1998 
2  using System;
3  using System.Threading.Tasks;
4  using Bunit;
5  using FluentAssertions;
6  using Microsoft.Extensions.DependencyInjection;
7  using Moq;
8  using MudBlazor.Services;
9  using MudBlazor.UnitTests.Mocks;
10  using MudBlazor.UnitTests.TestComponents;
11  using NUnit.Framework;
12  using static Bunit.ComponentParameterFactory;
13  namespace MudBlazor.UnitTests.Components
14  {
15      [TestFixture]
16      public class DrawerTest : BunitTest
17      {
18          private Mock<IBreakpointService> _breakpointListenerServiceMock;
19          private Action<Breakpoint> _breakpointUpdateCallback;
20          public override void Setup()
21          {
22              base.Setup();
23              _breakpointListenerServiceMock = new Mock<IBreakpointService>();
24              _breakpointListenerServiceMock
25                  .Setup(x => x.SubscribeAsync(It.IsAny<Action<Breakpoint>>()))
26                  .ReturnsAsync(new BreakpointServiceSubscribeResult(Guid.NewGuid(), Breakpoint.Md))
27                  .Callback<Action<Breakpoint>>(x => _breakpointUpdateCallback = x)
28                  .Verifiable();
29              Context.Services.AddScoped(sp => _breakpointListenerServiceMock.Object);
30          }
31          [Test]
32          public async Task TemporaryClosed_Open_CheckOpened_Close_CheckClosed()
33          {
34              var comp = Context.RenderComponent<DrawerTest1>(Parameter(nameof(DrawerTest1.Variant), DrawerVariant.Temporary));
35              comp.Find("button").Click();
36              comp.FindAll("aside.mud-drawer--open.mud-drawer-temporary").Count.Should().Be(1);
37              comp.FindAll("aside+.mud-overlay-drawer").Count.Should().Be(1);
38              comp.Instance.Drawer.Open.Should().BeTrue();
39              comp.Find("button").Click();
40              comp.FindAll("aside.mud-drawer--closed.mud-drawer-temporary").Count.Should().Be(1);
41              comp.Instance.Drawer.Open.Should().BeFalse();
42          }
43          [Test]
44          public async Task TemporaryClosedWithoutOverlay_Open_CheckOverlay()
45          {
46              var comp = Context.RenderComponent<DrawerTest1>(
47                  Parameter(nameof(DrawerTest1.Variant), DrawerVariant.Temporary),
48                  Parameter(nameof(DrawerTest1.DisableOverlay), true));
49              comp.Find("button").Click();
50              comp.FindAll("aside+mud-overlay-drawer").Count.Should().Be(0);
51              comp.Instance.Drawer.Open.Should().BeTrue();
52              comp.Find("button").Click();
53              comp.FindAll("aside+mud-overlay-drawer").Count.Should().Be(0);
54              comp.Instance.Drawer.Open.Should().BeFalse();
55          }
56          [Test]
57          public async Task TemporaryClosedClipped_Open_CheckState()
58          {
59              var comp = Context.RenderComponent<DrawerTest1>(
60                  Parameter(nameof(DrawerTest1.Variant), DrawerVariant.Temporary),
61                  Parameter(nameof(DrawerTest1.ClipMode), DrawerClipMode.Always));
62              comp.Find("button").Click();
63              comp.FindAll("aside.mud-drawer-clipped-always").Count.Should().Be(1);
64              comp.Instance.Drawer.Open.Should().BeTrue();
65              comp.Find("button").Click();
66              comp.FindAll("aside.mud-drawer--closed.mud-drawer-temporary").Count.Should().Be(1);
67              comp.Instance.Drawer.Open.Should().BeFalse();
68          }
69          [Test]
70          public async Task PersistentClosed_Open_CheckOpened_Close_CheckClosed()
71          {
72              var comp = Context.RenderComponent<DrawerTest1>(Parameter(nameof(DrawerTest1.Variant), DrawerVariant.Persistent));
73              comp.Find("button").Click();
74              comp.FindAll("aside.mud-drawer--open.mud-drawer-persistent").Count.Should().Be(1);
75              comp.FindAll("aside+mud-overlay-drawer").Count.Should().Be(0);
76              comp.Instance.Drawer.Open.Should().BeTrue();
77              comp.Find("button").Click();
78              comp.FindAll("aside.mud-drawer--closed.mud-drawer-persistent").Count.Should().Be(1);
79              comp.Instance.Drawer.Open.Should().BeFalse();
80          }
81          [Test]
82          public async Task PersistentClosedClipped_Open_CheckState()
83          {
84              var comp = Context.RenderComponent<DrawerTest1>(
85                  Parameter(nameof(DrawerTest1.Variant),
86                      DrawerVariant.Persistent), Parameter(nameof(DrawerTest1.ClipMode), DrawerClipMode.Always));
87              comp.Find("button").Click();
88              comp.FindAll("aside.mud-drawer-clipped-always").Count.Should().Be(1);
89              comp.Instance.Drawer.Open.Should().BeTrue();
90              comp.Find("button").Click();
91              comp.FindAll("aside.mud-drawer--closed.mud-drawer-persistent").Count.Should().Be(1);
92              comp.Instance.Drawer.Open.Should().BeFalse();
93          }
94          [Test]
95          public async Task MiniClosed_Open_CheckOpened_Close_CheckClosed()
96          {
97              var comp = Context.RenderComponent<DrawerTest1>(Parameter(nameof(DrawerTest1.Variant), DrawerVariant.Mini));
98              comp.Find("button").Click();
99              comp.FindAll("aside.mud-drawer--open.mud-drawer-mini").Count.Should().Be(1);
100              comp.FindAll("aside+mud-overlay-drawer").Count.Should().Be(0);
101              comp.Instance.Drawer.Open.Should().BeTrue();
102              comp.Find("button").Click();
103              comp.FindAll("aside.mud-drawer--closed.mud-drawer-mini").Count.Should().Be(1);
104              comp.Instance.Drawer.Open.Should().BeFalse();
105          }
106          [Test]
107          public async Task MiniClosedClipped_Open_CheckState()
108          {
109              var comp = Context.RenderComponent<DrawerTest1>(
110                  Parameter(nameof(DrawerTest1.Variant), DrawerVariant.Mini),
111                  Parameter(nameof(DrawerTest1.ClipMode), DrawerClipMode.Always));
112              comp.Find("button").Click();
113              comp.FindAll("aside.mud-drawer-clipped-always").Count.Should().Be(1);
114              comp.Instance.Drawer.Open.Should().BeTrue();
115              comp.Find("button").Click();
116              comp.FindAll("aside.mud-drawer--closed.mud-drawer-mini").Count.Should().Be(1);
117              comp.Instance.Drawer.Open.Should().BeFalse();
118          }
119          [Test]
120          public async Task ResponsiveClosed_Open_CheckOpened_Close_CheckClosed()
121          {
122              var comp = Context.RenderComponent<DrawerResponsiveTest>();
123              comp.Find("button").Click();
124              comp.FindAll("aside.mud-drawer--open.mud-drawer-responsive").Count.Should().Be(1);
125              comp.FindAll("aside+mud-overlay-drawer").Count.Should().Be(0);
126              comp.Instance.Drawer.Open.Should().BeTrue();
127              comp.Find("button").Click();
128              comp.FindAll("aside.mud-drawer--closed.mud-drawer-responsive").Count.Should().Be(1);
129              comp.Instance.Drawer.Open.Should().BeFalse();
130          }
131          [Test]
132          [TestCase(Breakpoint.Xs)]
133          [TestCase(Breakpoint.Sm)]
134          public async Task ResponsiveSmallClosed_Open_CheckOpenedAndOverlay(Breakpoint point)
135          {
136              var comp = Context.RenderComponent<DrawerResponsiveTest>();
137              await comp.InvokeAsync(() => _breakpointUpdateCallback(point));
138              comp.Find("button").Click();
139              comp.FindAll("aside.mud-drawer--open.mud-drawer-responsive").Count.Should().Be(1);
140              comp.FindAll("aside+.mud-drawer-overlay").Count.Should().Be(1);
141              comp.Instance.Drawer.Open.Should().BeTrue();
142              comp.Find("button").Click();
143              comp.FindAll("aside.mud-drawer--closed.mud-drawer-responsive").Count.Should().Be(1);
144              comp.Instance.Drawer.Open.Should().BeFalse();
145          }
146          [TestCase(Breakpoint.Xs)]
147          [TestCase(Breakpoint.Sm)]
148          [TestCase(Breakpoint.Md)]
149          [TestCase(Breakpoint.Lg)]
150          [TestCase(Breakpoint.Xl)]
151          public async Task ResponsiveClosed_LargeScreen_SetBreakpoint_Open_CheckState(Breakpoint breakpoint)
152          {
153              var comp = Context.RenderComponent<DrawerResponsiveTest>(Parameter(nameof(DrawerResponsiveTest.Breakpoint), breakpoint));
154              await comp.InvokeAsync(() => _breakpointUpdateCallback(Breakpoint.Xl));
155              comp.Find("button").Click();
156              comp.FindAll("aside.mud-drawer--open.mud-drawer-responsive").Count.Should().Be(1);
157              comp.FindAll("aside+.mud-drawer-overlay").Count.Should().Be(0);
158              comp.Instance.Drawer.Open.Should().BeTrue();
159              comp.Find("button").Click();
160              comp.FindAll("aside.mud-drawer--closed.mud-drawer-responsive").Count.Should().Be(1);
161              comp.Instance.Drawer.Open.Should().BeFalse();
162          }
163          [TestCase(Breakpoint.Xs)]
164          [TestCase(Breakpoint.Sm)]
165          [TestCase(Breakpoint.Md)]
166          [TestCase(Breakpoint.Lg)]
167          [TestCase(Breakpoint.Xl)]
168          public async Task ResponsiveClosed_SmallScreen_SetBreakpoint_Open_CheckState(Breakpoint breakpoint)
169          {
170              var comp = Context.RenderComponent<DrawerResponsiveTest>(Parameter(nameof(DrawerResponsiveTest.Breakpoint), breakpoint));
171              await comp.InvokeAsync(() => _breakpointUpdateCallback(Breakpoint.Xs));
172              comp.Find("button").Click();
173              comp.FindAll("aside.mud-drawer--open.mud-drawer-responsive").Count.Should().Be(1);
174              comp.FindAll("aside+.mud-drawer-overlay").Count.Should().Be(breakpoint == Breakpoint.Xs ? 0 : 1);
175              comp.Instance.Drawer.Open.Should().BeTrue();
176              comp.Find("button").Click();
177              comp.FindAll("aside.mud-drawer--closed.mud-drawer-responsive").Count.Should().Be(1);
178              comp.Instance.Drawer.Open.Should().BeFalse();
179          }
180          [Test]
181          public async Task ResponsiveClosed_ResizeMultiple_CheckStates()
182          {
183              var srv = Context.Services.GetService<IResizeListenerService>() as MockResizeListenerService;
184              var comp = Context.RenderComponent<DrawerResponsiveTest>(Parameter(nameof(DrawerResponsiveTest.PreserveOpenState), true));
185              await comp.InvokeAsync(() => _breakpointUpdateCallback(Breakpoint.Lg));
186              comp.Find("button").Click();
187              comp.FindAll("aside.mud-drawer--open.mud-drawer-responsive").Count.Should().Be(1);
188              comp.Instance.Drawer.Open.Should().BeTrue();
189              await comp.InvokeAsync(() => _breakpointUpdateCallback(Breakpoint.Xs));
190              comp.FindAll("aside.mud-drawer--closed.mud-drawer-responsive").Count.Should().Be(1);
191              comp.Instance.Drawer.Open.Should().BeFalse();
192              await comp.InvokeAsync(() => _breakpointUpdateCallback(Breakpoint.Lg));
193              comp.FindAll("aside.mud-drawer--open.mud-drawer-responsive").Count.Should().Be(1);
194              comp.Instance.Drawer.Open.Should().BeTrue();
195              comp.Find("button").Click();
196              comp.FindAll("aside.mud-drawer--closed.mud-drawer-responsive").Count.Should().Be(1);
197              await comp.InvokeAsync(() => _breakpointUpdateCallback(Breakpoint.Sm));
198              comp.Find("button").Click();
199              comp.FindAll("aside.mud-drawer--open.mud-drawer-responsive").Count.Should().Be(1);
200              comp.FindAll("aside+.mud-drawer-overlay").Count.Should().Be(1);
201              await comp.InvokeAsync(() => _breakpointUpdateCallback(Breakpoint.Lg));
202              comp.FindAll("aside.mud-drawer--open.mud-drawer-responsive").Count.Should().Be(1);
203              comp.FindAll("aside+.mud-drawer-overlay").Count.Should().Be(0);
204          }
205          [Test]
206          public async Task Responsive_ResizeToSmall_RestoreToLarge_CheckStates()
207          {
208              var comp = Context.RenderComponent<DrawerResponsiveTest>(Parameter(nameof(DrawerResponsiveTest.PreserveOpenState), true));
<span onclick='openModal()' class='match'>209              await comp.InvokeAsync(() => _breakpointUpdateCallback(Breakpoint.Lg));
210              comp.Find("button").Click();
211              comp.FindAll("aside.mud-drawer--open.mud-drawer-responsive").Count.Should().Be(1);
212              comp.Instance.Drawer.Open.Should().BeTrue();
213              await comp.InvokeAsync(() => _breakpointUpdateCallback(Breakpoint.Sm));
214              comp.FindAll("aside.mud-drawer--closed.mud-drawer-responsive").Count.Should().Be(1);
215              comp.Instance.Drawer.Open.Should().BeFalse();
216              await comp.InvokeAsync(() => _breakpointUpdateCallback(Breakpoint.Xs));
217              comp.FindAll("aside.mud-drawer--closed.mud-drawer-responsive").Count.Should().Be(1);
218              comp.Instance.Drawer.Open.Should().BeFalse();
219              await comp.InvokeAsync(() => _breakpointUpdateCallback(Breakpoint.Lg));
220              comp.FindAll("aside.mud-drawer--open.mud-drawer-responsive").Count.Should().Be(1);
221              comp.Instance.Drawer.Open.Should().BeTrue();
222          }
223          [Test]
224          public async Task DrawerContainer_RemoveDrawer_CheckStates()
225          {
226              var comp = Context.RenderComponent<DrawerContainerTest1>();
227              comp.FindAll("div.mud-drawer-open-responsive-md-right").Count.Should().Be(1);
228              comp.Find("button").Click();
229              comp.FindAll("div.mud-drawer-open-responsive-md-right").Count.Should().Be(0);
</span>230          }
231      }
232  }
</code></pre>
        </div>
        <div class="column">
            <h3>MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-TimePickerTests.cs</h3>
            <pre><code>1  #pragma warning disable BL0005 
2  using System;
3  using System.Threading.Tasks;
4  using Bunit;
5  using FluentAssertions;
6  using Microsoft.AspNetCore.Components;
7  using Microsoft.AspNetCore.Components.Web;
8  using MudBlazor.UnitTests.TestComponents.TimePicker;
9  using NUnit.Framework;
10  using static Bunit.ComponentParameterFactory;
11  namespace MudBlazor.UnitTests.Components
12  {
13      [TestFixture]
14      public class TimePickerTests : BunitTest
15      {
16          public IRenderedComponent<SimpleTimePickerTest> OpenPicker(ComponentParameter parameter)
17          {
18              return OpenPicker(new ComponentParameter[] { parameter });
19          }
20          public IRenderedComponent<SimpleTimePickerTest> OpenPicker(ComponentParameter[] parameters = null)
21          {
22              IRenderedComponent<SimpleTimePickerTest> comp;
23              if (parameters is null)
24              {
25                  comp = Context.RenderComponent<SimpleTimePickerTest>();
26              }
27              else
28              {
29                  comp = Context.RenderComponent<SimpleTimePickerTest>(parameters);
30              }
31              comp.FindAll("div.mud-picker-open").Count.Should().Be(0);
32              comp.Find("input").Click();
33              comp.FindAll("div.mud-picker-open").Count.Should().Be(1);
34              return comp;
35          }
36          [Test]
37          public void TimePickerOpenButtonAriaLabel()
38          {
39              var comp = Context.RenderComponent<MudTimePicker>();
40              var openButton = comp.Find(".mud-input-adornment button");
41              openButton.Attributes.GetNamedItem("aria-label")?.Value.Should().Be("Open Time Picker");
42          }
43          [Test]
44          public void TimePicker_Should_Clear()
45          {
46              var comp = Context.RenderComponent<MudTimePicker>();
47              var picker = comp.Instance;
48              picker.Text.Should().Be(null);
49              picker.Time.Should().Be(null);
50              comp.SetParam(p => p.Clearable, true);
51              comp.SetParam(p => p.Time, new TimeSpan(637940935730000000));
52              picker.Time.Should().Be(new TimeSpan(637940935730000000));
53              picker.Text.Should().Be(new TimeSpan(637940935730000000).ToIsoString());
54              comp.Find("button").Click(); 
55              picker.Text.Should().Be(""); 
56              picker.Time.Should().Be(null);
57          }
58          [Test]
59          public void Open_ClickOutside_CheckClosed()
60          {
61              var comp = OpenPicker();
62              comp.Find("div.mud-overlay").Click();
63              comp.FindAll("div.mud-picker-open").Count.Should().Be(0);
64          }
65          [Test]
66          public void Change_24hrsTo12Hours_CheckHours()
67          {
68              var comp = OpenPicker();
69              var picker = comp.Instance;
70              var underlyingPicker = comp.FindComponent<MudTimePicker>();
71              underlyingPicker.Instance.AmPm.Should().Be(false);
72              comp.FindAll("div.mud-hour").Count.Should().Be(24);
73              underlyingPicker.SetParametersAndRender(x => x.Add(p =>
74                  p.AmPm, true));
75              underlyingPicker.Instance.AmPm.Should().Be(true);
76              comp.FindAll("div.mud-hour").Count.Should().Be(12);
77          }
78          [Test]
79          public void SelectTime_UsingClicks_24HourMode_Midnight_CheckTime()
80          {
81              var comp = OpenPicker();
82              var underlyingPicker = comp.FindComponent<MudTimePicker>().Instance;
83              comp.FindAll("div.mud-picker-stick-outer.mud-hour")[11].Click();
84              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(0);
85              underlyingPicker.TimeIntermediate.Value.Days.Should().Be(0);
86          }
87          [Test]
88          public async Task SelectTime_UsingClicks_24HourMode_CheckTimeAsync()
89          {
90              var comp = OpenPicker();
91              var picker = comp.Instance;
92              var underlyingPicker = comp.FindComponent<MudTimePicker>().Instance;
93              comp.FindAll("div.mud-picker-stick-outer.mud-hour")[3].Click();
94              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(16);
95              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(0);
96              comp.FindAll("div.mud-time-picker-hour.mud-time-picker-dial-hidden").Count.Should().Be(1);
97              comp.FindAll("div.mud-minute")[30].Click();
98              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(16);
99              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(30);
100              comp.WaitForAssertion(() => comp.FindAll("div.mud-picker-open").Count.Should().Be(0));
101              await comp.Instance.Open();
102              comp.FindAll("div.mud-picker-stick-inner.mud-hour")[3].Click();
103              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(4);
104              comp.FindAll("div.mud-time-picker-hour.mud-time-picker-dial-hidden").Count.Should().Be(1);
105              comp.FindAll("div.mud-minute")[21].Click();
106              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(21);
107              comp.WaitForAssertion(() => comp.FindAll("div.mud-picker-open").Count.Should().Be(0));
108              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(4);
109              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(21);
110              await comp.InvokeAsync(() => picker.Open());
111              comp.FindAll("div.mud-picker-stick-inner.mud-hour")[9].Click();
112              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(10);
113              comp.FindAll("div.mud-time-picker-hour.mud-time-picker-dial-hidden").Count.Should().Be(1);
114              comp.FindAll("div.mud-minute")[56].Click();
115              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(56);
116              comp.WaitForAssertion(() => comp.FindAll("div.mud-picker-open").Count.Should().Be(0));
117          }
118          [Test]
119          public void SelectTime_UsingClicks_12HourMode_CheckTime()
120          {
121              var comp = OpenPicker(Parameter("AmPm", true));
122              var underlyingPicker = comp.FindComponent<MudTimePicker>().Instance;
123              comp.FindAll("div.mud-hour")[10].Click();
124              comp.FindAll("div.mud-minute")[30].Click();
125              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(11);
126              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(30);
127              comp.FindAll("button.mud-timepicker-button")[0].Click();
128              comp.FindAll("div.mud-hour")[11].Click();
129              comp.FindAll("div.mud-minute")[21].Click();
130              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(0);
131              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(21);
132              comp.FindAll("button.mud-timepicker-button")[0].Click();
133              comp.FindAll("div.mud-hour")[9].Click();
134              comp.FindAll("div.mud-minute")[56].Click();
135              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(10);
136              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(56);
137              comp.FindAll("button.mud-timepicker-button")[3].Click();
138              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(22);
139              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(56);
140          }
141          [Test]
142          public void SelectTime_UsingClicks_12HourMode_ChangeAmPm_CheckTime()
143          {
144              var comp = Context.RenderComponent<MudTimePicker>(x =>
145              {
146                  x.Add(p => p.PickerVariant, PickerVariant.Static);
147                  x.Add(p => p.AmPm, true);
148              });
149              var picker = comp.Instance;
150              comp.FindAll("div.mud-hour")[10].Click();
151              comp.FindAll("div.mud-minute")[30].Click();
152              picker.TimeIntermediate.Value.Hours.Should().Be(11);
153              picker.TimeIntermediate.Value.Minutes.Should().Be(30);
154              comp.FindAll("button.mud-timepicker-button")[3].Click();
155              picker.TimeIntermediate.Value.Hours.Should().Be(23);
156              picker.TimeIntermediate.Value.Minutes.Should().Be(30);
157              comp.FindAll("div.mud-hour")[10].Click();
158              picker.TimeIntermediate.Value.Hours.Should().Be(23);
159              comp.FindAll("button.mud-timepicker-button")[2].Click();
160              picker.TimeIntermediate.Value.Hours.Should().Be(11);
161              picker.TimeIntermediate.Value.Minutes.Should().Be(30);
162          }
163          [Test]
164          public void OpenToHours_CheckMinutesHidden()
165          {
166              var comp = OpenPicker(Parameter("OpenTo", OpenTo.Hours));
167              comp.FindAll("div.mud-time-picker-minute.mud-time-picker-dial-hidden").Count.Should().Be(1);
168          }
169          [Test]
170          public void OpenToHours_ChangeTo_Minutes_ReOpen_CheckStillHours()
171          {
172              var comp = OpenPicker(Parameter("OpenTo", OpenTo.Hours));
173              comp.FindAll("div.mud-time-picker-minute.mud-time-picker-dial-hidden").Count.Should().Be(1);
174              comp.FindAll("button.mud-timepicker-button")[1].Click();
175              comp.Find("div.mud-overlay").Click();
176              comp.FindAll("div.mud-picker-open").Count.Should().Be(0);
177              comp.FindAll("input")[0].Click();
178              comp.FindAll("div.mud-time-picker-minute.mud-time-picker-dial-hidden").Count.Should().Be(1);
179          }
180          [Test]
181          public void OpenToMinutes_CheckHoursHidden()
182          {
183              var comp = OpenPicker(Parameter("OpenTo", OpenTo.Minutes));
184              comp.FindAll("div.mud-time-picker-hour.mud-time-picker-dial-hidden").Count.Should().Be(1);
185          }
186          [Test]
187          public void TimeEditModeMinutes_CheckHoursHidden()
188          {
189              var comp = OpenPicker(Parameter("TimeEditMode", TimeEditMode.OnlyMinutes));
190              comp.FindAll("div.mud-time-picker-hour.mud-time-picker-dial-hidden").Count.Should().Be(1);
191          }
192          [Test]
193          public void TimeEditModeHours_CheckMinutesHidden()
194          {
195              var comp = OpenPicker(Parameter("TimeEditMode", TimeEditMode.OnlyHours));
196              comp.FindAll("div.mud-time-picker-minute.mud-time-picker-dial-hidden").Count.Should().Be(1);
197          }
198          [Test]
199          public void TimeEditModeNormal_CheckMinutesHidden()
200          {
201              var comp = OpenPicker(Parameter("TimeEditMode", TimeEditMode.Normal));
202              comp.FindAll("div.mud-time-picker-minute.mud-time-picker-dial-hidden").Count.Should().Be(1);
203          }
204          [Test]
205          public void TimeEditModeHours_CheckSelection()
206          {
207              var comp = Context.RenderComponent<SimpleTimePickerTest>((Parameter("TimeEditMode", TimeEditMode.OnlyHours)));
208              var underlyingPicker = comp.FindComponent<MudTimePicker>().Instance;
209              comp.Find("input").Click();
210              comp.WaitForAssertion(() => comp.FindAll("div.mud-picker-open").Count.Should().Be(1));
211              comp.FindAll("div.mud-picker-stick-outer.mud-hour")[0].Click();
212              comp.WaitForAssertion(() => comp.FindAll("div.mud-picker-open").Count.Should().Be(0));
213              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(13);
214              comp.Find("input").Click();
215              comp.WaitForAssertion(() => comp.FindAll("div.mud-picker-open").Count.Should().Be(1));
216              comp.FindAll("div.mud-picker-stick-outer.mud-hour")[1].Click();
217              comp.WaitForAssertion(() => comp.FindAll("div.mud-picker-open").Count.Should().Be(0));
218              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(14);
219          }
220          [Test]
221          public void ChangeToMinutes_FromHours_CheckHoursHidden()
222          {
223              var comp = OpenPicker();
224              comp.FindAll("button.mud-timepicker-button")[1].Click();
225              comp.FindAll("div.mud-time-picker-hour.mud-time-picker-dial-hidden").Count.Should().Be(1);
226          }
227          [Test]
228          public void DragMouse_SelectHour_CheckMinutesAppear()
229          {
230              var comp = OpenPicker();
231              var picker = comp.Instance;
232              var underlyingPicker = comp.FindComponent<MudTimePicker>().Instance;
233              comp.Find("div.mud-time-picker-hour").MouseDown();
234              comp.FindAll("div.mud-picker-stick-outer.mud-hour")[3].MouseOver();
235              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(16);
236              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(0);
237              comp.FindAll("div.mud-picker-stick-outer.mud-hour")[5].MouseOver();
238              comp.FindAll("div.mud-picker-stick-outer.mud-hour")[5].MouseUp();
239              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(18);
240              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(0);
241              comp.FindAll("div.mud-time-picker-hour.mud-time-picker-dial-hidden").Count.Should().Be(1);
242          }
243          [Test]
244          public void DragMouse_SelectMinutes()
245          {
246              var comp = OpenPicker(Parameter("OpenTo", OpenTo.Minutes));
247              var picker = comp.Instance;
248              var underlyingPicker = comp.FindComponent<MudTimePicker>().Instance;
249              comp.FindAll("div.mud-time-picker-hour.mud-time-picker-dial-hidden").Count.Should().Be(1);
250              comp.Find("div.mud-time-picker-minute").MouseDown();
251              comp.FindAll("div.mud-minute")[3].MouseOver();
252              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(3);
253              comp.FindAll("div.mud-minute")[31].MouseOver();
254              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(31);
255              comp.FindAll("div.mud-minute")[5].MouseOver();
256              comp.FindAll("div.mud-minute")[5].MouseUp();
257              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(5);
258          }
259          [Test]
260          public void InputStringValues_CheckParsing()
261          {
262              var comp = Context.RenderComponent<MudTimePicker>();
263              var picker = comp.Instance;
264              comp.Find("input").Change("23:02");
265              picker.TimeIntermediate.Should().Be(new TimeSpan(23, 2, 0));
266              comp.Find("input").Change("");
267              picker.TimeIntermediate.Should().BeNull();
268              picker.Error.Should().BeFalse();
269              comp.Find("input").Change("25:06");
270              picker.TimeIntermediate.Should().BeNull();
271          }
272          [Test]
273          public void DragAndClick_AllHours12h_TestCoverage()
274          {
275              var comp = OpenPicker(new ComponentParameter[] { Parameter("OpenTo", OpenTo.Hours), Parameter("AmPm", true) });
276              var picker = comp.Instance;
277              var underlyingPicker = comp.FindComponent<MudTimePicker>().Instance;
278              comp.FindAll("div.mud-time-picker-minute.mud-time-picker-dial-hidden").Count.Should().Be(1);
279              for (var i = 0; i < 12; i++)
280              {
281                  comp.Find("div.mud-time-picker-hour").MouseDown();
282                  comp.FindAll("div.mud-hour")[i].MouseOver();
283                  underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(i + 1);
284                  comp.FindAll("div.mud-hour")[i].MouseUp();
285                  underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(i + 1);
286                  comp.FindAll("div.mud-hour")[i].Click();
287                  underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(i + 1);
288              }
289          }
290          [Test]
291          public void DragAndClick_AllHours24h_TestCoverage()
292          {
293              var comp = OpenPicker(Parameter("OpenTo", OpenTo.Hours));
294              var picker = comp.Instance;
295              var underlyingPicker = comp.FindComponent<MudTimePicker>().Instance;
296              comp.FindAll("div.mud-time-picker-minute.mud-time-picker-dial-hidden").Count.Should().Be(1);
297              for (var i = 0; i < 12; i++)
298              {
299                  comp.Find("div.mud-time-picker-hour").MouseDown();
300                  comp.FindAll("div.mud-picker-stick-outer.mud-hour")[i].MouseOver();
301                  underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(i + 13 == 24 ? 0 : i + 13);
302                  comp.FindAll("div.mud-picker-stick-outer.mud-hour")[i].MouseUp();
303                  underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(i + 13 == 24 ? 0 : i + 13);
304                  comp.FindAll("div.mud-picker-stick-outer.mud-hour")[i].Click();
305                  underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(i + 13 == 24 ? 0 : i + 13);
306              }
307              for (var i = 0; i < 12; i++)
308              {
309                  comp.Find("div.mud-time-picker-hour").MouseDown();
310                  comp.FindAll("div.mud-picker-stick-inner.mud-hour")[i].MouseOver();
311                  underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(i + 1);
312                  comp.FindAll("div.mud-picker-stick-inner.mud-hour")[i].MouseUp();
313                  underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(i + 1);
314                  comp.FindAll("div.mud-picker-stick-inner.mud-hour")[i].Click();
315                  underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(i + 1);
316              }
317          }
318          [Test]
319          public void DragAndMouseUp_AllMinutes()
320          {
321              var comp = OpenPicker(Parameter("TimeEditMode", TimeEditMode.OnlyMinutes));
322              var picker = comp.Instance;
323              var underlyingPicker = comp.FindComponent<MudTimePicker>().Instance;
324              comp.FindAll("div.mud-time-picker-hour.mud-time-picker-dial-hidden").Count.Should().Be(1);
325              comp.Find("div.mud-time-picker-minute").MouseDown();
326              for (var i = 0; i < 60; i++)
327              {
328                  comp.FindAll("div.mud-minute")[i].MouseOver();
329                  underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(i);
330                  if (i == 59)
331                  {
332                      comp.FindAll("div.mud-minute")[i].MouseUp();
333                      underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(i);
334                  }
335              }
336              comp.WaitForAssertion(() => comp.FindAll("div.mud-picker-open").Count.Should().Be(0));
337          }
338          [Test]
339          public void Click_AllMinutes_Static()
340          {
341              var comp = Context.RenderComponent<MudTimePicker>(new ComponentParameter[] { Parameter("TimeEditMode", TimeEditMode.OnlyMinutes), Parameter("PickerVariant", PickerVariant.Static), Parameter("OpenTo", OpenTo.Minutes) });
342              var picker = comp.Instance;
343              comp.FindAll("div.mud-time-picker-hour.mud-time-picker-dial-hidden").Count.Should().Be(1);
344              for (var i = 0; i < 60; i++)
345              {
346                  comp.FindAll("div.mud-minute")[i].Click();
347                  picker.TimeIntermediate.Value.Minutes.Should().Be(i);
348              }
349          }
350          [Test]
351          public void SelectTime_UsingDrag_DefaultMode_CheckCloseWhenFinished()
352          {
353              var comp = OpenPicker();
354              var picker = comp.Instance;
355              var underlyingPicker = comp.FindComponent<MudTimePicker>().Instance;
356              comp.FindAll("div.mud-time-picker-hour").Count.Should().Be(1);
357              comp.FindAll("div.mud-time-picker-minute.mud-time-picker-dial-hidden").Count.Should().Be(1);
358              comp.Find("div.mud-time-picker-hour").MouseDown();
359              comp.FindAll("div.mud-picker-stick-outer.mud-hour")[0].MouseOver();
360              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(13);
361              comp.FindAll("div.mud-picker-stick-outer.mud-hour")[0].MouseUp();
362              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(13);
363              comp.FindAll("div.mud-time-picker-hour.mud-time-picker-dial-hidden").Count.Should().Be(1);
364              comp.FindAll("div.mud-time-picker-minute").Count.Should().Be(1);
365              comp.Find("div.mud-time-picker-minute").MouseDown();
366              comp.FindAll("div.mud-minute")[37].MouseOver();
367              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(37);
368              comp.FindAll("div.mud-minute")[37].MouseUp();
369              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(37);
370              comp.WaitForAssertion(() => comp.FindAll("div.mud-picker-open").Count.Should().Be(0));
371              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(13);
372              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(37);
373          }
374          [Test]
375          public void SelectTime_UsingClick_DefaultMode_CheckCloseWhenFinished()
376          {
377              var comp = OpenPicker();
378              var picker = comp.Instance;
<span onclick='openModal()' class='match'>379              var underlyingPicker = comp.FindComponent<MudTimePicker>().Instance;
380              comp.FindAll("div.mud-time-picker-hour").Count.Should().Be(1);
381              comp.FindAll("div.mud-time-picker-minute.mud-time-picker-dial-hidden").Count.Should().Be(1);
382              comp.FindAll("div.mud-picker-stick-outer.mud-hour")[0].Click();
383              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(13);
384              comp.FindAll("div.mud-time-picker-hour.mud-time-picker-dial-hidden").Count.Should().Be(1);
385              comp.FindAll("div.mud-time-picker-minute").Count.Should().Be(1);
386              comp.FindAll("div.mud-minute")[37].Click();
387              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(37);
388              comp.WaitForAssertion(() => comp.FindAll("div.mud-picker-open").Count.Should().Be(0));
389              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(13);
390              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(37);
391          }
392          [Test]
393          public async Task Open_Programmatically_CheckOpen_Close_Programmatically_CheckClosed()
394          {
395              var comp = Context.RenderComponent<SimpleTimePickerTest>();
396              comp.FindAll("div.mud-picker-content").Count.Should().Be(0);
397              await comp.Instance.Open();
398              comp.FindAll("div.mud-picker-content").Count.Should().Be(1);
399              await comp.Instance.Close();
</span>400              comp.FindAll("div.mud-picker-content").Count.Should().Be(0);
401          }
402          [Test]
403          public void SelectTime_Close_CheckTime()
404          {
405              var comp = OpenPicker(Parameter("AmPm", true));
406              var picker = comp.Instance;
407              comp.FindAll("div.mud-hour")[10].Click();
408              comp.FindAll("div.mud-minute")[30].Click();
409              comp.Find("div.mud-overlay").Click();
410              picker.Time.Value.Hours.Should().Be(11);
411              picker.Time.Value.Minutes.Should().Be(30);
412          }
413          [Test]
414          public void SelectTimeStatic_UsingClicks_CheckTime()
415          {
416              var comp = Context.RenderComponent<MudTimePicker>(Parameter(nameof(MudTimePicker.PickerVariant), PickerVariant.Static));
417              var picker = comp.Instance;
418              comp.FindAll("div.mud-picker-stick-outer.mud-hour")[3].Click();
419              picker.Time.Value.Hours.Should().Be(16);
420              picker.Time.Value.Minutes.Should().Be(0);
421              comp.FindAll("div.mud-minute")[30].Click();
422              picker.Time.Value.Hours.Should().Be(16);
423              picker.Time.Value.Minutes.Should().Be(30);
424          }
425          [Test]
426          public async Task CheckAutoCloseTimePickerTest()
427          {
428              var comp = Context.RenderComponent<AutoCompleteTimePickerTest>();
429              var timePicker = comp.FindComponent<MudTimePicker>();
430              await comp.InvokeAsync(() => timePicker.Instance.Open());
431              var picker = timePicker.Instance;
432              comp.FindAll("div.mud-picker-stick-outer.mud-hour")[3].Click();
433              picker.TimeIntermediate.Value.Hours.Should().Be(16);
434              comp.FindAll("div.mud-minute")[30].Click();
435              picker.TimeIntermediate.Value.Minutes.Should().Be(30);
436              comp.Find("div.mud-overlay").Click();
437              picker.Time.Should().Be(new TimeSpan(00, 45, 00));
438              await comp.InvokeAsync(() => timePicker.Instance.Open());
439              comp.WaitForAssertion(() => comp.FindAll("div.mud-popover-open").Count.Should().Be(1));
440              await comp.InvokeAsync(() => timePicker.Instance.Clear());
441              comp.WaitForAssertion(() => comp.FindAll("div.mud-popover-open").Count.Should().Be(1));
442              await comp.InvokeAsync(() => timePicker.Instance.Close(false));
443              timePicker.Instance.AutoClose = true;
444              await comp.InvokeAsync(() => timePicker.Instance.Open());
445              picker = timePicker.Instance;
446              comp.FindAll("div.mud-picker-stick-outer.mud-hour")[3].Click();
447              picker.TimeIntermediate.Value.Hours.Should().Be(16);
448              comp.FindAll("div.mud-minute")[30].Click();
449              picker.TimeIntermediate.Value.Minutes.Should().Be(30);
450              comp.Find("div.mud-overlay").Click();
451              picker.Time.Should().Be(new TimeSpan(16, 30, 00));
452              await comp.InvokeAsync(() => timePicker.Instance.Open());
453              comp.WaitForAssertion(() => comp.FindAll("div.mud-popover-open").Count.Should().Be(1));
454              await comp.InvokeAsync(() => timePicker.Instance.Clear());
455              comp.WaitForAssertion(() => comp.FindAll("div.mud-popover-open").Count.Should().Be(0));
456              comp.WaitForAssertion(() => comp.FindAll("div.mud-popover").Count.Should().Be(1));
457          }
458          [Test]
459          public async Task CheckReadOnlyTest()
460          {
461              var comp = Context.RenderComponent<SimpleTimePickerTest>();
462              var picker = comp.FindComponent<MudTimePicker>().Instance;
463              comp.WaitForAssertion(() => picker.Time.Should().Be(null));
464              await comp.InvokeAsync(() => picker.Open());
465              comp.WaitForAssertion(() => comp.FindAll("div.mud-popover").Count.Should().Be(1));
466              await comp.InvokeAsync(() => comp.FindAll("div.mud-picker-stick-outer.mud-hour")[3].Click());
467              picker.TimeIntermediate.Value.Hours.Should().Be(16);
468              await comp.InvokeAsync(() => comp.FindAll("div.mud-minute")[30].Click());
469              picker.TimeIntermediate.Value.Minutes.Should().Be(30);
470              await comp.InvokeAsync(() => comp.Find("div.mud-overlay").Click());
471              comp.WaitForAssertion(() => picker.Time.Should().Be(new TimeSpan(16, 30, 00)));
472              await comp.InvokeAsync(() => picker.ReadOnly = true);
473              await comp.InvokeAsync(() => picker.Open());
474              comp.WaitForAssertion(() => comp.FindAll("div.mud-popover").Count.Should().Be(1));
475              await comp.InvokeAsync(() => comp.FindAll("div.mud-picker-stick-outer.mud-hour")[4].Click());
476              comp.WaitForAssertion(() => picker.TimeIntermediate.Value.Hours.Should().Be(17));
477              await comp.InvokeAsync(() => comp.FindAll("div.mud-minute")[34].Click());
478              comp.WaitForAssertion(() => picker.TimeIntermediate.Value.Minutes.Should().Be(34));
479              await comp.InvokeAsync(() => comp.Find("div.mud-overlay").Click());
480              comp.WaitForAssertion(() => picker.Time.Should().Be(new TimeSpan(16, 30, 00)));
481          }
482          [Test]
483          public async Task TimePickerTest_KeyboardNavigation()
484          {
485              var comp = Context.RenderComponent<SimpleTimePickerTest>();
486              var timePicker = comp.FindComponent<MudTimePicker>().Instance;
487              var overlay = comp.FindComponent<MudOverlay>();
488              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "Enter", Type = "keydown", }));
489              comp.WaitForAssertion(() => comp.FindAll("div.mud-picker-open").Count.Should().Be(1));
490              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "Escape", Type = "keydown", }));
491              comp.WaitForAssertion(() => comp.FindAll("div.mud-picker-open").Count.Should().Be(0));
492              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = " ", Type = "keydown", }));
493              comp.WaitForAssertion(() => comp.FindAll("div.mud-picker-open").Count.Should().Be(1));
494              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "ArrowUp", AltKey = true, Type = "keydown", }));
495              comp.WaitForAssertion(() => comp.FindAll("div.mud-picker-open").Count.Should().Be(0));
496              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "ArrowDown", Type = "keydown", }));
497              comp.WaitForAssertion(() => comp.FindAll("div.mud-picker-open").Count.Should().Be(1));
498              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "ArrowUp", AltKey = true, Type = "keydown", }));
499              comp.WaitForAssertion(() => comp.FindAll("div.mud-picker-open").Count.Should().Be(0));
500              comp.SetParam("Time", new TimeSpan(02, 00, 00));
501              comp.WaitForAssertion(() => comp.Instance.Time.Should().Be(new TimeSpan(02, 00, 00)));
502              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "ArrowUp", Type = "keydown", }));
503              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "ArrowDown", Type = "keydown", }));
504              comp.WaitForAssertion(() => timePicker.TimeIntermediate.Should().Be(new TimeSpan(01, 00, 00)));
505              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "ArrowUp", Type = "keydown", }));
506              comp.WaitForAssertion(() => timePicker.TimeIntermediate.Should().Be(new TimeSpan(02, 00, 00)));
507              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "ArrowLeft", Type = "keydown", }));
508              comp.WaitForAssertion(() => timePicker.TimeIntermediate.Should().Be(new TimeSpan(01, 59, 00)));
509              comp.WaitForAssertion(() => timePicker.Time.Should().Be(new TimeSpan(02, 00, 00)));
510              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "Enter", Type = "keydown", }));
511              comp.WaitForAssertion(() => timePicker.Time.Should().Be(new TimeSpan(01, 59, 00)));
512              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "ArrowRight", Type = "keydown", }));
513              comp.WaitForAssertion(() => timePicker.TimeIntermediate.Should().Be(new TimeSpan(01, 59, 00)));
514              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = " ", Type = "keydown", }));
515              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "ArrowRight", Type = "keydown", }));
516              comp.WaitForAssertion(() => timePicker.TimeIntermediate.Should().Be(new TimeSpan(02, 00, 00)));
517              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "Escape", Type = "keydown", }));
518              comp.WaitForAssertion(() => timePicker.TimeIntermediate.Should().Be(new TimeSpan(01, 59, 00)));
519              comp.WaitForAssertion(() => timePicker.Time.Should().Be(new TimeSpan(01, 59, 00)));
520              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = " ", Type = "keydown", }));
521              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "ArrowRight", Type = "keydown", }));
522              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = " ", Type = "keydown", }));
523              comp.WaitForAssertion(() => timePicker.TimeIntermediate.Should().Be(new TimeSpan(02, 00, 00)));
524              comp.WaitForAssertion(() => timePicker.Time.Should().Be(new TimeSpan(02, 00, 00)));
525              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = " ", CtrlKey = true, Type = "keydown", }));
526              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "ArrowRight", CtrlKey = true, Type = "keydown", }));
527              comp.WaitForAssertion(() => timePicker.TimeIntermediate.Should().Be(new TimeSpan(03, 00, 00)));
528              comp.SetParam("Time", new TimeSpan(03, 56, 00));
529              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "ArrowRight", ShiftKey = true, Type = "keydown", }));
530              comp.WaitForAssertion(() => timePicker.TimeIntermediate.Should().Be(new TimeSpan(04, 01, 00)));
531              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "ArrowLeft", ShiftKey = true, Type = "keydown", }));
532              comp.WaitForAssertion(() => timePicker.TimeIntermediate.Should().Be(new TimeSpan(03, 56, 00)));
533              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "ArrowLeft", CtrlKey = true, Type = "keydown", }));
534              comp.WaitForAssertion(() => timePicker.TimeIntermediate.Should().Be(new TimeSpan(02, 56, 00)));
535              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "ArrowLeft", ShiftKey = true, Type = "keydown", }));
536              comp.WaitForAssertion(() => timePicker.TimeIntermediate.Should().Be(new TimeSpan(02, 51, 00)));
537              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "ArrowRight", ShiftKey = true, Type = "keydown", }));
538              comp.WaitForAssertion(() => timePicker.TimeIntermediate.Should().Be(new TimeSpan(02, 56, 00)));
539              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "ArrowUp", ShiftKey = true, Type = "keydown", }));
540              comp.WaitForAssertion(() => timePicker.TimeIntermediate.Should().Be(new TimeSpan(07, 56, 00)));
541              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "ArrowDown", ShiftKey = true, Type = "keydown", }));
542              comp.WaitForAssertion(() => timePicker.TimeIntermediate.Should().Be(new TimeSpan(02, 56, 00)));
543              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "Backspace", CtrlKey = true, ShiftKey = true, Type = "keydown", }));
544              comp.WaitForAssertion(() => timePicker.TimeIntermediate.Should().Be(null));
545              comp.WaitForAssertion(() => timePicker.Time.Should().Be(null));
546              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "Escape", Type = "keydown", }));
547              timePicker.Disabled = true;
548              timePicker.FocusAsync().AndForget();
549              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "Escape", Type = "keydown", }));
550              await comp.InvokeAsync(() => timePicker.HandleKeyDown(new KeyboardEventArgs() { Key = "Enter", Type = "keydown", }));
551              comp.WaitForAssertion(() => comp.FindAll("div.mud-picker-open").Count.Should().Be(0));
552              await comp.InvokeAsync(() => timePicker.TimeFormat = "hhmm");
553              await comp.InvokeAsync(() => timePicker.TimeFormat = "hhmm");
554              timePicker.ReadOnly = true;
555              await comp.InvokeAsync(() => timePicker.Submit());
556          }
557          [Test]
558          public async Task CheckCallOneTimeChanged()
559          {
560              var comp = Context.RenderComponent<SimpleTimePickerTest>();
561              var picker = comp.FindComponent<MudTimePicker>().Instance;
562              comp.WaitForAssertion(() => picker.Time.Should().Be(null));
563              await comp.InvokeAsync(() => picker.Open());
564              comp.WaitForAssertion(() => comp.FindAll("div.mud-popover").Count.Should().Be(1));
565              var count = 0;
566              picker.TimeChanged = new EventCallbackFactory().Create<TimeSpan?>(this, v =>
567              {
568                  count++;
569              });
570              await comp.InvokeAsync(() => comp.FindAll("div.mud-picker-stick-outer.mud-hour")[3].Click(new MouseEventArgs()));
571              picker.TimeIntermediate.Value.Hours.Should().Be(16);
572              await comp.InvokeAsync(() => comp.FindAll("div.mud-minute")[30].Click(new MouseEventArgs()));
573              picker.TimeIntermediate.Value.Minutes.Should().Be(30);
574              Assert.AreEqual(1, count);
575              await comp.InvokeAsync(() => comp.Find("div.mud-overlay").Click());
576              comp.WaitForAssertion(() => picker.Time.Should().Be(new TimeSpan(16, 30, 00)));
577          }
578      }
579  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-DrawerTest.cs</div>
                <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-TimePickerTests.cs</div>
                <div class="column column_space"><pre><code>209              await comp.InvokeAsync(() => _breakpointUpdateCallback(Breakpoint.Lg));
210              comp.Find("button").Click();
211              comp.FindAll("aside.mud-drawer--open.mud-drawer-responsive").Count.Should().Be(1);
212              comp.Instance.Drawer.Open.Should().BeTrue();
213              await comp.InvokeAsync(() => _breakpointUpdateCallback(Breakpoint.Sm));
214              comp.FindAll("aside.mud-drawer--closed.mud-drawer-responsive").Count.Should().Be(1);
215              comp.Instance.Drawer.Open.Should().BeFalse();
216              await comp.InvokeAsync(() => _breakpointUpdateCallback(Breakpoint.Xs));
217              comp.FindAll("aside.mud-drawer--closed.mud-drawer-responsive").Count.Should().Be(1);
218              comp.Instance.Drawer.Open.Should().BeFalse();
219              await comp.InvokeAsync(() => _breakpointUpdateCallback(Breakpoint.Lg));
220              comp.FindAll("aside.mud-drawer--open.mud-drawer-responsive").Count.Should().Be(1);
221              comp.Instance.Drawer.Open.Should().BeTrue();
222          }
223          [Test]
224          public async Task DrawerContainer_RemoveDrawer_CheckStates()
225          {
226              var comp = Context.RenderComponent<DrawerContainerTest1>();
227              comp.FindAll("div.mud-drawer-open-responsive-md-right").Count.Should().Be(1);
228              comp.Find("button").Click();
229              comp.FindAll("div.mud-drawer-open-responsive-md-right").Count.Should().Be(0);
</pre></code></div>
                <div class="column column_space"><pre><code>379              var underlyingPicker = comp.FindComponent<MudTimePicker>().Instance;
380              comp.FindAll("div.mud-time-picker-hour").Count.Should().Be(1);
381              comp.FindAll("div.mud-time-picker-minute.mud-time-picker-dial-hidden").Count.Should().Be(1);
382              comp.FindAll("div.mud-picker-stick-outer.mud-hour")[0].Click();
383              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(13);
384              comp.FindAll("div.mud-time-picker-hour.mud-time-picker-dial-hidden").Count.Should().Be(1);
385              comp.FindAll("div.mud-time-picker-minute").Count.Should().Be(1);
386              comp.FindAll("div.mud-minute")[37].Click();
387              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(37);
388              comp.WaitForAssertion(() => comp.FindAll("div.mud-picker-open").Count.Should().Be(0));
389              underlyingPicker.TimeIntermediate.Value.Hours.Should().Be(13);
390              underlyingPicker.TimeIntermediate.Value.Minutes.Should().Be(37);
391          }
392          [Test]
393          public async Task Open_Programmatically_CheckOpen_Close_Programmatically_CheckClosed()
394          {
395              var comp = Context.RenderComponent<SimpleTimePickerTest>();
396              comp.FindAll("div.mud-picker-content").Count.Should().Be(0);
397              await comp.Instance.Open();
398              comp.FindAll("div.mud-picker-content").Count.Should().Be(1);
399              await comp.Instance.Close();
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    