
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Tokens: 26, <button onclick='openModal()' class='match'>CODE CLONE</button></h2>
        <div class="column">
            <h3>MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-TableTests.cs</h3>
            <pre><code>1  #pragma warning disable CS1998 
2  #pragma warning disable BL0005 
3  using System;
4  using System.Linq;
5  using System.Threading.Tasks;
6  using AngleSharp.Dom;
7  using Bunit;
8  using FluentAssertions;
9  using Microsoft.AspNetCore.Components;
10  using Moq;
11  using MudBlazor.Docs.Examples;
12  using MudBlazor.UnitTests.TestComponents;
13  using NUnit.Framework;
14  namespace MudBlazor.UnitTests.Components
15  {
16      [TestFixture]
17      public class TableTests : BunitTest
18      {
19          [Test]
20          public void TableRowClick()
21          {
22              var comp = Context.RenderComponent&lt;TableRowClickTest&gt;();
23              comp.Find(&quot;p&quot;).TextContent.Trim().Should().BeEmpty();
24              var trs = comp.FindAll(&quot;tr&quot;);
25              trs[1].Click();
26              comp.Find(&quot;p&quot;).TextContent.Trim().Should().Be(&quot;0&quot;);
27              trs[1].Click();
28              comp.Find(&quot;p&quot;).TextContent.Trim().Should().Be(&quot;0,0&quot;);
29              trs[2].Click();
30              comp.Find(&quot;p&quot;).TextContent.Trim().Should().Be(&quot;0,0,1&quot;);
31              trs[0].Click(); 
32              comp.Find(&quot;p&quot;).TextContent.Trim().Should().Be(&quot;0,0,1,-1&quot;);
33              trs[4].Click(); 
34              comp.Find(&quot;p&quot;).TextContent.Trim().Should().Be(&quot;0,0,1,-1,100&quot;);
35          }
36          [Test]
37          public async Task TableDisabledSort()
38          {
39              var comp = Context.RenderComponent&lt;TableDisabledSortTest&gt;();
40              comp.FindAll(&quot;tr&quot;).Count.Should().Be(4); 
41              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;B&quot;);
42              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;A&quot;);
43              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;C&quot;);
44              var table = comp.FindComponent&lt;MudTable&lt;string&gt;&gt;();
45              var mudTableSortLabels = table.Instance.Context.SortLabels;
46              await table.InvokeAsync(() =&gt; mudTableSortLabels[0].ToggleSortDirection());
47              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;A&quot;);
48              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;B&quot;);
49              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;C&quot;);
50              await table.InvokeAsync(() =&gt; mudTableSortLabels[0].ToggleSortDirection());
51              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;C&quot;);
52              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;B&quot;);
53              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;A&quot;);
54              mudTableSortLabels[0].Enabled = false;
55              await table.InvokeAsync(() =&gt; mudTableSortLabels[0].ToggleSortDirection());
56              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;C&quot;);
57              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;B&quot;);
58              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;A&quot;);
59          }
60          [Test]
61          public void TableLoadingTest()
62          {
63              var comp = Context.RenderComponent&lt;TableLoadingTest&gt;();
64              var trs = comp.FindAll(&quot;tr&quot;);
65              trs.Count.Should().Be(3);
66              var switchElement = comp.Find(&quot;#switch&quot;);
67              switchElement.Change(true);
68              trs = comp.FindAll(&quot;tr&quot;);
69              trs.Count.Should().Be(4);
70          }
71          [Test]
72          public void TableGroupLoadingAndNoRecordsTest()
73          {
74              var comp = Context.RenderComponent&lt;TableGroupLoadingAndNoRecordsTest&gt;();
75              var searchString = comp.Find(&quot;#searchString&quot;);
76              var switchElement = comp.Find(&quot;#switch&quot;);
77              comp.FindAll(&quot;tr&quot;).Count.Should().Be(5);
78              searchString.Change(&quot;ZZZ&quot;);
79              comp.FindAll(&quot;tr&quot;).Count.Should().Be(2);
80              comp.FindAll(&quot;tr&quot;)[1].TextContent.Should().Be(&quot;No records&quot;);
81              switchElement.Change(true);
82              comp.FindAll(&quot;tr&quot;).Count.Should().Be(3);
83              comp.FindAll(&quot;tr&quot;)[2].TextContent.Should().Be(&quot;Loading...&quot;);
84              searchString.Change(&quot;&quot;);
85              comp.FindAll(&quot;tr&quot;).Count.Should().Be(6);
86          }
87          [Test]
88          public void TableHeadContentTest()
89          {
90              var comp = Context.RenderComponent&lt;TableLoadingTest&gt;();
91              var searchString = comp.Find(&quot;#searchString&quot;);
92              var switchElement = comp.Find(&quot;#switch&quot;);
93              comp.FindAll(&quot;tr&quot;).Count.Should().Be(3);
94              searchString.Change(&quot;ZZZ&quot;);
95              comp.FindAll(&quot;tr&quot;).Count.Should().Be(2);
96              comp.FindAll(&quot;tr&quot;)[1].TextContent.Should().Be(&quot;No matching records found&quot;);
97              switchElement.Change(true);
98              comp.FindAll(&quot;tr&quot;).Count.Should().Be(3);
99              comp.FindAll(&quot;tr&quot;)[2].TextContent.Should().Be(&quot;Loading...&quot;);
100          }
101          [Test]
102          [TestCase(TableEditTrigger.RowClick)]
103          [TestCase(TableEditTrigger.EditButton)]
104          public void TableSingleSelection(TableEditTrigger trigger)
105          {
106              var comp = Context.RenderComponent&lt;TableSingleSelectionTest1&gt;(parameters =&gt; parameters
107                  .Add(p =&gt; p.EditTrigger, trigger));
108              var table = comp.FindComponent&lt;MudTable&lt;int?&gt;&gt;().Instance;
109              table.SelectedItem.Should().BeNull();
110              table.SelectedItems.Count.Should().Be(0);
111              var trs = comp.FindAll(&quot;tr&quot;);
112              trs[0].Click();
113              table.SelectedItem.Should().Be(0);
114              table.SelectedItems.Count.Should().Be(1);
115              table.SelectedItems.First().Should().Be(0);
116              trs[2].Click();
117              table.SelectedItem.Should().Be(2);
118              table.SelectedItems.Count.Should().Be(1);
119              table.SelectedItems.First().Should().Be(2);
120          }
121          [Test]
122          public void TableFilter()
123          {
124              var comp = Context.RenderComponent&lt;TableFilterTest1&gt;();
125              var table = comp.FindComponent&lt;MudTable&lt;string&gt;&gt;().Instance;
126              var searchString = comp.Find(&quot;#searchString&quot;);
127              searchString.Change(&quot;Ala&quot;);
128              table.GetFilteredItemsCount().Should().Be(3);
129              string.Join(&quot;,&quot;, table.FilteredItems).Should().Be(&quot;Alabama,Alaska,Palau&quot;);
130              comp.FindAll(&quot;tr&quot;).Count.Should().Be(3);
131              searchString.Change(&quot;ZZZ&quot;);
132              table.GetFilteredItemsCount().Should().Be(0);
133              table.FilteredItems.Count().Should().Be(0);
134              comp.FindAll(&quot;tr&quot;).Count.Should().Be(0);
135              searchString.Change(&quot;Alaska&quot;);
136              table.GetFilteredItemsCount().Should().Be(1);
137              table.FilteredItems.First().Should().Be(&quot;Alaska&quot;);
138              comp.FindAll(&quot;tr&quot;).Count.Should().Be(1);
139              searchString.Change(string.Empty);
140              table.GetFilteredItemsCount().Should().Be(59);
141              comp.FindAll(&quot;tr&quot;).Count.Should().Be(59);
142          }
143          [Test]
144          public void TableFilterCachingTest()
145          {
146              var comp = Context.RenderComponent&lt;TableFilterTest1&gt;();
147              var table = comp.FindComponent&lt;MudTable&lt;string&gt;&gt;().Instance;
148              var searchString = comp.Find(&quot;#searchString&quot;);
149              table.FilteringRunCount.Should().Be(1);
150              searchString.Change(&quot;Ala&quot;);
151              table.FilteringRunCount.Should().Be(2);
152              searchString.Change(&quot;ZZZ&quot;);
153              table.FilteringRunCount.Should().Be(3);
154              searchString.Change(&quot;Alaska&quot;);
155              table.FilteringRunCount.Should().Be(4);
156              searchString.Change(string.Empty);
157              table.FilteringRunCount.Should().Be(5);
158          }
159          [Test]
160          public void TablePagingNavigationButtons()
161          {
162              var comp = Context.RenderComponent&lt;TablePagingTest1&gt;();
163              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(10);
164              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 59&quot;);
165              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(true);
166              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(true);
167              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(false);
168              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(false);
169              var pagingButtons = comp.FindAll(&quot;button&quot;);
170              pagingButtons[2].Click();
171              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(10);
172              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;11-20 of 59&quot;);
173              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(false);
174              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(false);
175              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(false);
176              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(false);
177              pagingButtons[3].Click();
178              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(9);
179              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;51-59 of 59&quot;);
180              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(false);
181              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(false);
182              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(true);
183              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(true);
184              pagingButtons[1].Click();
185              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(10);
186              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;41-50 of 59&quot;);
187              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(false);
188              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(false);
189              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(false);
190              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(false);
191              pagingButtons[0].Click();
192              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(10);
193              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 59&quot;);
194              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(true);
195              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(true);
196              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(false);
197              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(false);
198          }
199          [TestCase(0, &quot;Alabama&quot;)]
200          [TestCase(-1, &quot;Alabama&quot;)]
201          [TestCase(2, &quot;Kentucky&quot;)]
202          [TestCase(5, &quot;Texas&quot;)]
203          [TestCase(6, &quot;Texas&quot;)]
204          [Test]
205          public async Task TableNavigateToPage(int pageIndex, string expectedFirstItem)
206          {
207              var comp = Context.RenderComponent&lt;TablePagingTest1&gt;();
208              var table = comp.FindComponent&lt;MudTable&lt;string&gt;&gt;();
209              await table.InvokeAsync(() =&gt; table.Instance.NavigateTo(pageIndex));
210              comp.FindAll(&quot;tr.mud-table-row&quot;)[0].TextContent.Should().Be(expectedFirstItem);
211          }
212          [Test]
213          public async Task TablePageSizeOptions()
214          {
215              var comp = Context.RenderComponent&lt;TablePageSizeOptionsTest&gt;();
216              var pager = comp.FindComponent&lt;MudSelect&lt;int&gt;&gt;().Instance;
217              pager.Value.Should().Be(8);
218          }
219          [Test]
220          public async Task TablePagingChangePageSize()
221          {
222              var comp = Context.RenderComponent&lt;TablePagingTest1&gt;();
223              var table = comp.FindComponent&lt;MudTable&lt;string&gt;&gt;();
224              var pager = comp.FindComponent&lt;MudSelect&lt;int&gt;&gt;().Instance;
225              await table.InvokeAsync(() =&gt; table.Instance.SetRowsPerPage(20));
226              pager.Value.Should().Be(20);
227              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(20);
228              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-20 of 59&quot;);
229              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(true);
230              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(true);
231              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(false);
232              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(false);
233              await table.InvokeAsync(() =&gt; table.Instance.SetRowsPerPage(60));
234              pager.Value.Should().Be(60);
235              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(59);
236              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-59 of 59&quot;);
237              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(true);
238              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(true);
239              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(true);
240              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(true);
241              await table.InvokeAsync(() =&gt; table.Instance.SetRowsPerPage(10));
242              pager.Value.Should().Be(10);
243              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(10);
244              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 59&quot;);
245              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(true);
246              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(true);
247              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(false);
248              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(false);
249          }
250          [Test]
251          public async Task TablePagingAllTest()
252          {
253              var comp = Context.RenderComponent&lt;TablePagingTest1&gt;();
254              var table = comp.FindComponent&lt;MudTable&lt;string&gt;&gt;();
255              var pager = comp.FindComponent&lt;MudSelect&lt;int&gt;&gt;().Instance;
<span onclick='openModal()' class='match'>256              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 59&quot;); 
257              await table.InvokeAsync(() =&gt; table.Instance.SetRowsPerPage(int.MaxValue));
</span>258              pager.Value.Should().Be(int.MaxValue);
259              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(59);
260              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-59 of 59&quot;);
261              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(true); 
262              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(true);
263              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(true);
264              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(true);
265              pager.Value.Should().Be(int.MaxValue);
266          }
267          [Test]
268          public async Task TablePagingChangePageSizeAfterPaging()
269          {
270              var comp = Context.RenderComponent&lt;TableServerSideDataTest2&gt;();
271              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;();
272              var pager = comp.FindComponent&lt;MudSelect&lt;int&gt;&gt;().Instance;
273              comp.FindAll(&quot;tr&quot;).Count.Should().Be(4); 
274              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;1&quot;);
275              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;2&quot;);
276              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;3&quot;);
277              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 99&quot;);
278              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(true);
279              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(true);
280              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(false);
281              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(false);
282              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[3].Click(); 
283              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;28&quot;);
284              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;29&quot;);
285              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;30&quot;);
286              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;91-99 of 99&quot;);
287              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(false);
288              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(false);
289              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(true);
290              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(true);
291              await table.InvokeAsync(() =&gt; table.Instance.SetRowsPerPage(100));
292              pager.Value.Should().Be(100);
293              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-99 of 99&quot;);
294              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(true);
295              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(true);
296              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(true);
297              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(true);
298          }
299          [Test]
300          public async Task TablePagingFilter()
301          {
302              var comp = Context.RenderComponent&lt;TablePagingTest1&gt;();
303              var searchString = comp.Find(&quot;#searchString&quot;);
304              searchString.Change(&quot;Ala&quot;);
305              comp.FindAll(&quot;tr&quot;).Count.Should().Be(3);
306              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-3 of 3&quot;);
307              searchString.Change(string.Empty);
308              comp.FindAll(&quot;tr&quot;).Count.Should().Be(10);
309              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 59&quot;);
310          }
311          [Test]
312          public async Task TablePagingFilterAdjustCurrentPage()
313          {
314              var comp = Context.RenderComponent&lt;TablePagingTest1&gt;();
315              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(10);
316              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 59&quot;);
317              var pagingButtons = comp.FindAll(&quot;button&quot;);
318              pagingButtons[2].Click();
319              pagingButtons[2].Click();
320              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(10);
321              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;21-30 of 59&quot;);
322              var table = comp.FindComponent&lt;MudTable&lt;string&gt;&gt;().Instance;
323              var searchString = comp.Find(&quot;#searchString&quot;);
324              searchString.Change(&quot;Ala&quot;);
325              table.GetFilteredItemsCount().Should().Be(3);
326              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(3);
327              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-3 of 3&quot;);
328              searchString.Change(string.Empty);
329              table.GetFilteredItemsCount().Should().Be(59);
330              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(10);
331              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 59&quot;);
332          }
333          [Test]
334          public void TableMultiSelectionSelectedItemsEqualsNull()
335          {
336              var comp = Context.RenderComponent&lt;TableMultiSelectionTest1&gt;();
337              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
338              table.SelectedItems.Count.Should().Be(0); 
339              var inputs = comp.FindAll(&quot;input&quot;).ToArray();
340              inputs[0].Change(true);
341              table.SelectedItems.Count.Should().Be(1);
342              comp.InvokeAsync(() =&gt; { table.SelectedItems = null; });
343              table.SelectedItems.Count.Should().Be(0);
344          }
345          [Test]
346          public void TableMultiSelection_CheckboxAndRowClickTest()
347          {
348              var comp = Context.RenderComponent&lt;TableMultiSelection_CheckboxAndRowClickTest&gt;();
349              var checkboxes = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().FindAll(&quot;input&quot;).ToArray();
350              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
351              foreach (var cbx in checkboxes) cbx.Change(true);
352              table.SelectedItems.Count.Should().Be(3);
353              foreach (var cbx in checkboxes) cbx.Change(false);
354              table.SelectedItems.Count.Should().Be(0);
355          }
356          [Test]
357          public void TableMultiSelection_IgnoreCheckbox_RowClickTest()
358          {
359              var comp = Context.RenderComponent&lt;TableMultiSelection_IgnoreCheckbox_RowClickTest&gt;();
360              var rows = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().FindAll(&quot;tr&quot;).ToArray();
361              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
362              foreach (var row in rows) row.Click();
363              table.SelectedItems.Count.Should().Be(0);
364          }
365          [Test]
366          public void TableMultiSelection_MultiGrouping_DefaultCheckboxStatesTest()
367          {
368              var comp = Context.RenderComponent&lt;TableMultiSelection_MultiGrouping_DefaultCheckboxStatesTest&gt;();
369              var mudTable = comp.Instance.MudTable;
370              mudTable.Context.Rows.Count(r =&gt; r.Value.IsChecked).Should().Be(0);
371              mudTable.Context.GroupRows.Count(r =&gt; r.IsChecked.HasValue &amp;&amp; !r.IsChecked.Value).Should().Be(14);
372              mudTable.Context.HeaderRows.Count(r =&gt; r.IsChecked.HasValue &amp;&amp; !r.IsChecked.Value).Should().Be(1);
373              mudTable.Context.FooterRows.Count(r =&gt; r.IsChecked.HasValue &amp;&amp; !r.IsChecked.Value).Should().Be(0);
374          }
375          [Test]
376          public void TableMultiSelectionTest2()
377          {
378              var comp = Context.RenderComponent&lt;TableMultiSelectionTest2&gt;();
379              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
380              var text = comp.FindComponent&lt;MudText&gt;();
381              var checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
382              var tr = comp.FindAll(&quot;tr&quot;).ToArray();
383              tr.Length.Should().Be(4); 
384              var th = comp.FindAll(&quot;th&quot;).ToArray();
385              th.Length.Should().Be(2); 
386              var td = comp.FindAll(&quot;td&quot;).ToArray();
387              td.Length.Should().Be(6); 
388              var inputs = comp.FindAll(&quot;input&quot;).ToArray();
389              inputs.Length.Should().Be(4); 
390              table.SelectedItems.Count.Should().Be(0); 
391              inputs[0].Change(true);
392              table.SelectedItems.Count.Should().Be(3);
393              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1, 2 }&quot;);
394              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(3);
395              inputs = comp.FindAll(&quot;input&quot;).ToArray();
396              inputs[0].Change(false);
397              table.SelectedItems.Count.Should().Be(0);
398              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems {  }&quot;);
399              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(0);
400          }
401          [Test]
402          public void TableMultiSelectionTest2B()
403          {
404              var comp = Context.RenderComponent&lt;TableMultiSelectionTest2B&gt;();
405              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
406              var text = comp.FindComponent&lt;MudText&gt;();
407              var checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
408              var tr = comp.FindAll(&quot;tr&quot;).ToArray();
409              tr.Length.Should().Be(4); 
410              var th = comp.FindAll(&quot;th&quot;).ToArray();
411              th.Length.Should().Be(2); 
412              var td = comp.FindAll(&quot;td&quot;).ToArray();
413              td.Length.Should().Be(6); 
414              var inputs = comp.FindAll(&quot;input&quot;).ToArray();
415              inputs.Length.Should().Be(4); 
416              table.SelectedItems.Count.Should().Be(0); 
417              inputs[0].Change(true);
418              table.SelectedItems.Count.Should().Be(3);
419              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1, 2 }&quot;);
420              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(3);
421              inputs = comp.FindAll(&quot;input&quot;).ToArray();
422              inputs[0].Change(false);
423              table.SelectedItems.Count.Should().Be(0);
424              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems {  }&quot;);
425              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(0);
426          }
427          [Test]
428          public void TableMultiSelectionTest3()
429          {
430              var comp = Context.RenderComponent&lt;TableMultiSelectionTest3&gt;();
431              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
432              var text = comp.FindComponent&lt;MudText&gt;();
433              var checkboxRendered = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().ToArray();
434              var checkboxes = checkboxRendered.Select(x =&gt; x.Instance).ToArray();
435              table.SelectedItems.Count.Should().Be(1); 
436              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 1 }&quot;);
437              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(1);
438              checkboxes[0].Checked.Should().Be(false);
439              checkboxes[1].Checked.Should().Be(true);
440              checkboxRendered[1].Find(&quot;input&quot;).Change(false);
441              table.SelectedItems.Count.Should().Be(0);
442              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems {  }&quot;);
443              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(0);
444          }
445          [Test]
446          public void TableMultiSelectionTest4()
447          {
448              var comp = Context.RenderComponent&lt;TableMultiSelectionTest4&gt;();
449              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
450              var text = comp.FindComponent&lt;MudText&gt;();
451              var checkboxRendered = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().ToArray();
452              var checkboxes = checkboxRendered.Select(x =&gt; x.Instance).ToArray();
453              table.SelectedItems.Count.Should().Be(3);
454              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1, 2 }&quot;);
455              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(3);
456              checkboxRendered[2].Find(&quot;input&quot;).Change(false);
457              checkboxes[0].Checked.Should().Be(true); 
458              table.SelectedItems.Count.Should().Be(2);
459              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1 }&quot;);
460              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(2);
461          }
462          [Test]
463          public async Task TableMultiSelectionTest5()
464          {
465              var comp = Context.RenderComponent&lt;TableMultiSelectionTest5&gt;();
466              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
467              var text = comp.FindComponent&lt;MudText&gt;();
468              var checkboxRendered = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().ToArray();
469              var checkboxes = checkboxRendered.Select(x =&gt; x.Instance).ToArray();
470              table.SelectedItems.Count.Should().Be(4);
471              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1, 2, 3 }&quot;);
472              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(2);
473              checkboxRendered[1].Find(&quot;input&quot;).Change(false);
474              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(1);
475              await comp.InvokeAsync(() =&gt; table.CurrentPage = 1);
476              checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
477              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(2);
478          }
479          [Test]
480          public void TableMultiSelectionTest6()
481          {
482              var comp = Context.RenderComponent&lt;TableMultiSelectionTest6&gt;();
483              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
484              var text = comp.FindComponent&lt;MudText&gt;();
485              var checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
486              var tr = comp.FindAll(&quot;tr&quot;).ToArray();
487              tr.Length.Should().Be(5); 
488              var th = comp.FindAll(&quot;th&quot;).ToArray();
489              th.Length.Should().Be(2); 
490              var td = comp.FindAll(&quot;td&quot;).ToArray();
491              td.Length.Should().Be(8); 
492              var inputs = comp.FindAll(&quot;input&quot;).ToArray();
493              inputs.Length.Should().Be(5); 
494              table.SelectedItems.Count.Should().Be(0); 
495              inputs[4].Change(true);
496              table.SelectedItems.Count.Should().Be(3);
497              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1, 2 }&quot;);
498              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(3);
499              inputs = comp.FindAll(&quot;input&quot;).ToArray();
500              inputs[4].Change(false);
501              table.SelectedItems.Count.Should().Be(0);
502              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems {  }&quot;);
503              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(0);
504          }
505          [Test]
506          public void TableMultiSelectionTest6B()
507          {
508              var comp = Context.RenderComponent&lt;TableMultiSelectionTest6B&gt;();
509              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
510              var text = comp.FindComponent&lt;MudText&gt;();
511              var checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
512              var tr = comp.FindAll(&quot;tr&quot;).ToArray();
513              tr.Length.Should().Be(5); 
514              var th = comp.FindAll(&quot;th&quot;).ToArray();
515              th.Length.Should().Be(2); 
516              var td = comp.FindAll(&quot;td&quot;).ToArray();
517              td.Length.Should().Be(8); 
518              var inputs = comp.FindAll(&quot;input&quot;).ToArray();
519              inputs.Length.Should().Be(5); 
520              table.SelectedItems.Count.Should().Be(0); 
521              inputs[4].Change(true);
522              table.SelectedItems.Count.Should().Be(3);
523              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1, 2 }&quot;);
524              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(3);
525              inputs = comp.FindAll(&quot;input&quot;).ToArray();
526              inputs[4].Change(false);
527              table.SelectedItems.Count.Should().Be(0);
528              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems {  }&quot;);
529              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(0);
530          }
531          [Test]
532          public void TableMultiSelectionTest7()
533          {
534              var comp = Context.RenderComponent&lt;TableMultiSelectionTest7&gt;();
535              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
536              var checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
537              var tr = comp.FindAll(&quot;tr&quot;).ToArray();
538              tr.Length.Should().Be(4); 
539              var th = comp.FindAll(&quot;th&quot;).ToArray();
540              th.Length.Should().Be(2); 
541              var td = comp.FindAll(&quot;td&quot;).ToArray();
542              td.Length.Should().Be(6); 
543              var inputs = comp.FindAll(&quot;input&quot;).ToArray();
544              inputs.Length.Should().Be(5); 
545              table.SelectedItems.Count.Should().Be(0); 
546              inputs[4].Change(&quot;1&quot;); 
547              checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
548              inputs[0].Change(true);
549              table.SelectedItems.Count.Should().Be(1);
550              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 1 }&quot;); 
551              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(1);
552              inputs[0].Change(false);
553              table.SelectedItems.Count.Should().Be(0);
554              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems {  }&quot;);
555              inputs[4].Change(&quot;&quot;); 
556              checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
557              inputs[0].Change(true);
558              table.SelectedItems.Count.Should().Be(3);
559              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1, 2 }&quot;); 
560              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(3);
561              inputs[0].Change(false);
562              table.SelectedItems.Count.Should().Be(0);
563              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems {  }&quot;);
564              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(0);
565          }
566          [Test]
567          public void TableMultiSelectionTest8()
568          {
569              var comp = Context.RenderComponent&lt;TableMultiSelectionTest8&gt;();
570              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
571              var checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
572              var inputs = comp.Find(&quot;input&quot;);
573              inputs.Change(true);
574              table.SelectedItems.Count.Should().Be(5);
575              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1, 2, 3, 4 }&quot;);
576              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(5);
577              var buttons = comp.FindAll(&quot;button&quot;);
578              buttons[2].Click(); 
579              checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
580              var tr = comp.FindAll(&quot;tr&quot;).ToArray();
581              tr.Length.Should().Be(5); 
582              var td = comp.FindAll(&quot;td&quot;).ToArray();
583              td.Length.Should().Be(12); 
584              var inputs2 = comp.FindAll(&quot;input&quot;).ToArray();
585              inputs2.Length.Should().Be(5); 
586              table.SelectedItems.Count.Should().Be(4);
587              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1, 3, 4 }&quot;);
588              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(4);
589              checkboxes[0].Checked.Should().BeTrue(); 
590          }
591          [Test]
592          public void TableMultiSelection_Checkbox_Executes_Callback()
593          {
594              var comp = Context.RenderComponent&lt;TableMultiSelectionCheckboxExecutesCallback&gt;();
595              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
596              var inputs = comp.FindAll(&quot;input&quot;).ToArray();
597              table.SelectedItems.Count.Should().Be(0); 
598              Action onclick = () =&gt; inputs[1].Click(); 
599              onclick.Should().Throw&lt;Bunit.MissingEventHandlerException&gt;().WithMessage(&quot;The element does not have an event handler for the event &#x27;onclick&#x27;. It does however have an event handler for the &#x27;onchange&#x27; event.&quot;);
600              table.SelectedItems.Count.Should().Be(0);
601          }
602          [Test]
603          public async Task TablePaginationTest1()
604          {
605              var comp = Context.RenderComponent&lt;TablePaginationTest1&gt;();
606              await Task.Delay(200);
607              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(11); 
608              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 20&quot;);
609          }
610          [Test]
611          public async Task TableServerSideDataTest1()
612          {
613              var comp = Context.RenderComponent&lt;TableServerSideDataTest1&gt;();
614              comp.FindAll(&quot;tr&quot;).Count.Should().Be(4); 
615              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;1&quot;);
616              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;2&quot;);
617              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;3&quot;);
618          }
619          [Test]
620          public async Task TableServerSideDataTest2()
621          {
622              var comp = Context.RenderComponent&lt;TableServerSideDataTest2&gt;();
623              comp.FindAll(&quot;tr&quot;).Count.Should().Be(4); 
624              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;1&quot;);
625              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;2&quot;);
626              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;3&quot;);
627              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[2].Click(); 
628              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;4&quot;);
629              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;5&quot;);
630              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;6&quot;);
631              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[2].Click(); 
632              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;7&quot;);
633              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;8&quot;);
634              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;9&quot;);
635              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[0].Click(); 
636              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;1&quot;);
637              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;2&quot;);
638              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;3&quot;);
639          }
640          [Test]
641          public async Task TableServerSideDataTest3()
642          {
643              var comp = Context.RenderComponent&lt;TableServerSideDataTest3&gt;();
644              comp.FindAll(&quot;tr&quot;).Count.Should().Be(4); 
645              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;3&quot;);
646              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;2&quot;);
647              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;1&quot;);
648              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[2].Click(); 
649              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;6&quot;);
650              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;5&quot;);
651              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;4&quot;);
652              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[0].Click(); 
653              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;3&quot;);
654              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;2&quot;);
655              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;1&quot;);
656          }
657          [Test]
658          public async Task TableServerSideDataTest4()
659          {
660              var comp = Context.RenderComponent&lt;TableServerSideDataTest4&gt;();
661              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;tr&quot;).Count.Should().Be(4)); 
662              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;1&quot;));
663              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;2&quot;));
664              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;td&quot;)[4].TextContent.Trim().Should().Be(&quot;3&quot;));
665              comp.FindAll(&quot;div.mud-select-input&quot;)[0].Click(); 
666              comp.FindAll(&quot;div.mud-list-item-clickable&quot;)[1].Click(); 
667              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;3&quot;));
668              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;2&quot;));
669              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;td&quot;)[4].TextContent.Trim().Should().Be(&quot;1&quot;));
670          }
671          [Test]
672          public async Task TableServerSideDataTest4b()
673          {
674              var comp = Context.RenderComponent&lt;TableServerSideDataTest4b&gt;();
675              comp.FindAll(&quot;tr&quot;).Count.Should().Be(4); 
676              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;1&quot;);
677              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;2&quot;);
678              comp.FindAll(&quot;td&quot;)[4].TextContent.Trim().Should().Be(&quot;3&quot;);
679              comp.FindAll(&quot;div.mud-select-input&quot;)[0].Click(); 
680              comp.FindAll(&quot;div.mud-list-item-clickable&quot;)[1].Click(); 
681              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;3&quot;));
682              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;2&quot;));
683              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;td&quot;)[4].TextContent.Trim().Should().Be(&quot;1&quot;));
684          }
685          [Test]
686          public async Task TableServerSideDataTest5()
687          {
688              var comp = Context.RenderComponent&lt;TableServerSideDataTest5&gt;();
689              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;1&quot;); 
690              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[2].Click(); 
691              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;2&quot;);
692              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[2].Click(); 
693              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;3&quot;);
694              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[2].Click(); 
695              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;4&quot;);
696              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[1].Click(); 
697              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;5&quot;);
698              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[1].Click(); 
699              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;6&quot;);
700              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[1].Click(); 
701              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;7&quot;);
702              comp.Find(&quot;#reseter&quot;).Click(); 
703              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;0&quot;);
704              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[2].Click(); 
705              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;1&quot;);
706              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[2].Click(); 
707              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;2&quot;);
708              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[2].Click(); 
709              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;3&quot;);
710              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[1].Click(); 
711              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;4&quot;);
712              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[1].Click(); 
713              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;5&quot;);
714              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[1].Click(); 
715              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;6&quot;);
716          }
717          [Test]
718          public async Task TableServerSideDataTest6()
719          {
720              var comp = Context.RenderComponent&lt;TableServerSideDataTest5&gt;();
721              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;1&quot;); 
722              comp.Find(&quot;span.mud-button-root.mud-table-sort-label&quot;).Click(); 
723              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;2&quot;);
724              comp.Find(&quot;span.mud-button-root.mud-table-sort-label&quot;).Click(); 
725              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;3&quot;);
726              comp.Find(&quot;span.mud-button-root.mud-table-sort-label&quot;).Click(); 
727              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;4&quot;);
728              comp.Find(&quot;#reseter&quot;).Click(); 
729              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;0&quot;);
730              comp.Find(&quot;span.mud-button-root.mud-table-sort-label&quot;).Click(); 
731              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;1&quot;);
732              comp.Find(&quot;span.mud-button-root.mud-table-sort-label&quot;).Click(); 
733              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;2&quot;);
734              comp.Find(&quot;span.mud-button-root.mud-table-sort-label&quot;).Click(); 
735              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;3&quot;);
736          }
737          [Test]
738          public async Task TableServerSideDataNull()
739          {
740              var comp = Context.RenderComponent&lt;TableServerSideDataTest6&gt;();
741          }
742          [Test]
743          public async Task TableServerDataLoadingTest()
744          {
745              var comp = Context.RenderComponent&lt;TableServerDataLoadingTest&gt;();
746              comp.Instance.NoRecordsHasRendered.Should().BeFalse();
747          }
748          [Test]
749          public async Task TableRowClassStyleTest()
750          {
751              var comp = Context.RenderComponent&lt;TableRowClassStyleTest&gt;();
752              var trs = comp.FindAll(&quot;tr&quot;);
753              trs.Count.Should().Be(5); 
754              var tds = comp.FindAll(&quot;td&quot;);
755              tds[0].TextContent.Trim().Should().Be(&quot;0&quot;);
756              tds[1].TextContent.Trim().Should().Be(&quot;1&quot;);
757              tds[2].TextContent.Trim().Should().Be(&quot;2&quot;);
758              tds[3].TextContent.Trim().Should().Be(&quot;3&quot;);
759              trs[1].GetAttribute(&quot;style&quot;).Contains(&quot;color: red&quot;);
760              trs[2].GetAttribute(&quot;style&quot;).Contains(&quot;color: red&quot;);
761              trs[3].GetAttribute(&quot;style&quot;).Contains(&quot;color: blue&quot;);
762              trs[4].GetAttribute(&quot;style&quot;).Contains(&quot;color: blue&quot;);
763              trs[1].GetAttribute(&quot;class&quot;).Contains(&quot;even&quot;);
764              trs[2].GetAttribute(&quot;class&quot;).Contains(&quot;odd&quot;);
765              trs[3].GetAttribute(&quot;class&quot;).Contains(&quot;even&quot;);
766              trs[4].GetAttribute(&quot;class&quot;).Contains(&quot;odd&quot;);
767          }
768          public class TableRowValidatorTest : TableRowValidator
769          {
770              public int ControlCount =&gt; _formControls.Count;
771          }
772          [Test]
773          public async Task TableInlineEdit_SetValidatorModel()
774          {
775              var comp = Context.RenderComponent&lt;TableInlineEditTest&gt;();
776              var validator = comp.Instance.Table.Validator;
777              var trs = comp.FindAll(&quot;tr&quot;);
778              trs.Count.Should().Be(4); 
779              trs[1].Click();
780              validator.Model.Should().Be(&quot;A&quot;);
781              trs[2].Click();
782              validator.Model.Should().Be(&quot;B&quot;);
783              trs[3].Click();
784              validator.Model.Should().Be(&quot;C&quot;);
785          }
786          [Test]
787          public async Task TableInlineEdit_TableRowValidator()
788          {
789              var comp = Context.RenderComponent&lt;TableInlineEditTest&gt;();
790              var validator = new TableRowValidatorTest();
791              comp.Instance.Table.Validator = validator;
792              var trs = comp.FindAll(&quot;tr&quot;);
793              trs.Count.Should().Be(4); 
794              trs[1].Click();
795              validator.ControlCount.Should().Be(1);
796              for (var i = 0; i &lt; 10; ++i)
797              {
798                  trs[i % 3 + 1].Click();
799              }
800              validator.ControlCount.Should().Be(1);
801          }
802          [Theory]
803          [TestCase(TableApplyButtonPosition.StartAndEnd)]
804          [TestCase(TableApplyButtonPosition.Start)]
805          [TestCase(TableApplyButtonPosition.End)]
806          public async Task TableInlineEdit_ApplyButtonPosition(TableApplyButtonPosition position)
807          {
808              var comp = Context.RenderComponent&lt;TableInlineEditTestApplyButtons&gt;(
809                  p =&gt; p.Add(x =&gt; x.ApplyButtonPosition, position));
810              var trs = comp.FindAll(&quot;tr&quot;);
811              trs.Should().HaveCount(5);
812              var header = trs[0];
813              var footer = trs[trs.Count - 1];
814              var expectedAmount = position switch
815              {
816                  TableApplyButtonPosition.Start or TableApplyButtonPosition.End =&gt; 2,
817                  TableApplyButtonPosition.StartAndEnd =&gt; 3,
818                  _ =&gt; throw new NotImplementedException()
819              };
820              header.ChildElementCount.Should().Be(expectedAmount);
821              footer.ChildElementCount.Should().Be(expectedAmount);
822              trs[2].Click();
823              var trs2 = comp.FindAll(&quot;tr&quot;);
824              var relevantRow = trs2[2];
825              relevantRow.ChildElementCount.Should().Be(expectedAmount);
826              if (position == TableApplyButtonPosition.Start)
827              {
828                  relevantRow.Children[0].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlButtonElement&gt;().Should().NotBeNull();
829                  relevantRow.Children[1].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlInputElement&gt;().Should().NotBeNull();
830              }
831              else if (position == TableApplyButtonPosition.End)
832              {
833                  relevantRow.Children[0].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlInputElement&gt;().Should().NotBeNull();
834                  relevantRow.Children[1].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlButtonElement&gt;().Should().NotBeNull();
835              }
836              else if (position == TableApplyButtonPosition.StartAndEnd)
837              {
838                  relevantRow.Children[0].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlButtonElement&gt;().Should().NotBeNull();
839                  relevantRow.Children[1].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlInputElement&gt;().Should().NotBeNull();
840                  relevantRow.Children[2].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlButtonElement&gt;().Should().NotBeNull();
841              }
842          }
843          [Test]
844          public async Task TableInlineEdit_RowSwitching()
845          {
846              var comp = Context.RenderComponent&lt;TableInlineEditTest&gt;();
847              var trs = comp.FindAll(&quot;tr&quot;);
848              trs[1].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
849              trs[1].Click();
850              var trs2 = comp.FindAll(&quot;tr&quot;);
851              trs2[1].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
852              trs[2].Click();
853              var trs3 = comp.FindAll(&quot;tr&quot;);
854              trs3[1].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
855              trs3[2].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
856          }
857          [Test]
858          public async Task TableInlineEdit_RowSwitchingBlocked()
859          {
860              var comp = Context.RenderComponent&lt;TableInlineEditRowBlockingTest&gt;();
861              var trs = comp.FindAll(&quot;tr&quot;);
862              trs[1].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
863              trs[1].Click();
864              var trs2 = comp.FindAll(&quot;tr&quot;);
865              trs2[1].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
866              trs[2].Click();
867              var trs3 = comp.FindAll(&quot;tr&quot;);
868              trs3[1].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
869              trs3[2].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
870          }
871          [Test]
872          public async Task TableInlineEditSortTest()
873          {
874              var comp = Context.RenderComponent&lt;TableInlineEditSortTest&gt;();
875              comp.FindAll(&quot;tr&quot;).Count.Should().Be(4); 
876              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;B&quot;);
877              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;A&quot;);
878              comp.FindAll(&quot;td&quot;)[4].TextContent.Trim().Should().Be(&quot;C&quot;);
879              var table = comp.FindComponent&lt;MudTable&lt;TableInlineEditSortTest.Element&gt;&gt;();
880              var mudTableSortLabels = table.Instance.Context.SortLabels;
881              await table.InvokeAsync(() =&gt; mudTableSortLabels[0].ToggleSortDirection());
882              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;A&quot;);
883              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;B&quot;);
884              comp.FindAll(&quot;td&quot;)[4].TextContent.Trim().Should().Be(&quot;C&quot;);
885              var trs = comp.FindAll(&quot;tr&quot;);
886              trs[2].Click();
887              var input = comp.Find((&quot;#Id1&quot;));
888              input.Change(&quot;D&quot;);
889              var trs2 = comp.FindAll(&quot;tr&quot;);
890              trs2[1].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
891              trs2[2].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
892              trs2[3].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
893          }
894          [Test]
895          public async Task TableInlineEditCancelTest()
896          {
897              var comp = Context.RenderComponent&lt;TableInlineEditCancelTest&gt;();
898              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;B&quot;);
899              var trs = comp.FindAll(&quot;tr&quot;);
900              trs[2].Click();
901              comp.Find(&quot;#Id2&quot;).Change(&quot;C&quot;);
902              var commitButton = comp.Find(&quot;button&quot;);
903              commitButton.Click();
904              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;C&quot;);
905              trs[2].Click();
906              comp.Find(&quot;#Id2&quot;).Change(&quot;D&quot;);
907              var cancelButton = comp.FindAll(&quot;button&quot;)[1];
908              cancelButton.Click();
909              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;C&quot;);
910          }
911          [Test]
912          public async Task TableInlineEditCancel2Test()
913          {
914              var comp = Context.RenderComponent&lt;TableInlineEditCancelTest&gt;();
915              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;B&quot;);
916              var trs = comp.FindAll(&quot;tr&quot;);
917              trs[2].Click();
918              comp.Find(&quot;#Id2&quot;).Change(&quot;Z&quot;);
919              trs[1].Click();
920              trs[2].Click();
921              var cancelButton = comp.FindAll(&quot;button&quot;)[1];
922              cancelButton.Click();
923              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;B&quot;);
924          }
925          [Test]
926          public async Task TableInlineEditCancel3Test()
927          {
928              var comp = Context.RenderComponent&lt;TableInlineEditCancelTest&gt;();
929              var taskCompletionSource = new TaskCompletionSource&lt;bool&gt;();
930              var instance = comp.Instance;
931              var table = instance.Table;
932              table.RowEditPreview = RowEditPreview;
933              var trs = comp.FindAll(&quot;tr&quot;);
934              trs[2].Click();
935              void RowEditPreview(object item)
936              {
937                  var selectedItemValue = table.SelectedItem.Value;
938                  var rowEditPreviewValue = item.GetType().GetProperty(&quot;Value&quot;).GetValue(item, null).ToString();
939                  if (selectedItemValue == &quot;B&quot; &amp;&amp; rowEditPreviewValue == selectedItemValue)
940                  {
941                      taskCompletionSource.SetResult(true);
942                  }
943                  else
944                  {
945                      taskCompletionSource.SetResult(false);
946                  }
947              }
948              var result = taskCompletionSource.Task.Wait(1000);
949              result.Should().Be(true);
950          }
951          [Test]
952          public async Task TableInlineEditCancel4Test()
953          {
954              var comp = Context.RenderComponent&lt;TableInlineEditCancelNoSelectedItemTest&gt;();
955              var trs = comp.FindAll(&quot;tr&quot;);
956              trs[3].Click();
957              comp.FindAll(&quot;button&quot;).Count.Should().Be(2);
958              trs[2].Click();
959              comp.FindAll(&quot;button&quot;).Count.Should().Be(2);
960              trs[1].Click();
961              comp.FindAll(&quot;button&quot;).Count.Should().Be(2);
962          }
963          [Test]
964          [TestCase(true, TableApplyButtonPosition.Start, TableEditButtonPosition.Start)]
965          [TestCase(true, TableApplyButtonPosition.StartAndEnd, TableEditButtonPosition.StartAndEnd)]
966          [TestCase(true, TableApplyButtonPosition.End, TableEditButtonPosition.End)]
967          [TestCase(false, TableApplyButtonPosition.Start, TableEditButtonPosition.Start)]
968          [TestCase(false, TableApplyButtonPosition.StartAndEnd, TableEditButtonPosition.StartAndEnd)]
969          [TestCase(false, TableApplyButtonPosition.End, TableEditButtonPosition.End)]
970          public async Task TableEditButtonRenderTest(bool customButton, TableApplyButtonPosition buttonApplyPosition, TableEditButtonPosition buttonEditPosition)
971          {
972              IRenderedComponent&lt;ComponentBase&gt; comp;
973              if (customButton)
974              {
975                  comp = Context.RenderComponent&lt;TableCustomEditButtonRenderTest&gt;(parameters =&gt; parameters
976                      .Add(p =&gt; p.ApplyButtonPosition, buttonApplyPosition)
977                      .Add(p =&gt; p.EditButtonPosition, buttonEditPosition));
978              }
979              else
980              {
981                  comp = Context.RenderComponent&lt;TableEditButtonRenderTest&gt;(parameters =&gt; parameters
982                      .Add(p =&gt; p.ApplyButtonPosition, buttonApplyPosition)
983                      .Add(p =&gt; p.EditButtonPosition, buttonEditPosition));
984              }
985              var trs = comp.FindAll(&quot;tr&quot;);
986              trs.Should().HaveCount(4);
987              var header = trs[0];
988              var expectedAmount = buttonEditPosition switch
989              {
990                  TableEditButtonPosition.Start or TableEditButtonPosition.End =&gt; 2,
991                  TableEditButtonPosition.StartAndEnd =&gt; 3,
992                  _ =&gt; throw new NotImplementedException()
993              };
994              header.ChildElementCount.Should().Be(expectedAmount);
995              var trs2 = comp.FindAll(&quot;tr&quot;);
996              var relevantRow = trs2[2];
997              relevantRow.ChildElementCount.Should().Be(expectedAmount);
998              if (buttonEditPosition == TableEditButtonPosition.Start)
999              {
1000                  relevantRow.Children[0].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlButtonElement&gt;().Should().NotBeNull();
1001                  relevantRow.Children[1].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlDivElement&gt;().Should().NotBeNull();
1002              }
1003              else if (buttonEditPosition == TableEditButtonPosition.End)
1004              {
1005                  relevantRow.Children[0].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlDivElement&gt;().Should().NotBeNull();
1006                  relevantRow.Children[1].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlButtonElement&gt;().Should().NotBeNull();
1007              }
1008              else if (buttonEditPosition == TableEditButtonPosition.StartAndEnd)
1009              {
1010                  relevantRow.Children[0].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlButtonElement&gt;().Should().NotBeNull();
1011                  relevantRow.Children[1].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlDivElement&gt;().Should().NotBeNull();
1012                  relevantRow.Children[2].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlButtonElement&gt;().Should().NotBeNull();
1013              }
1014          }
1015          [Test]
1016          public async Task TableEditButtonTriggerTest()
1017          {
1018              var comp = Context.RenderComponent&lt;TableEditButtonRenderTest&gt;();
1019              var trs = comp.FindAll(&quot;tr&quot;);
1020              trs[1].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
1021              var buttons = comp.FindAll(&quot;button&quot;);
1022              buttons[0].Click();
1023              var trs2 = comp.FindAll(&quot;tr&quot;);
1024              trs2[1].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
1025              buttons[1].Click();
1026              var trs3 = comp.FindAll(&quot;tr&quot;);
1027              trs3[1].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
1028              trs3[2].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
1029          }
1030          [Test]
1031          public async Task TableCustomEditButtonTriggerTest()
1032          {
1033              var comp = Context.RenderComponent&lt;TableCustomEditButtonRenderTest&gt;();
1034              var trs = comp.FindAll(&quot;tr&quot;);
1035              trs[1].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
1036              var buttons = comp.FindAll(&quot;button&quot;);
1037              buttons[0].Click();
1038              var trs2 = comp.FindAll(&quot;tr&quot;);
1039              trs2[1].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
1040              buttons[1].Click();
1041              var trs3 = comp.FindAll(&quot;tr&quot;);
1042              trs3[1].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
1043              trs3[2].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
1044          }
1045          [Test]
1046          public async Task TableEditButtonRowSwitchBlockTest()
1047          {
1048              var comp = Context.RenderComponent&lt;TableEditButtonRenderTest&gt;(parameters =&gt; parameters
1049                      .Add(p =&gt; p.BlockRowSwitching, true));
1050              var trs = comp.FindAll(&quot;tr&quot;);
1051              trs[1].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
1052              var buttons = comp.FindAll(&quot;button&quot;);
1053              buttons[0].Click();
1054              var trs2 = comp.FindAll(&quot;tr&quot;);
1055              trs2[1].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
1056              buttons[1].Click();
1057              var trs3 = comp.FindAll(&quot;tr&quot;);
1058              trs3[1].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
1059              trs3[2].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse(); 
1060          }
1061          [Test]
1062          public async Task TableEditButtonNoRowTrigger()
1063          {
1064              var timesClicked = 0;
1065              void OnRowClick()
1066              {
1067                  timesClicked++;
1068              }
1069              var comp = Context.RenderComponent&lt;TableEditButtonRenderTest&gt;(parameters =&gt; parameters
1070                      .Add(p =&gt; p.RowClicked, OnRowClick));
1071              var trs = comp.FindAll(&quot;tr&quot;);
1072              trs[1].Click();
1073              timesClicked.Should().Be(1);
1074              trs[2].Click();
1075              timesClicked.Should().Be(2);
1076              var buttons = comp.FindAll(&quot;button&quot;);
1077              buttons[0].Click();
1078              timesClicked.Should().Be(2); 
1079          }
1080          [Test]
1081          public async Task TableGroupingTest()
1082          {
1083              var comp = Context.RenderComponent&lt;TableGroupingTest&gt;();
1084              var table = comp.Instance.tableInstance;
1085              table.Context.HeaderRows.Count.Should().Be(1);
1086              table.Context.GroupRows.Count.Should().Be(0);
1087              table.Context.Rows.Count.Should().Be(9);
1088              table.MultiSelection = true;
1089              var inputs = comp.FindAll(&quot;input&quot;).ToArray();
1090              inputs.Length.Should().Be(10);
1091              inputs[0].Change(true);
1092              table.SelectedItems.Count.Should().Be(9);
1093              inputs[0].Change(false);
1094              table.SelectedItems.Count.Should().Be(0);
1095              comp = Context.RenderComponent&lt;TableGroupingTest&gt;();
1096              table = comp.Instance.tableInstance;
1097              table.GroupBy = new TableGroupDefinition&lt;TableGroupingTest.RacingCar&gt;(rc =&gt; rc.Category, null) { GroupName = &quot;Category&quot; };
1098              comp.Render();
1099              table.Context.GroupRows.Count.Should().Be(4);
1100              var tr = comp.FindAll(&quot;tr&quot;).ToArray();
1101              tr.Length.Should().Be(18); 
1102              table.MultiSelection = true;
1103              inputs = comp.FindAll(&quot;input&quot;).ToArray();
1104              inputs[1].Change(true); 
1105              table.SelectedItems.Count.Should().Be(2); 
1106              inputs[1].Change(false);
1107              table.SelectedItems.Count.Should().Be(0);
1108              inputs[4].Change(true); 
1109              table.SelectedItems.Count.Should().Be(3);
1110              inputs[4].Change(false);
1111              table.SelectedItems.Count.Should().Be(0);
1112              inputs[0].Change(true); 
1113              table.SelectedItems.Count.Should().Be(9);
1114              inputs[0].Change(false);
1115              table.SelectedItems.Count.Should().Be(0);
1116              comp = Context.RenderComponent&lt;TableGroupingTest&gt;();
1117              table = comp.Instance.tableInstance;
1118              table.GroupBy = new TableGroupDefinition&lt;TableGroupingTest.RacingCar&gt;()
1119              {
1120                  GroupName = &quot;Category&quot;,
1121                  Selector = rc =&gt; rc.Category,
1122                  InnerGroup = new TableGroupDefinition&lt;TableGroupingTest.RacingCar&gt;()
1123                  {
1124                      GroupName = &quot;Brand&quot;,
1125                      Selector = rc =&gt; rc.Brand
1126                  }
1127              };
1128              comp.Render();
1129              table.Context.GroupRows.Count.Should().Be(13); 
1130              tr = comp.FindAll(&quot;tr&quot;).ToArray();
1131              tr.Length.Should().Be(36); 
1132              table.MultiSelection = true;
1133              inputs = comp.FindAll(&quot;input&quot;).ToArray();
1134              inputs[0].Change(true); 
1135              table.SelectedItems.Count.Should().Be(9);
1136              inputs[0].Change(false);
1137              table.SelectedItems.Count.Should().Be(0);
1138              inputs[1].Change(true); 
1139              table.SelectedItems.Count.Should().Be(2);
1140              table.GroupBy.Indentation = true;
1141              comp.Render();
1142              tr = comp.FindAll(&quot;tr.mud-table-row-group-indented-1&quot;).ToArray();
1143              tr.Length.Should().Be(27); 
1144              tr = comp.FindAll(&quot;tr.mud-table-row-group-indented-2&quot;).ToArray();
1145              tr.Length.Should().Be(0); 
1146              table.GroupBy.Indentation = false;
1147              table.GroupBy.Expandable = true;
1148              table.GroupBy.InnerGroup.Expandable = true;
1149              comp.Render();
1150              var buttons = comp.FindAll(&quot;button&quot;).ToArray();
1151              buttons.Length.Should().Be(13);
1152              tr = comp.FindAll(&quot;tr&quot;).ToArray();
1153              tr.Length.Should().Be(36); 
1154              buttons[0].Click();
1155              tr = comp.FindAll(&quot;tr&quot;).ToArray();
1156              tr.Length.Should().Be(29); 
1157              buttons[0].Click();
1158              tr = comp.FindAll(&quot;tr&quot;).ToArray();
1159              tr.Length.Should().Be(36);
1160              inputs[1].Change(false); 
1161              table.GroupBy.Indentation = true;
1162              table.GroupBy.Expandable = true;
1163              table.GroupBy.IsInitiallyExpanded = true;
1164              table.GroupBy.InnerGroup.Indentation = true;
1165              table.GroupBy.InnerGroup.Expandable = true;
1166              table.GroupBy.InnerGroup.IsInitiallyExpanded = true;
1167              comp.Render();
1168              table.SelectedItems.Count.Should().Be(0);
1169              inputs.Where(x =&gt; x.IsChecked()).Count().Should().Be(0);
1170              inputs[1].Change(true); 
1171              table.SelectedItems.Count.Should().Be(2);
1172              buttons = comp.FindAll(&quot;button&quot;).ToArray();
1173              inputs = comp.FindAll(&quot;input&quot;).ToArray();
1174              inputs.Where(x =&gt; x.IsChecked()).Count().Should().Be(5);
1175              buttons[0].Click(); 
1176              buttons[0].Click(); 
1177              table.SelectedItems.Count.Should().Be(2);
1178              inputs = comp.FindAll(&quot;input&quot;).ToArray();
1179              inputs.Where(x =&gt; x.IsChecked()).Count().Should().Be(5);
1180              inputs[1].Change(false);
1181              table.SelectedItems.Count.Should().Be(0);
1182              inputs = comp.FindAll(&quot;input&quot;).ToArray();
1183              inputs.Where(x =&gt; x.IsChecked()).Count().Should().Be(0);
1184          }
1185          [Test]
1186          public async Task TableGroupingAndPaginationTest()
1187          {
1188              var comp = Context.RenderComponent&lt;TableGroupingTest2&gt;();
1189              var table = comp.Instance.tableInstance;
1190              table.Context.HeaderRows.Count.Should().Be(1);
1191              table.Context.GroupRows.Count.Should().Be(14);
1192              table.Context.Rows.Count.Should().Be(10);
1193              var tr = comp.FindAll(&quot;tr&quot;).ToArray();
1194              tr.Length.Should().Be(39); 
1195              table.NavigateTo(1);
1196              table.Context.GroupRows.Count.Should().Be(2);
1197              table.Context.Rows.Count.Should().Be(1);
1198              tr = comp.FindAll(&quot;tr&quot;).ToArray();
1199              tr.Length.Should().Be(6); 
1200          }
1201          [Test]
1202          public async Task TableGroupIsInitiallyExpandedTest()
1203          {
1204              var comp = Context.RenderComponent&lt;TableGroupingTest&gt;();
1205              var table = comp.Instance.tableInstance;
1206              table.GroupBy = new TableGroupDefinition&lt;TableGroupingTest.RacingCar&gt;(rc =&gt; rc.Category, null)
1207              {
1208                  GroupName = &quot;Category&quot;,
1209                  Expandable = true,
1210                  IsInitiallyExpanded = false
1211              };
1212              comp.Render();
1213              table.Context.GroupRows.Count.Should().Be(4); 
1214              var tr = comp.FindAll(&quot;tr&quot;).ToArray();
1215              tr.Length.Should().Be(5); 
1216          }
1217          [Test]
1218          public void ExpandAndCollapsAllGroupsTest()
1219          {
1220              var comp = Context.RenderComponent&lt;TableGroupingTest&gt;();
1221              var table = comp.Instance.tableInstance;
1222              table.GroupBy = new TableGroupDefinition&lt;TableGroupingTest.RacingCar&gt;(rc =&gt; rc.Category, null) { GroupName = &quot;Category&quot;, IsInitiallyExpanded = false, Expandable = true };
1223              comp.Render();
1224              table.Context.GroupRows.Count.Should().Be(4);
1225              comp.FindAll(&quot;tr&quot;).ToArray().Length.Should().Be(5); 
1226              table.ExpandAllGroups();
1227              comp.Render();
1228              comp.FindAll(&quot;tr&quot;).ToArray().Length.Should().Be(18); 
1229              table.CollapseAllGroups();
1230              comp.Render();
1231              comp.FindAll(&quot;tr&quot;).ToArray().Length.Should().Be(5); 
1232          }
1233          [Test]
1234          public async Task TablePagerInfoTextTest()
1235          {
1236              var tableComponent = Context.RenderComponent&lt;TablePagerInfoTextTest&gt;();
1237              tableComponent.Find(&quot;div.mud-table-page-number-information&quot;).Text().Should().Be(&quot;1-10 of 59&quot;, &quot;No filter applied yet.&quot;);
1238              var tableInstance = tableComponent.FindComponent&lt;MudTable&lt;string&gt;&gt;().Instance;
1239              var searchString = tableComponent.Find(&quot;#searchString&quot;);
1240              searchString.Change(&quot;Ala&quot;);
1241              tableInstance.GetFilteredItemsCount().Should().Be(3);
1242              string.Join(&quot;,&quot;, tableInstance.FilteredItems).Should().Be(&quot;Alabama,Alaska,Palau&quot;);
1243              tableComponent.FindAll(&quot;tr&quot;).Count.Should().Be(3);
1244              tableComponent.Find(&quot;div.mud-table-page-number-information&quot;).Text().Should().Be(&quot;1-3 of 3&quot;, &quot;&#x27;Ala&#x27; filter applied.&quot;);
1245              searchString.Change(&quot;ZZZ&quot;);
1246              tableInstance.GetFilteredItemsCount().Should().Be(0);
1247              tableInstance.FilteredItems.Count().Should().Be(0);
1248              tableComponent.FindAll(&quot;tr&quot;).Count.Should().Be(0);
1249              tableComponent.Find(&quot;div.mud-table-page-number-information&quot;).Text().Should().Be(&quot;0-0 of 0&quot;, &quot;&#x27;ZZZ&#x27; filter applied.&quot;);
1250          }
1251          [TestCase(Page.First, &quot;First page&quot;)]
1252          [TestCase(Page.Previous, &quot;Previous page&quot;)]
1253          [TestCase(Page.Next, &quot;Next page&quot;)]
1254          [TestCase(Page.Last, &quot;Last page&quot;)]
1255          [Test]
1256          public void TablePagerControlButtonAriaLabelTest(Page controlButton, string expectedButtonAriaLabel)
1257          {
1258              var tableComponent = Context.RenderComponent&lt;TablePagerInfoTextTest&gt;();
1259              var buttons = tableComponent.FindAll(&quot;div.mud-table-pagination-actions button&quot;);
1260              var button = controlButton switch
1261              {
1262                  Page.First =&gt; buttons[0],
1263                  Page.Previous =&gt; buttons[1],
1264                  Page.Next =&gt; buttons[^2],
1265                  Page.Last =&gt; buttons[^1],
1266                  _ =&gt; throw new ArgumentOutOfRangeException(nameof(controlButton), controlButton,
1267                      &quot;This control button type is not supported!&quot;)
1268              };
1269              button.GetAttribute(&quot;aria-label&quot;)?.Should().Be(expectedButtonAriaLabel);
1270          }
1271          [Test]
1272          public async Task RowsPerPageParameterTwoWayBinding()
1273          {
1274              int rowsPerPage = 5;
1275              int newRowsPerPage = 25;
1276              var comp = Context.RenderComponent&lt;TableRowsPerPageTwoWayBindingTest&gt;(parameters =&gt; parameters
1277                  .Add(p =&gt; p.RowsPerPage, rowsPerPage)
1278                  .Add(p =&gt; p.RowsPerPageChanged, (s) =&gt;
1279                  {
1280                      rowsPerPage = int.Parse(s.ToString());
1281                  })
1282              );
1283              var t = comp.Find(&quot;input.mud-select-input&quot;).GetAttribute(&quot;Value&quot;);
1284              int.Parse(t).Should().Be(rowsPerPage, &quot;The component rendered correctly&quot;);
1285              var menuItem = comp.Find(&quot;div.mud-input-control&quot;);
1286              menuItem.Click();
1287              var items = comp.FindAll(&quot;div.mud-list-item&quot;).ToArray();
1288              items[1].Click();
1289              comp.WaitForAssertion(() =&gt; rowsPerPage.Should().Be(newRowsPerPage, &quot;ValueChanged EventCallback fired correctly&quot;));
1290          }
1291          [Test]
1292          public void TableRowClickNotEditable()
1293          {
1294              var comp = Context.RenderComponent&lt;TableRowClickNotEditableTest&gt;();
1295              var tableInstance = comp.FindComponent&lt;MudTable&lt;string&gt;&gt;().Instance;
1296              tableInstance.GetFilteredItemsCount().Should().Be(3);
1297              var trs = comp.FindAll(&quot;tr&quot;);
1298              trs[1].Click();
1299              var searchString = comp.Find(&quot;#searchString&quot;);
1300              searchString.Change(&quot;b&quot;);
1301              tableInstance.GetFilteredItemsCount().Should().Be(1);
1302          }
1303          [Test]
1304          public async Task RowsPerPageChangeValueFromCode()
1305          {
1306              var testComponent = Context.RenderComponent&lt;TablePagerChangeRowsPerPageTest&gt;();
1307              var table = testComponent.FindComponent&lt;MudTable&lt;string&gt;&gt;().Instance;
1308              var buttonComponent = testComponent.FindComponent&lt;MudButton&gt;();
1309              testComponent.WaitForAssertion(() =&gt; table.RowsPerPage.Should().Be(35));
1310              buttonComponent.Find(&quot;button&quot;).Click();
1311              testComponent.WaitForAssertion(() =&gt; table.RowsPerPage.Should().Be(10));
1312              buttonComponent.Find(&quot;button&quot;).Click();
1313              testComponent.WaitForAssertion(() =&gt; table.RowsPerPage.Should().Be(35));
1314          }
1315          [Test]
1316          public async Task TableRecordEditingMultiSelectTest()
1317          {
1318              var comp = Context.RenderComponent&lt;TableRecordComparerTest&gt;();
1319              var table = comp.FindComponent&lt;MudTable&lt;TableRecordComparerTest.Element&gt;&gt;().Instance;
1320              var checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
1321              var inputs = comp.FindAll(&quot;input&quot;).ToArray();
1322              inputs.Length.Should().Be(4); 
1323              table.SelectedItems.Count.Should().Be(0); 
1324              inputs[0].Change(true);
1325              table.SelectedItems.Count.Should().Be(3);
1326              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(3); 
1327              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;Elements { A, B, C }&quot;);
1328              var trs = comp.FindAll(&quot;tr&quot;);
1329              trs[2].Click();
1330              var input = comp.Find((&quot;#Id2&quot;));
1331              input.Change(&quot;Change&quot;);
1332              table.SelectedItems.Count.Should().Be(3);
1333              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(3); 
1334              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;Elements { A, Change, C }&quot;);
1335              inputs[0].Change(false);
1336              table.SelectedItems.Count.Should().Be(0);
1337              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(0); 
1338              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;Elements {  }&quot;);
1339          }
1340          [Test]
1341          public async Task TableComparerContextTest()
1342          {
1343              var comp = Context.RenderComponent&lt;TableComparerContextTest&gt;();
1344              var table = comp.FindComponent&lt;MudTable&lt;TableComparerContextTest.Element&gt;&gt;().Instance;
1345              var context = table.Context;
1346              table.Comparer.Should().Be(null);
1347              context.Comparer.Should().Be(null);
1348              await comp.InvokeAsync(() =&gt; comp.Instance.SetComparer());
1349              table.Comparer.Should().Be(comp.Instance.Comparer);
1350              context.Comparer.Should().Be(comp.Instance.Comparer);
1351              context.Selection.Comparer.Should().Be(comp.Instance.Comparer); 
1352              context.Rows.Comparer.Should().Be(comp.Instance.Comparer);
1353          }
1354          [Test]
1355          public async Task TestVirtualizedTableWithMultiSelection()
1356          {
1357              var comp = Context.RenderComponent&lt;TableMultiSelectionVirtualizedTest&gt;();
1358              var table = comp.FindComponent&lt;MudTable&lt;TableMultiSelectionVirtualizedTest.TestItem&gt;&gt;();
1359              var virtualized = comp.FindComponent&lt;Microsoft.AspNetCore.Components.Web.Virtualization.Virtualize&lt;TableMultiSelectionVirtualizedTest.TestItem&gt;&gt;();
1360              comp.FindAll(&quot;.mud-table-body .mud-table-row .mud-table-cell .mud-checkbox-input&quot;)[0].IsChecked().Should().Be(false);
1361              comp.FindAll(&quot;.mud-table-body .mud-table-row .mud-table-cell&quot;)[1].TextContent.Should().Be(&quot;Value_0&quot;);
1362              comp.FindAll(&quot;.mud-table-body .mud-table-row .mud-table-cell .mud-checkbox-input&quot;)[0].Change(true);
1363              comp.FindAll(&quot;.mud-table-body .mud-table-row .mud-table-cell .mud-checkbox-input&quot;)[0].IsChecked().Should().Be(true);
1364              virtualized.SetParam(
1365                  v =&gt; v.Items,
1366                  table.Instance.Items.ToList().GetRange(1000, 100));
1367              comp.FindAll(&quot;.mud-table-body .mud-table-row .mud-table-cell&quot;)[1].TextContent.Should().Be(&quot;Value_1000&quot;);
1368              comp.FindAll(&quot;.mud-table-body .mud-table-row .mud-table-cell .mud-checkbox-input&quot;)[0].IsChecked().Should().Be(false);
1369              virtualized.SetParam(
1370                  v =&gt; v.Items,
1371                  table.Instance.Items.ToList().GetRange(0, 100));
1372              comp.FindAll(&quot;.mud-table-body .mud-table-row .mud-table-cell&quot;)[1].TextContent.Should().Be(&quot;Value_0&quot;);
1373              comp.FindAll(&quot;.mud-table-body .mud-table-row .mud-table-cell .mud-checkbox-input&quot;)[0].IsChecked().Should().Be(true);
1374          }
1375      }
1376  }
</code></pre>
        </div>
        <div class="column">
            <h3>MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-TableTests.cs</h3>
            <pre><code>1  #pragma warning disable CS1998 
2  #pragma warning disable BL0005 
3  using System;
4  using System.Linq;
5  using System.Threading.Tasks;
6  using AngleSharp.Dom;
7  using Bunit;
8  using FluentAssertions;
9  using Microsoft.AspNetCore.Components;
10  using Moq;
11  using MudBlazor.Docs.Examples;
12  using MudBlazor.UnitTests.TestComponents;
13  using NUnit.Framework;
14  namespace MudBlazor.UnitTests.Components
15  {
16      [TestFixture]
17      public class TableTests : BunitTest
18      {
19          [Test]
20          public void TableRowClick()
21          {
22              var comp = Context.RenderComponent&lt;TableRowClickTest&gt;();
23              comp.Find(&quot;p&quot;).TextContent.Trim().Should().BeEmpty();
24              var trs = comp.FindAll(&quot;tr&quot;);
25              trs[1].Click();
26              comp.Find(&quot;p&quot;).TextContent.Trim().Should().Be(&quot;0&quot;);
27              trs[1].Click();
28              comp.Find(&quot;p&quot;).TextContent.Trim().Should().Be(&quot;0,0&quot;);
29              trs[2].Click();
30              comp.Find(&quot;p&quot;).TextContent.Trim().Should().Be(&quot;0,0,1&quot;);
31              trs[0].Click(); 
32              comp.Find(&quot;p&quot;).TextContent.Trim().Should().Be(&quot;0,0,1,-1&quot;);
33              trs[4].Click(); 
34              comp.Find(&quot;p&quot;).TextContent.Trim().Should().Be(&quot;0,0,1,-1,100&quot;);
35          }
36          [Test]
37          public async Task TableDisabledSort()
38          {
39              var comp = Context.RenderComponent&lt;TableDisabledSortTest&gt;();
40              comp.FindAll(&quot;tr&quot;).Count.Should().Be(4); 
41              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;B&quot;);
42              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;A&quot;);
43              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;C&quot;);
44              var table = comp.FindComponent&lt;MudTable&lt;string&gt;&gt;();
45              var mudTableSortLabels = table.Instance.Context.SortLabels;
46              await table.InvokeAsync(() =&gt; mudTableSortLabels[0].ToggleSortDirection());
47              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;A&quot;);
48              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;B&quot;);
49              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;C&quot;);
50              await table.InvokeAsync(() =&gt; mudTableSortLabels[0].ToggleSortDirection());
51              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;C&quot;);
52              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;B&quot;);
53              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;A&quot;);
54              mudTableSortLabels[0].Enabled = false;
55              await table.InvokeAsync(() =&gt; mudTableSortLabels[0].ToggleSortDirection());
56              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;C&quot;);
57              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;B&quot;);
58              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;A&quot;);
59          }
60          [Test]
61          public void TableLoadingTest()
62          {
63              var comp = Context.RenderComponent&lt;TableLoadingTest&gt;();
64              var trs = comp.FindAll(&quot;tr&quot;);
65              trs.Count.Should().Be(3);
66              var switchElement = comp.Find(&quot;#switch&quot;);
67              switchElement.Change(true);
68              trs = comp.FindAll(&quot;tr&quot;);
69              trs.Count.Should().Be(4);
70          }
71          [Test]
72          public void TableGroupLoadingAndNoRecordsTest()
73          {
74              var comp = Context.RenderComponent&lt;TableGroupLoadingAndNoRecordsTest&gt;();
75              var searchString = comp.Find(&quot;#searchString&quot;);
76              var switchElement = comp.Find(&quot;#switch&quot;);
77              comp.FindAll(&quot;tr&quot;).Count.Should().Be(5);
78              searchString.Change(&quot;ZZZ&quot;);
79              comp.FindAll(&quot;tr&quot;).Count.Should().Be(2);
80              comp.FindAll(&quot;tr&quot;)[1].TextContent.Should().Be(&quot;No records&quot;);
81              switchElement.Change(true);
82              comp.FindAll(&quot;tr&quot;).Count.Should().Be(3);
83              comp.FindAll(&quot;tr&quot;)[2].TextContent.Should().Be(&quot;Loading...&quot;);
84              searchString.Change(&quot;&quot;);
85              comp.FindAll(&quot;tr&quot;).Count.Should().Be(6);
86          }
87          [Test]
88          public void TableHeadContentTest()
89          {
90              var comp = Context.RenderComponent&lt;TableLoadingTest&gt;();
91              var searchString = comp.Find(&quot;#searchString&quot;);
92              var switchElement = comp.Find(&quot;#switch&quot;);
93              comp.FindAll(&quot;tr&quot;).Count.Should().Be(3);
94              searchString.Change(&quot;ZZZ&quot;);
95              comp.FindAll(&quot;tr&quot;).Count.Should().Be(2);
96              comp.FindAll(&quot;tr&quot;)[1].TextContent.Should().Be(&quot;No matching records found&quot;);
97              switchElement.Change(true);
98              comp.FindAll(&quot;tr&quot;).Count.Should().Be(3);
99              comp.FindAll(&quot;tr&quot;)[2].TextContent.Should().Be(&quot;Loading...&quot;);
100          }
101          [Test]
102          [TestCase(TableEditTrigger.RowClick)]
103          [TestCase(TableEditTrigger.EditButton)]
104          public void TableSingleSelection(TableEditTrigger trigger)
105          {
106              var comp = Context.RenderComponent&lt;TableSingleSelectionTest1&gt;(parameters =&gt; parameters
107                  .Add(p =&gt; p.EditTrigger, trigger));
108              var table = comp.FindComponent&lt;MudTable&lt;int?&gt;&gt;().Instance;
109              table.SelectedItem.Should().BeNull();
110              table.SelectedItems.Count.Should().Be(0);
111              var trs = comp.FindAll(&quot;tr&quot;);
112              trs[0].Click();
113              table.SelectedItem.Should().Be(0);
114              table.SelectedItems.Count.Should().Be(1);
115              table.SelectedItems.First().Should().Be(0);
116              trs[2].Click();
117              table.SelectedItem.Should().Be(2);
118              table.SelectedItems.Count.Should().Be(1);
119              table.SelectedItems.First().Should().Be(2);
120          }
121          [Test]
122          public void TableFilter()
123          {
124              var comp = Context.RenderComponent&lt;TableFilterTest1&gt;();
125              var table = comp.FindComponent&lt;MudTable&lt;string&gt;&gt;().Instance;
126              var searchString = comp.Find(&quot;#searchString&quot;);
127              searchString.Change(&quot;Ala&quot;);
128              table.GetFilteredItemsCount().Should().Be(3);
129              string.Join(&quot;,&quot;, table.FilteredItems).Should().Be(&quot;Alabama,Alaska,Palau&quot;);
130              comp.FindAll(&quot;tr&quot;).Count.Should().Be(3);
131              searchString.Change(&quot;ZZZ&quot;);
132              table.GetFilteredItemsCount().Should().Be(0);
133              table.FilteredItems.Count().Should().Be(0);
134              comp.FindAll(&quot;tr&quot;).Count.Should().Be(0);
135              searchString.Change(&quot;Alaska&quot;);
136              table.GetFilteredItemsCount().Should().Be(1);
137              table.FilteredItems.First().Should().Be(&quot;Alaska&quot;);
138              comp.FindAll(&quot;tr&quot;).Count.Should().Be(1);
139              searchString.Change(string.Empty);
140              table.GetFilteredItemsCount().Should().Be(59);
141              comp.FindAll(&quot;tr&quot;).Count.Should().Be(59);
142          }
143          [Test]
144          public void TableFilterCachingTest()
145          {
146              var comp = Context.RenderComponent&lt;TableFilterTest1&gt;();
147              var table = comp.FindComponent&lt;MudTable&lt;string&gt;&gt;().Instance;
148              var searchString = comp.Find(&quot;#searchString&quot;);
149              table.FilteringRunCount.Should().Be(1);
150              searchString.Change(&quot;Ala&quot;);
151              table.FilteringRunCount.Should().Be(2);
152              searchString.Change(&quot;ZZZ&quot;);
153              table.FilteringRunCount.Should().Be(3);
154              searchString.Change(&quot;Alaska&quot;);
155              table.FilteringRunCount.Should().Be(4);
156              searchString.Change(string.Empty);
157              table.FilteringRunCount.Should().Be(5);
158          }
159          [Test]
160          public void TablePagingNavigationButtons()
161          {
162              var comp = Context.RenderComponent&lt;TablePagingTest1&gt;();
163              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(10);
164              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 59&quot;);
165              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(true);
166              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(true);
167              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(false);
168              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(false);
169              var pagingButtons = comp.FindAll(&quot;button&quot;);
170              pagingButtons[2].Click();
171              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(10);
<span onclick='openModal()' class='match'>172              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;11-20 of 59&quot;);
173              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(false);
</span>174              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(false);
175              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(false);
176              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(false);
177              pagingButtons[3].Click();
178              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(9);
179              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;51-59 of 59&quot;);
180              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(false);
181              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(false);
182              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(true);
183              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(true);
184              pagingButtons[1].Click();
185              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(10);
186              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;41-50 of 59&quot;);
187              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(false);
188              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(false);
189              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(false);
190              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(false);
191              pagingButtons[0].Click();
192              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(10);
193              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 59&quot;);
194              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(true);
195              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(true);
196              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(false);
197              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(false);
198          }
199          [TestCase(0, &quot;Alabama&quot;)]
200          [TestCase(-1, &quot;Alabama&quot;)]
201          [TestCase(2, &quot;Kentucky&quot;)]
202          [TestCase(5, &quot;Texas&quot;)]
203          [TestCase(6, &quot;Texas&quot;)]
204          [Test]
205          public async Task TableNavigateToPage(int pageIndex, string expectedFirstItem)
206          {
207              var comp = Context.RenderComponent&lt;TablePagingTest1&gt;();
208              var table = comp.FindComponent&lt;MudTable&lt;string&gt;&gt;();
209              await table.InvokeAsync(() =&gt; table.Instance.NavigateTo(pageIndex));
210              comp.FindAll(&quot;tr.mud-table-row&quot;)[0].TextContent.Should().Be(expectedFirstItem);
211          }
212          [Test]
213          public async Task TablePageSizeOptions()
214          {
215              var comp = Context.RenderComponent&lt;TablePageSizeOptionsTest&gt;();
216              var pager = comp.FindComponent&lt;MudSelect&lt;int&gt;&gt;().Instance;
217              pager.Value.Should().Be(8);
218          }
219          [Test]
220          public async Task TablePagingChangePageSize()
221          {
222              var comp = Context.RenderComponent&lt;TablePagingTest1&gt;();
223              var table = comp.FindComponent&lt;MudTable&lt;string&gt;&gt;();
224              var pager = comp.FindComponent&lt;MudSelect&lt;int&gt;&gt;().Instance;
225              await table.InvokeAsync(() =&gt; table.Instance.SetRowsPerPage(20));
226              pager.Value.Should().Be(20);
227              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(20);
228              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-20 of 59&quot;);
229              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(true);
230              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(true);
231              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(false);
232              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(false);
233              await table.InvokeAsync(() =&gt; table.Instance.SetRowsPerPage(60));
234              pager.Value.Should().Be(60);
235              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(59);
236              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-59 of 59&quot;);
237              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(true);
238              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(true);
239              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(true);
240              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(true);
241              await table.InvokeAsync(() =&gt; table.Instance.SetRowsPerPage(10));
242              pager.Value.Should().Be(10);
243              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(10);
244              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 59&quot;);
245              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(true);
246              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(true);
247              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(false);
248              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(false);
249          }
250          [Test]
251          public async Task TablePagingAllTest()
252          {
253              var comp = Context.RenderComponent&lt;TablePagingTest1&gt;();
254              var table = comp.FindComponent&lt;MudTable&lt;string&gt;&gt;();
255              var pager = comp.FindComponent&lt;MudSelect&lt;int&gt;&gt;().Instance;
256              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 59&quot;); 
257              await table.InvokeAsync(() =&gt; table.Instance.SetRowsPerPage(int.MaxValue));
258              pager.Value.Should().Be(int.MaxValue);
259              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(59);
260              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-59 of 59&quot;);
261              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(true); 
262              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(true);
263              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(true);
264              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(true);
265              pager.Value.Should().Be(int.MaxValue);
266          }
267          [Test]
268          public async Task TablePagingChangePageSizeAfterPaging()
269          {
270              var comp = Context.RenderComponent&lt;TableServerSideDataTest2&gt;();
271              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;();
272              var pager = comp.FindComponent&lt;MudSelect&lt;int&gt;&gt;().Instance;
273              comp.FindAll(&quot;tr&quot;).Count.Should().Be(4); 
274              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;1&quot;);
275              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;2&quot;);
276              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;3&quot;);
277              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 99&quot;);
278              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(true);
279              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(true);
280              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(false);
281              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(false);
282              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[3].Click(); 
283              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;28&quot;);
284              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;29&quot;);
285              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;30&quot;);
286              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;91-99 of 99&quot;);
287              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(false);
288              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(false);
289              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(true);
290              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(true);
291              await table.InvokeAsync(() =&gt; table.Instance.SetRowsPerPage(100));
292              pager.Value.Should().Be(100);
293              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-99 of 99&quot;);
294              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(true);
295              comp.FindAll(&quot;button&quot;)[1].IsDisabled().Should().Be(true);
296              comp.FindAll(&quot;button&quot;)[2].IsDisabled().Should().Be(true);
297              comp.FindAll(&quot;button&quot;)[3].IsDisabled().Should().Be(true);
298          }
299          [Test]
300          public async Task TablePagingFilter()
301          {
302              var comp = Context.RenderComponent&lt;TablePagingTest1&gt;();
303              var searchString = comp.Find(&quot;#searchString&quot;);
304              searchString.Change(&quot;Ala&quot;);
305              comp.FindAll(&quot;tr&quot;).Count.Should().Be(3);
306              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-3 of 3&quot;);
307              searchString.Change(string.Empty);
308              comp.FindAll(&quot;tr&quot;).Count.Should().Be(10);
309              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 59&quot;);
310          }
311          [Test]
312          public async Task TablePagingFilterAdjustCurrentPage()
313          {
314              var comp = Context.RenderComponent&lt;TablePagingTest1&gt;();
315              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(10);
316              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 59&quot;);
317              var pagingButtons = comp.FindAll(&quot;button&quot;);
318              pagingButtons[2].Click();
319              pagingButtons[2].Click();
320              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(10);
321              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;21-30 of 59&quot;);
322              var table = comp.FindComponent&lt;MudTable&lt;string&gt;&gt;().Instance;
323              var searchString = comp.Find(&quot;#searchString&quot;);
324              searchString.Change(&quot;Ala&quot;);
325              table.GetFilteredItemsCount().Should().Be(3);
326              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(3);
327              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-3 of 3&quot;);
328              searchString.Change(string.Empty);
329              table.GetFilteredItemsCount().Should().Be(59);
330              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(10);
331              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 59&quot;);
332          }
333          [Test]
334          public void TableMultiSelectionSelectedItemsEqualsNull()
335          {
336              var comp = Context.RenderComponent&lt;TableMultiSelectionTest1&gt;();
337              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
338              table.SelectedItems.Count.Should().Be(0); 
339              var inputs = comp.FindAll(&quot;input&quot;).ToArray();
340              inputs[0].Change(true);
341              table.SelectedItems.Count.Should().Be(1);
342              comp.InvokeAsync(() =&gt; { table.SelectedItems = null; });
343              table.SelectedItems.Count.Should().Be(0);
344          }
345          [Test]
346          public void TableMultiSelection_CheckboxAndRowClickTest()
347          {
348              var comp = Context.RenderComponent&lt;TableMultiSelection_CheckboxAndRowClickTest&gt;();
349              var checkboxes = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().FindAll(&quot;input&quot;).ToArray();
350              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
351              foreach (var cbx in checkboxes) cbx.Change(true);
352              table.SelectedItems.Count.Should().Be(3);
353              foreach (var cbx in checkboxes) cbx.Change(false);
354              table.SelectedItems.Count.Should().Be(0);
355          }
356          [Test]
357          public void TableMultiSelection_IgnoreCheckbox_RowClickTest()
358          {
359              var comp = Context.RenderComponent&lt;TableMultiSelection_IgnoreCheckbox_RowClickTest&gt;();
360              var rows = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().FindAll(&quot;tr&quot;).ToArray();
361              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
362              foreach (var row in rows) row.Click();
363              table.SelectedItems.Count.Should().Be(0);
364          }
365          [Test]
366          public void TableMultiSelection_MultiGrouping_DefaultCheckboxStatesTest()
367          {
368              var comp = Context.RenderComponent&lt;TableMultiSelection_MultiGrouping_DefaultCheckboxStatesTest&gt;();
369              var mudTable = comp.Instance.MudTable;
370              mudTable.Context.Rows.Count(r =&gt; r.Value.IsChecked).Should().Be(0);
371              mudTable.Context.GroupRows.Count(r =&gt; r.IsChecked.HasValue &amp;&amp; !r.IsChecked.Value).Should().Be(14);
372              mudTable.Context.HeaderRows.Count(r =&gt; r.IsChecked.HasValue &amp;&amp; !r.IsChecked.Value).Should().Be(1);
373              mudTable.Context.FooterRows.Count(r =&gt; r.IsChecked.HasValue &amp;&amp; !r.IsChecked.Value).Should().Be(0);
374          }
375          [Test]
376          public void TableMultiSelectionTest2()
377          {
378              var comp = Context.RenderComponent&lt;TableMultiSelectionTest2&gt;();
379              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
380              var text = comp.FindComponent&lt;MudText&gt;();
381              var checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
382              var tr = comp.FindAll(&quot;tr&quot;).ToArray();
383              tr.Length.Should().Be(4); 
384              var th = comp.FindAll(&quot;th&quot;).ToArray();
385              th.Length.Should().Be(2); 
386              var td = comp.FindAll(&quot;td&quot;).ToArray();
387              td.Length.Should().Be(6); 
388              var inputs = comp.FindAll(&quot;input&quot;).ToArray();
389              inputs.Length.Should().Be(4); 
390              table.SelectedItems.Count.Should().Be(0); 
391              inputs[0].Change(true);
392              table.SelectedItems.Count.Should().Be(3);
393              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1, 2 }&quot;);
394              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(3);
395              inputs = comp.FindAll(&quot;input&quot;).ToArray();
396              inputs[0].Change(false);
397              table.SelectedItems.Count.Should().Be(0);
398              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems {  }&quot;);
399              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(0);
400          }
401          [Test]
402          public void TableMultiSelectionTest2B()
403          {
404              var comp = Context.RenderComponent&lt;TableMultiSelectionTest2B&gt;();
405              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
406              var text = comp.FindComponent&lt;MudText&gt;();
407              var checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
408              var tr = comp.FindAll(&quot;tr&quot;).ToArray();
409              tr.Length.Should().Be(4); 
410              var th = comp.FindAll(&quot;th&quot;).ToArray();
411              th.Length.Should().Be(2); 
412              var td = comp.FindAll(&quot;td&quot;).ToArray();
413              td.Length.Should().Be(6); 
414              var inputs = comp.FindAll(&quot;input&quot;).ToArray();
415              inputs.Length.Should().Be(4); 
416              table.SelectedItems.Count.Should().Be(0); 
417              inputs[0].Change(true);
418              table.SelectedItems.Count.Should().Be(3);
419              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1, 2 }&quot;);
420              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(3);
421              inputs = comp.FindAll(&quot;input&quot;).ToArray();
422              inputs[0].Change(false);
423              table.SelectedItems.Count.Should().Be(0);
424              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems {  }&quot;);
425              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(0);
426          }
427          [Test]
428          public void TableMultiSelectionTest3()
429          {
430              var comp = Context.RenderComponent&lt;TableMultiSelectionTest3&gt;();
431              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
432              var text = comp.FindComponent&lt;MudText&gt;();
433              var checkboxRendered = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().ToArray();
434              var checkboxes = checkboxRendered.Select(x =&gt; x.Instance).ToArray();
435              table.SelectedItems.Count.Should().Be(1); 
436              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 1 }&quot;);
437              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(1);
438              checkboxes[0].Checked.Should().Be(false);
439              checkboxes[1].Checked.Should().Be(true);
440              checkboxRendered[1].Find(&quot;input&quot;).Change(false);
441              table.SelectedItems.Count.Should().Be(0);
442              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems {  }&quot;);
443              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(0);
444          }
445          [Test]
446          public void TableMultiSelectionTest4()
447          {
448              var comp = Context.RenderComponent&lt;TableMultiSelectionTest4&gt;();
449              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
450              var text = comp.FindComponent&lt;MudText&gt;();
451              var checkboxRendered = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().ToArray();
452              var checkboxes = checkboxRendered.Select(x =&gt; x.Instance).ToArray();
453              table.SelectedItems.Count.Should().Be(3);
454              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1, 2 }&quot;);
455              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(3);
456              checkboxRendered[2].Find(&quot;input&quot;).Change(false);
457              checkboxes[0].Checked.Should().Be(true); 
458              table.SelectedItems.Count.Should().Be(2);
459              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1 }&quot;);
460              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(2);
461          }
462          [Test]
463          public async Task TableMultiSelectionTest5()
464          {
465              var comp = Context.RenderComponent&lt;TableMultiSelectionTest5&gt;();
466              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
467              var text = comp.FindComponent&lt;MudText&gt;();
468              var checkboxRendered = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().ToArray();
469              var checkboxes = checkboxRendered.Select(x =&gt; x.Instance).ToArray();
470              table.SelectedItems.Count.Should().Be(4);
471              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1, 2, 3 }&quot;);
472              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(2);
473              checkboxRendered[1].Find(&quot;input&quot;).Change(false);
474              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(1);
475              await comp.InvokeAsync(() =&gt; table.CurrentPage = 1);
476              checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
477              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(2);
478          }
479          [Test]
480          public void TableMultiSelectionTest6()
481          {
482              var comp = Context.RenderComponent&lt;TableMultiSelectionTest6&gt;();
483              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
484              var text = comp.FindComponent&lt;MudText&gt;();
485              var checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
486              var tr = comp.FindAll(&quot;tr&quot;).ToArray();
487              tr.Length.Should().Be(5); 
488              var th = comp.FindAll(&quot;th&quot;).ToArray();
489              th.Length.Should().Be(2); 
490              var td = comp.FindAll(&quot;td&quot;).ToArray();
491              td.Length.Should().Be(8); 
492              var inputs = comp.FindAll(&quot;input&quot;).ToArray();
493              inputs.Length.Should().Be(5); 
494              table.SelectedItems.Count.Should().Be(0); 
495              inputs[4].Change(true);
496              table.SelectedItems.Count.Should().Be(3);
497              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1, 2 }&quot;);
498              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(3);
499              inputs = comp.FindAll(&quot;input&quot;).ToArray();
500              inputs[4].Change(false);
501              table.SelectedItems.Count.Should().Be(0);
502              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems {  }&quot;);
503              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(0);
504          }
505          [Test]
506          public void TableMultiSelectionTest6B()
507          {
508              var comp = Context.RenderComponent&lt;TableMultiSelectionTest6B&gt;();
509              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
510              var text = comp.FindComponent&lt;MudText&gt;();
511              var checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
512              var tr = comp.FindAll(&quot;tr&quot;).ToArray();
513              tr.Length.Should().Be(5); 
514              var th = comp.FindAll(&quot;th&quot;).ToArray();
515              th.Length.Should().Be(2); 
516              var td = comp.FindAll(&quot;td&quot;).ToArray();
517              td.Length.Should().Be(8); 
518              var inputs = comp.FindAll(&quot;input&quot;).ToArray();
519              inputs.Length.Should().Be(5); 
520              table.SelectedItems.Count.Should().Be(0); 
521              inputs[4].Change(true);
522              table.SelectedItems.Count.Should().Be(3);
523              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1, 2 }&quot;);
524              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(3);
525              inputs = comp.FindAll(&quot;input&quot;).ToArray();
526              inputs[4].Change(false);
527              table.SelectedItems.Count.Should().Be(0);
528              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems {  }&quot;);
529              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(0);
530          }
531          [Test]
532          public void TableMultiSelectionTest7()
533          {
534              var comp = Context.RenderComponent&lt;TableMultiSelectionTest7&gt;();
535              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
536              var checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
537              var tr = comp.FindAll(&quot;tr&quot;).ToArray();
538              tr.Length.Should().Be(4); 
539              var th = comp.FindAll(&quot;th&quot;).ToArray();
540              th.Length.Should().Be(2); 
541              var td = comp.FindAll(&quot;td&quot;).ToArray();
542              td.Length.Should().Be(6); 
543              var inputs = comp.FindAll(&quot;input&quot;).ToArray();
544              inputs.Length.Should().Be(5); 
545              table.SelectedItems.Count.Should().Be(0); 
546              inputs[4].Change(&quot;1&quot;); 
547              checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
548              inputs[0].Change(true);
549              table.SelectedItems.Count.Should().Be(1);
550              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 1 }&quot;); 
551              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(1);
552              inputs[0].Change(false);
553              table.SelectedItems.Count.Should().Be(0);
554              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems {  }&quot;);
555              inputs[4].Change(&quot;&quot;); 
556              checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
557              inputs[0].Change(true);
558              table.SelectedItems.Count.Should().Be(3);
559              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1, 2 }&quot;); 
560              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(3);
561              inputs[0].Change(false);
562              table.SelectedItems.Count.Should().Be(0);
563              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems {  }&quot;);
564              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(0);
565          }
566          [Test]
567          public void TableMultiSelectionTest8()
568          {
569              var comp = Context.RenderComponent&lt;TableMultiSelectionTest8&gt;();
570              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
571              var checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
572              var inputs = comp.Find(&quot;input&quot;);
573              inputs.Change(true);
574              table.SelectedItems.Count.Should().Be(5);
575              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1, 2, 3, 4 }&quot;);
576              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(5);
577              var buttons = comp.FindAll(&quot;button&quot;);
578              buttons[2].Click(); 
579              checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
580              var tr = comp.FindAll(&quot;tr&quot;).ToArray();
581              tr.Length.Should().Be(5); 
582              var td = comp.FindAll(&quot;td&quot;).ToArray();
583              td.Length.Should().Be(12); 
584              var inputs2 = comp.FindAll(&quot;input&quot;).ToArray();
585              inputs2.Length.Should().Be(5); 
586              table.SelectedItems.Count.Should().Be(4);
587              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;SelectedItems { 0, 1, 3, 4 }&quot;);
588              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(4);
589              checkboxes[0].Checked.Should().BeTrue(); 
590          }
591          [Test]
592          public void TableMultiSelection_Checkbox_Executes_Callback()
593          {
594              var comp = Context.RenderComponent&lt;TableMultiSelectionCheckboxExecutesCallback&gt;();
595              var table = comp.FindComponent&lt;MudTable&lt;int&gt;&gt;().Instance;
596              var inputs = comp.FindAll(&quot;input&quot;).ToArray();
597              table.SelectedItems.Count.Should().Be(0); 
598              Action onclick = () =&gt; inputs[1].Click(); 
599              onclick.Should().Throw&lt;Bunit.MissingEventHandlerException&gt;().WithMessage(&quot;The element does not have an event handler for the event &#x27;onclick&#x27;. It does however have an event handler for the &#x27;onchange&#x27; event.&quot;);
600              table.SelectedItems.Count.Should().Be(0);
601          }
602          [Test]
603          public async Task TablePaginationTest1()
604          {
605              var comp = Context.RenderComponent&lt;TablePaginationTest1&gt;();
606              await Task.Delay(200);
607              comp.FindAll(&quot;tr.mud-table-row&quot;).Count.Should().Be(11); 
608              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 20&quot;);
609          }
610          [Test]
611          public async Task TableServerSideDataTest1()
612          {
613              var comp = Context.RenderComponent&lt;TableServerSideDataTest1&gt;();
614              comp.FindAll(&quot;tr&quot;).Count.Should().Be(4); 
615              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;1&quot;);
616              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;2&quot;);
617              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;3&quot;);
618          }
619          [Test]
620          public async Task TableServerSideDataTest2()
621          {
622              var comp = Context.RenderComponent&lt;TableServerSideDataTest2&gt;();
623              comp.FindAll(&quot;tr&quot;).Count.Should().Be(4); 
624              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;1&quot;);
625              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;2&quot;);
626              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;3&quot;);
627              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[2].Click(); 
628              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;4&quot;);
629              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;5&quot;);
630              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;6&quot;);
631              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[2].Click(); 
632              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;7&quot;);
633              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;8&quot;);
634              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;9&quot;);
635              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[0].Click(); 
636              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;1&quot;);
637              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;2&quot;);
638              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;3&quot;);
639          }
640          [Test]
641          public async Task TableServerSideDataTest3()
642          {
643              var comp = Context.RenderComponent&lt;TableServerSideDataTest3&gt;();
644              comp.FindAll(&quot;tr&quot;).Count.Should().Be(4); 
645              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;3&quot;);
646              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;2&quot;);
647              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;1&quot;);
648              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[2].Click(); 
649              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;6&quot;);
650              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;5&quot;);
651              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;4&quot;);
652              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[0].Click(); 
653              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;3&quot;);
654              comp.FindAll(&quot;td&quot;)[1].TextContent.Trim().Should().Be(&quot;2&quot;);
655              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;1&quot;);
656          }
657          [Test]
658          public async Task TableServerSideDataTest4()
659          {
660              var comp = Context.RenderComponent&lt;TableServerSideDataTest4&gt;();
661              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;tr&quot;).Count.Should().Be(4)); 
662              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;1&quot;));
663              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;2&quot;));
664              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;td&quot;)[4].TextContent.Trim().Should().Be(&quot;3&quot;));
665              comp.FindAll(&quot;div.mud-select-input&quot;)[0].Click(); 
666              comp.FindAll(&quot;div.mud-list-item-clickable&quot;)[1].Click(); 
667              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;3&quot;));
668              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;2&quot;));
669              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;td&quot;)[4].TextContent.Trim().Should().Be(&quot;1&quot;));
670          }
671          [Test]
672          public async Task TableServerSideDataTest4b()
673          {
674              var comp = Context.RenderComponent&lt;TableServerSideDataTest4b&gt;();
675              comp.FindAll(&quot;tr&quot;).Count.Should().Be(4); 
676              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;1&quot;);
677              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;2&quot;);
678              comp.FindAll(&quot;td&quot;)[4].TextContent.Trim().Should().Be(&quot;3&quot;);
679              comp.FindAll(&quot;div.mud-select-input&quot;)[0].Click(); 
680              comp.FindAll(&quot;div.mud-list-item-clickable&quot;)[1].Click(); 
681              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;3&quot;));
682              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;2&quot;));
683              comp.WaitForAssertion(() =&gt; comp.FindAll(&quot;td&quot;)[4].TextContent.Trim().Should().Be(&quot;1&quot;));
684          }
685          [Test]
686          public async Task TableServerSideDataTest5()
687          {
688              var comp = Context.RenderComponent&lt;TableServerSideDataTest5&gt;();
689              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;1&quot;); 
690              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[2].Click(); 
691              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;2&quot;);
692              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[2].Click(); 
693              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;3&quot;);
694              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[2].Click(); 
695              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;4&quot;);
696              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[1].Click(); 
697              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;5&quot;);
698              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[1].Click(); 
699              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;6&quot;);
700              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[1].Click(); 
701              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;7&quot;);
702              comp.Find(&quot;#reseter&quot;).Click(); 
703              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;0&quot;);
704              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[2].Click(); 
705              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;1&quot;);
706              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[2].Click(); 
707              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;2&quot;);
708              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[2].Click(); 
709              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;3&quot;);
710              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[1].Click(); 
711              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;4&quot;);
712              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[1].Click(); 
713              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;5&quot;);
714              comp.FindAll(&quot;div.mud-table-pagination-actions button&quot;)[1].Click(); 
715              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;6&quot;);
716          }
717          [Test]
718          public async Task TableServerSideDataTest6()
719          {
720              var comp = Context.RenderComponent&lt;TableServerSideDataTest5&gt;();
721              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;1&quot;); 
722              comp.Find(&quot;span.mud-button-root.mud-table-sort-label&quot;).Click(); 
723              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;2&quot;);
724              comp.Find(&quot;span.mud-button-root.mud-table-sort-label&quot;).Click(); 
725              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;3&quot;);
726              comp.Find(&quot;span.mud-button-root.mud-table-sort-label&quot;).Click(); 
727              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;4&quot;);
728              comp.Find(&quot;#reseter&quot;).Click(); 
729              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;0&quot;);
730              comp.Find(&quot;span.mud-button-root.mud-table-sort-label&quot;).Click(); 
731              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;1&quot;);
732              comp.Find(&quot;span.mud-button-root.mud-table-sort-label&quot;).Click(); 
733              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;2&quot;);
734              comp.Find(&quot;span.mud-button-root.mud-table-sort-label&quot;).Click(); 
735              comp.Find(&quot;#counter&quot;).TextContent.Should().Be(&quot;3&quot;);
736          }
737          [Test]
738          public async Task TableServerSideDataNull()
739          {
740              var comp = Context.RenderComponent&lt;TableServerSideDataTest6&gt;();
741          }
742          [Test]
743          public async Task TableServerDataLoadingTest()
744          {
745              var comp = Context.RenderComponent&lt;TableServerDataLoadingTest&gt;();
746              comp.Instance.NoRecordsHasRendered.Should().BeFalse();
747          }
748          [Test]
749          public async Task TableRowClassStyleTest()
750          {
751              var comp = Context.RenderComponent&lt;TableRowClassStyleTest&gt;();
752              var trs = comp.FindAll(&quot;tr&quot;);
753              trs.Count.Should().Be(5); 
754              var tds = comp.FindAll(&quot;td&quot;);
755              tds[0].TextContent.Trim().Should().Be(&quot;0&quot;);
756              tds[1].TextContent.Trim().Should().Be(&quot;1&quot;);
757              tds[2].TextContent.Trim().Should().Be(&quot;2&quot;);
758              tds[3].TextContent.Trim().Should().Be(&quot;3&quot;);
759              trs[1].GetAttribute(&quot;style&quot;).Contains(&quot;color: red&quot;);
760              trs[2].GetAttribute(&quot;style&quot;).Contains(&quot;color: red&quot;);
761              trs[3].GetAttribute(&quot;style&quot;).Contains(&quot;color: blue&quot;);
762              trs[4].GetAttribute(&quot;style&quot;).Contains(&quot;color: blue&quot;);
763              trs[1].GetAttribute(&quot;class&quot;).Contains(&quot;even&quot;);
764              trs[2].GetAttribute(&quot;class&quot;).Contains(&quot;odd&quot;);
765              trs[3].GetAttribute(&quot;class&quot;).Contains(&quot;even&quot;);
766              trs[4].GetAttribute(&quot;class&quot;).Contains(&quot;odd&quot;);
767          }
768          public class TableRowValidatorTest : TableRowValidator
769          {
770              public int ControlCount =&gt; _formControls.Count;
771          }
772          [Test]
773          public async Task TableInlineEdit_SetValidatorModel()
774          {
775              var comp = Context.RenderComponent&lt;TableInlineEditTest&gt;();
776              var validator = comp.Instance.Table.Validator;
777              var trs = comp.FindAll(&quot;tr&quot;);
778              trs.Count.Should().Be(4); 
779              trs[1].Click();
780              validator.Model.Should().Be(&quot;A&quot;);
781              trs[2].Click();
782              validator.Model.Should().Be(&quot;B&quot;);
783              trs[3].Click();
784              validator.Model.Should().Be(&quot;C&quot;);
785          }
786          [Test]
787          public async Task TableInlineEdit_TableRowValidator()
788          {
789              var comp = Context.RenderComponent&lt;TableInlineEditTest&gt;();
790              var validator = new TableRowValidatorTest();
791              comp.Instance.Table.Validator = validator;
792              var trs = comp.FindAll(&quot;tr&quot;);
793              trs.Count.Should().Be(4); 
794              trs[1].Click();
795              validator.ControlCount.Should().Be(1);
796              for (var i = 0; i &lt; 10; ++i)
797              {
798                  trs[i % 3 + 1].Click();
799              }
800              validator.ControlCount.Should().Be(1);
801          }
802          [Theory]
803          [TestCase(TableApplyButtonPosition.StartAndEnd)]
804          [TestCase(TableApplyButtonPosition.Start)]
805          [TestCase(TableApplyButtonPosition.End)]
806          public async Task TableInlineEdit_ApplyButtonPosition(TableApplyButtonPosition position)
807          {
808              var comp = Context.RenderComponent&lt;TableInlineEditTestApplyButtons&gt;(
809                  p =&gt; p.Add(x =&gt; x.ApplyButtonPosition, position));
810              var trs = comp.FindAll(&quot;tr&quot;);
811              trs.Should().HaveCount(5);
812              var header = trs[0];
813              var footer = trs[trs.Count - 1];
814              var expectedAmount = position switch
815              {
816                  TableApplyButtonPosition.Start or TableApplyButtonPosition.End =&gt; 2,
817                  TableApplyButtonPosition.StartAndEnd =&gt; 3,
818                  _ =&gt; throw new NotImplementedException()
819              };
820              header.ChildElementCount.Should().Be(expectedAmount);
821              footer.ChildElementCount.Should().Be(expectedAmount);
822              trs[2].Click();
823              var trs2 = comp.FindAll(&quot;tr&quot;);
824              var relevantRow = trs2[2];
825              relevantRow.ChildElementCount.Should().Be(expectedAmount);
826              if (position == TableApplyButtonPosition.Start)
827              {
828                  relevantRow.Children[0].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlButtonElement&gt;().Should().NotBeNull();
829                  relevantRow.Children[1].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlInputElement&gt;().Should().NotBeNull();
830              }
831              else if (position == TableApplyButtonPosition.End)
832              {
833                  relevantRow.Children[0].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlInputElement&gt;().Should().NotBeNull();
834                  relevantRow.Children[1].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlButtonElement&gt;().Should().NotBeNull();
835              }
836              else if (position == TableApplyButtonPosition.StartAndEnd)
837              {
838                  relevantRow.Children[0].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlButtonElement&gt;().Should().NotBeNull();
839                  relevantRow.Children[1].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlInputElement&gt;().Should().NotBeNull();
840                  relevantRow.Children[2].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlButtonElement&gt;().Should().NotBeNull();
841              }
842          }
843          [Test]
844          public async Task TableInlineEdit_RowSwitching()
845          {
846              var comp = Context.RenderComponent&lt;TableInlineEditTest&gt;();
847              var trs = comp.FindAll(&quot;tr&quot;);
848              trs[1].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
849              trs[1].Click();
850              var trs2 = comp.FindAll(&quot;tr&quot;);
851              trs2[1].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
852              trs[2].Click();
853              var trs3 = comp.FindAll(&quot;tr&quot;);
854              trs3[1].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
855              trs3[2].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
856          }
857          [Test]
858          public async Task TableInlineEdit_RowSwitchingBlocked()
859          {
860              var comp = Context.RenderComponent&lt;TableInlineEditRowBlockingTest&gt;();
861              var trs = comp.FindAll(&quot;tr&quot;);
862              trs[1].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
863              trs[1].Click();
864              var trs2 = comp.FindAll(&quot;tr&quot;);
865              trs2[1].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
866              trs[2].Click();
867              var trs3 = comp.FindAll(&quot;tr&quot;);
868              trs3[1].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
869              trs3[2].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
870          }
871          [Test]
872          public async Task TableInlineEditSortTest()
873          {
874              var comp = Context.RenderComponent&lt;TableInlineEditSortTest&gt;();
875              comp.FindAll(&quot;tr&quot;).Count.Should().Be(4); 
876              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;B&quot;);
877              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;A&quot;);
878              comp.FindAll(&quot;td&quot;)[4].TextContent.Trim().Should().Be(&quot;C&quot;);
879              var table = comp.FindComponent&lt;MudTable&lt;TableInlineEditSortTest.Element&gt;&gt;();
880              var mudTableSortLabels = table.Instance.Context.SortLabels;
881              await table.InvokeAsync(() =&gt; mudTableSortLabels[0].ToggleSortDirection());
882              comp.FindAll(&quot;td&quot;)[0].TextContent.Trim().Should().Be(&quot;A&quot;);
883              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;B&quot;);
884              comp.FindAll(&quot;td&quot;)[4].TextContent.Trim().Should().Be(&quot;C&quot;);
885              var trs = comp.FindAll(&quot;tr&quot;);
886              trs[2].Click();
887              var input = comp.Find((&quot;#Id1&quot;));
888              input.Change(&quot;D&quot;);
889              var trs2 = comp.FindAll(&quot;tr&quot;);
890              trs2[1].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
891              trs2[2].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
892              trs2[3].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
893          }
894          [Test]
895          public async Task TableInlineEditCancelTest()
896          {
897              var comp = Context.RenderComponent&lt;TableInlineEditCancelTest&gt;();
898              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;B&quot;);
899              var trs = comp.FindAll(&quot;tr&quot;);
900              trs[2].Click();
901              comp.Find(&quot;#Id2&quot;).Change(&quot;C&quot;);
902              var commitButton = comp.Find(&quot;button&quot;);
903              commitButton.Click();
904              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;C&quot;);
905              trs[2].Click();
906              comp.Find(&quot;#Id2&quot;).Change(&quot;D&quot;);
907              var cancelButton = comp.FindAll(&quot;button&quot;)[1];
908              cancelButton.Click();
909              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;C&quot;);
910          }
911          [Test]
912          public async Task TableInlineEditCancel2Test()
913          {
914              var comp = Context.RenderComponent&lt;TableInlineEditCancelTest&gt;();
915              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;B&quot;);
916              var trs = comp.FindAll(&quot;tr&quot;);
917              trs[2].Click();
918              comp.Find(&quot;#Id2&quot;).Change(&quot;Z&quot;);
919              trs[1].Click();
920              trs[2].Click();
921              var cancelButton = comp.FindAll(&quot;button&quot;)[1];
922              cancelButton.Click();
923              comp.FindAll(&quot;td&quot;)[2].TextContent.Trim().Should().Be(&quot;B&quot;);
924          }
925          [Test]
926          public async Task TableInlineEditCancel3Test()
927          {
928              var comp = Context.RenderComponent&lt;TableInlineEditCancelTest&gt;();
929              var taskCompletionSource = new TaskCompletionSource&lt;bool&gt;();
930              var instance = comp.Instance;
931              var table = instance.Table;
932              table.RowEditPreview = RowEditPreview;
933              var trs = comp.FindAll(&quot;tr&quot;);
934              trs[2].Click();
935              void RowEditPreview(object item)
936              {
937                  var selectedItemValue = table.SelectedItem.Value;
938                  var rowEditPreviewValue = item.GetType().GetProperty(&quot;Value&quot;).GetValue(item, null).ToString();
939                  if (selectedItemValue == &quot;B&quot; &amp;&amp; rowEditPreviewValue == selectedItemValue)
940                  {
941                      taskCompletionSource.SetResult(true);
942                  }
943                  else
944                  {
945                      taskCompletionSource.SetResult(false);
946                  }
947              }
948              var result = taskCompletionSource.Task.Wait(1000);
949              result.Should().Be(true);
950          }
951          [Test]
952          public async Task TableInlineEditCancel4Test()
953          {
954              var comp = Context.RenderComponent&lt;TableInlineEditCancelNoSelectedItemTest&gt;();
955              var trs = comp.FindAll(&quot;tr&quot;);
956              trs[3].Click();
957              comp.FindAll(&quot;button&quot;).Count.Should().Be(2);
958              trs[2].Click();
959              comp.FindAll(&quot;button&quot;).Count.Should().Be(2);
960              trs[1].Click();
961              comp.FindAll(&quot;button&quot;).Count.Should().Be(2);
962          }
963          [Test]
964          [TestCase(true, TableApplyButtonPosition.Start, TableEditButtonPosition.Start)]
965          [TestCase(true, TableApplyButtonPosition.StartAndEnd, TableEditButtonPosition.StartAndEnd)]
966          [TestCase(true, TableApplyButtonPosition.End, TableEditButtonPosition.End)]
967          [TestCase(false, TableApplyButtonPosition.Start, TableEditButtonPosition.Start)]
968          [TestCase(false, TableApplyButtonPosition.StartAndEnd, TableEditButtonPosition.StartAndEnd)]
969          [TestCase(false, TableApplyButtonPosition.End, TableEditButtonPosition.End)]
970          public async Task TableEditButtonRenderTest(bool customButton, TableApplyButtonPosition buttonApplyPosition, TableEditButtonPosition buttonEditPosition)
971          {
972              IRenderedComponent&lt;ComponentBase&gt; comp;
973              if (customButton)
974              {
975                  comp = Context.RenderComponent&lt;TableCustomEditButtonRenderTest&gt;(parameters =&gt; parameters
976                      .Add(p =&gt; p.ApplyButtonPosition, buttonApplyPosition)
977                      .Add(p =&gt; p.EditButtonPosition, buttonEditPosition));
978              }
979              else
980              {
981                  comp = Context.RenderComponent&lt;TableEditButtonRenderTest&gt;(parameters =&gt; parameters
982                      .Add(p =&gt; p.ApplyButtonPosition, buttonApplyPosition)
983                      .Add(p =&gt; p.EditButtonPosition, buttonEditPosition));
984              }
985              var trs = comp.FindAll(&quot;tr&quot;);
986              trs.Should().HaveCount(4);
987              var header = trs[0];
988              var expectedAmount = buttonEditPosition switch
989              {
990                  TableEditButtonPosition.Start or TableEditButtonPosition.End =&gt; 2,
991                  TableEditButtonPosition.StartAndEnd =&gt; 3,
992                  _ =&gt; throw new NotImplementedException()
993              };
994              header.ChildElementCount.Should().Be(expectedAmount);
995              var trs2 = comp.FindAll(&quot;tr&quot;);
996              var relevantRow = trs2[2];
997              relevantRow.ChildElementCount.Should().Be(expectedAmount);
998              if (buttonEditPosition == TableEditButtonPosition.Start)
999              {
1000                  relevantRow.Children[0].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlButtonElement&gt;().Should().NotBeNull();
1001                  relevantRow.Children[1].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlDivElement&gt;().Should().NotBeNull();
1002              }
1003              else if (buttonEditPosition == TableEditButtonPosition.End)
1004              {
1005                  relevantRow.Children[0].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlDivElement&gt;().Should().NotBeNull();
1006                  relevantRow.Children[1].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlButtonElement&gt;().Should().NotBeNull();
1007              }
1008              else if (buttonEditPosition == TableEditButtonPosition.StartAndEnd)
1009              {
1010                  relevantRow.Children[0].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlButtonElement&gt;().Should().NotBeNull();
1011                  relevantRow.Children[1].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlDivElement&gt;().Should().NotBeNull();
1012                  relevantRow.Children[2].FindDescendant&lt;AngleSharp.Html.Dom.IHtmlButtonElement&gt;().Should().NotBeNull();
1013              }
1014          }
1015          [Test]
1016          public async Task TableEditButtonTriggerTest()
1017          {
1018              var comp = Context.RenderComponent&lt;TableEditButtonRenderTest&gt;();
1019              var trs = comp.FindAll(&quot;tr&quot;);
1020              trs[1].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
1021              var buttons = comp.FindAll(&quot;button&quot;);
1022              buttons[0].Click();
1023              var trs2 = comp.FindAll(&quot;tr&quot;);
1024              trs2[1].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
1025              buttons[1].Click();
1026              var trs3 = comp.FindAll(&quot;tr&quot;);
1027              trs3[1].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
1028              trs3[2].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
1029          }
1030          [Test]
1031          public async Task TableCustomEditButtonTriggerTest()
1032          {
1033              var comp = Context.RenderComponent&lt;TableCustomEditButtonRenderTest&gt;();
1034              var trs = comp.FindAll(&quot;tr&quot;);
1035              trs[1].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
1036              var buttons = comp.FindAll(&quot;button&quot;);
1037              buttons[0].Click();
1038              var trs2 = comp.FindAll(&quot;tr&quot;);
1039              trs2[1].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
1040              buttons[1].Click();
1041              var trs3 = comp.FindAll(&quot;tr&quot;);
1042              trs3[1].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
1043              trs3[2].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
1044          }
1045          [Test]
1046          public async Task TableEditButtonRowSwitchBlockTest()
1047          {
1048              var comp = Context.RenderComponent&lt;TableEditButtonRenderTest&gt;(parameters =&gt; parameters
1049                      .Add(p =&gt; p.BlockRowSwitching, true));
1050              var trs = comp.FindAll(&quot;tr&quot;);
1051              trs[1].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse();
1052              var buttons = comp.FindAll(&quot;button&quot;);
1053              buttons[0].Click();
1054              var trs2 = comp.FindAll(&quot;tr&quot;);
1055              trs2[1].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
1056              buttons[1].Click();
1057              var trs3 = comp.FindAll(&quot;tr&quot;);
1058              trs3[1].InnerHtml.Contains(&quot;input&quot;).Should().BeTrue();
1059              trs3[2].InnerHtml.Contains(&quot;input&quot;).Should().BeFalse(); 
1060          }
1061          [Test]
1062          public async Task TableEditButtonNoRowTrigger()
1063          {
1064              var timesClicked = 0;
1065              void OnRowClick()
1066              {
1067                  timesClicked++;
1068              }
1069              var comp = Context.RenderComponent&lt;TableEditButtonRenderTest&gt;(parameters =&gt; parameters
1070                      .Add(p =&gt; p.RowClicked, OnRowClick));
1071              var trs = comp.FindAll(&quot;tr&quot;);
1072              trs[1].Click();
1073              timesClicked.Should().Be(1);
1074              trs[2].Click();
1075              timesClicked.Should().Be(2);
1076              var buttons = comp.FindAll(&quot;button&quot;);
1077              buttons[0].Click();
1078              timesClicked.Should().Be(2); 
1079          }
1080          [Test]
1081          public async Task TableGroupingTest()
1082          {
1083              var comp = Context.RenderComponent&lt;TableGroupingTest&gt;();
1084              var table = comp.Instance.tableInstance;
1085              table.Context.HeaderRows.Count.Should().Be(1);
1086              table.Context.GroupRows.Count.Should().Be(0);
1087              table.Context.Rows.Count.Should().Be(9);
1088              table.MultiSelection = true;
1089              var inputs = comp.FindAll(&quot;input&quot;).ToArray();
1090              inputs.Length.Should().Be(10);
1091              inputs[0].Change(true);
1092              table.SelectedItems.Count.Should().Be(9);
1093              inputs[0].Change(false);
1094              table.SelectedItems.Count.Should().Be(0);
1095              comp = Context.RenderComponent&lt;TableGroupingTest&gt;();
1096              table = comp.Instance.tableInstance;
1097              table.GroupBy = new TableGroupDefinition&lt;TableGroupingTest.RacingCar&gt;(rc =&gt; rc.Category, null) { GroupName = &quot;Category&quot; };
1098              comp.Render();
1099              table.Context.GroupRows.Count.Should().Be(4);
1100              var tr = comp.FindAll(&quot;tr&quot;).ToArray();
1101              tr.Length.Should().Be(18); 
1102              table.MultiSelection = true;
1103              inputs = comp.FindAll(&quot;input&quot;).ToArray();
1104              inputs[1].Change(true); 
1105              table.SelectedItems.Count.Should().Be(2); 
1106              inputs[1].Change(false);
1107              table.SelectedItems.Count.Should().Be(0);
1108              inputs[4].Change(true); 
1109              table.SelectedItems.Count.Should().Be(3);
1110              inputs[4].Change(false);
1111              table.SelectedItems.Count.Should().Be(0);
1112              inputs[0].Change(true); 
1113              table.SelectedItems.Count.Should().Be(9);
1114              inputs[0].Change(false);
1115              table.SelectedItems.Count.Should().Be(0);
1116              comp = Context.RenderComponent&lt;TableGroupingTest&gt;();
1117              table = comp.Instance.tableInstance;
1118              table.GroupBy = new TableGroupDefinition&lt;TableGroupingTest.RacingCar&gt;()
1119              {
1120                  GroupName = &quot;Category&quot;,
1121                  Selector = rc =&gt; rc.Category,
1122                  InnerGroup = new TableGroupDefinition&lt;TableGroupingTest.RacingCar&gt;()
1123                  {
1124                      GroupName = &quot;Brand&quot;,
1125                      Selector = rc =&gt; rc.Brand
1126                  }
1127              };
1128              comp.Render();
1129              table.Context.GroupRows.Count.Should().Be(13); 
1130              tr = comp.FindAll(&quot;tr&quot;).ToArray();
1131              tr.Length.Should().Be(36); 
1132              table.MultiSelection = true;
1133              inputs = comp.FindAll(&quot;input&quot;).ToArray();
1134              inputs[0].Change(true); 
1135              table.SelectedItems.Count.Should().Be(9);
1136              inputs[0].Change(false);
1137              table.SelectedItems.Count.Should().Be(0);
1138              inputs[1].Change(true); 
1139              table.SelectedItems.Count.Should().Be(2);
1140              table.GroupBy.Indentation = true;
1141              comp.Render();
1142              tr = comp.FindAll(&quot;tr.mud-table-row-group-indented-1&quot;).ToArray();
1143              tr.Length.Should().Be(27); 
1144              tr = comp.FindAll(&quot;tr.mud-table-row-group-indented-2&quot;).ToArray();
1145              tr.Length.Should().Be(0); 
1146              table.GroupBy.Indentation = false;
1147              table.GroupBy.Expandable = true;
1148              table.GroupBy.InnerGroup.Expandable = true;
1149              comp.Render();
1150              var buttons = comp.FindAll(&quot;button&quot;).ToArray();
1151              buttons.Length.Should().Be(13);
1152              tr = comp.FindAll(&quot;tr&quot;).ToArray();
1153              tr.Length.Should().Be(36); 
1154              buttons[0].Click();
1155              tr = comp.FindAll(&quot;tr&quot;).ToArray();
1156              tr.Length.Should().Be(29); 
1157              buttons[0].Click();
1158              tr = comp.FindAll(&quot;tr&quot;).ToArray();
1159              tr.Length.Should().Be(36);
1160              inputs[1].Change(false); 
1161              table.GroupBy.Indentation = true;
1162              table.GroupBy.Expandable = true;
1163              table.GroupBy.IsInitiallyExpanded = true;
1164              table.GroupBy.InnerGroup.Indentation = true;
1165              table.GroupBy.InnerGroup.Expandable = true;
1166              table.GroupBy.InnerGroup.IsInitiallyExpanded = true;
1167              comp.Render();
1168              table.SelectedItems.Count.Should().Be(0);
1169              inputs.Where(x =&gt; x.IsChecked()).Count().Should().Be(0);
1170              inputs[1].Change(true); 
1171              table.SelectedItems.Count.Should().Be(2);
1172              buttons = comp.FindAll(&quot;button&quot;).ToArray();
1173              inputs = comp.FindAll(&quot;input&quot;).ToArray();
1174              inputs.Where(x =&gt; x.IsChecked()).Count().Should().Be(5);
1175              buttons[0].Click(); 
1176              buttons[0].Click(); 
1177              table.SelectedItems.Count.Should().Be(2);
1178              inputs = comp.FindAll(&quot;input&quot;).ToArray();
1179              inputs.Where(x =&gt; x.IsChecked()).Count().Should().Be(5);
1180              inputs[1].Change(false);
1181              table.SelectedItems.Count.Should().Be(0);
1182              inputs = comp.FindAll(&quot;input&quot;).ToArray();
1183              inputs.Where(x =&gt; x.IsChecked()).Count().Should().Be(0);
1184          }
1185          [Test]
1186          public async Task TableGroupingAndPaginationTest()
1187          {
1188              var comp = Context.RenderComponent&lt;TableGroupingTest2&gt;();
1189              var table = comp.Instance.tableInstance;
1190              table.Context.HeaderRows.Count.Should().Be(1);
1191              table.Context.GroupRows.Count.Should().Be(14);
1192              table.Context.Rows.Count.Should().Be(10);
1193              var tr = comp.FindAll(&quot;tr&quot;).ToArray();
1194              tr.Length.Should().Be(39); 
1195              table.NavigateTo(1);
1196              table.Context.GroupRows.Count.Should().Be(2);
1197              table.Context.Rows.Count.Should().Be(1);
1198              tr = comp.FindAll(&quot;tr&quot;).ToArray();
1199              tr.Length.Should().Be(6); 
1200          }
1201          [Test]
1202          public async Task TableGroupIsInitiallyExpandedTest()
1203          {
1204              var comp = Context.RenderComponent&lt;TableGroupingTest&gt;();
1205              var table = comp.Instance.tableInstance;
1206              table.GroupBy = new TableGroupDefinition&lt;TableGroupingTest.RacingCar&gt;(rc =&gt; rc.Category, null)
1207              {
1208                  GroupName = &quot;Category&quot;,
1209                  Expandable = true,
1210                  IsInitiallyExpanded = false
1211              };
1212              comp.Render();
1213              table.Context.GroupRows.Count.Should().Be(4); 
1214              var tr = comp.FindAll(&quot;tr&quot;).ToArray();
1215              tr.Length.Should().Be(5); 
1216          }
1217          [Test]
1218          public void ExpandAndCollapsAllGroupsTest()
1219          {
1220              var comp = Context.RenderComponent&lt;TableGroupingTest&gt;();
1221              var table = comp.Instance.tableInstance;
1222              table.GroupBy = new TableGroupDefinition&lt;TableGroupingTest.RacingCar&gt;(rc =&gt; rc.Category, null) { GroupName = &quot;Category&quot;, IsInitiallyExpanded = false, Expandable = true };
1223              comp.Render();
1224              table.Context.GroupRows.Count.Should().Be(4);
1225              comp.FindAll(&quot;tr&quot;).ToArray().Length.Should().Be(5); 
1226              table.ExpandAllGroups();
1227              comp.Render();
1228              comp.FindAll(&quot;tr&quot;).ToArray().Length.Should().Be(18); 
1229              table.CollapseAllGroups();
1230              comp.Render();
1231              comp.FindAll(&quot;tr&quot;).ToArray().Length.Should().Be(5); 
1232          }
1233          [Test]
1234          public async Task TablePagerInfoTextTest()
1235          {
1236              var tableComponent = Context.RenderComponent&lt;TablePagerInfoTextTest&gt;();
1237              tableComponent.Find(&quot;div.mud-table-page-number-information&quot;).Text().Should().Be(&quot;1-10 of 59&quot;, &quot;No filter applied yet.&quot;);
1238              var tableInstance = tableComponent.FindComponent&lt;MudTable&lt;string&gt;&gt;().Instance;
1239              var searchString = tableComponent.Find(&quot;#searchString&quot;);
1240              searchString.Change(&quot;Ala&quot;);
1241              tableInstance.GetFilteredItemsCount().Should().Be(3);
1242              string.Join(&quot;,&quot;, tableInstance.FilteredItems).Should().Be(&quot;Alabama,Alaska,Palau&quot;);
1243              tableComponent.FindAll(&quot;tr&quot;).Count.Should().Be(3);
1244              tableComponent.Find(&quot;div.mud-table-page-number-information&quot;).Text().Should().Be(&quot;1-3 of 3&quot;, &quot;&#x27;Ala&#x27; filter applied.&quot;);
1245              searchString.Change(&quot;ZZZ&quot;);
1246              tableInstance.GetFilteredItemsCount().Should().Be(0);
1247              tableInstance.FilteredItems.Count().Should().Be(0);
1248              tableComponent.FindAll(&quot;tr&quot;).Count.Should().Be(0);
1249              tableComponent.Find(&quot;div.mud-table-page-number-information&quot;).Text().Should().Be(&quot;0-0 of 0&quot;, &quot;&#x27;ZZZ&#x27; filter applied.&quot;);
1250          }
1251          [TestCase(Page.First, &quot;First page&quot;)]
1252          [TestCase(Page.Previous, &quot;Previous page&quot;)]
1253          [TestCase(Page.Next, &quot;Next page&quot;)]
1254          [TestCase(Page.Last, &quot;Last page&quot;)]
1255          [Test]
1256          public void TablePagerControlButtonAriaLabelTest(Page controlButton, string expectedButtonAriaLabel)
1257          {
1258              var tableComponent = Context.RenderComponent&lt;TablePagerInfoTextTest&gt;();
1259              var buttons = tableComponent.FindAll(&quot;div.mud-table-pagination-actions button&quot;);
1260              var button = controlButton switch
1261              {
1262                  Page.First =&gt; buttons[0],
1263                  Page.Previous =&gt; buttons[1],
1264                  Page.Next =&gt; buttons[^2],
1265                  Page.Last =&gt; buttons[^1],
1266                  _ =&gt; throw new ArgumentOutOfRangeException(nameof(controlButton), controlButton,
1267                      &quot;This control button type is not supported!&quot;)
1268              };
1269              button.GetAttribute(&quot;aria-label&quot;)?.Should().Be(expectedButtonAriaLabel);
1270          }
1271          [Test]
1272          public async Task RowsPerPageParameterTwoWayBinding()
1273          {
1274              int rowsPerPage = 5;
1275              int newRowsPerPage = 25;
1276              var comp = Context.RenderComponent&lt;TableRowsPerPageTwoWayBindingTest&gt;(parameters =&gt; parameters
1277                  .Add(p =&gt; p.RowsPerPage, rowsPerPage)
1278                  .Add(p =&gt; p.RowsPerPageChanged, (s) =&gt;
1279                  {
1280                      rowsPerPage = int.Parse(s.ToString());
1281                  })
1282              );
1283              var t = comp.Find(&quot;input.mud-select-input&quot;).GetAttribute(&quot;Value&quot;);
1284              int.Parse(t).Should().Be(rowsPerPage, &quot;The component rendered correctly&quot;);
1285              var menuItem = comp.Find(&quot;div.mud-input-control&quot;);
1286              menuItem.Click();
1287              var items = comp.FindAll(&quot;div.mud-list-item&quot;).ToArray();
1288              items[1].Click();
1289              comp.WaitForAssertion(() =&gt; rowsPerPage.Should().Be(newRowsPerPage, &quot;ValueChanged EventCallback fired correctly&quot;));
1290          }
1291          [Test]
1292          public void TableRowClickNotEditable()
1293          {
1294              var comp = Context.RenderComponent&lt;TableRowClickNotEditableTest&gt;();
1295              var tableInstance = comp.FindComponent&lt;MudTable&lt;string&gt;&gt;().Instance;
1296              tableInstance.GetFilteredItemsCount().Should().Be(3);
1297              var trs = comp.FindAll(&quot;tr&quot;);
1298              trs[1].Click();
1299              var searchString = comp.Find(&quot;#searchString&quot;);
1300              searchString.Change(&quot;b&quot;);
1301              tableInstance.GetFilteredItemsCount().Should().Be(1);
1302          }
1303          [Test]
1304          public async Task RowsPerPageChangeValueFromCode()
1305          {
1306              var testComponent = Context.RenderComponent&lt;TablePagerChangeRowsPerPageTest&gt;();
1307              var table = testComponent.FindComponent&lt;MudTable&lt;string&gt;&gt;().Instance;
1308              var buttonComponent = testComponent.FindComponent&lt;MudButton&gt;();
1309              testComponent.WaitForAssertion(() =&gt; table.RowsPerPage.Should().Be(35));
1310              buttonComponent.Find(&quot;button&quot;).Click();
1311              testComponent.WaitForAssertion(() =&gt; table.RowsPerPage.Should().Be(10));
1312              buttonComponent.Find(&quot;button&quot;).Click();
1313              testComponent.WaitForAssertion(() =&gt; table.RowsPerPage.Should().Be(35));
1314          }
1315          [Test]
1316          public async Task TableRecordEditingMultiSelectTest()
1317          {
1318              var comp = Context.RenderComponent&lt;TableRecordComparerTest&gt;();
1319              var table = comp.FindComponent&lt;MudTable&lt;TableRecordComparerTest.Element&gt;&gt;().Instance;
1320              var checkboxes = comp.FindComponents&lt;MudCheckBox&lt;bool&gt;&gt;().Select(x =&gt; x.Instance).ToArray();
1321              var inputs = comp.FindAll(&quot;input&quot;).ToArray();
1322              inputs.Length.Should().Be(4); 
1323              table.SelectedItems.Count.Should().Be(0); 
1324              inputs[0].Change(true);
1325              table.SelectedItems.Count.Should().Be(3);
1326              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(3); 
1327              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;Elements { A, B, C }&quot;);
1328              var trs = comp.FindAll(&quot;tr&quot;);
1329              trs[2].Click();
1330              var input = comp.Find((&quot;#Id2&quot;));
1331              input.Change(&quot;Change&quot;);
1332              table.SelectedItems.Count.Should().Be(3);
1333              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(3); 
1334              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;Elements { A, Change, C }&quot;);
1335              inputs[0].Change(false);
1336              table.SelectedItems.Count.Should().Be(0);
1337              checkboxes.Sum(x =&gt; x.Checked ? 1 : 0).Should().Be(0); 
1338              comp.Find(&quot;p&quot;).TextContent.Should().Be(&quot;Elements {  }&quot;);
1339          }
1340          [Test]
1341          public async Task TableComparerContextTest()
1342          {
1343              var comp = Context.RenderComponent&lt;TableComparerContextTest&gt;();
1344              var table = comp.FindComponent&lt;MudTable&lt;TableComparerContextTest.Element&gt;&gt;().Instance;
1345              var context = table.Context;
1346              table.Comparer.Should().Be(null);
1347              context.Comparer.Should().Be(null);
1348              await comp.InvokeAsync(() =&gt; comp.Instance.SetComparer());
1349              table.Comparer.Should().Be(comp.Instance.Comparer);
1350              context.Comparer.Should().Be(comp.Instance.Comparer);
1351              context.Selection.Comparer.Should().Be(comp.Instance.Comparer); 
1352              context.Rows.Comparer.Should().Be(comp.Instance.Comparer);
1353          }
1354          [Test]
1355          public async Task TestVirtualizedTableWithMultiSelection()
1356          {
1357              var comp = Context.RenderComponent&lt;TableMultiSelectionVirtualizedTest&gt;();
1358              var table = comp.FindComponent&lt;MudTable&lt;TableMultiSelectionVirtualizedTest.TestItem&gt;&gt;();
1359              var virtualized = comp.FindComponent&lt;Microsoft.AspNetCore.Components.Web.Virtualization.Virtualize&lt;TableMultiSelectionVirtualizedTest.TestItem&gt;&gt;();
1360              comp.FindAll(&quot;.mud-table-body .mud-table-row .mud-table-cell .mud-checkbox-input&quot;)[0].IsChecked().Should().Be(false);
1361              comp.FindAll(&quot;.mud-table-body .mud-table-row .mud-table-cell&quot;)[1].TextContent.Should().Be(&quot;Value_0&quot;);
1362              comp.FindAll(&quot;.mud-table-body .mud-table-row .mud-table-cell .mud-checkbox-input&quot;)[0].Change(true);
1363              comp.FindAll(&quot;.mud-table-body .mud-table-row .mud-table-cell .mud-checkbox-input&quot;)[0].IsChecked().Should().Be(true);
1364              virtualized.SetParam(
1365                  v =&gt; v.Items,
1366                  table.Instance.Items.ToList().GetRange(1000, 100));
1367              comp.FindAll(&quot;.mud-table-body .mud-table-row .mud-table-cell&quot;)[1].TextContent.Should().Be(&quot;Value_1000&quot;);
1368              comp.FindAll(&quot;.mud-table-body .mud-table-row .mud-table-cell .mud-checkbox-input&quot;)[0].IsChecked().Should().Be(false);
1369              virtualized.SetParam(
1370                  v =&gt; v.Items,
1371                  table.Instance.Items.ToList().GetRange(0, 100));
1372              comp.FindAll(&quot;.mud-table-body .mud-table-row .mud-table-cell&quot;)[1].TextContent.Should().Be(&quot;Value_0&quot;);
1373              comp.FindAll(&quot;.mud-table-body .mud-table-row .mud-table-cell .mud-checkbox-input&quot;)[0].IsChecked().Should().Be(true);
1374          }
1375      }
1376  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-TableTests.cs</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-TableTests.cs</div>
                </div>
                <div class="column column_space"><pre><code>256              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;1-10 of 59&quot;); 
257              await table.InvokeAsync(() =&gt; table.Instance.SetRowsPerPage(int.MaxValue));
</pre></code></div>
                <div class="column column_space"><pre><code>172              comp.FindAll(&quot;div.mud-table-pagination-caption&quot;)[^1].TextContent.Trim().Should().Be(&quot;11-20 of 59&quot;);
173              comp.FindAll(&quot;button&quot;)[0].IsDisabled().Should().Be(false);
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    