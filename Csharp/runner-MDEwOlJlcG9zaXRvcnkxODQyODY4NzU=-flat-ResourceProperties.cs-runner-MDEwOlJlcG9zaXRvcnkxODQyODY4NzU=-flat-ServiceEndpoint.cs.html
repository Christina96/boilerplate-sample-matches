
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Tokens: 17, <button onclick='openModal()' class='match'></button></h2>
        <div class="column">
            <h3>runner-MDEwOlJlcG9zaXRvcnkxODQyODY4NzU=-flat-ResourceProperties.cs</h3>
            <pre><code>1  using System;
2  using System.Collections.Generic;
3  using System.Collections.ObjectModel;
4  using System.ComponentModel;
5  using System.Linq;
6  using System.Reflection;
7  using GitHub.Services.Common;
8  using GitHub.Services.WebApi;
9  using Newtonsoft.Json;
10  using Newtonsoft.Json.Linq;
11  namespace GitHub.DistributedTask.Pipelines
12  {
13      [EditorBrowsable(EditorBrowsableState.Never)]
14      [JsonConverter(typeof(ResourcePropertiesJsonConverter))]
15      public class ResourceProperties
16      {
17          public ResourceProperties()
18          {
19          }
20          internal ResourceProperties(IDictionary<String, JToken> items)
21          {
<span onclick='openModal()' class='match'>22              m_items = new Dictionary<String, JToken>(items, StringComparer.OrdinalIgnoreCase);
23          }
</span>24          private ResourceProperties(ResourceProperties propertiesToClone)
25          {
26              if (propertiesToClone?.m_items?.Count > 0)
27              {
28                  m_items = new Dictionary<String, JToken>(propertiesToClone.m_items, StringComparer.OrdinalIgnoreCase);
29              }
30          }
31          public Int32 Count
32          {
33              get
34              {
35                  return m_items?.Count ?? 0;
36              }
37          }
38          internal IDictionary<String, JToken> Items
39          {
40              get
41              {
42                  if (m_items == null)
43                  {
44                      m_items = new Dictionary<String, JToken>(StringComparer.OrdinalIgnoreCase);
45                  }
46                  return m_items;
47              }
48          }
49          public IReadOnlyDictionary<String, JToken> GetItems()
50          {
51              return new ReadOnlyDictionary<String, JToken>(this.Items);
52          }
53          public ResourceProperties Clone()
54          {
55              return new ResourceProperties(this);
56          }
57          public Boolean Delete(String name)
58          {
59              return this.Items.Remove(name);
60          }
61          public Boolean DeleteAllExcept(ISet<String> names)
62          {
63              ArgumentUtility.CheckEnumerableForNullOrEmpty(names, nameof(names));
64              Boolean removed = false;
65              if (m_items?.Count > 0)
66              {
67                  foreach (var propertyName in m_items.Keys.Where(x => !names.Contains(x)).ToArray())
68                  {
69                      removed |= Delete(propertyName);
70                  }
71              }
72              return removed;
73          }
74          public T Get<T>(
75              String name,
76              T defaultValue = default(T))
77          {
78              if (this.Items.TryGetValue(name, out var tokenValue) && tokenValue != null)
79              {
80                  if (typeof(T) == typeof(JToken))
81                  {
82                      return (T)(Object)tokenValue;
83                  }
84                  else
85                  {
86                      return tokenValue.ToObject<T>(s_serializer);
87                  }
88              }
89              return defaultValue;
90          }
91          public Boolean TryGetValue<T>(String name, out T value)
92          {
93              if (this.Items.TryGetValue(name, out var tokenValue) && tokenValue != null)
94              {
95                  if (typeof(T) == typeof(JToken))
96                  {
97                      value = (T)(Object)tokenValue;
98                  }
99                  else
100                  {
101                      value = tokenValue.ToObject<T>(s_serializer);
102                  }
103                  return true;
104              }
105              else
106              {
107                  value = default(T);
108                  return false;
109              }
110          }
111          public void Set<T>(
112              String name,
113              T value)
114          {
115              if (value == null)
116              {
117                  this.Items[name] = null;
118              }
119              else if (typeof(T) == typeof(JToken))
120              {
121                  this.Items[name] = value as JToken;
122              }
123              else
124              {
125                  this.Items[name] = JToken.FromObject(value, s_serializer);
126              }
127          }
128          public void UnionWith(
129              ResourceProperties properties,
130              Boolean overwrite = false)
131          {
132              if (properties?.m_items == null)
133              {
134                  return;
135              }
136              foreach (var property in properties.m_items)
137              {
138                  if (overwrite || !this.Items.ContainsKey(property.Key))
139                  {
140                      this.Items[property.Key] = property.Value;
141                  }
142              }
143          }
144          internal IDictionary<String, Object> ToStringDictionary()
145          {
146              return this.Items.ToDictionary(x => x.Key, x => ToObject(x.Value), StringComparer.OrdinalIgnoreCase);
147          }
148          private static Object ToObject(JToken token)
149          {
150              switch (token.Type)
151              {
152                  case JTokenType.Boolean:
153                      return Convert.ToString((Boolean)token);
154                  case JTokenType.Date:
155                      return Convert.ToString((DateTime)token);
156                  case JTokenType.Float:
157                      return Convert.ToString((Single)token);
158                  case JTokenType.Guid:
159                      return Convert.ToString((Guid)token);
160                  case JTokenType.Integer:
161                      return Convert.ToString((Int32)token);
162                  case JTokenType.TimeSpan:
163                      return Convert.ToString((TimeSpan)token);
164                  case JTokenType.Uri:
165                      return Convert.ToString((Uri)token);
166                  case JTokenType.String:
167                      return (String)token;
168                  case JTokenType.Array:
169                      var array = token as JArray;
170                      return array.Select(x => ToObject(x)).ToList();
171                  case JTokenType.Object:
172                      return ToDictionary(token as JObject);
173              }
174              return null;
175          }
176          private static IDictionary<String, Object> ToDictionary(JObject @object)
177          {
178              var result = new Dictionary<String, Object>(StringComparer.OrdinalIgnoreCase);
179              foreach (var item in @object.Properties())
180              {
181                  result[item.Name] = ToObject(item.Value);
182              }
183              return result;
184          }
185          private IDictionary<String, JToken> m_items;
186          private static readonly JsonSerializer s_serializer = JsonUtility.CreateJsonSerializer();
187      }
188      internal class ResourcePropertiesJsonConverter : VssSecureJsonConverter
189      {
190          public override Boolean CanWrite
191          {
192              get
193              {
194                  return true;
195              }
196          }
197          public override Boolean CanConvert(Type objectType)
198          {
199              return typeof(IDictionary<String, JToken>).GetTypeInfo().IsAssignableFrom(objectType);
200          }
201          public override Object ReadJson(
202              JsonReader reader,
203              Type objectType,
204              Object existingValue,
205              JsonSerializer serializer)
206          {
207              var items = serializer.Deserialize<IDictionary<String, JToken>>(reader);
208              return new ResourceProperties(items);
209          }
210          public override void WriteJson(
211              JsonWriter writer,
212              Object value,
213              JsonSerializer serializer)
214          {
215              base.WriteJson(writer, value, serializer);
216              var properties = (ResourceProperties)value;
217              serializer.Serialize(writer, properties?.Items);
218          }
219      }
220  }
</code></pre>
        </div>
        <div class="column">
            <h3>runner-MDEwOlJlcG9zaXRvcnkxODQyODY4NzU=-flat-ServiceEndpoint.cs</h3>
            <pre><code>1  using System;
2  using System.Collections.Generic;
3  using System.Runtime.Serialization;
4  using GitHub.Services.WebApi;
5  using GitHub.Services.Common.Internal;
6  using Newtonsoft.Json.Linq;
7  using Newtonsoft.Json;
8  namespace GitHub.DistributedTask.WebApi
9  {
10      [DataContract]
11      public class ServiceEndpoint
12      {
13          public ServiceEndpoint()
14          {
15              m_data = new Dictionary<String, String>(StringComparer.OrdinalIgnoreCase);
16              IsReady = true;
17          }
18          private ServiceEndpoint(ServiceEndpoint endpointToClone)
19          {
20              Id = endpointToClone.Id;
21              Name = endpointToClone.Name;
22              Type = endpointToClone.Type;
23              Url = endpointToClone.Url;
24              Description = endpointToClone.Description;
25              GroupScopeId = endpointToClone.GroupScopeId;
26              if (endpointToClone.Authorization != null)
27              {
28                  Authorization = endpointToClone.Authorization.Clone();
29              }
30              if (endpointToClone.m_data != null)
31              {
32                  m_data = new Dictionary<String, String>(endpointToClone.m_data, StringComparer.OrdinalIgnoreCase);
33              }
34          }
35          [DataMember(EmitDefaultValue = false)]
36          public Guid Id
37          {
38              get;
39              set;
40          }
41          [DataMember(EmitDefaultValue = false)]
42          public String Name
43          {
44              get;
45              set;
46          }
47          [DataMember(EmitDefaultValue = false)]
48          public String Type
49          {
50              get;
51              set;
52          }
53          [DataMember(EmitDefaultValue = false)]
54          public String Owner
55          {
56              get;
57              set;
58          }
59          [DataMember(EmitDefaultValue = false)]
60          public Uri Url
61          {
62              get;
63              set;
64          }
65          [DataMember(EmitDefaultValue = false)]
66          public string Description
67          {
68              get;
69              set;
70          }
71          [DataMember(EmitDefaultValue = false)]
72          public EndpointAuthorization Authorization
73          {
74              get;
75              set;
76          }
77          [DataMember(EmitDefaultValue = false)]
78          public Guid GroupScopeId
79          {
80              get;
81              internal set;
82          }
83          public IDictionary<String, String> Data
84          {
85              get
86              {
87                  return m_data;
88              }
89              set
90              {
91                  if (value != null)
92                  {
<span onclick='openModal()' class='match'>93                      m_data = new Dictionary<String, String>(value, StringComparer.OrdinalIgnoreCase);
94                  }
</span>95              }
96          }
97          [DataMember(EmitDefaultValue = true)]
98          public Boolean IsShared
99          {
100              get;
101              set;
102          }
103          [DataMember(EmitDefaultValue = true)]
104          [JsonConverter(typeof(EndpointIsReadyConverter<bool>))]
105          public bool IsReady
106          {
107              get;
108              set;
109          }
110          [DataMember(EmitDefaultValue = false)]
111          public JObject OperationStatus
112          {
113              get;
114              set;
115          }
116          public ServiceEndpoint Clone()
117          {
118              return new ServiceEndpoint(this);
119          }
120          [DataMember(EmitDefaultValue = false, Name = "Data")]
121          private Dictionary<String, String> m_data;
122      }
123      internal class EndpointIsReadyConverter<T> : JsonConverter
124      {
125          public override bool CanConvert(Type objectType)
126          {
127              return true;
128          }
129          public override object ReadJson(JsonReader reader, Type objectType, object existingValue, JsonSerializer serializer)
130          {
131              if (reader.TokenType == JsonToken.Boolean || reader.TokenType == JsonToken.Integer)
132              {
133                  return serializer.Deserialize<T>(reader);
134              }
135              else if (reader.TokenType == JsonToken.String)
136              {
137                  var s = (string)reader.Value;
138                  if (s.Equals("false", StringComparison.OrdinalIgnoreCase) || s.Equals("0", StringComparison.OrdinalIgnoreCase))
139                  {
140                      return false;
141                  }
142                  return true;
143              }
144              else
145              {
146                  return true;
147              }
148          }
149          public override void WriteJson(JsonWriter writer, object value, JsonSerializer serializer)
150          {
151              writer.WriteValue((bool)value ? true : false);
152          }
153      }
154  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from runner-MDEwOlJlcG9zaXRvcnkxODQyODY4NzU=-flat-ResourceProperties.cs</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from runner-MDEwOlJlcG9zaXRvcnkxODQyODY4NzU=-flat-ServiceEndpoint.cs</div>
                </div>
                <div class="column column_space"><pre><code>22              m_items = new Dictionary<String, JToken>(items, StringComparer.OrdinalIgnoreCase);
23          }
</pre></code></div>
                <div class="column column_space"><pre><code>93                      m_data = new Dictionary<String, String>(value, StringComparer.OrdinalIgnoreCase);
94                  }
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    