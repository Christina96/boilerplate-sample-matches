
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 3.0165912518853695%, Tokens: 10</h2>
        <div class="column">
            <h3>runner-MDEwOlJlcG9zaXRvcnkxODQyODY4NzU=-flat-Issue.cs</h3>
            <pre><code>1  using System;
2  using System.Collections.Generic;
3  using System.Runtime.Serialization;
4  namespace GitHub.DistributedTask.WebApi
5  {
6      [DataContract]
7      public class Issue
8      {
9          public Issue()
10          {
11          }
12          private Issue(Issue issueToBeCloned)
13          {
14              this.Type = issueToBeCloned.Type;
15              this.Category = issueToBeCloned.Category;
16              this.Message = issueToBeCloned.Message;
17              this.IsInfrastructureIssue = issueToBeCloned.IsInfrastructureIssue;
18              if (issueToBeCloned.m_data != null)
19              {
20                  foreach (var item in issueToBeCloned.m_data)
21                  {
22                      this.Data.Add(item);
23                  }
24              }
25          }
26          [DataMember(Order = 1)]
27          public IssueType Type
28          {
29              get;
30              set;
31          }
32          [DataMember(Order = 2)]
33          public String Category
34          {
35              get;
36              set;
37          }
38          [DataMember(Order = 3)]
39          public String Message
40          {
41              get;
42              set;
43          }
44          [DataMember(Order = 4)]
<span onclick='openModal()' class='match'>45          public bool? IsInfrastructureIssue
46          {
47              get;
48              set;
49          }
50          public IDictionary<String, String> Data
51          {
52              get
53              {
</span>54                  if (m_data == null)
55                  {
56                      m_data = new Dictionary<String, String>(StringComparer.OrdinalIgnoreCase);
57                  }
58                  return m_data;
59              }
60          }
61          public Issue Clone()
62          {
63              return new Issue(this);
64          }
65          [OnDeserialized]
66          private void OnDeserialized(StreamingContext context)
67          {
68              SerializationHelper.Copy(ref m_serializedData, ref m_data, StringComparer.OrdinalIgnoreCase, true);
69          }
70          [OnSerializing]
71          private void OnSerializing(StreamingContext context)
72          {
73              SerializationHelper.Copy(ref m_data, ref m_serializedData, StringComparer.OrdinalIgnoreCase);
74          }
75          [OnSerialized]
76          private void OnSerialized(StreamingContext context)
77          {
78              m_serializedData = null;
79          }
80          [DataMember(Name = "Data", EmitDefaultValue = false, Order = 4)]
81          private IDictionary<String, String> m_serializedData;
82          private IDictionary<String, String> m_data;
83      }
84  }
</code></pre>
        </div>
        <div class="column">
            <h3>NetCoreServer-MDEwOlJlcG9zaXRvcnkxNjYxMjMxNjQ=-flat-HttpRequest.cs</h3>
            <pre><code>1  using System;
2  using System.Collections.Generic;
3  using System.Diagnostics;
4  using System.Text;
5  namespace NetCoreServer
6  {
7      public class HttpRequest
8      {
9          public HttpRequest()
10          {
11              Clear();
12          }
13          public HttpRequest(string method, string url, string protocol = "HTTP/1.1")
14          {
15              SetBegin(method, url, protocol);
16          }
17          public bool IsEmpty { get { return (_cache.Size == 0); } }
<span onclick='openModal()' class='match'>18          public bool IsErrorSet { get; private set; }
19          public string Method { get { return _method; } }
</span>20          public string Url { get { return _url; } }
21          public string Protocol { get { return _protocol; } }
22          public long Headers { get { return _headers.Count; } }
23          public (string, string) Header(int i)
24          {
25              Debug.Assert((i < _headers.Count), "Index out of bounds!");
26              if (i >= _headers.Count)
27                  return ("", "");
28              return _headers[i];
29          }
30          public long Cookies { get { return _cookies.Count; } }
31          public (string, string) Cookie(int i)
32          {
33              Debug.Assert((i < _cookies.Count), "Index out of bounds!");
34              if (i >= _cookies.Count)
35                  return ("", "");
36              return _cookies[i];
37          }
38          public string Body { get { return _cache.ExtractString(_bodyIndex, _bodySize); } }
39          public byte[] BodyBytes { get { return _cache.Data[_bodyIndex..(_bodyIndex + _bodySize)]; } }
40          public Span<byte> BodySpan { get { return new Span<byte>(_cache.Data, _bodyIndex, _bodySize); } }
41          public long BodyLength { get { return _bodyLength; } }
42          public Buffer Cache { get { return _cache; } }
43          public override string ToString()
44          {
45              StringBuilder sb = new StringBuilder();
46              sb.AppendLine($"Request method: {Method}");
47              sb.AppendLine($"Request URL: {Url}");
48              sb.AppendLine($"Request protocol: {Protocol}");
49              sb.AppendLine($"Request headers: {Headers}");
50              for (int i = 0; i < Headers; i++)
51              {
52                  var header = Header(i);
53                  sb.AppendLine($"{header.Item1} : {header.Item2}");
54              }
55              sb.AppendLine($"Request body: {BodyLength}");
56              sb.AppendLine(Body);
57              return sb.ToString();
58          }
59          public HttpRequest Clear()
60          {
61              IsErrorSet = false;
62              _method = "";
63              _url = "";
64              _protocol = "";
65              _headers.Clear();
66              _cookies.Clear();
67              _bodyIndex = 0;
68              _bodySize = 0;
69              _bodyLength = 0;
70              _bodyLengthProvided = false;
71              _cache.Clear();
72              _cacheSize = 0;
73              return this;
74          }
75          public HttpRequest SetBegin(string method, string url, string protocol = "HTTP/1.1")
76          {
77              Clear();
78              _cache.Append(method);
79              _method = method;
80              _cache.Append(" ");
81              _cache.Append(url);
82              _url = url;
83              _cache.Append(" ");
84              _cache.Append(protocol);
85              _protocol = protocol;
86              _cache.Append("\r\n");
87              return this;
88          }
89          public HttpRequest SetHeader(string key, string value)
90          {
91              _cache.Append(key);
92              _cache.Append(": ");
93              _cache.Append(value);
94              _cache.Append("\r\n");
95              _headers.Add((key, value));
96              return this;
97          }
98          public HttpRequest SetCookie(string name, string value)
99          {
100              string key = "Cookie";
101              string cookie = name + "=" + value;
102              _cache.Append(key);
103              _cache.Append(": ");
104              _cache.Append(cookie);
105              _cache.Append("\r\n");
106              _headers.Add((key, cookie));
107              _cookies.Add((name, value));
108              return this;
109          }
110          public HttpRequest AddCookie(string name, string value)
111          {
112              _cache.Append("; ");
113              _cache.Append(name);
114              _cache.Append("=");
115              _cache.Append(value);
116              _cookies.Add((name, value));
117              return this;
118          }
119          public HttpRequest SetBody(string body = "") => SetBody(body.AsSpan());
120          public HttpRequest SetBody(ReadOnlySpan<char> body)
121          {
122              int length = body.IsEmpty ? 0 : Encoding.UTF8.GetByteCount(body);
123              SetHeader("Content-Length", length.ToString());
124              _cache.Append("\r\n");
125              int index = (int)_cache.Size;
126              _cache.Append(body);
127              _bodyIndex = index;
128              _bodySize = length;
129              _bodyLength = length;
130              _bodyLengthProvided = true;
131              return this;
132          }
133          public HttpRequest SetBody(byte[] body) => SetBody(body.AsSpan());
134          public HttpRequest SetBody(ReadOnlySpan<byte> body)
135          {
136              SetHeader("Content-Length", body.Length.ToString());
137              _cache.Append("\r\n");
138              int index = (int)_cache.Size;
139              _cache.Append(body);
140              _bodyIndex = index;
141              _bodySize = body.Length;
142              _bodyLength = body.Length;
143              _bodyLengthProvided = true;
144              return this;
145          }
146          public HttpRequest SetBodyLength(int length)
147          {
148              SetHeader("Content-Length", length.ToString());
149              _cache.Append("\r\n");
150              int index = (int)_cache.Size;
151              _bodyIndex = index;
152              _bodySize = 0;
153              _bodyLength = length;
154              _bodyLengthProvided = true;
155              return this;
156          }
157          public HttpRequest MakeHeadRequest(string url)
158          {
159              Clear();
160              SetBegin("HEAD", url);
161              SetBody();
162              return this;
163          }
164          public HttpRequest MakeGetRequest(string url)
165          {
166              Clear();
167              SetBegin("GET", url);
168              SetBody();
169              return this;
170          }
171          public HttpRequest MakePostRequest(string url, string content, string contentType = "text/plain; charset=UTF-8") => MakePostRequest(url, content.AsSpan(), contentType);
172          public HttpRequest MakePostRequest(string url, ReadOnlySpan<char> content, string contentType = "text/plain; charset=UTF-8")
173          {
174              Clear();
175              SetBegin("POST", url);
176              if (!string.IsNullOrEmpty(contentType))
177                  SetHeader("Content-Type", contentType);
178              SetBody(content);
179              return this;
180          }
181          public HttpRequest MakePostRequest(string url, byte[] content, string contentType = "") => MakePostRequest(url, content.AsSpan(), contentType);
182          public HttpRequest MakePostRequest(string url, ReadOnlySpan<byte> content, string contentType = "")
183          {
184              Clear();
185              SetBegin("POST", url);
186              if (!string.IsNullOrEmpty(contentType))
187                  SetHeader("Content-Type", contentType);
188              SetBody(content);
189              return this;
190          }
191          public HttpRequest MakePutRequest(string url, string content, string contentType = "text/plain; charset=UTF-8") => MakePutRequest(url, content.AsSpan(), contentType);
192          public HttpRequest MakePutRequest(string url, ReadOnlySpan<char> content, string contentType = "text/plain; charset=UTF-8")
193          {
194              Clear();
195              SetBegin("PUT", url);
196              if (!string.IsNullOrEmpty(contentType))
197                  SetHeader("Content-Type", contentType);
198              SetBody(content);
199              return this;
200          }
201          public HttpRequest MakePutRequest(string url, byte[] content, string contentType = "") => MakePutRequest(url, content.AsSpan(), contentType);
202          public HttpRequest MakePutRequest(string url, ReadOnlySpan<byte> content, string contentType = "")
203          {
204              Clear();
205              SetBegin("PUT", url);
206              if (!string.IsNullOrEmpty(contentType))
207                  SetHeader("Content-Type", contentType);
208              SetBody(content);
209              return this;
210          }
211          public HttpRequest MakeDeleteRequest(string url)
212          {
213              Clear();
214              SetBegin("DELETE", url);
215              SetBody();
216              return this;
217          }
218          public HttpRequest MakeOptionsRequest(string url)
219          {
220              Clear();
221              SetBegin("OPTIONS", url);
222              SetBody();
223              return this;
224          }
225          public HttpRequest MakeTraceRequest(string url)
226          {
227              Clear();
228              SetBegin("TRACE", url);
229              SetBody();
230              return this;
231          }
232          private string _method;
233          private string _url;
234          private string _protocol;
235          private List<(string, string)> _headers = new List<(string, string)>();
236          private List<(string, string)> _cookies = new List<(string, string)>();
237          private int _bodyIndex;
238          private int _bodySize;
239          private int _bodyLength;
240          private bool _bodyLengthProvided;
241          private Buffer _cache = new Buffer();
242          private int _cacheSize;
243          internal bool IsPendingHeader()
244          {
245              return (!IsErrorSet && (_bodyIndex == 0));
246          }
247          internal bool IsPendingBody()
248          {
249              return (!IsErrorSet && (_bodyIndex > 0) && (_bodySize > 0));
250          }
251          internal bool ReceiveHeader(byte[] buffer, int offset, int size)
252          {
253              _cache.Append(buffer, offset, size);
254              for (int i = _cacheSize; i < (int)_cache.Size; i++)
255              {
256                  if ((i + 3) >= (int)_cache.Size)
257                      break;
258                  if ((_cache[i + 0] == '\r') && (_cache[i + 1] == '\n') && (_cache[i + 2] == '\r') && (_cache[i + 3] == '\n'))
259                  {
260                      int index = 0;
261                      IsErrorSet = true;
262                      int methodIndex = index;
263                      int methodSize = 0;
264                      while (_cache[index] != ' ')
265                      {
266                          methodSize++;
267                          index++;
268                          if (index >= (int)_cache.Size)
269                              return false;
270                      }
271                      index++;
272                      if (index >= (int)_cache.Size)
273                          return false;
274                      _method = _cache.ExtractString(methodIndex, methodSize);
275                      int urlIndex = index;
276                      int urlSize = 0;
277                      while (_cache[index] != ' ')
278                      {
279                          urlSize++;
280                          index++;
281                          if (index >= (int)_cache.Size)
282                              return false;
283                      }
284                      index++;
285                      if (index >= (int)_cache.Size)
286                          return false;
287                      _url = _cache.ExtractString(urlIndex, urlSize);
288                      int protocolIndex = index;
289                      int protocolSize = 0;
290                      while (_cache[index] != '\r')
291                      {
292                          protocolSize++;
293                          index++;
294                          if (index >= (int)_cache.Size)
295                              return false;
296                      }
297                      index++;
298                      if ((index >= (int)_cache.Size) || (_cache[index] != '\n'))
299                          return false;
300                      index++;
301                      if (index >= (int)_cache.Size)
302                          return false;
303                      _protocol = _cache.ExtractString(protocolIndex, protocolSize);
304                      while ((index < (int)_cache.Size) && (index < i))
305                      {
306                          int headerNameIndex = index;
307                          int headerNameSize = 0;
308                          while (_cache[index] != ':')
309                          {
310                              headerNameSize++;
311                              index++;
312                              if (index >= i)
313                                  break;
314                              if (index >= (int)_cache.Size)
315                                  return false;
316                          }
317                          index++;
318                          if (index >= i)
319                              break;
320                          if (index >= (int)_cache.Size)
321                              return false;
322                          while (char.IsWhiteSpace((char)_cache[index]))
323                          {
324                              index++;
325                              if (index >= i)
326                                  break;
327                              if (index >= (int)_cache.Size)
328                                  return false;
329                          }
330                          int headerValueIndex = index;
331                          int headerValueSize = 0;
332                          while (_cache[index] != '\r')
333                          {
334                              headerValueSize++;
335                              index++;
336                              if (index >= i)
337                                  break;
338                              if (index >= (int)_cache.Size)
339                                  return false;
340                          }
341                          index++;
342                          if ((index >= (int)_cache.Size) || (_cache[index] != '\n'))
343                              return false;
344                          index++;
345                          if (index >= (int)_cache.Size)
346                              return false;
347                          if (headerNameSize == 0)
348                              return false;
349                          string headerName = _cache.ExtractString(headerNameIndex, headerNameSize);
350                          string headerValue = _cache.ExtractString(headerValueIndex, headerValueSize);
351                          _headers.Add((headerName, headerValue));
352                          if (string.Compare(headerName, "Content-Length", StringComparison.OrdinalIgnoreCase) == 0)
353                          {
354                              _bodyLength = 0;
355                              for (int j = headerValueIndex; j < (headerValueIndex + headerValueSize); j++)
356                              {
357                                  if ((_cache[j] < '0') || (_cache[j] > '9'))
358                                      return false;
359                                  _bodyLength *= 10;
360                                  _bodyLength += _cache[j] - '0';
361                                  _bodyLengthProvided = true;
362                              }
363                          }
364                          if (string.Compare(headerName, "Cookie", StringComparison.OrdinalIgnoreCase) == 0)
365                          {
366                              bool name = true;
367                              bool token = false;
368                              int current = headerValueIndex;
369                              int nameIndex = index;
370                              int nameSize = 0;
371                              int cookieIndex = index;
372                              int cookieSize = 0;
373                              for (int j = headerValueIndex; j < (headerValueIndex + headerValueSize); j++)
374                              {
375                                  if (_cache[j] == ' ')
376                                  {
377                                      if (token)
378                                      {
379                                          if (name)
380                                          {
381                                              nameIndex = current;
382                                              nameSize = j - current;
383                                          }
384                                          else
385                                          {
386                                              cookieIndex = current;
387                                              cookieSize = j - current;
388                                          }
389                                      }
390                                      token = false;
391                                      continue;
392                                  }
393                                  if (_cache[j] == '=')
394                                  {
395                                      if (token)
396                                      {
397                                          if (name)
398                                          {
399                                              nameIndex = current;
400                                              nameSize = j - current;
401                                          }
402                                          else
403                                          {
404                                              cookieIndex = current;
405                                              cookieSize = j - current;
406                                          }
407                                      }
408                                      token = false;
409                                      name = false;
410                                      continue;
411                                  }
412                                  if (_cache[j] == ';')
413                                  {
414                                      if (token)
415                                      {
416                                          if (name)
417                                          {
418                                              nameIndex = current;
419                                              nameSize = j - current;
420                                          }
421                                          else
422                                          {
423                                              cookieIndex = current;
424                                              cookieSize = j - current;
425                                          }
426                                          if ((nameSize > 0) && (cookieSize > 0))
427                                          {
428                                              _cookies.Add((_cache.ExtractString(nameIndex, nameSize), _cache.ExtractString(cookieIndex, cookieSize)));
429                                              nameIndex = j;
430                                              nameSize = 0;
431                                              cookieIndex = j;
432                                              cookieSize = 0;
433                                          }
434                                      }
435                                      token = false;
436                                      name = true;
437                                      continue;
438                                  }
439                                  if (!token)
440                                  {
441                                      current = j;
442                                      token = true;
443                                  }
444                              }
445                              if (token)
446                              {
447                                  if (name)
448                                  {
449                                      nameIndex = current;
450                                      nameSize = headerValueIndex + headerValueSize - current;
451                                  }
452                                  else
453                                  {
454                                      cookieIndex = current;
455                                      cookieSize = headerValueIndex + headerValueSize - current;
456                                  }
457                                  if ((nameSize > 0) && (cookieSize > 0))
458                                  {
459                                      _cookies.Add((_cache.ExtractString(nameIndex, nameSize), _cache.ExtractString(cookieIndex, cookieSize)));
460                                  }
461                              }
462                          }
463                      }
464                      IsErrorSet = false;
465                      _bodyIndex = i + 4;
466                      _bodySize = (int)_cache.Size - i - 4;
467                      _cacheSize = (int)_cache.Size;
468                      return true;
469                  }
470              }
471              _cacheSize = ((int)_cache.Size >= 3) ? ((int)_cache.Size - 3) : 0;
472              return false;
473          }
474          internal bool ReceiveBody(byte[] buffer, int offset, int size)
475          {
476              _cache.Append(buffer, offset, size);
477              _cacheSize = (int)_cache.Size;
478              _bodySize += size;
479              if (_bodyLengthProvided)
480              {
481                  if (_bodySize >= _bodyLength)
482                  {
483                      _bodySize = _bodyLength;
484                      return true;
485                  }
486              }
487              else
488              {
489                  if ((Method == "HEAD") || (Method == "GET") || (Method == "DELETE") || (Method == "OPTIONS") || (Method == "TRACE"))
490                  {
491                      _bodyLength = 0;
492                      _bodySize = 0;
493                      return true;
494                  }
495                  if (_bodySize >= 4)
496                  {
497                      int index = _bodyIndex + _bodySize - 4;
498                      if ((_cache[index + 0] == '\r') && (_cache[index + 1] == '\n') && (_cache[index + 2] == '\r') && (_cache[index + 3] == '\n'))
499                      {
500                          _bodyLength = _bodySize;
501                          return true;
502                      }
503                  }
504              }
505              return false;
506          }
507      }
508  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from runner-MDEwOlJlcG9zaXRvcnkxODQyODY4NzU=-flat-Issue.cs</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from NetCoreServer-MDEwOlJlcG9zaXRvcnkxNjYxMjMxNjQ=-flat-HttpRequest.cs</div>
                </div>
                <div class="column column_space"><pre><code>45          public bool? IsInfrastructureIssue
46          {
47              get;
48              set;
49          }
50          public IDictionary<String, String> Data
51          {
52              get
53              {
</pre></code></div>
                <div class="column column_space"><pre><code>18          public bool IsErrorSet { get; private set; }
19          public string Method { get { return _method; } }
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    