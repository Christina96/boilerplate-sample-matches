
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 28.863758750673128%, Tokens: 12</h2>
        <div class="column">
            <h3>MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-ButtonsTests.cs</h3>
            <pre><code>1  using System;
2  using System.Linq;
3  using System.Threading.Tasks;
4  using AngleSharp.Dom;
5  using AngleSharp.Html.Dom;
6  using Bunit;
7  using FluentAssertions;
8  using MudBlazor.Docs.Examples;
9  using MudBlazor.UnitTests.TestComponents;
10  using NUnit.Framework;
11  using static Bunit.ComponentParameterFactory;
12  namespace MudBlazor.UnitTests.Components
13  {
14      [TestFixture]
15      public class ButtonsTests : BunitTest
16      {
17          [Test]
18          public void MudButtonShouldRenderAButtonByDefault()
19          {
20              var comp = Context.RenderComponent<MudButton>();
21              comp.Instance
22                  .HtmlTag
23                  .Should()
24                  .Be("button");
25              comp.Markup
26                  .Replace(" ", string.Empty)
27                  .Should()
28                  .StartWith("<button")
29                  .And
30                  .Contain("stopPropagation");
31          }
32          [Test]
33          public void MudButtonShouldRenderAnAnchorIfLinkIsSetAndIsNotDisabled()
34          {
35              var link = Parameter(nameof(MudButton.Href), "https:&bsol;&bsol;www.google.com");
36              var target = Parameter(nameof(MudButton.Target), "_blank");
37              var disabled = Parameter(nameof(MudButton.Disabled), true);
38              var comp = Context.RenderComponent<MudButton>(link, target);
39              comp.Instance
40                  .HtmlTag
41                  .Should()
42                  .Be("a");
43              comp.Markup
44                  .Should()
45                  .Contain("rel=\"noopener\"");
46              comp.Markup
47                  .Replace(" ", string.Empty)
48                  .Should()
49                  .StartWith("<a")
50                  .And
51                  .NotContain("__internal_stopPropagation_onclick");
52              comp = Context.RenderComponent<MudButton>(link, target, disabled);
53              comp.Instance.HtmlTag.Should().Be("button");
54          }
55          [Test]
56          public void MudButtonShouldRenderRelIfSet()
57          {
58              var link = Parameter(nameof(MudButton.Href), "https:&bsol;&bsol;www.google.com");
59              var rel = Parameter(nameof(MudButton.Rel), "nofollow");
60              var comp = Context.RenderComponent<MudButton>(link, rel);
61              comp
62                  .Find("a")
63                  .GetAttribute("rel")
64                  .Should()
65                  .Be("nofollow");
66          }
67          [Test]
68          public void MudButtonShouldHaveNoopenerOverridenByRel()
69          {
70              var link = Parameter(nameof(MudButton.Href), "https:&bsol;&bsol;www.google.com");
71              var target = Parameter(nameof(MudButton.Target), "_blank");
72              var rel = Parameter(nameof(MudButton.Rel), "nofollow");
73              var comp = Context.RenderComponent<MudButton>(link, target, rel);
74              comp
75                  .Find("a")
76                  .GetAttribute("rel")
77                  .Should()
78                  .Be("nofollow");
79          }
80          [Test]
81          public void MudButtonShouldHaveHaveNoRelWhenSetToEmpty()
82          {
83              var link = Parameter(nameof(MudButton.Href), "https:&bsol;&bsol;www.google.com");
84              var rel = Parameter(nameof(MudButton.Rel), "");
85              var target = Parameter(nameof(MudButton.Target), "_blank");
<span onclick='openModal()' class='match'>86              var comp = Context.RenderComponent<MudButton>(link, rel, target);
87              comp
88                  .Find("a")
89                  .GetAttribute("rel")
90                  .Should()
91                  .Be("");
92          }
93          [Test]
94          public void MudButtonShouldNotRenderRelIfNullAndTargetNotBlank()
95          {
96              var link = Parameter(nameof(MudButton.Href), "https:&bsol;&bsol;www.google.com");
97              var rel = Parameter(nameof(MudButton.Rel), null);
</span>98              var target = Parameter(nameof(MudButton.Target), "_notblank");
99              var comp = Context.RenderComponent<MudButton>(link, rel, target);
100              comp
101                  .Find("a")
102                  .HasAttribute("rel")
103                  .Should()
104                  .BeFalse();
105          }
106          [Test]
107          public void MudIconButtonShouldRenderAButtonByDefault()
108          {
109              var comp = Context.RenderComponent<MudIconButton>();
110              comp.Instance
111                  .HtmlTag
112                  .Should()
113                  .Be("button");
114              comp.Markup
115                  .Replace(" ", string.Empty)
116                  .Should()
117                  .StartWith("<button");
118          }
119          [Test]
120          public void MudIconButtonShouldRenderAnAnchorIfLinkIsSet()
121          {
122              using var ctx = new Bunit.TestContext();
123              var link = Parameter(nameof(MudIconButton.Href), "https:&bsol;&bsol;www.google.com");
124              var target = Parameter(nameof(MudIconButton.Target), "_blank");
125              var comp = ctx.RenderComponent<MudIconButton>(link, target);
126              comp.Instance
127                  .HtmlTag
128                  .Should()
129                  .Be("a");
130              comp.Markup
131                  .Should()
132                  .Contain("rel=\"noopener\"");
133              comp.Markup
134                  .Replace(" ", string.Empty)
135                  .Should()
136                  .StartWith("<a");
137          }
138          [Test]
139          public void MudIconButtonShouldRenderRelIfSet()
140          {
141              var link = Parameter(nameof(MudIconButton.Href), "https:&bsol;&bsol;www.google.com");
142              var rel = Parameter(nameof(MudIconButton.Rel), "nofollow");
143              var comp = Context.RenderComponent<MudIconButton>(link, rel);
144              comp
145                  .Find("a")
146                  .GetAttribute("rel")
147                  .Should()
148                  .Be("nofollow");
149          }
150          [Test]
151          public void MudIconButtonShouldHaveNoopenerOverridenByRel()
152          {
153              var link = Parameter(nameof(MudIconButton.Href), "https:&bsol;&bsol;www.google.com");
154              var target = Parameter(nameof(MudIconButton.Target), "_blank");
155              var rel = Parameter(nameof(MudIconButton.Rel), "nofollow");
156              var comp = Context.RenderComponent<MudIconButton>(link, target, rel);
157              comp
158                  .Find("a")
159                  .GetAttribute("rel")
160                  .Should()
161                  .Be("nofollow");
162          }
163          [Test]
164          public void MudIconButtonShouldHaveHaveNoRelWhenSetToEmpty()
165          {
166              var link = Parameter(nameof(MudIconButton.Href), "https:&bsol;&bsol;www.google.com");
167              var target = Parameter(nameof(MudIconButton.Target), "_blank");
168              var rel = Parameter(nameof(MudIconButton.Rel), "");
169              var comp = Context.RenderComponent<MudIconButton>(link, rel, target);
170              comp
171                  .Find("a")
172                  .GetAttribute("rel")
173                  .Should()
174                  .Be("");
175          }
176          [Test]
177          public void MudIconButtonShouldNotRenderRelIfNullAndTargetNotBlank()
178          {
179              var link = Parameter(nameof(MudIconButton.Href), "https:&bsol;&bsol;www.google.com");
180              var rel = Parameter(nameof(MudIconButton.Rel), null);
181              var target = Parameter(nameof(MudIconButton.Target), "_notblank");
182              var comp = Context.RenderComponent<MudIconButton>(link, rel, target);
183              comp
184                  .Find("a")
185                  .HasAttribute("rel")
186                  .Should()
187                  .BeFalse();
188          }
189          [Test]
190          public void MudFabShouldRenderAButtonByDefault()
191          {
192              var comp = Context.RenderComponent<MudFab>();
193              comp.Instance
194                  .HtmlTag
195                  .Should()
196                  .Be("button");
197              comp.Markup
198                  .Replace(" ", string.Empty)
199                  .Should()
200                  .StartWith("<button");
201          }
202          [Test]
203          public void MudFabShouldRenderAnAnchorIfLinkIsSet()
204          {
205              var link = Parameter(nameof(MudFab.Href), "https:&bsol;&bsol;www.google.com");
206              var target = Parameter(nameof(MudFab.Target), "_blank");
207              var comp = Context.RenderComponent<MudFab>(link, target);
208              comp.Instance
209                  .HtmlTag
210                  .Should()
211                  .Be("a");
212              comp.Markup
213                  .Should()
214                  .Contain("rel=\"noopener\"");
215              comp.Markup
216                  .Replace(" ", string.Empty)
217                  .Should()
218                  .StartWith("<a");
219          }
220          [Test]
221          public void MudFabShouldNotRenderIconIfNoneSpecified()
222          {
223              var comp = Context.RenderComponent<MudFab>();
224              comp.Markup
225                  .Should()
226                  .NotContainAny("mud-icon-root");
227          }
228          [Test]
229          public void MudFabShouldRenderRelIfSet()
230          {
231              var link = Parameter(nameof(MudFab.Href), "https:&bsol;&bsol;www.google.com");
232              var rel = Parameter(nameof(MudFab.Rel), "nofollow");
233              var comp = Context.RenderComponent<MudFab>(link, rel);
234              comp
235                  .Find("a")
236                  .GetAttribute("rel")
237                  .Should()
238                  .Be("nofollow");
239          }
240          [Test]
241          public void MudFabShouldHaveNoopenerOverridenByRel()
242          {
243              var link = Parameter(nameof(MudFab.Href), "https:&bsol;&bsol;www.google.com");
244              var target = Parameter(nameof(MudFab.Target), "_blank");
245              var rel = Parameter(nameof(MudFab.Rel), "nofollow");
246              var comp = Context.RenderComponent<MudFab>(link, target, rel);
247              comp
248                  .Find("a")
249                  .GetAttribute("rel")
250                  .Should()
251                  .Be("nofollow");
252          }
253          [Test]
254          public void MudFabShouldHaveHaveNoRelWhenSetToEmpty()
255          {
256              var link = Parameter(nameof(MudFab.Href), "https:&bsol;&bsol;www.google.com");
257              var target = Parameter(nameof(MudFab.Target), "_blank");
258              var rel = Parameter(nameof(MudFab.Rel), "");
259              var comp = Context.RenderComponent<MudFab>(link, target, rel);
260              comp
261                  .Find("a")
262                  .GetAttribute("rel")
263                  .Should()
264                  .Be("");
265          }
266          [Test]
267          public void MudFabShouldNotRenderRelIfNullAndTargetNotBlank()
268          {
269              var link = Parameter(nameof(MudFab.Href), "https:&bsol;&bsol;www.google.com");
270              var rel = Parameter(nameof(MudFab.Rel), null);
271              var target = Parameter(nameof(MudFab.Target), "_notblank");
272              var comp = Context.RenderComponent<MudFab>(link, rel, target);
273              comp
274                  .Find("a")
275                  .HasAttribute("rel")
276                  .Should()
277                  .BeFalse();
278          }
279          [Test]
280          public void ShouldRenderTitle()
281          {
282              var title = "Title and tooltip";
283              var icon = Parameter(nameof(MudIconButton.Icon), Icons.Material.Filled.Add);
284              var titleParam = Parameter(nameof(MudIconButton.Title), title);
285              var comp = Context.RenderComponent<MudIconButton>(icon, titleParam);
286              comp.Find($"button[title=\"{title}\"]");
287              icon = Parameter(nameof(MudIconButton.Icon), "customicon");
288              comp.SetParametersAndRender(icon, titleParam);
289              comp.Find($"button[title=\"{title}\"]");
290          }
291          [Test]
292          public async Task MudToggleIconTest()
293          {
294              var comp = Context.RenderComponent<MudToggleIconButton>();
295  #pragma warning disable BL0005
296              await comp.InvokeAsync(() => comp.Instance.Disabled = true);
297              await comp.InvokeAsync(() => comp.Instance.SetToggledAsync(true));
298              comp.WaitForAssertion(() => comp.Instance.Toggled.Should().BeFalse());
299          }
300          [Test]
301          public void MudButtonSizesTest()
302          {
303              var comp = Context.RenderComponent<ButtonSizeIconSizeTest>();
304              var buttons = comp.Nodes.Where(n => n.NodeName.Equals("BUTTON")).ToArray();
305              buttons.Length.Should().Be(6);
306              ((IHtmlButtonElement)buttons[0]).ClassList.Contains("mud-button-filled-size-small").Should().BeTrue();  
307              ((IHtmlButtonElement)buttons[1]).ClassList.Contains("mud-button-filled-size-medium").Should().BeTrue(); 
308              ((IHtmlButtonElement)buttons[2]).ClassList.Contains("mud-button-filled-size-large").Should().BeTrue();  
309          }
310          [Test]
311          public void MudButtonIconSizesTest()
312          {
313              var comp = Context.RenderComponent<ButtonSizeIconSizeTest>();
314              var buttons = comp.Nodes.Where(n => n.NodeName.Equals("BUTTON")).ToArray();
315              ((IHtmlButtonElement)buttons[3]).ClassList.Contains("mud-button-filled-size-small").Should().BeTrue();
316              var button4Span = ((IHtmlButtonElement)buttons[3]).Children[0].Children[0];
317              button4Span.ClassName.Contains("mud-button-icon-size-large").Should().BeTrue();
318              var button4Svg = button4Span.Children[0];
319              button4Svg.ClassName.Contains("mud-icon-size-large").Should().BeTrue();
320              ((IHtmlButtonElement)buttons[4]).ClassList.Contains("mud-button-filled-size-medium").Should().BeTrue();
321              var button5Span = ((IHtmlButtonElement)buttons[4]).Children[0].Children[0];
322              button5Span.ClassName.Contains("mud-button-icon-size-medium").Should().BeTrue();
323              var button5Svg = button5Span.Children[0];
324              button5Svg.ClassName.Contains("mud-icon-size-medium").Should().BeTrue();
325              ((IHtmlButtonElement)buttons[5]).ClassList.Contains("mud-button-filled-size-large").Should().BeTrue();
326              var button6Span = ((IHtmlButtonElement)buttons[5]).Children[0].Children[0];
327              button6Span.ClassName.Contains("mud-button-icon-size-small").Should().BeTrue();
328              var button6Svg = button6Span.Children[0];
329              button6Svg.ClassName.Contains("mud-icon-size-small").Should().BeTrue();
330          }
331          [Test]
332          public void ButtonsNestedDisabledTest()
333          {
334              var comp = Context.RenderComponent<ButtonsNestedDisabledTest>();
335              comp.FindComponent<MudButton>().Find("button").HasAttribute("disabled").Should().BeFalse();
336              comp.FindComponent<MudFab>().Find("button").HasAttribute("disabled").Should().BeFalse();
337              comp.FindComponent<MudIconButton>().Find("button").HasAttribute("disabled").Should().BeFalse();
338              comp.SetParametersAndRender(parameters => parameters.Add(x => x.Disabled, true)); 
339              comp.FindComponent<MudButton>().Find("button").HasAttribute("disabled").Should().BeTrue();
340              comp.FindComponent<MudFab>().Find("button").HasAttribute("disabled").Should().BeTrue();
341              comp.FindComponent<MudIconButton>().Find("button").HasAttribute("disabled").Should().BeTrue();
342          }
343      }
344  }
</code></pre>
        </div>
        <div class="column">
            <h3>MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-DropZoneTests.cs</h3>
            <pre><code>1  using System;
2  using System.Linq;
3  using System.Threading.Tasks;
4  using Bunit;
5  using FluentAssertions;
6  using Microsoft.AspNetCore.Components.Web;
7  using Microsoft.Extensions.DependencyInjection;
8  using Microsoft.JSInterop;
9  using Microsoft.JSInterop.Infrastructure;
10  using Moq;
11  using MudBlazor.UnitTests.TestComponents;
12  using NUnit.Framework;
13  namespace MudBlazor.UnitTests.Components
14  {
15      [TestFixture]
16      public class DropZoneTests : BunitTest
17      {
18          [Test]
19          public void DropContainer_Defaults()
20          {
21              var container = new MudDropContainer<object>();
22              container.ApplyDropClassesOnDragStarted.Should().BeFalse();
23              container.CanDrop.Should().BeNull();
24              container.CanDropClass.Should().BeNullOrEmpty();
25              container.DisabledClass.Should().Be("disabled");
26              container.DraggingClass.Should().BeNullOrEmpty();
27              container.ItemDraggingClass.Should().BeNullOrEmpty();
28              container.ItemIsDisabled.Should().BeNull();
29              container.Items.Should().BeEmpty();
30              container.ItemsSelector.Should().BeNull();
31              container.NoDropClass.Should().BeNullOrEmpty();
32          }
33          [Test]
34          public void DropZone_Defaults()
35          {
36              var zone = new MudDropZone<object>();
37              zone.ApplyDropClassesOnDragStarted.Should().BeNull();
38              zone.CanDrop.Should().BeNull();
39              zone.CanDropClass.Should().BeNullOrEmpty();
40              zone.DisabledClass.Should().BeNullOrEmpty();
41              zone.DraggingClass.Should().BeNullOrEmpty();
42              zone.ItemDraggingClass.Should().BeNullOrEmpty();
43              zone.ItemIsDisabled.Should().BeNull();
44              zone.ItemsSelector.Should().BeNull();
45              zone.NoDropClass.Should().BeNullOrEmpty();
46              zone.OnlyZone.Should().BeFalse();
47              zone.AllowReorder.Should().BeFalse();
48          }
49          [Test]
50          public void DropItem_Defaults()
51          {
52              var item = new MudDynamicDropItem<object>();
53              item.Disabled.Should().BeFalse();
54              item.DisabledClass.Should().BeNullOrEmpty();
55              item.DraggingClass.Should().BeNullOrEmpty();
56              item.ZoneIdentifier.Should().BeNullOrEmpty();
57              item.Item.Should().BeNull();
58              item.HideContent.Should().BeFalse();
59          }
60          [Test]
61          public void DropZone_DisposeWork()
62          {
63              var container = new MudDropZone<object>();
64              container.Dispose();
65          }
66          [Test]
67          public void DropZone_GeneralView()
68          {
69              var comp = Context.RenderComponent<DropzoneBasicTest>();
70              var container = comp.Find(".mud-drop-container");
71              container.ClassList.Should().BeEquivalentTo(new[] { "mud-drop-container", "d-flex" });
72              container.Children.Should().HaveCount(2);
73              var firstDropZone = container.Children[0];
74              firstDropZone.ClassList.Should().Contain("first-drop-zone");
75              firstDropZone.Children.Should().HaveCount(2);
76              firstDropZone.Children[0].TextContent.Should().Be("Drop Zone 1");
77              firstDropZone.Children[1].TextContent.Should().Be("First Item");
78              var secondDropZone = container.Children[1];
79              secondDropZone.ClassList.Should().Contain("second-drop-zone");
80              secondDropZone.Children.Should().HaveCount(3);
81              secondDropZone.Children[0].TextContent.Should().Be("Drop Zone 2");
82              secondDropZone.Children[1].TextContent.Should().Be("Second Item");
83              secondDropZone.Children[2].TextContent.Should().Be("Third Item");
84              var items = comp.FindAll(".mud-drop-item");
85              items.Count(x => x.GetAttribute("draggable") == "true").Should().Be(3);
86          }
87          [Test]
88          public void DropZone_TestJsCalls()
89          {
90              var jsRuntimeMock = new Mock<IJSRuntime>(MockBehavior.Strict);
91              Context.Services.AddSingleton(typeof(IJSRuntime), jsRuntimeMock.Object);
92              jsRuntimeMock.Setup(x => x.InvokeAsync<IJSVoidResult>("mudDragAndDrop.initDropZone", It.Is<object[]>(y => y.Length == 1 && Guid.Parse(y[0].ToString()) != Guid.Empty)))
93                  .ReturnsAsync(Mock.Of<IJSVoidResult>(), TimeSpan.FromMilliseconds(200)).Verifiable();
94              var comp = Context.RenderComponent<DropzoneBasicTest>();
95              jsRuntimeMock.Verify();
96          }
97          [Test]
98          public void DropZone_DropZoneOverrideContainerRendered()
99          {
100              var comp = Context.RenderComponent<DropzoneCustomItemSelectorTest>();
101              var container = comp.Find(".mud-drop-container");
102              container.ClassList.Should().BeEquivalentTo(new[] { "mud-drop-container", "d-flex" });
103              container.Children.Should().HaveCount(2);
104              var firstDropZone = container.Children[0];
105              firstDropZone.Children[0].TextContent.Should().Be("Drop Zone 1");
106              firstDropZone.Children[1].TextContent.Should().Be("First Item by Drop Zone 1");
107              var secondDropZone = container.Children[1];
108              secondDropZone.Children[0].TextContent.Should().Be("Drop Zone 2");
109              secondDropZone.Children[1].TextContent.Should().Be("Second Item");
110              secondDropZone.Children[2].TextContent.Should().Be("Third Item");
111          }
112          [Test]
113          public async Task DropZone_SimpleDragAndDrop()
114          {
115              var comp = Context.RenderComponent<DropzoneBasicTest>();
116              var container = comp.Find(".mud-drop-container");
117              container.Children.Should().HaveCount(2);
118              var firstDropZone = container.Children[0];
119              firstDropZone.Children.Should().HaveCount(2);
120              var firstDropItem = firstDropZone.Children[1];
121              firstDropItem.TextContent.Should().Be("First Item");
122              await firstDropItem.DragStartAsync(new DragEventArgs());
123              var secondDropZone = comp.Find(".second-drop-zone");
124              await secondDropZone.DropAsync(new DragEventArgs());
125              container = comp.Find(".mud-drop-container");
126              secondDropZone = container.Children[1];
127              secondDropZone.Children.Should().HaveCount(4);
128              secondDropZone.Children[0].TextContent.Should().Be("Drop Zone 2");
129              secondDropZone.Children[1].TextContent.Should().Be("First Item");
130              secondDropZone.Children[2].TextContent.Should().Be("Second Item");
131              secondDropZone.Children[3].TextContent.Should().Be("Third Item");
132              secondDropZone.Children[1].DragEnd();
133              firstDropZone = comp.Find(".first-drop-zone");
134              secondDropZone = comp.Find(".second-drop-zone");
135              firstDropZone.ClassList.Should().NotContain("mud-drop-zone-drag-block");
<span onclick='openModal()' class='match'>136              secondDropZone.ClassList.Should().NotContain("mud-drop-zone-drag-block");
137              comp.Instance.IndexHistory.Distinct().Should().ContainSingle().And.Contain(-1);
138          }
139          [Test]
140          public async Task DropZone_DragAndDropDraggingClass_DragCanceled()
141          {
142              var comp = Context.RenderComponent<DropzoneBasicTest>();
143              var container = comp.Find(".mud-drop-container");
</span>144              container.Children.Should().HaveCount(2);
145              var firstDropZone = container.Children[0];
146              firstDropZone.Children.Should().HaveCount(2);
147              var firstDropItem = firstDropZone.Children[1];
148              firstDropZone.ClassList.Should().NotContain("my-special-dragging-class");
149              firstDropItem.ClassList.Should().NotContain("my-special-item-dragging-class");
150              await firstDropItem.DragStartAsync(new DragEventArgs());
151              container = comp.Find(".mud-drop-container");
152              firstDropZone = container.Children[0];
153              firstDropItem = firstDropZone.Children[1];
154              firstDropZone.ClassList.Should().Contain("my-special-dragging-class");
155              firstDropItem.ClassList.Should().Contain("my-special-item-dragging-class");
156              await firstDropItem.DragEndAsync(new DragEventArgs());
157              container = comp.Find(".mud-drop-container");
158              firstDropZone = container.Children[0];
159              firstDropItem = firstDropZone.Children[1];
160              firstDropZone.ClassList.Should().NotContain("my-special-dragging-class");
161              firstDropItem.ClassList.Should().NotContain("my-special-item-dragging-class");
162              var secondDropZone = container.Children[1];
163              var secondDropItem = secondDropZone.Children[1];
164              secondDropZone = container.Children[1];
165              secondDropZone.ClassList.Should().NotContain("my-special-drop-zone-dragging-class");
166              secondDropItem.ClassList.Should().NotContain("my-special-item-drop-zone-dragging-class");
167              await secondDropItem.DragStartAsync(new DragEventArgs());
168              container = comp.Find(".mud-drop-container");
169              secondDropZone = container.Children[1];
170              secondDropItem = secondDropZone.Children[1];
171              secondDropZone.ClassList.Should().Contain("my-special-drop-zone-dragging-class");
172              secondDropItem.ClassList.Should().Contain("my-special-item-drop-zone-dragging-class");
173              await secondDropItem.DragEndAsync(new DragEventArgs());
174              container = comp.Find(".mud-drop-container");
175              secondDropZone = container.Children[1];
176              secondDropItem = secondDropZone.Children[1];
177              secondDropZone.ClassList.Should().NotContain("my-special-drop-zone-dragging-class");
178              secondDropItem.ClassList.Should().NotContain("my-special-item-drop-zone-dragging-class");
179          }
180          [Test]
181          public async Task DropZone_DragAndDropDraggingClass_DragFinished()
182          {
183              var comp = Context.RenderComponent<DropzoneBasicTest>();
184              var container = comp.Find(".mud-drop-container");
185              container.Children.Should().HaveCount(2);
186              var firstDropZone = container.Children[0];
187              var secondDropZone = container.Children[1];
188              firstDropZone.Children.Should().HaveCount(2);
189              var firstDropItem = firstDropZone.Children[1];
190              firstDropZone.ClassList.Should().NotContain("my-special-dragging-class");
191              firstDropItem.ClassList.Should().NotContain("my-special-item-dragging-class");
192              await firstDropItem.DragStartAsync(new DragEventArgs());
193              container = comp.Find(".mud-drop-container");
194              firstDropZone = container.Children[0];
195              firstDropItem = firstDropZone.Children[1];
196              firstDropZone.ClassList.Should().Contain("my-special-dragging-class");
197              firstDropItem.ClassList.Should().Contain("my-special-item-dragging-class");
198              await secondDropZone.DropAsync(new DragEventArgs());
199              container = comp.Find(".mud-drop-container");
200              firstDropZone = container.Children[0];
201              firstDropItem = container.Children[1].Children[1];
202              firstDropZone.ClassList.Should().NotContain("my-special-dragging-class");
203              firstDropItem.ClassList.Should().NotContain("my-special-item-dragging-class");
204          }
205          [Test]
206          public async Task DropZone_DragAndDropDraggingClass_DragFinished_DropNotAllowed()
207          {
208              var comp = Context.RenderComponent<DropzoneDraggingTestCantDropSecondZoneTest>();
209              var container = comp.Find(".mud-drop-container");
210              container.Children.Should().HaveCount(2);
211              var firstDropZone = container.Children[0];
212              var secondDropZone = container.Children[1];
213              firstDropZone.Children.Should().HaveCount(2);
214              var firstDropItem = firstDropZone.Children[1];
215              firstDropZone.ClassList.Should().NotContain("my-special-dragging-class");
216              firstDropItem.ClassList.Should().NotContain("my-special-item-dragging-class");
217              await firstDropItem.DragStartAsync(new DragEventArgs());
218              container = comp.Find(".mud-drop-container");
219              firstDropZone = container.Children[0];
220              firstDropItem = firstDropZone.Children[1];
221              firstDropZone.ClassList.Should().Contain("my-special-dragging-class");
222              firstDropItem.ClassList.Should().Contain("my-special-item-dragging-class");
223              await secondDropZone.DropAsync(new DragEventArgs());
224              container = comp.Find(".mud-drop-container");
225              firstDropZone = container.Children[0];
226              firstDropItem = container.Children[1].Children[1];
227              firstDropZone.ClassList.Should().NotContain("my-special-dragging-class");
228              firstDropItem.ClassList.Should().NotContain("my-special-item-dragging-class");
229          }
230          [Test]
231          public async Task DropZone_DropItem_DragEnterNotTrackedItem()
232          {
233              var comp = Context.RenderComponent<DropzoneBasicTest>();
234              var tempContainer = comp.Find(".mud-drop-container");
235              tempContainer.Children.Should().HaveCount(2);
236              var firstDropZone = tempContainer.Children[0];
237              var firstDropItem = firstDropZone.Children[1];
238              await firstDropItem.DragEnterAsync(new DragEventArgs());
239              tempContainer.Children.Should().HaveCount(2);
240              tempContainer.Children[0].Children.Should().HaveCount(2);
241              tempContainer.Children[1].Children.Should().HaveCount(3);
242          }
243          [Test]
244          public async Task DropZone_DropNotTrackedItem()
245          {
246              var comp = Context.RenderComponent<DropzoneBasicTest>();
247              {
248                  var tempContainer = comp.Find(".mud-drop-container");
249                  tempContainer.Children.Should().HaveCount(2);
250                  var firstDropZone = tempContainer.Children[0];
251                  await firstDropZone.DropAsync(new DragEventArgs());
252              }
253              var container = comp.Find(".mud-drop-container");
254              container.Children.Should().HaveCount(2);
255              container.Children[0].Children.Should().HaveCount(2);
256              container.Children[1].Children.Should().HaveCount(3);
257          }
258          [Test]
259          public async Task DropZone_CheckDropClasses_NotApplyOnDragStarted()
260          {
261              var comp = Context.RenderComponent<DropzoneCanDropTest>();
262              var firstDropZone = comp.Find(".first-drop-zone");
263              var secondDropZone = comp.Find(".second-drop-zone");
264              var thirdDropZone = comp.Find(".third-drop-zone");
265              var dragItem = firstDropZone.Children[1];
266              await dragItem.DragStartAsync(new DragEventArgs());
267              await firstDropZone.DragEnterAsync(new DragEventArgs());
268              firstDropZone.ClassList.Should().NotContain("can-drop-from-container");
269              firstDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
270              await firstDropZone.DragLeaveAsync(new DragEventArgs());
271              await secondDropZone.DragEnterAsync(new DragEventArgs());
272              secondDropZone.ClassList.Should().Contain("can-drop-from-zone");
273              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
274              await secondDropZone.DragLeaveAsync(new DragEventArgs());
275              secondDropZone.ClassList.Should().NotContain("can-drop-from-zone");
276              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
277              await thirdDropZone.DragEnterAsync(new DragEventArgs());
278              thirdDropZone.ClassList.Should().NotContain("can-drop-from-container");
279              thirdDropZone.ClassList.Should().Contain("no-drop-class-from-container");
280              await thirdDropZone.DragLeaveAsync(new DragEventArgs());
281              thirdDropZone.ClassList.Should().NotContain("can-drop-from-container");
282              thirdDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
283              await firstDropZone.DragEnterAsync(new DragEventArgs());
284              firstDropZone.ClassList.Should().NotContain("can-drop-from-container");
285              firstDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
286          }
287          [Test]
288          public async Task DropZone_CheckDropClasses_TransactionNotStarted()
289          {
290              var comp = Context.RenderComponent<DropzoneCanDropTest>();
291              var firstDropZone = comp.Find(".first-drop-zone");
292              var secondDropZone = comp.Find(".second-drop-zone");
293              var thirdDropZone = comp.Find(".third-drop-zone");
294              await firstDropZone.DragEnterAsync(new DragEventArgs());
295              firstDropZone.ClassList.Should().NotContain("can-drop-from-container");
296              firstDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
297              await firstDropZone.DragLeaveAsync(new DragEventArgs());
298              await secondDropZone.DragEnterAsync(new DragEventArgs());
299              secondDropZone.ClassList.Should().NotContain("can-drop-from-zone");
300              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
301              await secondDropZone.DragLeaveAsync(new DragEventArgs());
302              secondDropZone.ClassList.Should().NotContain("can-drop-from-zone");
303              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
304              await thirdDropZone.DragEnterAsync(new DragEventArgs());
305              thirdDropZone.ClassList.Should().NotContain("can-drop-from-container");
306              thirdDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
307              await thirdDropZone.DragLeaveAsync(new DragEventArgs());
308              thirdDropZone.ClassList.Should().NotContain("can-drop-from-container");
309              thirdDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
310          }
311          [Test]
312          public async Task DropZone_CheckDropClasses_ApplyOnDrag_OnlySecondZone()
313          {
314              var comp = Context.RenderComponent<DropzoneCanDropTest>(
315                  p => p.Add(x => x.SecondColumnAppliesClassesOnDragStarted, true));
316              var firstDropZone = comp.Find(".first-drop-zone");
317              var secondDropZone = comp.Find(".second-drop-zone");
318              var thirdDropZone = comp.Find(".third-drop-zone");
319              var dragItem = firstDropZone.Children[1];
320              await dragItem.DragStartAsync(new DragEventArgs());
321              secondDropZone.ClassList.Should().Contain("can-drop-from-zone");
322              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
323              await firstDropZone.DragEnterAsync(new DragEventArgs());
324              firstDropZone.ClassList.Should().NotContain("can-drop-from-container");
325              firstDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
326              await firstDropZone.DragLeaveAsync(new DragEventArgs());
327              secondDropZone.ClassList.Should().Contain("can-drop-from-zone");
328              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
329              await secondDropZone.DragEnterAsync(new DragEventArgs());
330              secondDropZone.ClassList.Should().Contain("can-drop-from-zone");
331              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
332              await secondDropZone.DragLeaveAsync(new DragEventArgs());
333              secondDropZone.ClassList.Should().Contain("can-drop-from-zone");
334              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
335              await thirdDropZone.DragEnterAsync(new DragEventArgs());
336              thirdDropZone.ClassList.Should().NotContain("can-drop-from-container");
337              thirdDropZone.ClassList.Should().Contain("no-drop-class-from-container");
338              secondDropZone.ClassList.Should().Contain("can-drop-from-zone");
339              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
340              await thirdDropZone.DragLeaveAsync(new DragEventArgs());
341              thirdDropZone.ClassList.Should().NotContain("can-drop-from-container");
342              thirdDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
343              secondDropZone.ClassList.Should().Contain("can-drop-from-zone");
344              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
345          }
346          [Test]
347          public async Task DropZone_CheckDropClasses_ApplyClassesOnDragStarted()
348          {
349              var comp = Context.RenderComponent<DropzoneCanDropTest>(p =>
350              {
351                  p.Add(x => x.SecondColumnAppliesClassesOnDragStarted, false);
352                  p.Add(x => x.ApplyDropClassesOnDragStarted, true);
353              });
354              var firstDropZone = comp.Find(".first-drop-zone");
355              var secondDropZone = comp.Find(".second-drop-zone");
356              var thirdDropZone = comp.Find(".third-drop-zone");
357              var dragItem = firstDropZone.Children[1];
358              await dragItem.DragStartAsync(new DragEventArgs());
359              firstDropZone.ClassList.Should().NotContain("can-drop-from-container");
360              firstDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
361              secondDropZone.ClassList.Should().NotContain("can-drop-from-zone");
362              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
363              thirdDropZone.ClassList.Should().NotContain("can-drop-from-container");
364              thirdDropZone.ClassList.Should().Contain("no-drop-class-from-container");
365              await firstDropZone.DragEnterAsync(new DragEventArgs());
366              firstDropZone.ClassList.Should().NotContain("can-drop-from-container");
367              firstDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
368              secondDropZone.ClassList.Should().NotContain("can-drop-from-zone");
369              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
370              thirdDropZone.ClassList.Should().NotContain("can-drop-from-container");
371              thirdDropZone.ClassList.Should().Contain("no-drop-class-from-container");
372              await firstDropZone.DragLeaveAsync(new DragEventArgs());
373              firstDropZone.ClassList.Should().NotContain("can-drop-from-container");
374              firstDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
375              secondDropZone.ClassList.Should().NotContain("can-drop-from-zone");
376              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
377              thirdDropZone.ClassList.Should().NotContain("can-drop-from-container");
378              thirdDropZone.ClassList.Should().Contain("no-drop-class-from-container");
379              await secondDropZone.DragEnterAsync(new DragEventArgs());
380              firstDropZone.ClassList.Should().NotContain("can-drop-from-container");
381              firstDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
382              secondDropZone.ClassList.Should().Contain("can-drop-from-zone");
383              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
384              thirdDropZone.ClassList.Should().NotContain("can-drop-from-container");
385              thirdDropZone.ClassList.Should().Contain("no-drop-class-from-container");
386              await secondDropZone.DragLeaveAsync(new DragEventArgs());
387              firstDropZone.ClassList.Should().NotContain("can-drop-from-container");
388              firstDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
389              secondDropZone.ClassList.Should().NotContain("can-drop-from-zone");
390              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
391              thirdDropZone.ClassList.Should().NotContain("can-drop-from-container");
392              thirdDropZone.ClassList.Should().Contain("no-drop-class-from-container");
393              await thirdDropZone.DragEnterAsync(new DragEventArgs());
394              firstDropZone.ClassList.Should().NotContain("can-drop-from-container");
395              firstDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
396              secondDropZone.ClassList.Should().NotContain("can-drop-from-zone");
397              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
398              thirdDropZone.ClassList.Should().NotContain("can-drop-from-container");
399              thirdDropZone.ClassList.Should().Contain("no-drop-class-from-container");
400              await thirdDropZone.DragLeaveAsync(new DragEventArgs());
401              firstDropZone.ClassList.Should().NotContain("can-drop-from-container");
402              firstDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
403              secondDropZone.ClassList.Should().NotContain("can-drop-from-zone");
404              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
405              thirdDropZone.ClassList.Should().NotContain("can-drop-from-container");
406              thirdDropZone.ClassList.Should().Contain("no-drop-class-from-container");
407          }
408          [Test]
409          public async Task DropZone_CheckDropClasses_ApplyClassesOnDragStarted_DragFinished()
410          {
411              var comp = Context.RenderComponent<DropzoneCanDropTest>(p =>
412              {
413                  p.Add(x => x.SecondColumnAppliesClassesOnDragStarted, false);
414                  p.Add(x => x.ApplyDropClassesOnDragStarted, true);
415              });
416              var firstDropZone = comp.Find(".first-drop-zone");
417              var secondDropZone = comp.Find(".second-drop-zone");
418              var thirdDropZone = comp.Find(".third-drop-zone");
419              var dragItem = firstDropZone.Children[1];
420              await dragItem.DragStartAsync(new DragEventArgs());
421              await secondDropZone.DragEnterAsync(new DragEventArgs());
422              await secondDropZone.DropAsync(new DragEventArgs());
423              firstDropZone.ClassList.Should().NotContain("can-drop-from-container");
424              firstDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
425              secondDropZone.ClassList.Should().NotContain("can-drop-from-zone");
426              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
427              thirdDropZone.ClassList.Should().NotContain("can-drop-from-container");
428              thirdDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
429          }
430          [Test]
431          public async Task DropZone_CheckDropClasses_ApplyClassesOnDragStarted_DragCanceled()
432          {
433              var comp = Context.RenderComponent<DropzoneCanDropTest>(p =>
434              {
435                  p.Add(x => x.SecondColumnAppliesClassesOnDragStarted, false);
436                  p.Add(x => x.ApplyDropClassesOnDragStarted, true);
437              });
438              var firstDropZone = comp.Find(".first-drop-zone");
439              var secondDropZone = comp.Find(".second-drop-zone");
440              var thirdDropZone = comp.Find(".third-drop-zone");
441              var dragItem = firstDropZone.Children[1];
442              await dragItem.DragStartAsync(new DragEventArgs());
443              await dragItem.DragEndAsync(new DragEventArgs());
444              firstDropZone.ClassList.Should().NotContain("can-drop-from-container");
445              firstDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
446              secondDropZone.ClassList.Should().NotContain("can-drop-from-zone");
447              secondDropZone.ClassList.Should().NotContain("no-drop-class-from-zone");
448              thirdDropZone.ClassList.Should().NotContain("can-drop-from-container");
449              thirdDropZone.ClassList.Should().NotContain("no-drop-class-from-container");
450          }
451          [Test]
452          public void DropZone_CheckDropClasses_DisabledItems()
453          {
454              var comp = Context.RenderComponent<DropzoneDisableTest>();
455              var firstDropZone = comp.Find(".first-drop-zone");
456              var secondDropZone = comp.Find(".second-drop-zone");
457              firstDropZone.Children.Should().HaveCount(3);
458              secondDropZone.Children.Should().HaveCount(3);
459              var firstDropItem = firstDropZone.Children[1];
460              var fourthDropItem = firstDropZone.Children[2];
461              var secondDropItem = secondDropZone.Children[1];
462              var thirdDropItem = secondDropZone.Children[2];
463              firstDropItem.ClassList.Should().NotContain("my-zone-based-custom-disabled");
464              firstDropItem.ClassList.Should().NotContain("my-custom-disabled-class-from-container");
465              firstDropItem.GetAttribute("draggable").Should().Be("true");
466              fourthDropItem.ClassList.Should().Contain("my-zone-based-custom-disabled");
467              fourthDropItem.ClassList.Should().NotContain("my-custom-disabled-class-from-container");
468              fourthDropItem.GetAttribute("draggable").Should().Be("false");
469              secondDropItem.ClassList.Should().NotContain("my-zone-based-custom-disabled");
470              secondDropItem.ClassList.Should().NotContain("my-custom-disabled-class-from-container");
471              secondDropItem.GetAttribute("draggable").Should().Be("true");
472              thirdDropItem.ClassList.Should().NotContain("my-zone-based-custom-disabled");
473              thirdDropItem.ClassList.Should().Contain("my-custom-disabled-class-from-container");
474              thirdDropItem.GetAttribute("draggable").Should().Be("false");
475          }
476          [Test]
477          public async Task DropZone_DynamicItemsChanges()
478          {
479              var comp = Context.RenderComponent<DropzoneDynamicItemCollectionTest>();
480              var firstDropZone = comp.Find(".first-drop-zone");
481              var secondDropZone = comp.Find(".second-drop-zone");
482              firstDropZone.Children.Should().HaveCount(2);
483              secondDropZone.Children.Should().HaveCount(1);
484              comp.Instance.AddItem();
485              secondDropZone.Children.Should().HaveCount(1);
486              await comp.Instance.InvokeRefresh();
487              secondDropZone.Children.Should().HaveCount(2);
488              comp.Instance.RemoveLastItem();
489              secondDropZone.Children.Should().HaveCount(2);
490              await comp.Instance.InvokeRefresh();
491              secondDropZone.Children.Should().HaveCount(1);
492          }
493          [Test]
494          public void DropZone_OnlyZone()
495          {
496              var comp = Context.RenderComponent<DropzoneVisbilityTest>();
497              var container = comp.Find(".mud-drop-container");
498              container.Children.Should().HaveCount(2);
499              var firstDropZone = container.Children[0];
500              firstDropZone.Children.Should().ContainSingle();
501              firstDropZone.Children[0].TextContent.Should().Be("Drop Zone 1");
502              var secondDropZone = container.Children[1];
503              secondDropZone.Children.Should().HaveCount(3);
504              secondDropZone.Children[0].TextContent.Should().Be("Drop Zone 2");
505              secondDropZone.Children[1].TextContent.Should().Be("Second Item");
506              secondDropZone.Children[2].TextContent.Should().Be("Third Item");
507              comp.SetParametersAndRender(x => x.Add(p => p.HideItemsInFirstDropZone, false));
508              container = comp.Find(".mud-drop-container");
509              firstDropZone = container.Children[0];
510              firstDropZone.Children.Should().HaveCount(2);
511              firstDropZone.Children[0].TextContent.Should().Be("Drop Zone 1");
512              firstDropZone.Children[1].TextContent.Should().Be("First Item");
513          }
514          [Test]
515          public async Task DropZone_Reorder_PlaceIntoEmptyZone()
516          {
517              var comp = Context.RenderComponent<DropzoneReorderTest>();
518              comp.Find(".mud-drop-container");
519              var firstDropZone = comp.Find(".dropzone-1");
520              firstDropZone.Children.Should().HaveCount(6);
521              firstDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
522              firstDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
523              firstDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
524              firstDropZone.Children[2].TextContent.Should().Be("Item 1");
525              firstDropZone.Children[3].TextContent.Should().Be("Item 2");
526              firstDropZone.Children[4].TextContent.Should().Be("Item 3");
527              firstDropZone.Children[5].TextContent.Should().Be("Item 4");
528              var firstDropItem = firstDropZone.Children[2];
529              await firstDropItem.DragStartAsync(new DragEventArgs());
530              var thirdDropZone = comp.Find(".dropzone-3");
531              thirdDropZone.Children.Should().ContainSingle();
532              thirdDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
533              await thirdDropZone.DragEnterAsync(new DragEventArgs());
534              thirdDropZone.Children.Should().ContainSingle();
535              thirdDropZone.Children[0].ClassList.Should().Contain("mud-dropitem-placeholder").And.NotContain("d-none");
536              await thirdDropZone.DropAsync(new DragEventArgs());
537              thirdDropZone.Children.Should().HaveCount(3);
538              thirdDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
539              thirdDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
540              thirdDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
541              thirdDropZone.Children[2].TextContent.Should().Be("Item 1");
542              comp.Instance.IndexHistory.Distinct().Should().ContainSingle().And.Contain(0);
543          }
544          [Test]
545          public async Task DropZone_Reorder_MoveWithinContainer_Down()
546          {
547              var comp = Context.RenderComponent<DropzoneReorderTest>();
548              comp.Find(".mud-drop-container");
549              var firstDropZone = comp.Find(".dropzone-1");
550              firstDropZone.Children.Should().HaveCount(6);
551              firstDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
552              firstDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
553              firstDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
554              firstDropZone.Children[2].TextContent.Should().Be("Item 1");
555              var secondDropItem = firstDropZone.Children[3];
556              secondDropItem.TextContent.Should().Be("Item 2");
557              await secondDropItem.DragStartAsync(new DragEventArgs());
558              var thirdDropItem = firstDropZone.Children[3];
559              thirdDropItem.TextContent.Should().Be("Item 3");
560              await thirdDropItem.DragEnterAsync(new DragEventArgs());
561              firstDropZone.Children.Should().HaveCount(6);
562              firstDropZone.Children[4].ClassList.Should().Contain("mud-dropitem-placeholder").And.NotContain("d-none");
563              await firstDropZone.DropAsync(new DragEventArgs());
564              firstDropZone.Children.Should().HaveCount(6);
565              firstDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
566              firstDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
567              firstDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
568              firstDropZone.Children[2].TextContent.Should().Be("Item 1");
569              firstDropZone.Children[3].TextContent.Should().Be("Item 3");
570              firstDropZone.Children[4].TextContent.Should().Be("Item 2");
571              firstDropZone.Children[5].TextContent.Should().Be("Item 4");
572              comp.Instance.IndexHistory.Distinct().Should().ContainSingle().And.Contain(2);
573          }
574          [Test]
575          public async Task DropZone_Reorder_MoveWithinContainer_Up()
576          {
577              var comp = Context.RenderComponent<DropzoneReorderTest>();
578              comp.Find(".mud-drop-container");
579              var firstDropZone = comp.Find(".dropzone-1");
580              firstDropZone.Children.Should().HaveCount(6);
581              firstDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
582              firstDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
583              firstDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
584              firstDropZone.Children[2].TextContent.Should().Be("Item 1");
585              var thirdDropItem = firstDropZone.Children[4];
586              thirdDropItem.TextContent.Should().Be("Item 3");
587              await thirdDropItem.DragStartAsync(new DragEventArgs());
588              var firstDropItem = firstDropZone.Children[1];
589              firstDropItem.TextContent.Should().Be("Item 1");
590              await firstDropItem.DragEnterAsync(new DragEventArgs());
591              firstDropZone.Children.Should().HaveCount(6);
592              firstDropZone.Children[2].ClassList.Should().Contain("mud-dropitem-placeholder").And.NotContain("d-none");
593              await firstDropZone.DropAsync(new DragEventArgs());
594              firstDropZone.Children.Should().HaveCount(6);
595              firstDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
596              firstDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
597              firstDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
598              firstDropZone.Children[2].TextContent.Should().Be("Item 1");
599              firstDropZone.Children[3].TextContent.Should().Be("Item 3");
600              firstDropZone.Children[4].TextContent.Should().Be("Item 2");
601              firstDropZone.Children[5].TextContent.Should().Be("Item 4");
602              comp.Instance.IndexHistory.Distinct().Should().ContainSingle().And.Contain(1);
603          }
604          [Test]
605          public async Task DropZone_Reorder_MoveWithinContainer_ToBottom()
606          {
607              var comp = Context.RenderComponent<DropzoneReorderTest>();
608              comp.Find(".mud-drop-container");
609              var firstDropZone = comp.Find(".dropzone-1");
610              firstDropZone.Children.Should().HaveCount(6);
611              firstDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
612              firstDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
613              firstDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
614              firstDropZone.Children[2].TextContent.Should().Be("Item 1");
615              var secondDropItem = firstDropZone.Children[3];
616              secondDropItem.TextContent.Should().Be("Item 2");
617              await secondDropItem.DragStartAsync(new DragEventArgs());
618              var lastDropItem = firstDropZone.Children[4];
619              lastDropItem.TextContent.Should().Be("Item 4");
620              await lastDropItem.DragEnterAsync(new DragEventArgs());
621              firstDropZone.Children.Should().HaveCount(6);
622              firstDropZone.Children[5].ClassList.Should().Contain("mud-dropitem-placeholder").And.NotContain("d-none");
623              await firstDropZone.DropAsync(new DragEventArgs());
624              firstDropZone.Children.Should().HaveCount(6);
625              firstDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
626              firstDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
627              firstDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
628              firstDropZone.Children[2].TextContent.Should().Be("Item 1");
629              firstDropZone.Children[3].TextContent.Should().Be("Item 3");
630              firstDropZone.Children[4].TextContent.Should().Be("Item 4");
631              firstDropZone.Children[5].TextContent.Should().Be("Item 2");
632              comp.Instance.IndexHistory.Distinct().Should().ContainSingle().And.Contain(3);
633          }
634          [Test]
635          public async Task DropZone_Reorder_MoveWithinContainer_Top()
636          {
637              var comp = Context.RenderComponent<DropzoneReorderTest>();
638              comp.Find(".mud-drop-container");
639              var firstDropZone = comp.Find(".dropzone-1");
640              firstDropZone.Children.Should().HaveCount(6);
641              firstDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
642              firstDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
643              firstDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
644              firstDropZone.Children[2].TextContent.Should().Be("Item 1");
645              var thirdDropItem = firstDropZone.Children[4];
646              thirdDropItem.TextContent.Should().Be("Item 3");
647              await thirdDropItem.DragStartAsync(new DragEventArgs());
648              var firstDropItem = firstDropZone.Children[0];
649              firstDropItem.TextContent.Should().BeEmpty();
650              await firstDropItem.DragEnterAsync(new DragEventArgs());
651              firstDropZone.Children.Should().HaveCount(6);
652              firstDropZone.Children[0].ClassList.Should().Contain("mud-dropitem-placeholder").And.NotContain("d-none");
653              await firstDropZone.DropAsync(new DragEventArgs());
654              firstDropZone.Children.Should().HaveCount(6);
655              firstDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
656              firstDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
657              firstDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
658              firstDropZone.Children[2].TextContent.Should().Be("Item 3");
659              firstDropZone.Children[3].TextContent.Should().Be("Item 1");
660              firstDropZone.Children[4].TextContent.Should().Be("Item 2");
661              firstDropZone.Children[5].TextContent.Should().Be("Item 4");
662              comp.Instance.IndexHistory.Distinct().Should().ContainSingle().And.Contain(0);
663          }
664          [Test]
665          public async Task DropZone_Reorder_MoveWithinContainer_NoChange()
666          {
667              var comp = Context.RenderComponent<DropzoneReorderTest>();
668              comp.Find(".mud-drop-container");
669              var firstDropZone = comp.Find(".dropzone-1");
670              firstDropZone.Children.Should().HaveCount(6);
671              firstDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
672              firstDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
673              firstDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
674              firstDropZone.Children[2].TextContent.Should().Be("Item 1");
675              var secondDropItem = firstDropZone.Children[3];
676              secondDropItem.TextContent.Should().Be("Item 2");
677              await secondDropItem.DragStartAsync(new DragEventArgs());
678              await firstDropZone.DropAsync(new DragEventArgs());
679              firstDropZone.Children.Should().HaveCount(6);
680              firstDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
681              firstDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
682              firstDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
683              firstDropZone.Children[2].TextContent.Should().Be("Item 1");
684              firstDropZone.Children[3].TextContent.Should().Be("Item 2");
685              firstDropZone.Children[4].TextContent.Should().Be("Item 3");
686              firstDropZone.Children[5].TextContent.Should().Be("Item 4");
687              comp.Instance.IndexHistory.Distinct().Should().ContainSingle().And.Contain(1);
688          }
689          [Test]
690          public async Task DropZone_Reorder_MoveBetweenZones()
691          {
692              var comp = Context.RenderComponent<DropzoneReorderTest>();
693              comp.Find(".mud-drop-container");
694              var firstDropZone = comp.Find(".dropzone-1");
695              firstDropZone.Children.Should().HaveCount(6);
696              firstDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
697              firstDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
698              firstDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
699              firstDropZone.Children[2].TextContent.Should().Be("Item 1");
700              var secondDropZone = comp.Find(".dropzone-2");
701              var secondDropItemInFirstZone = firstDropZone.Children[3];
702              secondDropItemInFirstZone.TextContent.Should().Be("Item 2");
703              await secondDropItemInFirstZone.DragStartAsync(new DragEventArgs());
704              await secondDropZone.DragEnterAsync(new DragEventArgs());
705              var firstItemInSecondDropZone = secondDropZone.Children[3];
706              firstItemInSecondDropZone.TextContent.Should().Be("Item 6");
707              await firstItemInSecondDropZone.DragEnterAsync(new DragEventArgs());
708              secondDropZone.Children.Should().HaveCount(4);
709              secondDropZone.Children[3].ClassList.Should().Contain("mud-dropitem-placeholder").And.NotContain("d-none");
710              await secondDropZone.DropAsync(new DragEventArgs());
711              firstDropZone.Children.Should().HaveCount(5);
712              firstDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
713              firstDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
714              firstDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
715              firstDropZone.Children[2].TextContent.Should().Be("Item 1");
716              firstDropZone.Children[3].TextContent.Should().Be("Item 3");
717              firstDropZone.Children[4].TextContent.Should().Be("Item 4");
718              secondDropZone.Children.Should().HaveCount(5);
719              secondDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
720              secondDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
721              secondDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
722              secondDropZone.Children[2].TextContent.Should().Be("Item 5");
723              secondDropZone.Children[3].TextContent.Should().Be("Item 6");
724              secondDropZone.Children[4].TextContent.Should().Be("Item 2");
725              await secondDropZone.Children[3].DragStartAsync(new DragEventArgs());
726              await firstDropZone.DragEnterAsync(new DragEventArgs());
727              await firstDropZone.Children[3].DragEnterAsync(new DragEventArgs());
728              await firstDropZone.DropAsync(new DragEventArgs());
729              firstDropZone.Children.Should().HaveCount(6);
730              firstDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
731              firstDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
732              firstDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
733              firstDropZone.Children[2].TextContent.Should().Be("Item 1");
734              firstDropZone.Children[3].TextContent.Should().Be("Item 3");
735              firstDropZone.Children[4].TextContent.Should().Be("Item 6");
736              firstDropZone.Children[5].TextContent.Should().Be("Item 4");
737              secondDropZone.Children.Should().HaveCount(4);
738              secondDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
739              secondDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
740              secondDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
741              secondDropZone.Children[2].TextContent.Should().Be("Item 5");
742              secondDropZone.Children[3].TextContent.Should().Be("Item 2");
743              await firstDropZone.Children[4].DragStartAsync(new DragEventArgs());
744              await secondDropZone.DragEnterAsync(new DragEventArgs());
745              await secondDropZone.Children[3].DragEnterAsync(new DragEventArgs());
746              await secondDropZone.DropAsync(new DragEventArgs());
747              firstDropZone.Children.Should().HaveCount(5);
748              firstDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
749              firstDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
750              firstDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
751              firstDropZone.Children[2].TextContent.Should().Be("Item 1");
752              firstDropZone.Children[3].TextContent.Should().Be("Item 3");
753              firstDropZone.Children[4].TextContent.Should().Be("Item 4");
754              secondDropZone.Children.Should().HaveCount(5);
755              secondDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
756              secondDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
757              secondDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
758              secondDropZone.Children[2].TextContent.Should().Be("Item 5");
759              secondDropZone.Children[3].TextContent.Should().Be("Item 2");
760              secondDropZone.Children[4].TextContent.Should().Be("Item 6");
761              await secondDropZone.Children[3].DragStartAsync(new DragEventArgs());
762              await firstDropZone.DragEnterAsync(new DragEventArgs());
763              await firstDropZone.Children[2].DragEnterAsync(new DragEventArgs());
764              await firstDropZone.DropAsync(new DragEventArgs());
765              firstDropZone.Children.Should().HaveCount(6);
766              firstDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
767              firstDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
768              firstDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
769              firstDropZone.Children[2].TextContent.Should().Be("Item 1");
770              firstDropZone.Children[3].TextContent.Should().Be("Item 2");
771              firstDropZone.Children[4].TextContent.Should().Be("Item 3");
772              firstDropZone.Children[5].TextContent.Should().Be("Item 4");
773              secondDropZone.Children.Should().HaveCount(4);
774              secondDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
775              secondDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
776              secondDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
777              secondDropZone.Children[2].TextContent.Should().Be("Item 5");
778              secondDropZone.Children[3].TextContent.Should().Be("Item 6");
779              comp.Instance.IndexHistory.Should().ContainInOrder(
780                  new[] { 2, 2, 2, 1 });
781          }
782          [Test]
783          public async Task DropZone_Reorder_NoPreviewOnSameItem()
784          {
785              var comp = Context.RenderComponent<DropzoneReorderTest>();
786              comp.Find(".mud-drop-container");
787              var firstDropZone = comp.Find(".dropzone-1");
788              firstDropZone.Children.Should().HaveCount(6);
789              firstDropZone.Children[0].ClassList.Should().Contain(new[] { "d-none", "mud-dropitem-placeholder" });
790              firstDropZone.Children[1].ClassList.Should().Contain("mud-drop-item-preview-start");
791              firstDropZone.Children[1].GetAttribute("draggable").Should().Be("false");
792              firstDropZone.Children[2].TextContent.Should().Be("Item 1");
793              var thirdDropItem = firstDropZone.Children[4];
794              thirdDropItem.TextContent.Should().Be("Item 3");
795              await thirdDropItem.DragStartAsync(new DragEventArgs());
796              firstDropZone.Children.Should().HaveCount(5);
797              firstDropZone.Children[0].TextContent.Should().BeNullOrEmpty();
798              firstDropZone.Children[1].TextContent.Should().Be("Item 1");
799              firstDropZone.Children[2].TextContent.Should().Be("Item 2");
800              firstDropZone.Children[3].TextContent.Should().Be("Item 3");
801              firstDropZone.Children[4].TextContent.Should().Be("Item 4");
802              await firstDropZone.Children[3].DragEnterAsync(new DragEventArgs());
803              firstDropZone.Children.Should().HaveCount(5);
804              firstDropZone.Children[0].TextContent.Should().BeNullOrEmpty();
805              firstDropZone.Children[1].TextContent.Should().Be("Item 1");
806              firstDropZone.Children[2].TextContent.Should().Be("Item 2");
807              firstDropZone.Children[3].TextContent.Should().Be("Item 3");
808              firstDropZone.Children[4].TextContent.Should().Be("Item 4");
809              await firstDropZone.Children[2].DragEnterAsync(new DragEventArgs());
810              firstDropZone.Children.Should().HaveCount(5);
811              firstDropZone.Children[0].TextContent.Should().BeNullOrEmpty();
812              firstDropZone.Children[1].TextContent.Should().Be("Item 1");
813              firstDropZone.Children[2].TextContent.Should().Be("Item 2");
814              firstDropZone.Children[3].TextContent.Should().Be("Item 3");
815              firstDropZone.Children[4].TextContent.Should().Be("Item 4");
816          }
817          [Test]
818          public async Task DropZone_DragFinished_DropNotAllowed_KeepOrder()
819          {
820              var comp = Context.RenderComponent<DropzoneDraggingTestCantDropSecondZoneTest>();
821              var container = comp.Find(".mud-drop-container");
822              container.Children.Should().HaveCount(2);
823              var firstDropZone = container.Children[0];
824              var secondDropZone = container.Children[1];
825              secondDropZone.Children.Should().HaveCount(3);
826              var secondDropItem = secondDropZone.Children[1];
827              var secondDropItemText = secondDropItem.Children[0].TextContent;
828              secondDropItemText.Should().Be("Second Item");
829              await secondDropItem.DragStartAsync(new DragEventArgs());
830              await firstDropZone.DropAsync(new DragEventArgs());
831              container = comp.Find(".mud-drop-container");
832              secondDropZone = container.Children[1];
833              secondDropItem = secondDropZone.Children[1];
834              secondDropItemText = secondDropItem.Children[0].TextContent;
835              secondDropItemText.Should().Be("Second Item");
836          }
837      }
838  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-ButtonsTests.cs</div>
                <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-DropZoneTests.cs</div>
                <div class="column column_space"><pre><code>86              var comp = Context.RenderComponent<MudButton>(link, rel, target);
87              comp
88                  .Find("a")
89                  .GetAttribute("rel")
90                  .Should()
91                  .Be("");
92          }
93          [Test]
94          public void MudButtonShouldNotRenderRelIfNullAndTargetNotBlank()
95          {
96              var link = Parameter(nameof(MudButton.Href), "https:&bsol;&bsol;www.google.com");
97              var rel = Parameter(nameof(MudButton.Rel), null);
</pre></code></div>
                <div class="column column_space"><pre><code>136              secondDropZone.ClassList.Should().NotContain("mud-drop-zone-drag-block");
137              comp.Instance.IndexHistory.Distinct().Should().ContainSingle().And.Contain(-1);
138          }
139          [Test]
140          public async Task DropZone_DragAndDropDraggingClass_DragCanceled()
141          {
142              var comp = Context.RenderComponent<DropzoneBasicTest>();
143              var container = comp.Find(".mud-drop-container");
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    