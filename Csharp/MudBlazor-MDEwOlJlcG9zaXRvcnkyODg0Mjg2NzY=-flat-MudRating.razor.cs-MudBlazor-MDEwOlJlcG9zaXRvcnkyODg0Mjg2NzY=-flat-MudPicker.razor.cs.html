
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 48.43423799582464%, Tokens: 16</h2>
        <div class="column">
            <h3>MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-MudRating.razor.cs</h3>
            <pre><code>1  using System;
2  using Microsoft.AspNetCore.Components;
3  using Microsoft.AspNetCore.Components.Web;
4  using MudBlazor.Utilities;
5  namespace MudBlazor
6  {
7      public partial class MudRating : MudComponentBase
8      {
9          protected string ClassName =>
10          new CssBuilder("")
11            .AddClass($"mud-rating-root")
12            .AddClass(Class)
13          .Build();
14          [Parameter]
15          [Category(CategoryTypes.Rating.Appearance)]
16          public string RatingItemsClass { get; set; }
17          [Parameter]
18          [Category(CategoryTypes.Rating.Appearance)]
19          public string RatingItemsStyle { get; set; }
20          [Parameter]
21          [Category(CategoryTypes.Rating.Behavior)]
22          public string Name { get; set; } = Guid.NewGuid().ToString();
23          [Parameter]
24          [Category(CategoryTypes.Rating.Behavior)]
25          public int MaxValue { get; set; } = 5;
26          [Parameter]
27          [Category(CategoryTypes.Rating.Appearance)]
28          public string FullIcon { get; set; } = Icons.Material.Filled.Star;
29          [Parameter]
30          [Category(CategoryTypes.Rating.Appearance)]
31          public string EmptyIcon { get; set; } = Icons.Material.Filled.StarBorder;
32          [Parameter]
33          [Category(CategoryTypes.Rating.Appearance)]
34          public Color Color { get; set; } = Color.Default;
35          [Parameter]
36          [Category(CategoryTypes.Rating.Appearance)]
37          public Size Size { get; set; } = Size.Medium;
38          [Parameter]
39          [Category(CategoryTypes.Rating.Appearance)]
40          public bool DisableRipple { get; set; }
41          [Parameter]
42          [Category(CategoryTypes.Rating.Behavior)]
43          public bool Disabled { get; set; }
44          [Parameter]
45          [Category(CategoryTypes.Rating.Behavior)]
46          public bool ReadOnly { get; set; }
<span onclick='openModal()' class='match'>47          [Parameter] public EventCallback<int> SelectedValueChanged { get; set; }
48          [Parameter]
49          [Category(CategoryTypes.Rating.Data)]
50          public int SelectedValue
51          {
52              get => _selectedValue;
53              set
54              {
55                  if (_selectedValue == value)
56                      return;
</span>57                  _selectedValue = value;
58                  SelectedValueChanged.InvokeAsync(_selectedValue);
59              }
60          }
61          private int _selectedValue = 0;
62          [Parameter] public EventCallback<int?> HoveredValueChanged { get; set; }
63          internal int? HoveredValue
64          {
65              get => _hoveredValue;
66              set
67              {
68                  if (_hoveredValue == value)
69                      return;
70                  _hoveredValue = value;
71                  HoveredValueChanged.InvokeAsync(value);
72              }
73          }
74          private int? _hoveredValue = null;
75          internal bool IsRatingHover => HoveredValue.HasValue;
76          private void HandleItemClicked(int itemValue)
77          {
78              SelectedValue = itemValue;
79              if (itemValue == 0)
80              {
81                  HoveredValue = null;
82              }
83          }
84          internal void HandleItemHovered(int? itemValue) => HoveredValue = itemValue;
85          private void IncreaseValue(int val)
86          {
87              if ((SelectedValue == MaxValue && val > 0) || (SelectedValue == 0 && val < 0))
88              {
89              }
90              else
91              {
92                  SelectedValue += val;
93              }
94          }
95          protected internal void HandleKeyDown(KeyboardEventArgs obj)
96          {
97              if (Disabled || ReadOnly)
98              {
99                  return;
100              }
101              switch (obj.Key)
102              {
103                  case "ArrowRight":
104                      if (obj.ShiftKey == true)
105                      {
106                          IncreaseValue(MaxValue - SelectedValue);
107                      }
108                      else
109                      {
110                          IncreaseValue(1);
111                      }
112                      break;
113                  case "ArrowLeft":
114                      if (obj.ShiftKey == true)
115                      {
116                          IncreaseValue(-SelectedValue);
117                      }
118                      else
119                      {
120                          IncreaseValue(-1);
121                      }
122                      break;
123              }
124          }
125      }
126  }
</code></pre>
        </div>
        <div class="column">
            <h3>MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-MudPicker.razor.cs</h3>
            <pre><code>1  using System;
2  using System.Diagnostics.CodeAnalysis;
3  using System.Text.RegularExpressions;
4  using System.Threading.Tasks;
5  using Microsoft.AspNetCore.Components;
6  using Microsoft.AspNetCore.Components.Web;
7  using MudBlazor.Interfaces;
8  using MudBlazor.Services;
9  using MudBlazor.Utilities;
10  namespace MudBlazor
11  {
12      public partial class MudPicker<T> : MudFormComponent<T, string>
13      {
14          protected IKeyInterceptor _keyInterceptor;
15          public MudPicker() : base(new Converter<T, string>()) { }
16          protected MudPicker(Converter<T, string> converter) : base(converter) { }
17          [Inject] private IKeyInterceptorFactory _keyInterceptorFactory { get; set; }
18          private string _elementId = "picker" + Guid.NewGuid().ToString().Substring(0, 8);
19          [Inject] private IBrowserWindowSizeProvider WindowSizeListener { get; set; }
20          protected string PickerClass =>
21              new CssBuilder("mud-picker")
22                  .AddClass($"mud-picker-inline", PickerVariant != PickerVariant.Static)
23                  .AddClass($"mud-picker-static", PickerVariant == PickerVariant.Static)
24                  .AddClass($"mud-rounded", PickerVariant == PickerVariant.Static && !_pickerSquare)
25                  .AddClass($"mud-elevation-{_pickerElevation}", PickerVariant == PickerVariant.Static)
26                  .AddClass($"mud-picker-input-button", !Editable && PickerVariant != PickerVariant.Static)
27                  .AddClass($"mud-picker-input-text", Editable && PickerVariant != PickerVariant.Static)
28                  .AddClass($"mud-disabled", GetDisabledState() && PickerVariant != PickerVariant.Static)
29                  .AddClass(Class)
30                  .Build();
31          protected string PickerPaperClass =>
32              new CssBuilder("mud-picker")
33                  .AddClass("mud-picker-paper")
34                  .AddClass("mud-picker-view", PickerVariant == PickerVariant.Inline)
35                  .AddClass("mud-picker-open", IsOpen && PickerVariant == PickerVariant.Inline)
36                  .AddClass("mud-picker-popover-paper", PickerVariant == PickerVariant.Inline)
37                  .AddClass("mud-dialog", PickerVariant == PickerVariant.Dialog)
38                  .Build();
39          protected string PickerInlineClass =>
40              new CssBuilder("mud-picker-inline-paper")
41                  .Build();
42          protected string PickerContainerClass =>
43              new CssBuilder("mud-picker-container")
44                  .AddClass("mud-paper-square", _pickerSquare)
45                  .AddClass("mud-picker-container-landscape",
46                      Orientation == Orientation.Landscape && PickerVariant == PickerVariant.Static)
47                  .Build();
48          protected string PickerInputClass =>
49              new CssBuilder("mud-input-input-control").AddClass(Class)
50                  .Build();
51          protected string ActionClass => new CssBuilder("mud-picker-actions")
52              .AddClass(ClassActions)
53              .Build();
54          [ExcludeFromCodeCoverage]
55          [Parameter]
56          [Obsolete("Use AdornmentIcon instead.", true)]
57          public string InputIcon
58          {
59              get { return AdornmentIcon; }
60              set { AdornmentIcon = value; }
61          }
62          [Parameter]
63          [Category(CategoryTypes.FormComponent.Appearance)]
64          public Color AdornmentColor { get; set; } = Color.Default;
65          [Parameter]
66          [Category(CategoryTypes.FormComponent.Behavior)]
67          public string AdornmentIcon { get; set; } = Icons.Material.Filled.Event;
68          [Parameter]
69          [Category(CategoryTypes.FormComponent.Appearance)]
70          public string AdornmentAriaLabel { get; set; } = string.Empty;
71          [Parameter]
72          [Category(CategoryTypes.FormComponent.Behavior)]
73          public string Placeholder { get; set; }
74          [Parameter]
75          public EventCallback PickerOpened { get; set; }
76          [Parameter]
77          public EventCallback PickerClosed { get; set; }
78          [Parameter]
79          [Category(CategoryTypes.FormComponent.PickerAppearance)]
80          public int Elevation { set; get; } = 8;
81          [Parameter]
82          [Category(CategoryTypes.FormComponent.PickerAppearance)]
83          public bool Square { get; set; }
84          [Parameter]
85          [Category(CategoryTypes.FormComponent.PickerAppearance)]
86          public bool Rounded { get; set; }
87          [Parameter]
88          [Category(CategoryTypes.FormComponent.Behavior)]
89          public string HelperText { get; set; }
90          [Parameter]
91          [Category(CategoryTypes.FormComponent.Behavior)]
92          public bool HelperTextOnFocus { get; set; }
93          [Parameter]
94          [Category(CategoryTypes.FormComponent.Behavior)]
95          public string Label { get; set; }
96          [Parameter]
97          [Category(CategoryTypes.FormComponent.Behavior)]
98          public bool Clearable { get; set; } = false;
99          [Parameter]
100          [Category(CategoryTypes.FormComponent.Behavior)]
101          public bool Disabled { get; set; }
102          [CascadingParameter(Name = "ParentDisabled")] private bool ParentDisabled { get; set; }
103          protected bool GetDisabledState() => Disabled || ParentDisabled;
104          [Parameter]
105          [Category(CategoryTypes.FormComponent.Behavior)]
106          public bool ReadOnly { get; set; }
107          [CascadingParameter(Name = "ParentReadOnly")] private bool ParentReadOnly { get; set; }
108          protected bool GetReadOnlyState() => ReadOnly || ParentReadOnly;
109          [Parameter]
110          [Category(CategoryTypes.FormComponent.Behavior)]
111          public bool Editable { get; set; } = false;
112          [Parameter]
113          [Category(CategoryTypes.FormComponent.PickerAppearance)]
114          public bool DisableToolbar { get; set; }
115          [Parameter]
116          [Category(CategoryTypes.FormComponent.PickerAppearance)]
117          public string ToolBarClass { get; set; }
118          [Parameter]
119          [Category(CategoryTypes.FormComponent.Behavior)]
120          public PickerVariant PickerVariant { get; set; } = PickerVariant.Inline;
121          [ExcludeFromCodeCoverage]
122          [Parameter]
123          [Obsolete("Use Variant instead.", true)]
124          public Variant InputVariant
125          {
126              get { return Variant; }
127              set { Variant = value; }
128          }
129          [Parameter]
130          [Category(CategoryTypes.FormComponent.Appearance)]
131          public Variant Variant { get; set; } = Variant.Text;
132          [Parameter]
133          [Category(CategoryTypes.FormComponent.Behavior)]
134          public Adornment Adornment { get; set; } = Adornment.End;
135          [Parameter]
136          [Category(CategoryTypes.FormComponent.PickerAppearance)]
137          public Orientation Orientation { get; set; } = Orientation.Portrait;
138          [Parameter]
139          [Category(CategoryTypes.FormComponent.Appearance)]
140          public Size IconSize { get; set; } = Size.Medium;
141          [Parameter]
142          [Category(CategoryTypes.FormComponent.PickerAppearance)]
143          public Color Color { get; set; } = Color.Primary;
144          [Obsolete("This is enabled now by default when you use Editable=true. You can remove the parameter.", false)]
145          [Parameter]
146          public bool AllowKeyboardInput { get; set; }
147          [Parameter]
148          public EventCallback<string> TextChanged { get; set; }
149          [Parameter]
<span onclick='openModal()' class='match'>150          public EventCallback<MouseEventArgs> OnClick { get; set; }
151          [Parameter]
152          [Category(CategoryTypes.FormComponent.Data)]
153          public string Text
154          {
155              get => _text;
156              set => SetTextAsync(value, true).AndForget();
</span>157          }
158          private string _text;
159          [Parameter]
160          [Category(CategoryTypes.FormComponent.PickerAppearance)]
161          public string ClassActions { get; set; }
162          [Parameter]
163          [Category(CategoryTypes.FormComponent.PickerBehavior)]
164          public RenderFragment<MudPicker<T>> PickerActions { get; set; }
165          [Parameter]
166          [Category(CategoryTypes.FormComponent.Appearance)]
167          public Margin Margin { get; set; } = Margin.None;
168          [Parameter]
169          [Category(CategoryTypes.FormComponent.Behavior)]
170          public IMask Mask
171          {
172              get => _mask;
173              set => _mask = value;
174          }
175          [Parameter]
176          [Category(CategoryTypes.Popover.Appearance)]
177          public Origin AnchorOrigin { get; set; } = Origin.TopLeft;
178          [Parameter]
179          [Category(CategoryTypes.Popover.Appearance)]
180          public Origin TransformOrigin { get; set; } = Origin.TopLeft;
181          protected IMask _mask = null;
182          protected async Task SetTextAsync(string value, bool callback)
183          {
184              if (_text != value)
185              {
186                  _text = value;
187                  if (callback)
188                      await StringValueChanged(_text);
189                  await TextChanged.InvokeAsync(_text);
190              }
191          }
192          protected virtual Task StringValueChanged(string value)
193          {
194              return Task.CompletedTask;
195          }
196          protected bool IsOpen { get; set; }
197          public void ToggleOpen()
198          {
199              if (IsOpen)
200                  Close();
201              else
202                  Open();
203          }
204          public void Close(bool submit = true)
205          {
206              IsOpen = false;
207              if (submit)
208              {
209                  Submit();
210              }
211              OnClosed();
212              StateHasChanged();
213          }
214          public void Open()
215          {
216              IsOpen = true;
217              StateHasChanged();
218              OnOpened();
219          }
220          private void CloseOverlay() => Close(PickerActions == null);
221          protected internal virtual void Submit() { }
222          public virtual void Clear(bool close = true)
223          {
224              if (close && PickerVariant != PickerVariant.Static)
225              {
226                  Close(false);
227              }
228          }
229          [Obsolete($"Use {nameof(ResetValueAsync)} instead. This will be removed in v7")]
230          [ExcludeFromCodeCoverage]
231          protected override void ResetValue()
232          {
233              _inputReference?.Reset();
234              base.ResetValue();
235          }
236          protected override async Task ResetValueAsync()
237          {
238              if (_inputReference is not null)
239              {
240                  await _inputReference.ResetAsync();
241              }
242              await base.ResetValueAsync();
243          }
244          protected internal MudTextField<string> _inputReference;
245          public virtual ValueTask FocusAsync() => _inputReference?.FocusAsync() ?? ValueTask.CompletedTask;
246          public virtual ValueTask BlurAsync() => _inputReference?.BlurAsync() ?? ValueTask.CompletedTask;
247          public virtual ValueTask SelectAsync() => _inputReference?.SelectAsync() ?? ValueTask.CompletedTask;
248          public virtual ValueTask SelectRangeAsync(int pos1, int pos2) =>
249              _inputReference?.SelectRangeAsync(pos1, pos2) ?? ValueTask.CompletedTask;
250          private bool _pickerSquare;
251          private int _pickerElevation;
252          private ElementReference _pickerInlineRef;
253          protected override void OnInitialized()
254          {
255              if (PickerVariant == PickerVariant.Static)
256              {
257                  IsOpen = true;
258                  if (Elevation == 8)
259                  {
260                      _pickerElevation = 0;
261                  }
262                  else
263                  {
264                      _pickerElevation = Elevation;
265                  }
266                  if (!Rounded)
267                  {
268                      _pickerSquare = true;
269                  }
270              }
271              else
272              {
273                  _pickerSquare = Square;
274                  _pickerElevation = Elevation;
275              }
276              if (Label == null && For != null)
277                  Label = For.GetLabelString();
278          }
279          private async Task EnsureKeyInterceptor()
280          {
281              if (_keyInterceptor == null)
282              {
283                  _keyInterceptor = _keyInterceptorFactory.Create();
284                  await _keyInterceptor.Connect(_elementId, new KeyInterceptorOptions()
285                  {
286                      TargetClass = "mud-input-slot",
287                      Keys =
288                      {
289                          new KeyOptions { Key = " ", PreventDown = "key+none" },
290                          new KeyOptions { Key = "ArrowUp", PreventDown = "key+none" },
291                          new KeyOptions { Key = "ArrowDown", PreventDown = "key+none" },
292                          new KeyOptions { Key = "Enter", PreventDown = "key+none" },
293                          new KeyOptions { Key = "NumpadEnter", PreventDown = "key+none" },
294                          new KeyOptions { Key = "/./", SubscribeDown = true, SubscribeUp = true }, 
295                      },
296                  });
297                  _keyInterceptor.KeyDown += HandleKeyDown;
298              }
299          }
300          private async Task OnClickAsync(MouseEventArgs args)
301          {
302              if (!Editable)
303                  ToggleState();
304              if (OnClick.HasDelegate)
305                  await OnClick.InvokeAsync(args);
306          }
307          protected override async Task OnAfterRenderAsync(bool firstRender)
308          {
309              if (firstRender == true)
310              {
311                  await EnsureKeyInterceptor();
312              }
313              await base.OnAfterRenderAsync(firstRender);
314          }
315          protected internal void ToggleState()
316          {
317              if (GetDisabledState() || GetReadOnlyState())
318                  return;
319              if (IsOpen)
320              {
321                  IsOpen = false;
322                  OnClosed();
323              }
324              else
325              {
326                  IsOpen = true;
327                  OnOpened();
328                  FocusAsync();
329              }
330          }
331          protected virtual async void OnOpened()
332          {
333              OnPickerOpened();
334              if (PickerVariant == PickerVariant.Inline)
335              {
336                  await _pickerInlineRef.MudChangeCssAsync(PickerInlineClass);
337              }
338              await EnsureKeyInterceptor();
339              await _keyInterceptor.UpdateKey(new() { Key = "Escape", StopDown = "key+none" });
340          }
341          protected virtual async void OnClosed()
342          {
343              OnPickerClosed();
344              await EnsureKeyInterceptor();
345              await _keyInterceptor.UpdateKey(new() { Key = "Escape", StopDown = "none" });
346          }
347          protected virtual void OnPickerOpened()
348          {
349              PickerOpened.InvokeAsync(this);
350          }
351          protected virtual void OnPickerClosed()
352          {
353              PickerClosed.InvokeAsync(this);
354          }
355          protected internal virtual void HandleKeyDown(KeyboardEventArgs obj)
356          {
357              if (GetDisabledState() || GetReadOnlyState())
358                  return;
359              switch (obj.Key)
360              {
361                  case "Backspace":
362                      if (obj.CtrlKey == true && obj.ShiftKey == true)
363                      {
364                          Clear();
365                          _value = default(T);
366                          Reset();
367                      }
368                      break;
369                  case "Escape":
370                  case "Tab":
371                      Close(false);
372                      break;
373              }
374          }
375          protected override void Dispose(bool disposing)
376          {
377              base.Dispose(disposing);
378              if (disposing == true)
379              {
380                  if (_keyInterceptor != null)
381                  {
382                      _keyInterceptor.KeyDown -= HandleKeyDown;
383                      _keyInterceptor.Dispose();
384                  }
385              }
386          }
387      }
388  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-MudRating.razor.cs</div>
                <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-MudPicker.razor.cs</div>
                <div class="column column_space"><pre><code>47          [Parameter] public EventCallback<int> SelectedValueChanged { get; set; }
48          [Parameter]
49          [Category(CategoryTypes.Rating.Data)]
50          public int SelectedValue
51          {
52              get => _selectedValue;
53              set
54              {
55                  if (_selectedValue == value)
56                      return;
</pre></code></div>
                <div class="column column_space"><pre><code>150          public EventCallback<MouseEventArgs> OnClick { get; set; }
151          [Parameter]
152          [Category(CategoryTypes.FormComponent.Data)]
153          public string Text
154          {
155              get => _text;
156              set => SetTextAsync(value, true).AndForget();
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    