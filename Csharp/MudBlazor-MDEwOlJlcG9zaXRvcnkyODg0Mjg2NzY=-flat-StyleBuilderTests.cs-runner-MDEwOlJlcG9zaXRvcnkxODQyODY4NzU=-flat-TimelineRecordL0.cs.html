
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 19.631901840490798%, Tokens: 11</h2>
        <div class="column">
            <h3>MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-StyleBuilderTests.cs</h3>
            <pre><code>1  using System.Collections.Generic;
2  using FluentAssertions;
3  using MudBlazor.Utilities;
4  using NUnit.Framework;
5  namespace UtilityTests
6  {
7      public class StyleBuilderTests
8      {
9          [Test]
10          public void ShouldBuildConditionalInlineStyles()
11          {
12              var hasBorder = true;
13              var isOnTop = false;
14              var top = 2;
15              var bottom = 10;
16              var left = 4;
17              var right = 20;
<span onclick='openModal()' class='match'>18              var classToRender = new StyleBuilder("background-color", "DodgerBlue")
19                              .AddStyle("border-width", $"{top}px {right}px {bottom}px {left}px", when: hasBorder)
20                              .AddStyle("z-index", "999", when: isOnTop)
21                              .AddStyle("z-index", "-1", when: !isOnTop)
22                              .AddStyle("padding", "35px")
23                              .Build();
24              classToRender.Should().Be("background-color:DodgerBlue;border-width:2px 20px 10px 4px;z-index:-1;padding:35px;");
25          }
26          [Test]
</span>27          public void ShouldBuildConditionalInlineStylesFromAttributes()
28          {
29              var hasBorder = true;
30              var isOnTop = false;
31              var top = 2;
32              var bottom = 10;
33              var left = 4;
34              var right = 20;
35              var styleToRender = new StyleBuilder("background-color", "DodgerBlue")
36                              .AddStyle("border-width", $"{top}px {right}px {bottom}px {left}px", when: hasBorder)
37                              .AddStyle("z-index", "999", when: isOnTop)
38                              .AddStyle("z-index", "-1", when: !isOnTop)
39                              .AddStyle("padding", "35px")
40                              .Build();
41              IReadOnlyDictionary<string, object> attributes = new Dictionary<string, object> { { "style", styleToRender } };
42              var classToRender = new StyleBuilder().AddStyleFromAttributes(attributes).Build();
43              classToRender.Should().Be("background-color:DodgerBlue;border-width:2px 20px 10px 4px;z-index:-1;padding:35px;");
44          }
45          [Test]
46          public void ShouldAddExistingStyle()
47          {
48              var styleToRender = StyleBuilder.Empty()
49                  .AddStyle("background-color:DodgerBlue;")
50                  .AddStyle("padding", "35px")
51                  .Build();
52              var styleToRenderFromDefaultConstructor = StyleBuilder.Default(styleToRender).Build();
53              styleToRender.Should().Be("background-color:DodgerBlue;;padding:35px;");
54              styleToRenderFromDefaultConstructor.Should().Be("background-color:DodgerBlue;;padding:35px;;");
55          }
56          [Test]
57          public void ShouldNotAddEmptyStyle()
58          {
59              var styleToRender = StyleBuilder.Empty().AddStyle("");
60              styleToRender.NullIfEmpty().Should().BeNull();
61          }
62          [Test]
63          public void ShouldAddNestedStyles()
64          {
65              var child = StyleBuilder.Empty()
66                  .AddStyle("background-color", "DodgerBlue")
67                  .AddStyle("padding", "35px");
68              var styleToRender = StyleBuilder.Empty()
69                  .AddStyle(child)
70                  .AddStyle("z-index", "-1")
71                  .Build();
72              styleToRender.Should().Be("background-color:DodgerBlue;padding:35px;z-index:-1;");
73          }
74          [Test]
75          public void ShouldAddComplexStyles()
76          {
77              var styleToRender = StyleBuilder.Empty()
78                  .AddStyle("text-decoration", v => v
79                              .AddValue("underline", true)
80                              .AddValue("overline", false)
81                              .AddValue("line-through", true),
82                              when: true)
83                  .AddStyle("z-index", "-1")
84                  .Build();
85              styleToRender.Should().Be("text-decoration:underline line-through;z-index:-1;");
86          }
87          [Test]
88          public void ShouldBuildStyleWithFunc()
89          {
90              {
91                  IReadOnlyDictionary<string, object> attributes = new Dictionary<string, object> { { "class", "my-custom-class-1" } };
92                  var styleToRender = StyleBuilder.Empty()
93                                  .AddStyle("background-color", () => attributes["style"].ToString(), when: attributes.ContainsKey("style"))
94                                  .AddStyle("background-color", "black")
95                                  .Build();
96                  styleToRender.Should().Be("background-color:black;");
97              }
98          }
99      }
100  }
</code></pre>
        </div>
        <div class="column">
            <h3>runner-MDEwOlJlcG9zaXRvcnkxODQyODY4NzU=-flat-TimelineRecordL0.cs</h3>
            <pre><code>1  #nullable enable
2  using System;
3  using System.IO;
4  using System.Collections.Generic;
5  using System.Linq;
6  using System.Runtime.Serialization.Json;
7  using GitHub.DistributedTask.WebApi;
8  using Xunit;
9  using System.Text;
10  namespace GitHub.Runner.Common.Tests.DistributedTask
11  {
12      public sealed class TimelineRecordL0
13      {
14          [Fact]
15          [Trait("Level", "L0")]
16          [Trait("Category", "DistributedTask")]
17          public void VerifyTimelineRecord_Defaults()
18          {
<span onclick='openModal()' class='match'>19              var tr = new TimelineRecord();
20              Assert.Equal(0, tr.ErrorCount);
21              Assert.Equal(0, tr.WarningCount);
22              Assert.Equal(0, tr.NoticeCount);
23              Assert.Equal(1, tr.Attempt);
24              Assert.NotNull(tr.Issues);
25              Assert.NotNull(tr.PreviousAttempts);
26              Assert.NotNull(tr.Variables);
27          }
28          [Fact]
</span>29          [Trait("Level", "L0")]
30          [Trait("Category", "DistributedTask")]
31          public void VerifyTimelineRecord_Clone()
32          {
33              var original = new TimelineRecord();
34              original.ErrorCount = 100;
35              original.WarningCount = 200;
36              original.NoticeCount = 300;
37              original.Attempt = 3;
38              original.Variables["xxx"] = new VariableValue("first", false);
39              original.Variables["XXX"] = new VariableValue("second", false);
40              Assert.Equal(1, original.Variables.Count);
41              Assert.Equal("second", original.Variables.Values.First().Value);
42              Assert.Equal("second", original.Variables["xXx"].Value);
43              var clone = original.Clone();
44              Assert.NotSame(original, clone);
45              Assert.NotSame(original.Variables, clone.Variables);
46              Assert.Equal(100, clone.ErrorCount);
47              Assert.Equal(200, clone.WarningCount);
48              Assert.Equal(300, clone.NoticeCount);
49              Assert.Equal(3, clone.Attempt);
50              original.ErrorCount++;
51              original.WarningCount += 10;
52              original.NoticeCount *= 3;
53              original.Attempt--;
54              original.Variables["a"] = new VariableValue("1", false);
55              Assert.Equal(100, clone.ErrorCount);
56              Assert.Equal(200, clone.WarningCount);
57              Assert.Equal(300, clone.NoticeCount);
58              Assert.Equal(3, clone.Attempt);
59              Assert.Equal(1, clone.Variables.Count);
60              Assert.Equal("second", clone.Variables.Values.First().Value);
61              clone.Variables["yyy"] = new VariableValue("third", false);
62              clone.Variables["YYY"] = new VariableValue("fourth", false);
63              Assert.Equal(2, clone.Variables.Count);
64              Assert.Equal("second", clone.Variables["xXx"].Value);
65              Assert.Equal("fourth", clone.Variables["yYy"].Value);
66          }
67          [Fact]
68          [Trait("Level", "L0")]
69          [Trait("Category", "DistributedTask")]
70          public void VerifyTimelineRecord_DeserializationEdgeCase_NonNullCollections()
71          {
72              var jsonSamples = LoadJsonSamples(JsonSamplesFilePath);
73              var tr = Deserialize(jsonSamples["minimal"]);
74              Assert.NotNull(tr);
75              Assert.Equal("minimal", tr!.Name);
76              Assert.NotNull(tr.Issues);
77              Assert.NotNull(tr.PreviousAttempts);
78              Assert.NotNull(tr.Variables);
79              tr = Deserialize(jsonSamples["explicit-null-collections"]);
80              Assert.NotNull(tr);
81              Assert.Equal("explicit-null-collections", tr!.Name);
82              Assert.NotNull(tr.Issues);
83              Assert.NotNull(tr.PreviousAttempts);
84              Assert.NotNull(tr.Variables);
85          }
86          [Fact]
87          [Trait("Level", "L0")]
88          [Trait("Category", "DistributedTask")]
89          public void VerifyTimelineRecord_DeserializationEdgeCase_AttemptCannotBeLessThan1()
90          {
91              var jsonSamples = LoadJsonSamples(JsonSamplesFilePath);
92              var tr = Deserialize(jsonSamples["minimal"]);
93              Assert.NotNull(tr);
94              Assert.Equal("minimal", tr!.Name);
95              Assert.Equal(1, tr.Attempt);
96              tr = Deserialize(jsonSamples["invalid-attempt-value"]);
97              Assert.NotNull(tr);
98              Assert.Equal("invalid-attempt-value", tr!.Name);
99              Assert.Equal(1, tr.Attempt);
100              tr = Deserialize(jsonSamples["zero-attempt-value"]);
101              Assert.NotNull(tr);
102              Assert.Equal("zero-attempt-value", tr!.Name);
103              Assert.Equal(1, tr.Attempt);
104          }
105          [Fact]
106          [Trait("Level", "L0")]
107          [Trait("Category", "DistributedTask")]
108          public void VerifyTimelineRecord_DeserializationEdgeCase_HandleLegacyNullsGracefully()
109          {
110              var jsonSamples = LoadJsonSamples(JsonSamplesFilePath);
111              var tr = Deserialize(jsonSamples["legacy-nulls"]);
112              Assert.NotNull(tr);
113              Assert.Equal("legacy-nulls", tr!.Name);
114              Assert.Equal(0, tr.ErrorCount);
115              Assert.Equal(0, tr.WarningCount);
116              Assert.Equal(0, tr.NoticeCount);
117          }
118          [Fact]
119          [Trait("Level", "L0")]
120          [Trait("Category", "DistributedTask")]
121          public void VerifyTimelineRecord_DeserializationEdgeCase_HandleMissingCountsGracefully()
122          {
123              var jsonSamples = LoadJsonSamples(JsonSamplesFilePath);
124              var tr = Deserialize(jsonSamples["missing-counts"]);
125              Assert.NotNull(tr);
126              Assert.Equal("missing-counts", tr!.Name);
127              Assert.Equal(0, tr.ErrorCount);
128              Assert.Equal(0, tr.WarningCount);
129              Assert.Equal(0, tr.NoticeCount);
130          }
131          [Fact]
132          [Trait("Level", "L0")]
133          [Trait("Category", "DistributedTask")]
134          public void VerifyTimelineRecord_DeserializationEdgeCase_NonZeroCounts()
135          {
136              var jsonSamples = LoadJsonSamples(JsonSamplesFilePath);
137              var tr = Deserialize(jsonSamples["non-zero-counts"]);
138              Assert.NotNull(tr);
139              Assert.Equal("non-zero-counts", tr!.Name);
140              Assert.Equal(10, tr.ErrorCount);
141              Assert.Equal(20, tr.WarningCount);
142              Assert.Equal(30, tr.NoticeCount);
143          }
144          [Fact]
145          [Trait("Level", "L0")]
146          [Trait("Category", "DistributedTask")]
147          public void VerifyTimelineRecord_Deserialization_LeanTimelineRecord()
148          {
149              var jsonSamples = LoadJsonSamples(JsonSamplesFilePath);
150              var tr = Deserialize(jsonSamples["lean"]);
151              Assert.NotNull(tr);
152              Assert.Equal("lean", tr!.Name);
153              Assert.Equal(4, tr.Attempt);
154              Assert.Equal(1, tr.Issues.Count);
155              Assert.Equal(3, tr.Variables.Count);
156              Assert.Equal(3, tr.PreviousAttempts.Count);
157          }
158          [Fact]
159          [Trait("Level", "L0")]
160          [Trait("Category", "DistributedTask")]
161          public void VerifyTimelineRecord_Deserialization_VariablesDictionaryIsCaseInsensitive()
162          {
163              var jsonSamples = LoadJsonSamples(JsonSamplesFilePath);
164              var tr = Deserialize(jsonSamples["lean"]);
165              Assert.NotNull(tr);
166              Assert.Equal("lean", tr!.Name);
167              Assert.Equal(3, tr.Variables.Count);
168              tr.Variables["X"] = new VariableValue("overwritten", false);
169              Assert.Equal(3, tr.Variables.Count);
170              tr.Variables["new"] = new VariableValue("new.1", false);
171              Assert.Equal(4, tr.Variables.Count);
172              tr.Variables["NEW"] = new VariableValue("new.2", false);
173              Assert.Equal(4, tr.Variables.Count);
174          }
175          [Fact]
176          [Trait("Level", "L0")]
177          [Trait("Category", "DistributedTask")]
178          public void VerifyTimelineRecord_DeserializationEdgeCase_DuplicateVariableKeysThrowsException()
179          {
180              var jsonSamples = LoadJsonSamples(JsonSamplesFilePath);
181              Assert.Throws<ArgumentException>(() => Deserialize(jsonSamples["duplicate-variable-keys"]));
182          }
183          private static Dictionary<string, string> LoadJsonSamples(string path)
184          {
185              var yamlDeserializer = new YamlDotNet.Serialization.Deserializer();
186              using var stream = new StreamReader(path);
187              return yamlDeserializer.Deserialize<Dictionary<string, string>>(stream);
188          }
189          private static TimelineRecord? Deserialize(string rawJson)
190          {
191              using var stream = new MemoryStream(Encoding.UTF8.GetBytes(rawJson ?? string.Empty));
192              return m_jsonSerializer.ReadObject(stream) as TimelineRecord;
193          }
194          private static string JsonSamplesFilePath
195          {
196              get
197              {
198                  return Path.Combine(TestUtil.GetTestDataPath(), "timelinerecord_json_samples.yml");
199              }
200          }
201          private static readonly DataContractJsonSerializer m_jsonSerializer = new(typeof(TimelineRecord));
202      }
203  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from MudBlazor-MDEwOlJlcG9zaXRvcnkyODg0Mjg2NzY=-flat-StyleBuilderTests.cs</div>
                <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from runner-MDEwOlJlcG9zaXRvcnkxODQyODY4NzU=-flat-TimelineRecordL0.cs</div>
                <div class="column column_space"><pre><code>18              var classToRender = new StyleBuilder("background-color", "DodgerBlue")
19                              .AddStyle("border-width", $"{top}px {right}px {bottom}px {left}px", when: hasBorder)
20                              .AddStyle("z-index", "999", when: isOnTop)
21                              .AddStyle("z-index", "-1", when: !isOnTop)
22                              .AddStyle("padding", "35px")
23                              .Build();
24              classToRender.Should().Be("background-color:DodgerBlue;border-width:2px 20px 10px 4px;z-index:-1;padding:35px;");
25          }
26          [Test]
</pre></code></div>
                <div class="column column_space"><pre><code>19              var tr = new TimelineRecord();
20              Assert.Equal(0, tr.ErrorCount);
21              Assert.Equal(0, tr.WarningCount);
22              Assert.Equal(0, tr.NoticeCount);
23              Assert.Equal(1, tr.Attempt);
24              Assert.NotNull(tr.Issues);
25              Assert.NotNull(tr.PreviousAttempts);
26              Assert.NotNull(tr.Variables);
27          }
28          [Fact]
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    