<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for FuturesGetCheckedBenchmark_1.java &amp; ImmutableSortedMultiset_1.java</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for FuturesGetCheckedBenchmark_1.java &amp; ImmutableSortedMultiset_1.java
      </h3>
<h1 align="center">
        5.1%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>FuturesGetCheckedBenchmark_1.java (10.160428%)<th>ImmutableSortedMultiset_1.java (3.4926472%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(17-37)<td><a href="#" name="0">(15-35)</a><td align="center"><font color="#ff0000">19</font>
</td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>FuturesGetCheckedBenchmark_1.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 <font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>package com.google.common.util.concurrent;
2 import static com.google.common.base.Preconditions.checkArgument;
3 import static com.google.common.collect.Lists.newArrayList;
4 import static com.google.common.util.concurrent.Futures.immediateFailedFuture;
5 import static com.google.common.util.concurrent.Futures.immediateFuture;
6 import static com.google.common.util.concurrent.FuturesGetChecked.checkExceptionClassValidity;
7 import static com.google.common.util.concurrent.FuturesGetChecked.getChecked;
8 import static com.google.common.util.concurrent.FuturesGetChecked.isCheckedException;
9 import static com.google.common.util.concurrent.FuturesGetChecked.weakSetValidator;
10 import com.google.caliper.BeforeExperiment;
11 import com.google.caliper.Benchmark;
12 import com.google.caliper.Param;
13 import com.google.common.collect.ImmutableSet;
14 import com.google.common.util.concurrent.FuturesGetChecked.GetCheckedTypeValidator;
15 import java.io.IOException;
16 import java.net.URISyntaxException;
17 import java.security.GeneralSecurityException;
18 import java.security.acl.NotOwnerException;
19 import</b></font> java.util.List;
20 import java.util.TooManyListenersException;
21 import java.util.concurrent.BrokenBarrierException;
22 import java.util.concurrent.ExecutionException;
23 import java.util.concurrent.Future;
24 import java.util.concurrent.TimeoutException;
25 import java.util.prefs.BackingStoreException;
26 import java.util.prefs.InvalidPreferencesFormatException;
27 import java.util.zip.DataFormatException;
28 import javax.security.auth.RefreshFailedException;
29 public class FuturesGetCheckedBenchmark {
30   private enum Validator {
31     NON_CACHING_WITH_CONSTRUCTOR_CHECK(nonCachingWithConstructorCheckValidator()),
32     NON_CACHING_WITHOUT_CONSTRUCTOR_CHECK(nonCachingWithoutConstructorCheckValidator()),
33     WEAK_SET(weakSetValidator()),
34     ;
35     final GetCheckedTypeValidator validator;
36     Validator(GetCheckedTypeValidator validator) {
37       this.validator = validator;
38     }
39   }
40   private enum Result {
41     SUCCESS(immediateFuture(new Object())),
42     FAILURE(immediateFailedFuture(new Exception()));
43     final Future&lt;Object&gt; future;
44     Result(Future&lt;Object&gt; result) {
45       this.future = result;
46     }
47   }
48   private enum ExceptionType {
49     CHECKED(IOException.class),
50     UNCHECKED(RuntimeException.class);
51     final Class&lt;? extends Exception&gt; exceptionType;
52     ExceptionType(Class&lt;? extends Exception&gt; exceptionType) {
53       this.exceptionType = exceptionType;
54     }
55   }
56   private static final ImmutableSet&lt;Class&lt;? extends Exception&gt;&gt; OTHER_EXCEPTION_TYPES =
57       ImmutableSet.of(
58           BackingStoreException.class,
59           BrokenBarrierException.class,
60           CloneNotSupportedException.class,
61           DataFormatException.class,
62           ExecutionException.class,
63           GeneralSecurityException.class,
64           InvalidPreferencesFormatException.class,
65           NotOwnerException.class,
66           RefreshFailedException.class,
67           TimeoutException.class,
68           TooManyListenersException.class,
69           URISyntaxException.class);
70   @Param Validator validator;
71   @Param Result result;
72   @Param ExceptionType exceptionType;
73   @Param({"0", "1", "12"})
74   int otherEntriesInDataStructure;
75   final List&lt;ClassValue&lt;?&gt;&gt; retainedReferencesToOtherClassValues = newArrayList();
76   @BeforeExperiment
77   void addOtherEntries() throws Exception {
78     GetCheckedTypeValidator validator = this.validator.validator;
79     Class&lt;? extends Exception&gt; exceptionType = this.exceptionType.exceptionType;
80     for (Class&lt;? extends Exception&gt; exceptionClass :
81         OTHER_EXCEPTION_TYPES.asList().subList(0, otherEntriesInDataStructure)) {
82       getChecked(validator, immediateFuture(""), exceptionClass);
83     }
84     for (int i = 0; i &lt; otherEntriesInDataStructure; i++) {
85       ClassValue&lt;Boolean&gt; classValue =
86           new ClassValue&lt;Boolean&gt;() {
87             @Override
88             protected Boolean computeValue(Class&lt;?&gt; type) {
89               return true;
90             }
91           };
92       classValue.get(exceptionType);
93       retainedReferencesToOtherClassValues.add(classValue);
94     }
95   }
96   @Benchmark
97   int benchmarkGetChecked(int reps) {
98     int tmp = 0;
99     GetCheckedTypeValidator validator = this.validator.validator;
100     Future&lt;Object&gt; future = this.result.future;
101     Class&lt;? extends Exception&gt; exceptionType = this.exceptionType.exceptionType;
102     for (int i = 0; i &lt; reps; ++i) {
103       try {
104         tmp += getChecked(validator, future, exceptionType).hashCode();
105       } catch (Exception e) {
106         tmp += e.hashCode();
107       }
108     }
109     return tmp;
110   }
111   private static GetCheckedTypeValidator nonCachingWithoutConstructorCheckValidator() {
112     return NonCachingWithoutConstructorCheckValidator.INSTANCE;
113   }
114   private enum NonCachingWithoutConstructorCheckValidator implements GetCheckedTypeValidator {
115     INSTANCE;
116     @Override
117     public void validateClass(Class&lt;? extends Exception&gt; exceptionClass) {
118       checkArgument(
119           isCheckedException(exceptionClass),
120           "Futures.getChecked exception type (%s) must not be a RuntimeException",
121           exceptionClass);
122     }
123   }
124   private static GetCheckedTypeValidator nonCachingWithConstructorCheckValidator() {
125     return NonCachingWithConstructorCheckValidator.INSTANCE;
126   }
127   private enum NonCachingWithConstructorCheckValidator implements GetCheckedTypeValidator {
128     INSTANCE;
129     @Override
130     public void validateClass(Class&lt;? extends Exception&gt; exceptionClass) {
131       checkExceptionClassValidity(exceptionClass);
132     }
133   }
134 }
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>ImmutableSortedMultiset_1.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 <font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>package com.google.common.collect;
2 import static com.google.common.base.Preconditions.checkArgument;
3 import static com.google.common.base.Preconditions.checkNotNull;
4 import com.google.common.annotations.GwtIncompatible;
5 import com.google.errorprone.annotations.CanIgnoreReturnValue;
6 import com.google.errorprone.annotations.DoNotCall;
7 import com.google.errorprone.annotations.concurrent.LazyInit;
8 import java.io.Serializable;
9 import java.util.Arrays;
10 import java.util.Collection;
11 import java.util.Collections;
12 import java.util.Comparator;
13 import java.util.Iterator;
14 import java.util.List;
15 import java.util.function.Function;
16 import java.util.function.ToIntFunction;
17 import java.util.stream.Collector;
18 import javax.annotation.CheckForNull;
19 import</b></font> org.checkerframework.checker.nullness.qual.Nullable;
20 @GwtIncompatible @ElementTypesAreNonnullByDefault
21 public abstract class ImmutableSortedMultiset&lt;E&gt; extends ImmutableSortedMultisetFauxverideShim&lt;E&gt;
22     implements SortedMultiset&lt;E&gt; {
23   public static &lt;E&gt; Collector&lt;E, ?, ImmutableSortedMultiset&lt;E&gt;&gt; toImmutableSortedMultiset(
24       Comparator&lt;? super E&gt; comparator) {
25     return toImmutableSortedMultiset(comparator, Function.identity(), e -&gt; 1);
26   }
27   public static &lt;T extends @Nullable Object, E&gt;
28       Collector&lt;T, ?, ImmutableSortedMultiset&lt;E&gt;&gt; toImmutableSortedMultiset(
29           Comparator&lt;? super E&gt; comparator,
30           Function&lt;? super T, ? extends E&gt; elementFunction,
31           ToIntFunction&lt;? super T&gt; countFunction) {
32     checkNotNull(comparator);
33     checkNotNull(elementFunction);
34     checkNotNull(countFunction);
35     return Collector.of(
36         () -&gt; TreeMultiset.create(comparator),
37         (multiset, t) -&gt;
38             multiset.add(checkNotNull(elementFunction.apply(t)), countFunction.applyAsInt(t)),
39         (multiset1, multiset2) -&gt; {
40           multiset1.addAll(multiset2);
41           return multiset1;
42         },
43         (Multiset&lt;E&gt; multiset) -&gt; copyOfSortedEntries(comparator, multiset.entrySet()));
44   }
45   @SuppressWarnings("unchecked")
46   public static &lt;E&gt; ImmutableSortedMultiset&lt;E&gt; of() {
47     return (ImmutableSortedMultiset) RegularImmutableSortedMultiset.NATURAL_EMPTY_MULTISET;
48   }
49   public static &lt;E extends Comparable&lt;? super E&gt;&gt; ImmutableSortedMultiset&lt;E&gt; of(E element) {
50     RegularImmutableSortedSet&lt;E&gt; elementSet =
51         (RegularImmutableSortedSet&lt;E&gt;) ImmutableSortedSet.of(element);
52     long[] cumulativeCounts = {0, 1};
53     return new RegularImmutableSortedMultiset&lt;E&gt;(elementSet, cumulativeCounts, 0, 1);
54   }
55   public static &lt;E extends Comparable&lt;? super E&gt;&gt; ImmutableSortedMultiset&lt;E&gt; of(E e1, E e2) {
56     return copyOf(Ordering.natural(), Arrays.asList(e1, e2));
57   }
58   public static &lt;E extends Comparable&lt;? super E&gt;&gt; ImmutableSortedMultiset&lt;E&gt; of(E e1, E e2, E e3) {
59     return copyOf(Ordering.natural(), Arrays.asList(e1, e2, e3));
60   }
61   public static &lt;E extends Comparable&lt;? super E&gt;&gt; ImmutableSortedMultiset&lt;E&gt; of(
62       E e1, E e2, E e3, E e4) {
63     return copyOf(Ordering.natural(), Arrays.asList(e1, e2, e3, e4));
64   }
65   public static &lt;E extends Comparable&lt;? super E&gt;&gt; ImmutableSortedMultiset&lt;E&gt; of(
66       E e1, E e2, E e3, E e4, E e5) {
67     return copyOf(Ordering.natural(), Arrays.asList(e1, e2, e3, e4, e5));
68   }
69   public static &lt;E extends Comparable&lt;? super E&gt;&gt; ImmutableSortedMultiset&lt;E&gt; of(
70       E e1, E e2, E e3, E e4, E e5, E e6, E... remaining) {
71     int size = remaining.length + 6;
72     List&lt;E&gt; all = Lists.newArrayListWithCapacity(size);
73     Collections.addAll(all, e1, e2, e3, e4, e5, e6);
74     Collections.addAll(all, remaining);
75     return copyOf(Ordering.natural(), all);
76   }
77   public static &lt;E extends Comparable&lt;? super E&gt;&gt; ImmutableSortedMultiset&lt;E&gt; copyOf(E[] elements) {
78     return copyOf(Ordering.natural(), Arrays.asList(elements));
79   }
80   public static &lt;E&gt; ImmutableSortedMultiset&lt;E&gt; copyOf(Iterable&lt;? extends E&gt; elements) {
81     @SuppressWarnings("unchecked")
82     Ordering&lt;E&gt; naturalOrder = (Ordering&lt;E&gt;) Ordering.&lt;Comparable&gt;natural();
83     return copyOf(naturalOrder, elements);
84   }
85   public static &lt;E&gt; ImmutableSortedMultiset&lt;E&gt; copyOf(Iterator&lt;? extends E&gt; elements) {
86     @SuppressWarnings("unchecked")
87     Ordering&lt;E&gt; naturalOrder = (Ordering&lt;E&gt;) Ordering.&lt;Comparable&gt;natural();
88     return copyOf(naturalOrder, elements);
89   }
90   public static &lt;E&gt; ImmutableSortedMultiset&lt;E&gt; copyOf(
91       Comparator&lt;? super E&gt; comparator, Iterator&lt;? extends E&gt; elements) {
92     checkNotNull(comparator);
93     return new Builder&lt;E&gt;(comparator).addAll(elements).build();
94   }
95   public static &lt;E&gt; ImmutableSortedMultiset&lt;E&gt; copyOf(
96       Comparator&lt;? super E&gt; comparator, Iterable&lt;? extends E&gt; elements) {
97     if (elements instanceof ImmutableSortedMultiset) {
98       @SuppressWarnings("unchecked")       ImmutableSortedMultiset&lt;E&gt; multiset = (ImmutableSortedMultiset&lt;E&gt;) elements;
99       if (comparator.equals(multiset.comparator())) {
100         if (multiset.isPartialView()) {
101           return copyOfSortedEntries(comparator, multiset.entrySet().asList());
102         } else {
103           return multiset;
104         }
105       }
106     }
107     elements = Lists.newArrayList(elements);     TreeMultiset&lt;E&gt; sortedCopy = TreeMultiset.create(checkNotNull(comparator));
108     Iterables.addAll(sortedCopy, elements);
109     return copyOfSortedEntries(comparator, sortedCopy.entrySet());
110   }
111   public static &lt;E&gt; ImmutableSortedMultiset&lt;E&gt; copyOfSorted(SortedMultiset&lt;E&gt; sortedMultiset) {
112     return copyOfSortedEntries(
113         sortedMultiset.comparator(), Lists.newArrayList(sortedMultiset.entrySet()));
114   }
115   private static &lt;E&gt; ImmutableSortedMultiset&lt;E&gt; copyOfSortedEntries(
116       Comparator&lt;? super E&gt; comparator, Collection&lt;Entry&lt;E&gt;&gt; entries) {
117     if (entries.isEmpty()) {
118       return emptyMultiset(comparator);
119     }
120     ImmutableList.Builder&lt;E&gt; elementsBuilder = new ImmutableList.Builder&lt;E&gt;(entries.size());
121     long[] cumulativeCounts = new long[entries.size() + 1];
122     int i = 0;
123     for (Entry&lt;E&gt; entry : entries) {
124       elementsBuilder.add(entry.getElement());
125       cumulativeCounts[i + 1] = cumulativeCounts[i] + entry.getCount();
126       i++;
127     }
128     return new RegularImmutableSortedMultiset&lt;E&gt;(
129         new RegularImmutableSortedSet&lt;E&gt;(elementsBuilder.build(), comparator),
130         cumulativeCounts,
131         0,
132         entries.size());
133   }
134   @SuppressWarnings("unchecked")
135   static &lt;E&gt; ImmutableSortedMultiset&lt;E&gt; emptyMultiset(Comparator&lt;? super E&gt; comparator) {
136     if (Ordering.natural().equals(comparator)) {
137       return (ImmutableSortedMultiset&lt;E&gt;) RegularImmutableSortedMultiset.NATURAL_EMPTY_MULTISET;
138     } else {
139       return new RegularImmutableSortedMultiset&lt;E&gt;(comparator);
140     }
141   }
142   ImmutableSortedMultiset() {}
143   @Override
144   public final Comparator&lt;? super E&gt; comparator() {
145     return elementSet().comparator();
146   }
147   @Override
148   public abstract ImmutableSortedSet&lt;E&gt; elementSet();
149   @LazyInit @CheckForNull transient ImmutableSortedMultiset&lt;E&gt; descendingMultiset;
150   @Override
151   public ImmutableSortedMultiset&lt;E&gt; descendingMultiset() {
152     ImmutableSortedMultiset&lt;E&gt; result = descendingMultiset;
153     if (result == null) {
154       return descendingMultiset =
155           this.isEmpty()
156               ? emptyMultiset(Ordering.from(comparator()).reverse())
157               : new DescendingImmutableSortedMultiset&lt;E&gt;(this);
158     }
159     return result;
160   }
161   @CanIgnoreReturnValue
162   @Deprecated
163   @Override
164   @DoNotCall("Always throws UnsupportedOperationException")
165   @CheckForNull
166   public final Entry&lt;E&gt; pollFirstEntry() {
167     throw new UnsupportedOperationException();
168   }
169   @CanIgnoreReturnValue
170   @Deprecated
171   @Override
172   @DoNotCall("Always throws UnsupportedOperationException")
173   @CheckForNull
174   public final Entry&lt;E&gt; pollLastEntry() {
175     throw new UnsupportedOperationException();
176   }
177   @Override
178   public abstract ImmutableSortedMultiset&lt;E&gt; headMultiset(E upperBound, BoundType boundType);
179   @Override
180   public ImmutableSortedMultiset&lt;E&gt; subMultiset(
181       E lowerBound, BoundType lowerBoundType, E upperBound, BoundType upperBoundType) {
182     checkArgument(
183         comparator().compare(lowerBound, upperBound) &lt;= 0,
184         "Expected lowerBound &lt;= upperBound but %s &gt; %s",
185         lowerBound,
186         upperBound);
187     return tailMultiset(lowerBound, lowerBoundType).headMultiset(upperBound, upperBoundType);
188   }
189   @Override
190   public abstract ImmutableSortedMultiset&lt;E&gt; tailMultiset(E lowerBound, BoundType boundType);
191   public static &lt;E&gt; Builder&lt;E&gt; orderedBy(Comparator&lt;E&gt; comparator) {
192     return new Builder&lt;E&gt;(comparator);
193   }
194   public static &lt;E extends Comparable&lt;?&gt;&gt; Builder&lt;E&gt; reverseOrder() {
195     return new Builder&lt;E&gt;(Ordering.natural().reverse());
196   }
197   public static &lt;E extends Comparable&lt;?&gt;&gt; Builder&lt;E&gt; naturalOrder() {
198     return new Builder&lt;E&gt;(Ordering.natural());
199   }
200   public static class Builder&lt;E&gt; extends ImmutableMultiset.Builder&lt;E&gt; {
201     public Builder(Comparator&lt;? super E&gt; comparator) {
202       super(TreeMultiset.&lt;E&gt;create(checkNotNull(comparator)));
203     }
204     @CanIgnoreReturnValue
205     @Override
206     public Builder&lt;E&gt; add(E element) {
207       super.add(element);
208       return this;
209     }
210     @CanIgnoreReturnValue
211     @Override
212     public Builder&lt;E&gt; add(E... elements) {
213       super.add(elements);
214       return this;
215     }
216     @CanIgnoreReturnValue
217     @Override
218     public Builder&lt;E&gt; addCopies(E element, int occurrences) {
219       super.addCopies(element, occurrences);
220       return this;
221     }
222     @CanIgnoreReturnValue
223     @Override
224     public Builder&lt;E&gt; setCount(E element, int count) {
225       super.setCount(element, count);
226       return this;
227     }
228     @CanIgnoreReturnValue
229     @Override
230     public Builder&lt;E&gt; addAll(Iterable&lt;? extends E&gt; elements) {
231       super.addAll(elements);
232       return this;
233     }
234     @CanIgnoreReturnValue
235     @Override
236     public Builder&lt;E&gt; addAll(Iterator&lt;? extends E&gt; elements) {
237       super.addAll(elements);
238       return this;
239     }
240     @Override
241     public ImmutableSortedMultiset&lt;E&gt; build() {
242       return copyOfSorted((SortedMultiset&lt;E&gt;) contents);
243     }
244   }
245   private static final class SerializedForm&lt;E&gt; implements Serializable {
246     final Comparator&lt;? super E&gt; comparator;
247     final E[] elements;
248     final int[] counts;
249     @SuppressWarnings("unchecked")
250     SerializedForm(SortedMultiset&lt;E&gt; multiset) {
251       this.comparator = multiset.comparator();
252       int n = multiset.entrySet().size();
253       elements = (E[]) new Object[n];
254       counts = new int[n];
255       int i = 0;
256       for (Entry&lt;E&gt; entry : multiset.entrySet()) {
257         elements[i] = entry.getElement();
258         counts[i] = entry.getCount();
259         i++;
260       }
261     }
262     Object readResolve() {
263       int n = elements.length;
264       Builder&lt;E&gt; builder = new Builder&lt;&gt;(comparator);
265       for (int i = 0; i &lt; n; i++) {
266         builder.addCopies(elements[i], counts[i]);
267       }
268       return builder.build();
269     }
270   }
271   @Override
272   Object writeReplace() {
273     return new SerializedForm&lt;E&gt;(this);
274   }
275 }
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
