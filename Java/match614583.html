<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for GraphMutationTest.java &amp; StatsTest_1.java</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for GraphMutationTest.java &amp; StatsTest_1.java
      </h3>
<h1 align="center">
        10.8%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>GraphMutationTest.java (38.636364%)<th>StatsTest_1.java (6.296296%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(97-102)<td><a href="#" name="0">(120-124)</a><td align="center"><font color="#ff0000">11</font>
<tr onclick='openModal("#f63526")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#f63526"><font color="#f63526">-</font><td><a href="#" name="1">(77-83)<td><a href="#" name="1">(140-142)</a><td align="center"><font color="#e70000">10</font>
<tr onclick='openModal("#980517")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#980517"><font color="#980517">-</font><td><a href="#" name="2">(66-72)<td><a href="#" name="2">(466-472)</a><td align="center"><font color="#e70000">10</font>
<tr onclick='openModal("#53858b")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#53858b"><font color="#53858b">-</font><td><a href="#" name="3">(17-28)<td><a href="#" name="3">(17-27)</a><td align="center"><font color="#e70000">10</font>
<tr onclick='openModal("#6cc417")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#6cc417"><font color="#6cc417">-</font><td><a href="#" name="4">(108-112)<td><a href="#" name="4">(231-235)</a><td align="center"><font color="#d00000">9</font>
<tr onclick='openModal("#151b8d")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#151b8d"><font color="#151b8d">-</font><td><a href="#" name="5">(73-76)<td><a href="#" name="5">(406-410)</a><td align="center"><font color="#d00000">9</font>
<tr onclick='openModal("#8c8774")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#8c8774"><font color="#8c8774">-</font><td><a href="#" name="6">(53-57)<td><a href="#" name="6">(92-94)</a><td align="center"><font color="#d00000">9</font>
</td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>GraphMutationTest.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 <font color="#53858b"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>package com.google.common.graph;
2 import static com.google.common.truth.Truth.assertThat;
3 import java.util.ArrayList;
4 import java.util.Collections;
5 import java.util.List;
6 import java.util.Random;
7 import java.util.RandomAccess;
8 import org.junit.Test;
9 import org.junit.runner.RunWith;
10 import</b></font> org.junit.runners.JUnit4;
11 @RunWith(JUnit4.class)
12 public final class GraphMutationTest {
13   private static final int NUM_TRIALS = 50;
14   private static final int NUM_NODES = 100;
15   private static final int NUM_EDGES = 1000;
16   private static final int NODE_POOL_SIZE = 1000; 
17   @Test
18   public void directedGraph() {
19     testGraphMutation(GraphBuilder.directed());
20   }
21   @Test
22   public void undirectedGraph() {
23     testGraphMutation(GraphBuilder.undirected());
24   }
25   private static void testGraphMutation(GraphBuilder&lt;? super Integer&gt; graphBuilder) {
26 <a name="6"></a>    Random gen = new Random(42); 
27     for (int trial = 0; trial &lt; NUM_TRIALS; ++trial) {
28       MutableGraph&lt;Integer&gt; graph = <font color="#8c8774"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>graphBuilder.allowsSelfLoops(true).build();
29       assertThat(graph.nodes()).isEmpty();
30       assertThat(graph.edges()).isEmpty();
31       AbstractGraphTest.validateGraph</b></font>(graph);
32       while (graph.nodes().size() &lt; NUM_NODES) {
33         graph.addNode(gen.nextInt(NODE_POOL_SIZE));
34       }
35       ArrayList&lt;Integer&gt; nodeList = new ArrayList&lt;&gt;(graph.nodes());
36 <a name="2"></a>      while (graph.edges().size() &lt; NUM_EDGES) {
37         graph.putEdge(getRandomElement(nodeList, gen), getRandomElement(nodeList, gen));
38       }
39       ArrayList&lt;EndpointPair&lt;Integer&gt;&gt; edgeList = <font color="#980517"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>new ArrayList&lt;&gt;(graph.edges());
40       assertThat(graph.nodes()).hasSize(NUM_NODES);
41       assertThat(graph.edges()).hasSize(NUM_EDGES);
42 <a name="5"></a>      AbstractGraphTest.validateGraph(graph);
43       Collections.shuffle</b></font>(edgeList, gen);
44       int numEdgesToRemove = <font color="#151b8d"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>gen.nextInt(NUM_EDGES);
45 <a name="1"></a>      for (int i = 0; i &lt; numEdgesToRemove; ++i) {
46         EndpointPair&lt;Integer&gt; edge = edgeList.get(i);
47         assertThat(graph.removeEdge</b></font>(edge.nodeU(), edge.nodeV())).isTrue();
48       <font color="#f63526"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>}
49       assertThat(graph.nodes()).hasSize(NUM_NODES);
50       assertThat(graph.edges()).hasSize(NUM_EDGES - numEdgesToRemove);
51       AbstractGraphTest.validateGraph(graph);
52       Collections.shuffle</b></font>(nodeList, gen);
53       int numNodesToRemove = gen.nextInt(NUM_NODES);
54       for (int i = 0; i &lt; numNodesToRemove; ++i) {
55         assertThat(graph.removeNode(nodeList.get(i))).isTrue();
56       }
57       assertThat(graph.nodes()).hasSize(NUM_NODES - numNodesToRemove);
58       AbstractGraphTest.validateGraph(graph);
59       for (int i = numNodesToRemove; i &lt; NUM_NODES; ++i) {
60 <a name="0"></a>        assertThat(graph.removeNode(nodeList.get(i))).isTrue();
61       }
62       <font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>assertThat(graph.nodes()).isEmpty();
63       assertThat(graph.edges()).isEmpty();       AbstractGraphTest.validateGraph(graph);
64       Collections.shuffle(nodeList, gen);
65       for (Integer node : nodeList) {</b></font>
66         assertThat(graph.addNode(node)).isTrue();
67       }
68 <a name="4"></a>      Collections.shuffle(edgeList, gen);
69       for (EndpointPair&lt;Integer&gt; edge : edgeList) {
70         assertThat(graph.putEdge(edge.nodeU(), edge.nodeV())).isTrue();
71       <font color="#6cc417"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>}
72       assertThat(graph.nodes()).hasSize(NUM_NODES);
73       assertThat(graph.edges()).hasSize(NUM_EDGES);
74       AbstractGraphTest.validateGraph</b></font>(graph);
75     }
76   }
77   private static &lt;L extends List&lt;T&gt; &amp; RandomAccess, T&gt; T getRandomElement(L list, Random gen) {
78     return list.get(gen.nextInt(list.size()));
79   }
80 }
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>StatsTest_1.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 <font color="#53858b"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>package com.google.common.math;
2 import static com.google.common.math.StatsTesting.ALLOWED_ERROR;
3 import static com.google.common.math.StatsTesting.ALL_MANY_VALUES;
4 import static com.google.common.math.StatsTesting.ALL_STATS;
5 import static com.google.common.math.StatsTesting.EMPTY_STATS_ITERABLE;
6 import static com.google.common.math.StatsTesting.EMPTY_STATS_VARARGS;
7 import static com.google.common.math.StatsTesting.INTEGER_MANY_VALUES;
8 import static com.google.common.math.StatsTesting.INTEGER_MANY_VALUES_COUNT;
9 import static com.google.common.math.StatsTesting.INTEGER_MANY_VALUES_MAX;
10 import</b></font> static com.google.common.math.StatsTesting.INTEGER_MANY_VALUES_MEAN;
11 import static com.google.common.math.StatsTesting.INTEGER_MANY_VALUES_MIN;
12 import static com.google.common.math.StatsTesting.INTEGER_MANY_VALUES_STATS_ITERABLE;
13 import static com.google.common.math.StatsTesting.INTEGER_MANY_VALUES_STATS_VARARGS;
14 import static com.google.common.math.StatsTesting.INTEGER_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS;
15 import static com.google.common.math.StatsTesting.LARGE_INTEGER_VALUES_MEAN;
16 import static com.google.common.math.StatsTesting.LARGE_INTEGER_VALUES_POPULATION_VARIANCE;
17 import static com.google.common.math.StatsTesting.LARGE_INTEGER_VALUES_STATS;
18 import static com.google.common.math.StatsTesting.LARGE_LONG_VALUES_MEAN;
19 import static com.google.common.math.StatsTesting.LARGE_LONG_VALUES_POPULATION_VARIANCE;
20 import static com.google.common.math.StatsTesting.LARGE_LONG_VALUES_STATS;
21 import static com.google.common.math.StatsTesting.LARGE_VALUES_MEAN;
22 import static com.google.common.math.StatsTesting.LARGE_VALUES_STATS;
23 import static com.google.common.math.StatsTesting.LONG_MANY_VALUES;
24 import static com.google.common.math.StatsTesting.LONG_MANY_VALUES_COUNT;
25 import static com.google.common.math.StatsTesting.LONG_MANY_VALUES_MAX;
26 import static com.google.common.math.StatsTesting.LONG_MANY_VALUES_MEAN;
27 import static com.google.common.math.StatsTesting.LONG_MANY_VALUES_MIN;
28 import static com.google.common.math.StatsTesting.LONG_MANY_VALUES_STATS_ITERATOR;
29 import static com.google.common.math.StatsTesting.LONG_MANY_VALUES_STATS_SNAPSHOT;
30 import static com.google.common.math.StatsTesting.LONG_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS;
31 import static com.google.common.math.StatsTesting.MANY_VALUES;
32 import static com.google.common.math.StatsTesting.MANY_VALUES_COUNT;
33 import static com.google.common.math.StatsTesting.MANY_VALUES_MAX;
34 import static com.google.common.math.StatsTesting.MANY_VALUES_MEAN;
35 import static com.google.common.math.StatsTesting.MANY_VALUES_MIN;
36 import static com.google.common.math.StatsTesting.MANY_VALUES_STATS_ITERABLE;
37 import static com.google.common.math.StatsTesting.MANY_VALUES_STATS_ITERATOR;
38 import static com.google.common.math.StatsTesting.MANY_VALUES_STATS_SNAPSHOT;
39 import static com.google.common.math.StatsTesting.MANY_VALUES_STATS_VARARGS;
40 import static com.google.common.math.StatsTesting.MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS;
41 import static com.google.common.math.StatsTesting.ONE_VALUE;
42 import static com.google.common.math.StatsTesting.ONE_VALUE_STATS;
43 import static com.google.common.math.StatsTesting.TWO_VALUES;
44 import static com.google.common.math.StatsTesting.TWO_VALUES_MAX;
45 import static com.google.common.math.StatsTesting.TWO_VALUES_MEAN;
46 import static com.google.common.math.StatsTesting.TWO_VALUES_MIN;
47 import static com.google.common.math.StatsTesting.TWO_VALUES_STATS;
48 import static com.google.common.math.StatsTesting.TWO_VALUES_SUM_OF_SQUARES_OF_DELTAS;
49 import static com.google.common.truth.Truth.assertThat;
50 import static com.google.common.truth.Truth.assertWithMessage;
51 import static java.lang.Double.NEGATIVE_INFINITY;
52 import static java.lang.Double.NaN;
53 import static java.lang.Double.POSITIVE_INFINITY;
54 import static java.lang.Math.sqrt;
55 import com.google.common.collect.ImmutableList;
56 import com.google.common.math.StatsTesting.ManyValues;
57 import com.google.common.primitives.Ints;
58 import com.google.common.primitives.Longs;
59 import com.google.common.testing.EqualsTester;
60 import com.google.common.testing.SerializableTester;
61 import java.nio.ByteBuffer;
62 import java.nio.ByteOrder;
63 import junit.framework.TestCase;
64 <a name="6"></a>public class StatsTest extends TestCase {
65   public void testCount() {
66     <font color="#8c8774"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>assertThat(EMPTY_STATS_VARARGS.count()).isEqualTo(0);
67     assertThat(EMPTY_STATS_ITERABLE.count()).isEqualTo(0);
68     assertThat(ONE_VALUE_STATS.count</b></font>()).isEqualTo(1);
69     assertThat(TWO_VALUES_STATS.count()).isEqualTo(2);
70     assertThat(MANY_VALUES_STATS_VARARGS.count()).isEqualTo(MANY_VALUES_COUNT);
71     assertThat(MANY_VALUES_STATS_ITERABLE.count()).isEqualTo(MANY_VALUES_COUNT);
72     assertThat(MANY_VALUES_STATS_ITERATOR.count()).isEqualTo(MANY_VALUES_COUNT);
73     assertThat(MANY_VALUES_STATS_SNAPSHOT.count()).isEqualTo(MANY_VALUES_COUNT);
74     assertThat(INTEGER_MANY_VALUES_STATS_VARARGS.count()).isEqualTo(INTEGER_MANY_VALUES_COUNT);
75     assertThat(INTEGER_MANY_VALUES_STATS_ITERABLE.count()).isEqualTo(INTEGER_MANY_VALUES_COUNT);
76     assertThat(LONG_MANY_VALUES_STATS_ITERATOR.count()).isEqualTo(LONG_MANY_VALUES_COUNT);
77     assertThat(LONG_MANY_VALUES_STATS_SNAPSHOT.count()).isEqualTo(LONG_MANY_VALUES_COUNT);
78   }
79   public void testMean() {
80     try {
81       EMPTY_STATS_VARARGS.mean();
82       fail("Expected IllegalStateException");
83     } catch (IllegalStateException expected) {
84     }
85     try {
86       EMPTY_STATS_ITERABLE.mean();
87       fail("Expected IllegalStateException");
88     } catch (IllegalStateException expected) {
89     }
90 <a name="0"></a>    assertThat(ONE_VALUE_STATS.mean()).isWithin(ALLOWED_ERROR).of(ONE_VALUE);
91     assertThat(Stats.of(POSITIVE_INFINITY).mean()).isPositiveInfinity();
92     assertThat(Stats.of(NEGATIVE_INFINITY).mean()).isNegativeInfinity();
93     <font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>assertThat(Stats.of(NaN).mean()).isNaN();
94     assertThat(TWO_VALUES_STATS.mean()).isWithin(ALLOWED_ERROR).of(TWO_VALUES_MEAN);
95     for (ManyValues values : ALL_MANY_VALUES) {</b></font>
96       double mean = Stats.of(values.asArray()).mean();
97       if (values.hasAnyNaN()) {
98         assertWithMessage("mean of " + values).that(mean).isNaN();
99       } else if (values.hasAnyPositiveInfinity() &amp;&amp; values.hasAnyNegativeInfinity()) {
100         assertWithMessage("mean of " + values).that(mean).isNaN();
101       } else if (values.hasAnyPositiveInfinity()) {
102         assertWithMessage("mean of " + values).that(mean).isPositiveInfinity();
103       } else if (values.hasAnyNegativeInfinity()) {
104         assertWithMessage("mean of " + values).that(mean).isNegativeInfinity();
105       } else {
106         assertWithMessage("mean of " + values)
107             .that(mean)
108 <a name="1"></a>            .isWithin(ALLOWED_ERROR)
109             .of(MANY_VALUES_MEAN);
110       }
111     <font color="#f63526"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>}
112     assertThat(MANY_VALUES_STATS_ITERABLE.mean()).isWithin(ALLOWED_ERROR).of(MANY_VALUES_MEAN);
113     assertThat(MANY_VALUES_STATS_ITERATOR.mean</b></font>()).isWithin(ALLOWED_ERROR).of(MANY_VALUES_MEAN);
114     assertThat(MANY_VALUES_STATS_SNAPSHOT.mean()).isWithin(ALLOWED_ERROR).of(MANY_VALUES_MEAN);
115     assertThat(LARGE_VALUES_STATS.mean())
116         .isWithin(ALLOWED_ERROR * Double.MAX_VALUE)
117         .of(LARGE_VALUES_MEAN);
118     assertThat(INTEGER_MANY_VALUES_STATS_VARARGS.mean())
119         .isWithin(ALLOWED_ERROR * INTEGER_MANY_VALUES_MEAN)
120         .of(INTEGER_MANY_VALUES_MEAN);
121     assertThat(INTEGER_MANY_VALUES_STATS_ITERABLE.mean())
122         .isWithin(ALLOWED_ERROR * INTEGER_MANY_VALUES_MEAN)
123         .of(INTEGER_MANY_VALUES_MEAN);
124     assertThat(LARGE_INTEGER_VALUES_STATS.mean())
125         .isWithin(ALLOWED_ERROR * Integer.MAX_VALUE)
126         .of(LARGE_INTEGER_VALUES_MEAN);
127     assertThat(LONG_MANY_VALUES_STATS_ITERATOR.mean())
128         .isWithin(ALLOWED_ERROR * LONG_MANY_VALUES_MEAN)
129         .of(LONG_MANY_VALUES_MEAN);
130     assertThat(LONG_MANY_VALUES_STATS_SNAPSHOT.mean())
131         .isWithin(ALLOWED_ERROR * LONG_MANY_VALUES_MEAN)
132         .of(LONG_MANY_VALUES_MEAN);
133     assertThat(LARGE_LONG_VALUES_STATS.mean())
134         .isWithin(ALLOWED_ERROR * Long.MAX_VALUE)
135         .of(LARGE_LONG_VALUES_MEAN);
136   }
137   public void testSum() {
138     assertThat(EMPTY_STATS_VARARGS.sum()).isEqualTo(0.0);
139     assertThat(EMPTY_STATS_ITERABLE.sum()).isEqualTo(0.0);
140     assertThat(ONE_VALUE_STATS.sum()).isWithin(ALLOWED_ERROR).of(ONE_VALUE);
141     assertThat(TWO_VALUES_STATS.sum()).isWithin(ALLOWED_ERROR).of(TWO_VALUES_MEAN * 2);
142     assertThat(MANY_VALUES_STATS_VARARGS.sum())
143         .isWithin(ALLOWED_ERROR)
144         .of(MANY_VALUES_MEAN * MANY_VALUES_COUNT);
145     assertThat(MANY_VALUES_STATS_ITERABLE.sum())
146         .isWithin(ALLOWED_ERROR)
147         .of(MANY_VALUES_MEAN * MANY_VALUES_COUNT);
148     assertThat(MANY_VALUES_STATS_ITERATOR.sum())
149         .isWithin(ALLOWED_ERROR)
150         .of(MANY_VALUES_MEAN * MANY_VALUES_COUNT);
151     assertThat(MANY_VALUES_STATS_SNAPSHOT.sum())
152         .isWithin(ALLOWED_ERROR)
153         .of(MANY_VALUES_MEAN * MANY_VALUES_COUNT);
154     assertThat(INTEGER_MANY_VALUES_STATS_VARARGS.sum())
155         .isWithin(ALLOWED_ERROR * INTEGER_MANY_VALUES_MEAN)
156         .of(INTEGER_MANY_VALUES_MEAN * INTEGER_MANY_VALUES_COUNT);
157     assertThat(INTEGER_MANY_VALUES_STATS_ITERABLE.sum())
158         .isWithin(ALLOWED_ERROR * INTEGER_MANY_VALUES_MEAN)
159         .of(INTEGER_MANY_VALUES_MEAN * INTEGER_MANY_VALUES_COUNT);
160     assertThat(LONG_MANY_VALUES_STATS_ITERATOR.sum())
161         .isWithin(ALLOWED_ERROR * LONG_MANY_VALUES_MEAN)
162         .of(LONG_MANY_VALUES_MEAN * LONG_MANY_VALUES_COUNT);
163     assertThat(LONG_MANY_VALUES_STATS_SNAPSHOT.sum())
164         .isWithin(ALLOWED_ERROR * LONG_MANY_VALUES_MEAN)
165         .of(LONG_MANY_VALUES_MEAN * LONG_MANY_VALUES_COUNT);
166   }
167   public void testPopulationVariance() {
168     try {
169       EMPTY_STATS_VARARGS.populationVariance();
170       fail("Expected IllegalStateException");
171     } catch (IllegalStateException expected) {
172     }
173     try {
174       EMPTY_STATS_ITERABLE.populationVariance();
175       fail("Expected IllegalStateException");
176     } catch (IllegalStateException expected) {
177     }
178     assertThat(ONE_VALUE_STATS.populationVariance()).isWithin(0.0).of(0.0);
179     assertThat(Stats.of(POSITIVE_INFINITY).populationVariance()).isNaN();
180     assertThat(Stats.of(NEGATIVE_INFINITY).populationVariance()).isNaN();
181     assertThat(Stats.of(NaN).populationVariance()).isNaN();
182     assertThat(TWO_VALUES_STATS.populationVariance())
183         .isWithin(ALLOWED_ERROR)
184         .of(TWO_VALUES_SUM_OF_SQUARES_OF_DELTAS / 2);
185     assertThat(MANY_VALUES_STATS_VARARGS.populationVariance())
186         .isWithin(ALLOWED_ERROR)
187         .of(MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / MANY_VALUES_COUNT);
188     for (ManyValues values : ALL_MANY_VALUES) {
189       double populationVariance = Stats.of(values.asIterable()).populationVariance();
190       if (values.hasAnyNonFinite()) {
191         assertWithMessage("population variance of " + values).that(populationVariance).isNaN();
192       } else {
193         assertWithMessage("population variance of " + values)
194             .that(populationVariance)
195 <a name="4"></a>            .isWithin(ALLOWED_ERROR)
196             .of(MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / MANY_VALUES_COUNT);
197       }
198     <font color="#6cc417"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>}
199     assertThat(MANY_VALUES_STATS_ITERATOR.populationVariance())
200         .isWithin(ALLOWED_ERROR)
201         .of(MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / MANY_VALUES_COUNT);
202     assertThat</b></font>(MANY_VALUES_STATS_SNAPSHOT.populationVariance())
203         .isWithin(ALLOWED_ERROR)
204         .of(MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / MANY_VALUES_COUNT);
205     assertThat(INTEGER_MANY_VALUES_STATS_VARARGS.populationVariance())
206         .isWithin(ALLOWED_ERROR * INTEGER_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS)
207         .of(INTEGER_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / INTEGER_MANY_VALUES_COUNT);
208     assertThat(INTEGER_MANY_VALUES_STATS_ITERABLE.populationVariance())
209         .isWithin(ALLOWED_ERROR * INTEGER_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS)
210         .of(INTEGER_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / INTEGER_MANY_VALUES_COUNT);
211     assertThat(LARGE_INTEGER_VALUES_STATS.populationVariance())
212         .isWithin(ALLOWED_ERROR * Integer.MAX_VALUE * Integer.MAX_VALUE)
213         .of(LARGE_INTEGER_VALUES_POPULATION_VARIANCE);
214     assertThat(LONG_MANY_VALUES_STATS_ITERATOR.populationVariance())
215         .isWithin(ALLOWED_ERROR * LONG_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS)
216         .of(LONG_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / LONG_MANY_VALUES_COUNT);
217     assertThat(LONG_MANY_VALUES_STATS_SNAPSHOT.populationVariance())
218         .isWithin(ALLOWED_ERROR * LONG_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS)
219         .of(LONG_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / LONG_MANY_VALUES_COUNT);
220     assertThat(LARGE_LONG_VALUES_STATS.populationVariance())
221         .isWithin(ALLOWED_ERROR * Long.MAX_VALUE * Long.MAX_VALUE)
222         .of(LARGE_LONG_VALUES_POPULATION_VARIANCE);
223   }
224   public void testPopulationStandardDeviation() {
225     try {
226       EMPTY_STATS_VARARGS.populationStandardDeviation();
227       fail("Expected IllegalStateException");
228     } catch (IllegalStateException expected) {
229     }
230     try {
231       EMPTY_STATS_ITERABLE.populationStandardDeviation();
232       fail("Expected IllegalStateException");
233     } catch (IllegalStateException expected) {
234     }
235     assertThat(ONE_VALUE_STATS.populationStandardDeviation()).isWithin(0.0).of(0.0);
236     assertThat(TWO_VALUES_STATS.populationStandardDeviation())
237         .isWithin(ALLOWED_ERROR)
238         .of(sqrt(TWO_VALUES_SUM_OF_SQUARES_OF_DELTAS / 2));
239     assertThat(MANY_VALUES_STATS_VARARGS.populationStandardDeviation())
240         .isWithin(ALLOWED_ERROR)
241         .of(sqrt(MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / MANY_VALUES_COUNT));
242     assertThat(MANY_VALUES_STATS_ITERABLE.populationStandardDeviation())
243         .isWithin(ALLOWED_ERROR)
244         .of(sqrt(MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / MANY_VALUES_COUNT));
245     assertThat(MANY_VALUES_STATS_ITERATOR.populationStandardDeviation())
246         .isWithin(ALLOWED_ERROR)
247         .of(sqrt(MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / MANY_VALUES_COUNT));
248     assertThat(MANY_VALUES_STATS_SNAPSHOT.populationStandardDeviation())
249         .isWithin(ALLOWED_ERROR)
250         .of(sqrt(MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / MANY_VALUES_COUNT));
251     assertThat(INTEGER_MANY_VALUES_STATS_VARARGS.populationStandardDeviation())
252         .isWithin(ALLOWED_ERROR * sqrt(INTEGER_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS))
253         .of(sqrt(INTEGER_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / INTEGER_MANY_VALUES_COUNT));
254     assertThat(INTEGER_MANY_VALUES_STATS_ITERABLE.populationStandardDeviation())
255         .isWithin(ALLOWED_ERROR * sqrt(INTEGER_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS))
256         .of(sqrt(INTEGER_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / INTEGER_MANY_VALUES_COUNT));
257     assertThat(LONG_MANY_VALUES_STATS_ITERATOR.populationStandardDeviation())
258         .isWithin(ALLOWED_ERROR * sqrt(LONG_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS))
259         .of(sqrt(LONG_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / LONG_MANY_VALUES_COUNT));
260     assertThat(LONG_MANY_VALUES_STATS_SNAPSHOT.populationStandardDeviation())
261         .isWithin(ALLOWED_ERROR * sqrt(LONG_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS))
262         .of(sqrt(LONG_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / LONG_MANY_VALUES_COUNT));
263   }
264   public void testSampleVariance() {
265     try {
266       EMPTY_STATS_VARARGS.sampleVariance();
267       fail("Expected IllegalStateException");
268     } catch (IllegalStateException expected) {
269     }
270     try {
271       EMPTY_STATS_ITERABLE.sampleVariance();
272       fail("Expected IllegalStateException");
273     } catch (IllegalStateException expected) {
274     }
275     try {
276       ONE_VALUE_STATS.sampleVariance();
277       fail("Expected IllegalStateException");
278     } catch (IllegalStateException expected) {
279     }
280     assertThat(TWO_VALUES_STATS.sampleVariance())
281         .isWithin(ALLOWED_ERROR)
282         .of(TWO_VALUES_SUM_OF_SQUARES_OF_DELTAS);
283     assertThat(MANY_VALUES_STATS_VARARGS.sampleVariance())
284         .isWithin(ALLOWED_ERROR)
285         .of(MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / (MANY_VALUES_COUNT - 1));
286     assertThat(MANY_VALUES_STATS_ITERABLE.sampleVariance())
287         .isWithin(ALLOWED_ERROR)
288         .of(MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / (MANY_VALUES_COUNT - 1));
289     assertThat(MANY_VALUES_STATS_ITERATOR.sampleVariance())
290         .isWithin(ALLOWED_ERROR)
291         .of(MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / (MANY_VALUES_COUNT - 1));
292     assertThat(MANY_VALUES_STATS_SNAPSHOT.sampleVariance())
293         .isWithin(ALLOWED_ERROR)
294         .of(MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / (MANY_VALUES_COUNT - 1));
295     assertThat(INTEGER_MANY_VALUES_STATS_VARARGS.sampleVariance())
296         .isWithin(ALLOWED_ERROR * INTEGER_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS)
297         .of(INTEGER_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / (INTEGER_MANY_VALUES_COUNT - 1));
298     assertThat(INTEGER_MANY_VALUES_STATS_ITERABLE.sampleVariance())
299         .isWithin(ALLOWED_ERROR * INTEGER_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS)
300         .of(INTEGER_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / (INTEGER_MANY_VALUES_COUNT - 1));
301     assertThat(LONG_MANY_VALUES_STATS_ITERATOR.sampleVariance())
302         .isWithin(ALLOWED_ERROR * LONG_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS)
303         .of(LONG_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / (LONG_MANY_VALUES_COUNT - 1));
304     assertThat(LONG_MANY_VALUES_STATS_SNAPSHOT.sampleVariance())
305         .isWithin(ALLOWED_ERROR * LONG_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS)
306         .of(LONG_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / (LONG_MANY_VALUES_COUNT - 1));
307   }
308   public void testSampleStandardDeviation() {
309     try {
310       EMPTY_STATS_VARARGS.sampleStandardDeviation();
311       fail("Expected IllegalStateException");
312     } catch (IllegalStateException expected) {
313     }
314     try {
315       EMPTY_STATS_ITERABLE.sampleStandardDeviation();
316       fail("Expected IllegalStateException");
317     } catch (IllegalStateException expected) {
318     }
319     try {
320       ONE_VALUE_STATS.sampleStandardDeviation();
321       fail("Expected IllegalStateException");
322     } catch (IllegalStateException expected) {
323     }
324     assertThat(TWO_VALUES_STATS.sampleStandardDeviation())
325         .isWithin(ALLOWED_ERROR)
326         .of(sqrt(TWO_VALUES_SUM_OF_SQUARES_OF_DELTAS));
327     assertThat(MANY_VALUES_STATS_VARARGS.sampleStandardDeviation())
328         .isWithin(ALLOWED_ERROR)
329         .of(sqrt(MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / (MANY_VALUES_COUNT - 1)));
330     assertThat(MANY_VALUES_STATS_ITERABLE.sampleStandardDeviation())
331         .isWithin(ALLOWED_ERROR)
332         .of(sqrt(MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / (MANY_VALUES_COUNT - 1)));
333     assertThat(MANY_VALUES_STATS_ITERATOR.sampleStandardDeviation())
334         .isWithin(ALLOWED_ERROR)
335         .of(sqrt(MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / (MANY_VALUES_COUNT - 1)));
336     assertThat(MANY_VALUES_STATS_SNAPSHOT.sampleStandardDeviation())
337         .isWithin(ALLOWED_ERROR)
338         .of(sqrt(MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / (MANY_VALUES_COUNT - 1)));
339     assertThat(INTEGER_MANY_VALUES_STATS_VARARGS.sampleStandardDeviation())
340         .isWithin(ALLOWED_ERROR * sqrt(INTEGER_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS))
341         .of(sqrt(INTEGER_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / (INTEGER_MANY_VALUES_COUNT - 1)));
342     assertThat(INTEGER_MANY_VALUES_STATS_ITERABLE.sampleStandardDeviation())
343         .isWithin(ALLOWED_ERROR * sqrt(INTEGER_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS))
344         .of(sqrt(INTEGER_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / (INTEGER_MANY_VALUES_COUNT - 1)));
345     assertThat(LONG_MANY_VALUES_STATS_ITERATOR.sampleStandardDeviation())
346         .isWithin(ALLOWED_ERROR * sqrt(LONG_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS))
347         .of(sqrt(LONG_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / (LONG_MANY_VALUES_COUNT - 1)));
348     assertThat(LONG_MANY_VALUES_STATS_SNAPSHOT.sampleStandardDeviation())
349         .isWithin(ALLOWED_ERROR * sqrt(LONG_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS))
350         .of(sqrt(LONG_MANY_VALUES_SUM_OF_SQUARES_OF_DELTAS / (LONG_MANY_VALUES_COUNT - 1)));
351   }
352   public void testMax() {
353     try {
354       EMPTY_STATS_VARARGS.max();
355       fail("Expected IllegalStateException");
356     } catch (IllegalStateException expected) {
357     }
358     try {
359       EMPTY_STATS_ITERABLE.max();
360       fail("Expected IllegalStateException");
361     } catch (IllegalStateException expected) {
362     }
363     assertThat(ONE_VALUE_STATS.max()).isEqualTo(ONE_VALUE);
364     assertThat(Stats.of(POSITIVE_INFINITY).max()).isPositiveInfinity();
365     assertThat(Stats.of(NEGATIVE_INFINITY).max()).isNegativeInfinity();
366 <a name="5"></a>    assertThat(Stats.of(NaN).max()).isNaN();
367     assertThat(TWO_VALUES_STATS.max()).isEqualTo(TWO_VALUES_MAX);
368     assertThat(MANY_VALUES_STATS_VARARGS.max()).isEqualTo(MANY_VALUES_MAX);
369     assertThat(<font color="#151b8d"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>MANY_VALUES_STATS_ITERABLE.max()).isEqualTo(MANY_VALUES_MAX);
370     for (ManyValues values : ALL_MANY_VALUES) {
371       double max = Stats.of(values.asIterable</b></font>().iterator()).max();
372       if (values.hasAnyNaN()) {
373         assertWithMessage("max of " + values).that(max).isNaN();
374       } else if (values.hasAnyPositiveInfinity()) {
375         assertWithMessage("max of " + values).that(max).isPositiveInfinity();
376       } else {
377         assertWithMessage("max of " + values).that(max).isEqualTo(MANY_VALUES_MAX);
378       }
379     }
380     assertThat(MANY_VALUES_STATS_SNAPSHOT.max()).isEqualTo(MANY_VALUES_MAX);
381     assertThat(INTEGER_MANY_VALUES_STATS_VARARGS.max()).isEqualTo(INTEGER_MANY_VALUES_MAX);
382     assertThat(INTEGER_MANY_VALUES_STATS_ITERABLE.max()).isEqualTo(INTEGER_MANY_VALUES_MAX);
383     assertThat(LONG_MANY_VALUES_STATS_ITERATOR.max()).isEqualTo(LONG_MANY_VALUES_MAX);
384     assertThat(LONG_MANY_VALUES_STATS_SNAPSHOT.max()).isEqualTo(LONG_MANY_VALUES_MAX);
385   }
386   public void testMin() {
387     try {
388       EMPTY_STATS_VARARGS.min();
389       fail("Expected IllegalStateException");
390     } catch (IllegalStateException expected) {
391     }
392     try {
393       EMPTY_STATS_ITERABLE.min();
394       fail("Expected IllegalStateException");
395     } catch (IllegalStateException expected) {
396     }
397     assertThat(ONE_VALUE_STATS.min()).isEqualTo(ONE_VALUE);
398     assertThat(Stats.of(POSITIVE_INFINITY).min()).isPositiveInfinity();
399     assertThat(Stats.of(NEGATIVE_INFINITY).min()).isNegativeInfinity();
400     assertThat(Stats.of(NaN).min()).isNaN();
401     assertThat(TWO_VALUES_STATS.min()).isEqualTo(TWO_VALUES_MIN);
402     assertThat(MANY_VALUES_STATS_VARARGS.min()).isEqualTo(MANY_VALUES_MIN);
403     assertThat(MANY_VALUES_STATS_ITERABLE.min()).isEqualTo(MANY_VALUES_MIN);
404     assertThat(MANY_VALUES_STATS_ITERATOR.min()).isEqualTo(MANY_VALUES_MIN);
405     for (ManyValues values : ALL_MANY_VALUES) {
406       StatsAccumulator accumulator = new StatsAccumulator();
407       accumulator.addAll(values.asIterable());
408       double min = accumulator.snapshot().min();
409       if (values.hasAnyNaN()) {
410         assertWithMessage("min of " + values).that(min).isNaN();
411       } else if (values.hasAnyNegativeInfinity()) {
412         assertWithMessage("min of " + values).that(min).isNegativeInfinity();
413       } else {
414         assertWithMessage("min of " + values).that(min).isEqualTo(MANY_VALUES_MIN);
415       }
416     }
417     assertThat(INTEGER_MANY_VALUES_STATS_VARARGS.min()).isEqualTo(INTEGER_MANY_VALUES_MIN);
418     assertThat(INTEGER_MANY_VALUES_STATS_ITERABLE.min()).isEqualTo(INTEGER_MANY_VALUES_MIN);
419     assertThat(LONG_MANY_VALUES_STATS_ITERATOR.min()).isEqualTo(LONG_MANY_VALUES_MIN);
420     assertThat(LONG_MANY_VALUES_STATS_SNAPSHOT.min()).isEqualTo(LONG_MANY_VALUES_MIN);
421 <a name="2"></a>  }
422   public void testEqualsAndHashCode() {
423     <font color="#980517"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>new EqualsTester()
424         .addEqualityGroup(
425             Stats.of(1.0, 1.0, 5.0, 5.0),
426             Stats.of(1.0, 1.0, 5.0, 5.0),
427             Stats.of(ImmutableList.of(1.0, 1.0, 5.0, 5.0)),
428             Stats.of(ImmutableList.of(1.0, 1.0, 5.0, 5.0).iterator()),
429             SerializableTester.reserialize(Stats.of</b></font>(1.0, 1.0, 5.0, 5.0)))
430         .addEqualityGroup(Stats.of(1.0, 5.0))
431         .addEqualityGroup(Stats.of(1.0, 5.0, 1.0, 6.0))
432         .addEqualityGroup(Stats.of(2.0, 6.0, 2.0, 6.0))
433         .addEqualityGroup(
434             new Stats(5, -5.5, 55.5, -5.55, 5.55), new Stats(5, -5.5, 55.5, -5.55, 5.55))
435         .addEqualityGroup(new Stats(6, -5.5, 55.5, -5.55, 5.55))
436         .addEqualityGroup(new Stats(5, -5.6, 55.5, -5.55, 5.55))
437         .addEqualityGroup(new Stats(5, -5.5, 55.6, -5.55, 5.55))
438         .addEqualityGroup(new Stats(5, -5.5, 55.5, -5.56, 5.55))
439         .addEqualityGroup(new Stats(5, -5.5, 55.5, -5.55, 5.56))
440         .testEquals();
441   }
442   public void testSerializable() {
443     SerializableTester.reserializeAndAssert(MANY_VALUES_STATS_ITERABLE);
444   }
445   public void testToString() {
446     assertThat(EMPTY_STATS_VARARGS.toString()).isEqualTo("Stats{count=0}");
447     assertThat(MANY_VALUES_STATS_ITERABLE.toString())
448         .isEqualTo(
449             "Stats{count="
450                 + MANY_VALUES_STATS_ITERABLE.count()
451                 + ", mean="
452                 + MANY_VALUES_STATS_ITERABLE.mean()
453                 + ", populationStandardDeviation="
454                 + MANY_VALUES_STATS_ITERABLE.populationStandardDeviation()
455                 + ", min="
456                 + MANY_VALUES_STATS_ITERABLE.min()
457                 + ", max="
458                 + MANY_VALUES_STATS_ITERABLE.max()
459                 + "}");
460   }
461   public void testMeanOf() {
462     try {
463       Stats.meanOf();
464       fail("Expected IllegalArgumentException");
465     } catch (IllegalArgumentException expected) {
466     }
467     try {
468       Stats.meanOf(ImmutableList.&lt;Number&gt;of());
469       fail("Expected IllegalArgumentException");
470     } catch (IllegalArgumentException expected) {
471     }
472     assertThat(Stats.meanOf(ONE_VALUE)).isWithin(ALLOWED_ERROR).of(ONE_VALUE);
473     assertThat(Stats.meanOf(POSITIVE_INFINITY)).isPositiveInfinity();
474     assertThat(Stats.meanOf(NEGATIVE_INFINITY)).isNegativeInfinity();
475     assertThat(Stats.meanOf(NaN)).isNaN();
476     assertThat(Stats.meanOf(TWO_VALUES)).isWithin(ALLOWED_ERROR).of(TWO_VALUES_MEAN);
477     for (ManyValues values : ALL_MANY_VALUES) {
478       double mean = Stats.meanOf(values.asArray());
479       if (values.hasAnyNaN()) {
480         assertWithMessage("mean of " + values).that(mean).isNaN();
481       } else if (values.hasAnyPositiveInfinity() &amp;&amp; values.hasAnyNegativeInfinity()) {
482         assertWithMessage("mean of " + values).that(mean).isNaN();
483       } else if (values.hasAnyPositiveInfinity()) {
484         assertWithMessage("mean of " + values).that(mean).isPositiveInfinity();
485       } else if (values.hasAnyNegativeInfinity()) {
486         assertWithMessage("mean of " + values).that(mean).isNegativeInfinity();
487       } else {
488         assertWithMessage("mean of " + values)
489             .that(mean)
490             .isWithin(ALLOWED_ERROR)
491             .of(MANY_VALUES_MEAN);
492       }
493     }
494     assertThat(Stats.meanOf(MANY_VALUES)).isWithin(ALLOWED_ERROR).of(MANY_VALUES_MEAN);
495     assertThat(Stats.meanOf(MANY_VALUES.iterator())).isWithin(ALLOWED_ERROR).of(MANY_VALUES_MEAN);
496     assertThat(Stats.meanOf(INTEGER_MANY_VALUES))
497         .isWithin(ALLOWED_ERROR * INTEGER_MANY_VALUES_MEAN)
498         .of(INTEGER_MANY_VALUES_MEAN);
499     assertThat(Stats.meanOf(Ints.toArray(INTEGER_MANY_VALUES)))
500         .isWithin(ALLOWED_ERROR * INTEGER_MANY_VALUES_MEAN)
501         .of(INTEGER_MANY_VALUES_MEAN);
502     assertThat(Stats.meanOf(LONG_MANY_VALUES))
503         .isWithin(ALLOWED_ERROR * LONG_MANY_VALUES_MEAN)
504         .of(LONG_MANY_VALUES_MEAN);
505     assertThat(Stats.meanOf(Longs.toArray(LONG_MANY_VALUES)))
506         .isWithin(ALLOWED_ERROR * LONG_MANY_VALUES_MEAN)
507         .of(LONG_MANY_VALUES_MEAN);
508   }
509   public void testToByteArrayAndFromByteArrayRoundTrip() {
510     for (Stats stats : ALL_STATS) {
511       byte[] statsByteArray = stats.toByteArray();
512       assertThat(Stats.fromByteArray(statsByteArray)).isEqualTo(stats);
513     }
514   }
515   public void testFromByteArray_withNullInputThrowsNullPointerException() {
516     try {
517       Stats.fromByteArray(null);
518       fail("Expected NullPointerException");
519     } catch (NullPointerException expected) {
520     }
521   }
522   public void testFromByteArray_withEmptyArrayInputThrowsIllegalArgumentException() {
523     try {
524       Stats.fromByteArray(new byte[0]);
525       fail("Expected IllegalArgumentException");
526     } catch (IllegalArgumentException expected) {
527     }
528   }
529   public void testFromByteArray_withTooLongArrayInputThrowsIllegalArgumentException() {
530     byte[] buffer = MANY_VALUES_STATS_VARARGS.toByteArray();
531     byte[] tooLongByteArray =
532         ByteBuffer.allocate(buffer.length + 2)
533             .order(ByteOrder.LITTLE_ENDIAN)
534             .put(buffer)
535             .putChar('.')
536             .array();
537     try {
538       Stats.fromByteArray(tooLongByteArray);
539       fail("Expected IllegalArgumentException");
540     } catch (IllegalArgumentException expected) {
541     }
542   }
543   public void testFromByteArrayWithTooShortArrayInputThrowsIllegalArgumentException() {
544     byte[] buffer = MANY_VALUES_STATS_VARARGS.toByteArray();
545     byte[] tooShortByteArray =
546         ByteBuffer.allocate(buffer.length - 1)
547             .order(ByteOrder.LITTLE_ENDIAN)
548             .put(buffer, 0, Stats.BYTES - 1)
549             .array();
550     try {
551       Stats.fromByteArray(tooShortByteArray);
552       fail("Expected IllegalArgumentException");
553     } catch (IllegalArgumentException expected) {
554     }
555   }
556 }
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
