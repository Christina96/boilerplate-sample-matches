<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Matches for MultimapSizeTester.java & MultimapPutTester_1.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</HEAD>
<body>
  <div style="align-items: center; display: flex; justify-content: space-around;">
    <div>
      <h3 align="center">
Matches for MultimapSizeTester.java & MultimapPutTester_1.java
      </h3>
      <h1 align="center">
        32.6%
      </h1>
      <center>
        <a href="index.html" target="_top">
          INDEX
        </a>
        <span>-</span>
        <a href="help-en.html" target="_top">
          HELP
        </a>
      </center>
    </div>
    <div>
<TABLE BORDER="1" CELLSPACING="0" BGCOLOR="#d0d0d0">
<TR><TH><TH>MultimapSizeTester.java (55.62914%)<TH>MultimapPutTester_1.java (23.076923%)<TH>Tokens
<TR><TD BGCOLOR="#0000ff"><FONT COLOR="#0000ff">-</FONT><TD><A HREF="javascript:ZweiFrames('match60093-0.html#0',2,'match60093-1.html#0',3)" NAME="0">(97-105)<TD><A HREF="javascript:ZweiFrames('match60093-0.html#0',2,'match60093-1.html#0',3)" NAME="0">(86-96)</A><TD ALIGN=center><FONT COLOR="#ff0000">25</FONT>
<TR><TD BGCOLOR="#f63526"><FONT COLOR="#f63526">-</FONT><TD><A HREF="javascript:ZweiFrames('match60093-0.html#1',2,'match60093-1.html#1',3)" NAME="1">(19-42)<TD><A HREF="javascript:ZweiFrames('match60093-0.html#1',2,'match60093-1.html#1',3)" NAME="1">(27-48)</A><TD ALIGN=center><FONT COLOR="#b70000">18</FONT>
<TR><TD BGCOLOR="#980517"><FONT COLOR="#980517">-</FONT><TD><A HREF="javascript:ZweiFrames('match60093-0.html#2',2,'match60093-1.html#2',3)" NAME="2">(74-81)<TD><A HREF="javascript:ZweiFrames('match60093-0.html#2',2,'match60093-1.html#2',3)" NAME="2">(143-149)</A><TD ALIGN=center><FONT COLOR="#990000">15</FONT>
<TR><TD BGCOLOR="#53858b"><FONT COLOR="#53858b">-</FONT><TD><A HREF="javascript:ZweiFrames('match60093-0.html#3',2,'match60093-1.html#3',3)" NAME="3">(90-96)<TD><A HREF="javascript:ZweiFrames('match60093-0.html#3',2,'match60093-1.html#3',3)" NAME="3">(76-83)</A><TD ALIGN=center><FONT COLOR="#840000">13</FONT>
<TR><TD BGCOLOR="#6cc417"><FONT COLOR="#6cc417">-</FONT><TD><A HREF="javascript:ZweiFrames('match60093-0.html#4',2,'match60093-1.html#4',3)" NAME="4">(82-87)<TD><A HREF="javascript:ZweiFrames('match60093-0.html#4',2,'match60093-1.html#4',3)" NAME="4">(102-108)</A><TD ALIGN=center><FONT COLOR="#840000">13</FONT>
</TABLE>
    </div>
  </div>
  <hr>
  <div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>MultimapSizeTester.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<HR>
<PRE>
/*
 * Copyright (C) 2012 The Guava Authors
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
<A NAME="1"></A>
package com.google.common.collect.testing.google;

<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match60093-1.html#1',3,'match60093-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>import static com.google.common.collect.testing.Helpers.mapEntry;
import static com.google.common.collect.testing.features.CollectionSize.SEVERAL;
import static com.google.common.collect.testing.features.CollectionSize.ZERO;
import static com.google.common.collect.testing.features.MapFeature.ALLOWS_NULL_KEYS;
import static com.google.common.collect.testing.features.MapFeature.ALLOWS_NULL_VALUES;

import com.google.common.annotations.GwtCompatible;
import com.google.common.collect.Multimap;
import com.google.common.collect.testing.features.CollectionSize;
import com.google.common.collect.testing.features.MapFeature;
import java.util.Collection;
import java.util.Map.Entry;
import org.junit.Ignore;

/**
 * Tester for the {@code size} methods of {@code Multimap} and its views.
 *
 * @author Louis Wasserman
 */
@GwtCompatible
@Ignore // Affects only Android test runner, which respects JUnit 4 annotations on JUnit 3 tests.
public class MultimapSizeTester&lt;K, V&gt; extends AbstractMultimapTester&lt;K, V, Multimap&lt;K, V&gt;&gt; {

  public v</B></FONT>oid testSize() {
    int expectedSize = getNumElements();
    Multimap&lt;K, V&gt; multimap = multimap();
    assertEquals(expectedSize, multimap.size());

    int size = 0;
    for (Entry&lt;K, V&gt; entry : multimap.entries()) {
      assertTrue(multimap.containsEntry(entry.getKey(), entry.getValue()));
      size++;
    }
    assertEquals(expectedSize, size);

    int size2 = 0;
    for (Entry&lt;K, Collection&lt;V&gt;&gt; entry2 : multimap.asMap().entrySet()) {
      size2 += entry2.getValue().size();
    }
    assertEquals(expectedSize, size2);
  }

  @CollectionSize.Require(ZERO)
  public void testIsEmptyYes() {
    assertTrue(multimap().isEmpty());
  }

  @CollectionSize.Require(absent = ZERO)
  public void testIsEmptyNo() {
    assertFalse(multimap().isEmpty());
  }

<A NAME="2"></A>  @CollectionSize.Require(absent = ZERO)
  @MapFeature.Require(ALLOWS_NULL_KEYS)
  public void testSizeNullKey() {
    <FONT color="#980517"><A HREF="javascript:ZweiFrames('match60093-1.html#2',3,'match60093-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>initMultimapWithNullKey();
    assertEquals(getNumElements(), multimap().size());
    assertFalse(multimap().isEmpty());
  }

<A NAME="4"></A>  @CollectionSize.Require(absent = ZERO)
  @MapFeature.Require(ALLOWS_NULL_VALUES)
  public void testSizeNullValue() {</B></FONT>
    <FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match60093-1.html#4',3,'match60093-top.html#4',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>initMultimapWithNullValue();
    assertEquals(getNumElements(), multimap().size());
    assertFalse(multimap().isEmpty());
  }

<A NAME="3"></A>  @CollectionSize.Require(a</B></FONT>bsent = ZERO)
  @MapFeature.Require({ALLOWS_NULL_KEYS, ALLOWS_NULL_VALUES})
  public void testSizeNullKeyAndValue() {
    <FONT color="#53858b"><A HREF="javascript:ZweiFrames('match60093-1.html#3',3,'match60093-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>initMultimapWithNullKeyAndValue();
    assertEquals(getNumElements(), multimap().size());
    assertFalse(multimap().isEmpty());
  }
<A NAME="0"></A>
  @CollectionSize.Require(SEVERAL)
  public void testSizeMultipleValues() {</B></FONT>
    resetContainer(mapEntry(k0(), v0()), mapEntry(k0(), <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match60093-1.html#0',3,'match60093-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>v1()), mapEntry(k0(), v2()));

    assertEquals(3, multimap().size());
    assertEquals(3, multimap().entries().size());
    assertEquals(3, multimap().keys().size());

    assertEquals(1, multimap().keySet().size());
    assertEquals(1, multimap().asMap().size());
  }</B></FONT>
}
</PRE>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>MultimapPutTester_1.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<HR>
<PRE>
/*
 * Copyright (C) 2012 The Guava Authors
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package com.google.common.collect.testing.google;

import static com.google.common.collect.testing.Helpers.assertContains;
import static com.google.common.collect.testing.Helpers.assertEmpty;
import static com.google.common.collect.testing.Helpers.assertEqualIgnoringOrder;
import static com.google.common.collect.testing.features.CollectionSize.ZERO;
import static com.google.common.collect.testing.features.MapFeature.ALLOWS_NULL_KEYS;
<A NAME="1"></A>import static com.google.common.collect.testing.features.MapFeature.ALLOWS_NULL_VALUES;
import static com.google.common.collect.testing.features.MapFeature.SUPPORTS_PUT;

<FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match60093-0.html#1',2,'match60093-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>import com.google.common.annotations.GwtCompatible;
import com.google.common.collect.ImmutableList;
import com.google.common.collect.Lists;
import com.google.common.collect.Multimap;
import com.google.common.collect.testing.Helpers;
import com.google.common.collect.testing.features.CollectionSize;
import com.google.common.collect.testing.features.MapFeature;
import java.util.Collection;
import java.util.Iterator;
import java.util.List;
import java.util.Map.Entry;
import org.junit.Ignore;

/**
 * Tester for {@link Multimap#put}.
 *
 * @author Louis Wasserman
 */
@GwtCompatible
@Ignore // Affects only Android test runner, which respects JUnit 4 annotations on JUnit 3 tests.
public class MultimapPutTester&lt;K, V&gt; extends AbstractMultimapTester&lt;K, V, Multimap&lt;K, V&gt;&gt; {
  @MapFeature.Requir</B></FONT>e(absent = SUPPORTS_PUT)
  public void testPutUnsupported() {
    try {
      multimap().put(k3(), v3());
      fail(&quot;Expected UnsupportedOperationException&quot;);
    } catch (UnsupportedOperationException expected) {
    }
  }

  @MapFeature.Require(SUPPORTS_PUT)
  public void testPutEmpty() {
    int size = getNumElements();

    assertGet(k3(), ImmutableList.&lt;V&gt;of());

    assertTrue(multimap().put(k3(), v3()));

    assertGet(k3(), v3());
    assertEquals(size + 1, multimap().size());
  }

  @MapFeature.Require(SUPPORTS_PUT)
  @CollectionSize.Require(absent = ZERO)
  public void testPutPresent() {
    int size = getNumElements();
<A NAME="3"></A>
    assertGet(k0(), v0());

    assertTrue(multimap().put(k0(), <FONT color="#53858b"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match60093-0.html#3',2,'match60093-top.html#3',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>v3()));

    assertGet(k0(), v0(), v3());
    assertEquals(size + 1, multimap().size());
  }

  @MapFeature.Require(SUPPORTS_PUT)
<A NAME="0"></A>  public void testPutTwoElements() {</B></FONT>
    int size = getNumElements();

    List&lt;V&gt; values = <FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match60093-0.html#0',2,'match60093-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>Helpers.copyToList(multimap().get(k0()));

    assertTrue(multimap().put(k0(), v1()));
    assertTrue(multimap().put(k0(), v2()));

    values.add(v1());
    values.add(v2());

    assertGet(k0(), values);
    assertEquals(size + 2, multimap().size());
  }</B></FONT>

  @MapFeature.Require({SUPPORTS_PUT, ALLOWS_NULL_VALUES})
<A NAME="4"></A>  public void testPutNullValue_supported() {
    int size = getNumElements();

    <FONT color="#6cc417"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match60093-0.html#4',2,'match60093-top.html#4',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>multimap().put(k3(), null);

    assertGet(k3(), Lists.newArrayList((V) null)); // ImmutableList.of can't take null.
    assertEquals(size + 1, multimap().size());
  }

  @MapFeature.Require(v</B></FONT>alue = SUPPORTS_PUT, absent = ALLOWS_NULL_VALUES)
  public void testPutNullValue_unsupported() {
    try {
      multimap().put(k1(), null);
      fail();
    } catch (NullPointerException expected) {
    }

    expectUnchanged();
  }

  @MapFeature.Require({SUPPORTS_PUT, ALLOWS_NULL_KEYS})
  public void testPutNullKey() {
    int size = getNumElements();

    multimap().put(null, v3());

    assertGet(null, v3());
    assertEquals(size + 1, multimap().size());
  }

  @MapFeature.Require(SUPPORTS_PUT)
  public void testPutNotPresentKeyPropagatesToGet() {
    int size = getNumElements();
    Collection&lt;V&gt; collection = multimap().get(k3());
    assertEmpty(collection);
    multimap().put(k3(), v3());
    assertContains(collection, v3());
    assertEquals(size + 1, multimap().size());
  }

  @MapFeature.Require(SUPPORTS_PUT)
<A NAME="2"></A>  public void testPutNotPresentKeyPropagatesToEntries() {
    Collection&lt;Entry&lt;K, V&gt;&gt; entries = multimap().entries();
    assertFalse(entries.contains(Helpers.mapEntry(k3(), v3())));
    <FONT color="#980517"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match60093-0.html#2',2,'match60093-top.html#2',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>multimap().put(k3(), v3());
    assertContains(entries, Helpers.mapEntry(k3(), v3()));
  }

  @CollectionSize.Require(absent = ZERO)
  @MapFeature.Require(SUPPORTS_PUT)
  public void testPutPresentKeyPropagatesToEntries() {</B></FONT>
    Collection&lt;Entry&lt;K, V&gt;&gt; entries = multimap().entries();
    assertFalse(entries.contains(Helpers.mapEntry(k0(), v3())));
    multimap().put(k0(), v3());
    assertContains(entries, Helpers.mapEntry(k0(), v3()));
  }

  @MapFeature.Require(SUPPORTS_PUT)
  @CollectionSize.Require(absent = ZERO)
  public void testPutPresentKeyPropagatesToGet() {
    List&lt;K&gt; keys = Helpers.copyToList(multimap().keySet());
    for (K key : keys) {
      resetContainer();

      int size = getNumElements();

      Collection&lt;V&gt; collection = multimap().get(key);
      Collection&lt;V&gt; expectedCollection = Helpers.copyToList(collection);

      multimap().put(key, v3());
      expectedCollection.add(v3());
      assertEqualIgnoringOrder(expectedCollection, collection);
      assertEquals(size + 1, multimap().size());
    }
  }

  @MapFeature.Require(SUPPORTS_PUT)
  @CollectionSize.Require(absent = ZERO)
  public void testPutPresentKeyPropagatesToAsMapGet() {
    List&lt;K&gt; keys = Helpers.copyToList(multimap().keySet());
    for (K key : keys) {
      resetContainer();

      int size = getNumElements();

      Collection&lt;V&gt; collection = multimap().asMap().get(key);
      assertNotNull(collection);
      Collection&lt;V&gt; expectedCollection = Helpers.copyToList(collection);

      multimap().put(key, v3());
      expectedCollection.add(v3());
      assertEqualIgnoringOrder(expectedCollection, collection);
      assertEquals(size + 1, multimap().size());
    }
  }

  @MapFeature.Require(SUPPORTS_PUT)
  @CollectionSize.Require(absent = ZERO)
  public void testPutPresentKeyPropagatesToAsMapEntrySet() {
    List&lt;K&gt; keys = Helpers.copyToList(multimap().keySet());
    for (K key : keys) {
      resetContainer();

      int size = getNumElements();

      Iterator&lt;Entry&lt;K, Collection&lt;V&gt;&gt;&gt; asMapItr = multimap().asMap().entrySet().iterator();
      Collection&lt;V&gt; collection = null;
      while (asMapItr.hasNext()) {
        Entry&lt;K, Collection&lt;V&gt;&gt; asMapEntry = asMapItr.next();
        if (key.equals(asMapEntry.getKey())) {
          collection = asMapEntry.getValue();
          break;
        }
      }
      assertNotNull(collection);
      Collection&lt;V&gt; expectedCollection = Helpers.copyToList(collection);

      multimap().put(key, v3());
      expectedCollection.add(v3());
      assertEqualIgnoringOrder(expectedCollection, collection);
      assertEquals(size + 1, multimap().size());
    }
  }
}
</PRE>
</div>
  </div>
</body>
</html>
