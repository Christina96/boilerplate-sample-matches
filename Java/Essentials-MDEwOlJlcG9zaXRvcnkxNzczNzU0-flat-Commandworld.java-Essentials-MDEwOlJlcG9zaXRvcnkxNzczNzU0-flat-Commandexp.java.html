
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 10.16949152542373%, Tokens: 18, <button onclick='openModal()' class='match'></button></h2>
        <div class="column">
            <h3>Essentials-MDEwOlJlcG9zaXRvcnkxNzczNzU0-flat-Commandworld.java</h3>
            <pre><code>1  package com.earth2me.essentials.commands;
<span onclick='openModal()' class='match'>2  import static com.earth2me.essentials.I18n.tl;
3  import com.earth2me.essentials.Trade;
4  import com.earth2me.essentials.User;
5  import java.util.List;
6  import org.bukkit.Location;
7  import org.bukkit.Server;
8  import org.bukkit.World;
9  import org.bukkit.event.player.PlayerTeleportEvent.TeleportCause;
10  public class Commandworld extends EssentialsCommand
11  {
12  	public Commandworld()
13  	{
14  		super("world");
15  	}
16  	@Override
17  	protected void run(final Server server, final User user, final String commandLabel, final String[] args) throws Exception
</span>18  	{
19  		World world;
20  		if (args.length < 1)
21  		{
22  			World nether = null;
23  			final List<World> worlds = server.getWorlds();
24  			for (World world2 : worlds)
25  			{
26  				if (world2.getEnvironment() == World.Environment.NETHER)
27  				{
28  					nether = world2;
29  					break;
30  				}
31  			}
32  			if (nether == null)
33  			{
34  				return;
35  			}
36  			world = user.getWorld() == nether ? worlds.get(0) : nether;
37  		}
38  		else
39  		{
40  			world = ess.getWorld(getFinalArg(args, 0));
41  			if (world == null)
42  			{
43  				user.sendMessage(tl("invalidWorld"));
44  				user.sendMessage(tl("possibleWorlds", server.getWorlds().size() - 1));
45  				user.sendMessage(tl("typeWorldName"));
46  				throw new NoChargeException();
47  			}
48  		}
49  		if (ess.getSettings().isWorldTeleportPermissions() && !user.isAuthorized("essentials.worlds." + world.getName()))
50  		{
51  			throw new Exception(tl("noPerm", "essentials.worlds." + world.getName()));
52  		}
53  		double factor;
54  		if (user.getWorld().getEnvironment() == World.Environment.NETHER && world.getEnvironment() == World.Environment.NORMAL)
55  		{
56  			factor = 8.0;
57  		}
58  		else if (user.getWorld().getEnvironment() == World.Environment.NORMAL && world.getEnvironment() == World.Environment.NETHER)
59  		{
60  			factor = 1.0 / 8.0;
61  		}
62  		else
63  		{
64  			factor = 1.0;
65  		}
66  		final Location loc = user.getLocation();
67  		final Location target = new Location(world, loc.getBlockX() * factor + .5, loc.getBlockY(), loc.getBlockZ() * factor + .5);
68  		final Trade charge = new Trade(this.getName(), ess);
69  		charge.isAffordableFor(user);
70  		user.getTeleport().teleport(target, charge, TeleportCause.COMMAND);
71  		throw new NoChargeException();
72  	}
73  }
</code></pre>
        </div>
        <div class="column">
            <h3>Essentials-MDEwOlJlcG9zaXRvcnkxNzczNzU0-flat-Commandexp.java</h3>
            <pre><code>1  package com.earth2me.essentials.commands;
2  import com.earth2me.essentials.CommandSource;
<span onclick='openModal()' class='match'>3  import static com.earth2me.essentials.I18n.tl;
4  import com.earth2me.essentials.User;
5  import com.earth2me.essentials.craftbukkit.SetExpFix;
6  import com.earth2me.essentials.utils.NumberUtil;
7  import java.util.List;
8  import java.util.Locale;
9  import org.bukkit.Server;
10  import org.bukkit.entity.Player;
11  public class Commandexp extends EssentialsCommand
12  {
13  	public Commandexp()
14  	{
15  		super("exp");
16  	}
17  	@Override
18  	public void run(final Server server, final User user, final String commandLabel, final String[] args) throws Exception
</span>19  	{
20  		if (args.length == 0)
21  		{
22  			showExp(user.getSource(), user);
23  		}
24  		else if (args.length > 1 && args[0].equalsIgnoreCase("set") && user.isAuthorized("essentials.exp.set"))
25  		{
26  			if (args.length == 3 && user.isAuthorized("essentials.exp.set.others"))
27  			{
28  				expMatch(server, user.getSource(), args[1], args[2], false);
29  			}
30  			else
31  			{
32  				setExp(user.getSource(), user, args[1], false);
33  			}
34  		}
35  		else if (args.length > 1 && args[0].equalsIgnoreCase("give") && user.isAuthorized("essentials.exp.give"))
36  		{
37  			if (args.length == 3 && user.isAuthorized("essentials.exp.give.others"))
38  			{
39  				expMatch(server, user.getSource(), args[1], args[2], true);
40  			}
41  			else
42  			{
43  				setExp(user.getSource(), user, args[1], true);
44  			}
45  		}
46  		else if (args[0].equalsIgnoreCase("show"))
47  		{
48  			if (args.length >= 2 && user.isAuthorized("essentials.exp.others"))
49  			{
50  				String match = args[1].trim();
51  				showMatch(server, user.getSource(), match);
52  			}
53  			else
54  			{
55  				showExp(user.getSource(), user);
56  			}
57  		}
58  		else
59  		{
60  			if (args.length >= 1 && NumberUtil.isInt(args[0].toLowerCase(Locale.ENGLISH).replace("l", "")) && user.isAuthorized("essentials.exp.give"))
61  			{
62  				if (args.length >= 2 && user.isAuthorized("essentials.exp.give.others"))
63  				{
64  					expMatch(server, user.getSource(), args[1], args[0], true);
65  				}
66  				else
67  				{
68  					setExp(user.getSource(), user, args[0], true);
69  				}
70  			}
71  			else if (args.length >= 1 && user.isAuthorized("essentials.exp.others"))
72  			{
73  				String match = args[0].trim();
74  				showMatch(server, user.getSource(), match);
75  			}
76  			else
77  			{
78  				showExp(user.getSource(), user);
79  			}
80  		}
81  	}
82  	@Override
83  	public void run(final Server server, final CommandSource sender, final String commandLabel, final String[] args) throws Exception
84  	{
85  		if (args.length < 1)
86  		{
87  			throw new NotEnoughArgumentsException();
88  		}
89  		else if (args.length > 2 && args[0].equalsIgnoreCase("set"))
90  		{
91  			expMatch(server, sender, args[1], args[2], false);
92  		}
93  		else if (args.length > 2 && args[0].equalsIgnoreCase("give"))
94  		{
95  			expMatch(server, sender, args[1], args[2], true);
96  		}
97  		else
98  		{
99  			String match = args[0].trim();
100  			if (args.length >= 2 && NumberUtil.isInt(args[0].toLowerCase(Locale.ENGLISH).replace("l", "")))
101  			{
102  				match = args[1].trim();
103  				expMatch(server, sender, match, args[0], true);
104  			}
105  			else if (args.length == 1)
106  			{
107  				match = args[0].trim();
108  			}
109  			showMatch(server, sender, match);
110  		}
111  	}
112  	private void showMatch(final Server server, final CommandSource sender, final String match) throws PlayerNotFoundException
113  	{
114  		boolean skipHidden = sender.isPlayer() && !ess.getUser(sender.getPlayer()).canInteractVanished();
115  		boolean foundUser = false;
116  		final List<Player> matchedPlayers = server.matchPlayer(match);
117  		for (Player matchPlayer : matchedPlayers)
118  		{
119  			final User player = ess.getUser(matchPlayer);
120  			if (skipHidden && player.isHidden(sender.getPlayer()) && !sender.getPlayer().canSee(matchPlayer))
121  			{
122  				continue;
123  			}
124  			foundUser = true;
125  			showExp(sender, player);
126  		}
127  		if (!foundUser)
128  		{
129  			throw new PlayerNotFoundException();
130  		}
131  	}
132  	private void expMatch(final Server server, final CommandSource sender, final String match, String amount, final boolean give) throws NotEnoughArgumentsException, PlayerNotFoundException
133  	{
134  		boolean skipHidden = sender.isPlayer() && !ess.getUser(sender.getPlayer()).canInteractVanished();
135  		boolean foundUser = false;
136  		final List<Player> matchedPlayers = server.matchPlayer(match);
137  		for (Player matchPlayer : matchedPlayers)
138  		{
139  			final User player = ess.getUser(matchPlayer);
140  			if (skipHidden && player.isHidden(sender.getPlayer()) && !sender.getPlayer().canSee(matchPlayer))
141  			{
142  				continue;
143  			}
144  			foundUser = true;
145  			setExp(sender, player, amount, give);
146  		}
147  		if (!foundUser)
148  		{
149  			throw new PlayerNotFoundException();
150  		}
151  	}
152  	private void showExp(final CommandSource sender, final User target)
153  	{
154  		sender.sendMessage(tl("exp", target.getDisplayName(), SetExpFix.getTotalExperience(target.getBase()), target.getBase().getLevel(), SetExpFix.getExpUntilNextLevel(target.getBase())));
155  	}
156  	private void setExp(final CommandSource sender, final User target, String strAmount, final boolean give) throws NotEnoughArgumentsException
157  	{
158  		long amount;
159  		strAmount = strAmount.toLowerCase(Locale.ENGLISH);
160  		if (strAmount.contains("l"))
161  		{
162  			strAmount = strAmount.replaceAll("l", "");
163  			int neededLevel = Integer.parseInt(strAmount);
164  			if (give)
165  			{
166  				neededLevel += target.getBase().getLevel();
167  			}
168  			amount = (long)SetExpFix.getExpToLevel(neededLevel);
169  			SetExpFix.setTotalExperience(target.getBase(), 0);
170  		}
171  		else
172  		{
173  			amount = Long.parseLong(strAmount);
174  			if (amount > Integer.MAX_VALUE || amount < Integer.MIN_VALUE)
175  			{
176  				throw new NotEnoughArgumentsException();
177  			}
178  		}
179  		if (give)
180  		{
181  			amount += SetExpFix.getTotalExperience(target.getBase());
182  		}
183  		if (amount > Integer.MAX_VALUE)
184  		{
185  			amount = (long)Integer.MAX_VALUE;
186  		}
187  		if (amount < 0l)
188  		{
189  			amount = 0l;
190  		}
191  		SetExpFix.setTotalExperience(target.getBase(), (int)amount);
192  		sender.sendMessage(tl("expSet", target.getDisplayName(), amount));
193  	}
194  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from Essentials-MDEwOlJlcG9zaXRvcnkxNzczNzU0-flat-Commandworld.java</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from Essentials-MDEwOlJlcG9zaXRvcnkxNzczNzU0-flat-Commandexp.java</div>
                </div>
                <div class="column column_space"><pre><code>2  import static com.earth2me.essentials.I18n.tl;
3  import com.earth2me.essentials.Trade;
4  import com.earth2me.essentials.User;
5  import java.util.List;
6  import org.bukkit.Location;
7  import org.bukkit.Server;
8  import org.bukkit.World;
9  import org.bukkit.event.player.PlayerTeleportEvent.TeleportCause;
10  public class Commandworld extends EssentialsCommand
11  {
12  	public Commandworld()
13  	{
14  		super("world");
15  	}
16  	@Override
17  	protected void run(final Server server, final User user, final String commandLabel, final String[] args) throws Exception
</pre></code></div>
                <div class="column column_space"><pre><code>3  import static com.earth2me.essentials.I18n.tl;
4  import com.earth2me.essentials.User;
5  import com.earth2me.essentials.craftbukkit.SetExpFix;
6  import com.earth2me.essentials.utils.NumberUtil;
7  import java.util.List;
8  import java.util.Locale;
9  import org.bukkit.Server;
10  import org.bukkit.entity.Player;
11  public class Commandexp extends EssentialsCommand
12  {
13  	public Commandexp()
14  	{
15  		super("exp");
16  	}
17  	@Override
18  	public void run(final Server server, final User user, final String commandLabel, final String[] args) throws Exception
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    