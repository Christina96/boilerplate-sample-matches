<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Matches for SortedMapNavigationTester_1.java & SynchronizedDequeTest_1.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</HEAD>
<body>
  <div style="align-items: center; display: flex; justify-content: space-around;">
    <div>
      <h3 align="center">
Matches for SortedMapNavigationTester_1.java & SynchronizedDequeTest_1.java
      </h3>
      <h1 align="center">
        16.6%
      </h1>
      <center>
        <a href="index.html" target="_top">
          INDEX
        </a>
        <span>-</span>
        <a href="help-en.html" target="_top">
          HELP
        </a>
      </center>
    </div>
    <div>
<TABLE BORDER="1" CELLSPACING="0" BGCOLOR="#d0d0d0">
<TR><TH><TH>SortedMapNavigationTester_1.java (20.9622%)<TH>SynchronizedDequeTest_1.java (13.800905%)<TH>Tokens
<TR><TD BGCOLOR="#0000ff"><FONT COLOR="#0000ff">-</FONT><TD><A HREF="javascript:ZweiFrames('match304101-0.html#0',2,'match304101-1.html#0',3)" NAME="0">(91-101)<TD><A HREF="javascript:ZweiFrames('match304101-0.html#0',2,'match304101-1.html#0',3)" NAME="0">(131-142)</A><TD ALIGN=center><FONT COLOR="#ff0000">16</FONT>
<TR><TD BGCOLOR="#f63526"><FONT COLOR="#f63526">-</FONT><TD><A HREF="javascript:ZweiFrames('match304101-0.html#1',2,'match304101-1.html#1',3)" NAME="1">(152-155)<TD><A HREF="javascript:ZweiFrames('match304101-0.html#1',2,'match304101-1.html#1',3)" NAME="1">(292-296)</A><TD ALIGN=center><FONT COLOR="#8f0000">9</FONT>
<TR><TD BGCOLOR="#980517"><FONT COLOR="#980517">-</FONT><TD><A HREF="javascript:ZweiFrames('match304101-0.html#2',2,'match304101-1.html#2',3)" NAME="2">(146-149)<TD><A HREF="javascript:ZweiFrames('match304101-0.html#2',2,'match304101-1.html#2',3)" NAME="2">(274-277)</A><TD ALIGN=center><FONT COLOR="#8f0000">9</FONT>
<TR><TD BGCOLOR="#53858b"><FONT COLOR="#53858b">-</FONT><TD><A HREF="javascript:ZweiFrames('match304101-0.html#3',2,'match304101-1.html#3',3)" NAME="3">(133-136)<TD><A HREF="javascript:ZweiFrames('match304101-0.html#3',2,'match304101-1.html#3',3)" NAME="3">(269-273)</A><TD ALIGN=center><FONT COLOR="#8f0000">9</FONT>
<TR><TD BGCOLOR="#6cc417"><FONT COLOR="#6cc417">-</FONT><TD><A HREF="javascript:ZweiFrames('match304101-0.html#4',2,'match304101-1.html#4',3)" NAME="4">(121-124)<TD><A HREF="javascript:ZweiFrames('match304101-0.html#4',2,'match304101-1.html#4',3)" NAME="4">(263-267)</A><TD ALIGN=center><FONT COLOR="#8f0000">9</FONT>
<TR><TD BGCOLOR="#151b8d"><FONT COLOR="#151b8d">-</FONT><TD><A HREF="javascript:ZweiFrames('match304101-0.html#5',2,'match304101-1.html#5',3)" NAME="5">(57-60)<TD><A HREF="javascript:ZweiFrames('match304101-0.html#5',2,'match304101-1.html#5',3)" NAME="5">(259-263)</A><TD ALIGN=center><FONT COLOR="#8f0000">9</FONT>
</TABLE>
    </div>
  </div>
  <hr>
  <div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>SortedMapNavigationTester_1.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<HR>
<PRE>
/*
 * Copyright (C) 2010 The Guava Authors
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package com.google.common.collect.testing.testers;

import static com.google.common.collect.testing.Helpers.assertEqualInOrder;
import static com.google.common.collect.testing.features.CollectionSize.ONE;
import static com.google.common.collect.testing.features.CollectionSize.SEVERAL;
import static com.google.common.collect.testing.features.CollectionSize.ZERO;

import com.google.common.annotations.GwtCompatible;
import com.google.common.collect.testing.AbstractMapTester;
import com.google.common.collect.testing.Helpers;
import com.google.common.collect.testing.features.CollectionSize;
import java.util.Collections;
import java.util.Comparator;
import java.util.Iterator;
import java.util.List;
import java.util.Map.Entry;
import java.util.NoSuchElementException;
import java.util.SortedMap;
import org.junit.Ignore;

/**
 * A generic JUnit test which tests operations on a SortedMap. Can't be invoked directly; please see
 * {@code SortedMapTestSuiteBuilder}.
 *
 * @author Jesse Wilson
 * @author Louis Wasserman
 */
@GwtCompatible
@Ignore // Affects only Android test runner, which respects JUnit 4 annotations on JUnit 3 tests.
public class SortedMapNavigationTester&lt;K, V&gt; extends AbstractMapTester&lt;K, V&gt; {

  private SortedMap&lt;K, V&gt; navigableMap;
  private Entry&lt;K, V&gt; a;
  private Entry&lt;K, V&gt; c;

  @Override
  public void setUp() throws Exception {
<A NAME="5"></A>    super.setUp();
    navigableMap = (SortedMap&lt;K, V&gt;) getMap();
    List&lt;Entry&lt;K, V&gt;&gt; entries =
        <FONT color="#151b8d"><A HREF="javascript:ZweiFrames('match304101-1.html#5',3,'match304101-top.html#5',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>Helpers.copyToList(
            getSubjectGenerator()
                .getSampleElements(getSubjectGenerator().getCollectionSize().getNumElements()));
    Collections.sort(entries, Helpers.&lt;K, V&gt;entryComparator(navigableMap.comparator</B></FONT>()));

    // some tests assume SEVERAL == 3
    if (entries.size() &gt;= 1) {
      a = entries.get(0);
      if (entries.size() &gt;= 3) {
        c = entries.get(2);
      }
    }
  }

  @CollectionSize.Require(ZERO)
  public void testEmptyMapFirst() {
    try {
      navigableMap.firstKey();
      fail();
    } catch (NoSuchElementException e) {
    }
  }

  @CollectionSize.Require(ZERO)
  public void testEmptyMapLast() {
    try {
      assertNull(navigableMap.lastKey());
      fail();
    } catch (NoSuchElementException e) {
    }
  }
<A NAME="0"></A>
  @CollectionSize.Require(ONE)
  public void testSingletonMapFirst() {
    assertEquals(a.getKey(), <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match304101-1.html#0',3,'match304101-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>navigableMap.firstKey());
  }

  @CollectionSize.Require(ONE)
  public void testSingletonMapLast() {
    assertEquals(a.getKey(), navigableMap.lastKey());
  }

  @CollectionSize.Require(SEVERAL)
  public void testFirst() {
    assertEquals(a.getKey</B></FONT>(), navigableMap.firstKey());
  }

  @CollectionSize.Require(SEVERAL)
  public void testLast() {
    assertEquals(c.getKey(), navigableMap.lastKey());
  }

  @CollectionSize.Require(absent = ZERO)
  public void testHeadMapExclusive() {
    assertFalse(navigableMap.headMap(a.getKey()).containsKey(a.getKey()));
  }

  @CollectionSize.Require(absent = ZERO)
  public void testTailMapInclusive() {
    assertTrue(navigableMap.tailMap(a.getKey()).containsKey(a.getKey()));
  }
<A NAME="4"></A>
  public void testHeadMap() {
    List&lt;Entry&lt;K, V&gt;&gt; entries =
        <FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match304101-1.html#4',3,'match304101-top.html#4',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>Helpers.copyToList(
            getSubjectGenerator()
                .getSampleElements(getSubjectGenerator().getCollectionSize().getNumElements()));
    Collections.sort(entries, Helpers.&lt;K, V&gt;entryComparator(navigableMap.comparator</B></FONT>()));
    for (int i = 0; i &lt; entries.size(); i++) {
      assertEqualInOrder(
          entries.subList(0, i), navigableMap.headMap(entries.get(i).getKey()).entrySet());
    }
  }
<A NAME="3"></A>
  public void testTailMap() {
    List&lt;Entry&lt;K, V&gt;&gt; entries =
        <FONT color="#53858b"><A HREF="javascript:ZweiFrames('match304101-1.html#3',3,'match304101-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>Helpers.copyToList(
            getSubjectGenerator()
                .getSampleElements(getSubjectGenerator().getCollectionSize().getNumElements()));
    Collections.sort(entries, Helpers.&lt;K, V&gt;entryComparator(navigableMap.comparator</B></FONT>()));
    for (int i = 0; i &lt; entries.size(); i++) {
      assertEqualInOrder(
          entries.subList(i, entries.size()),
          navigableMap.tailMap(entries.get(i).getKey()).entrySet());
    }
  }
<A NAME="2"></A>
  public void testSubMap() {
    List&lt;Entry&lt;K, V&gt;&gt; entries =
        <FONT color="#980517"><A HREF="javascript:ZweiFrames('match304101-1.html#2',3,'match304101-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>Helpers.copyToList(
            getSubjectGenerator()
                .getSampleElements(getSubjectGenerator().getCollectionSize().getNumElements()));
<A NAME="1"></A>    Collections.sort(entries, Helpers.&lt;K, V&gt;entryComparator(navigableMap.comparator</B></FONT>()));
    for (int i = 0; i &lt; entries.size(); i++) {
      for (int j = i + 1; j &lt; entries.size(); j++) {
        <FONT color="#f63526"><A HREF="javascript:ZweiFrames('match304101-1.html#1',3,'match304101-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>assertEqualInOrder(
            entries.subList(i, j),
            navigableMap.subMap(entries.get(i).getKey(), entries.get(j).getKey()).entrySet());
      }</B></FONT>
    }
  }

  @CollectionSize.Require(SEVERAL)
  public void testSubMapIllegal() {
    try {
      navigableMap.subMap(c.getKey(), a.getKey());
      fail(&quot;Expected IllegalArgumentException&quot;);
    } catch (IllegalArgumentException expected) {
    }
  }

  @CollectionSize.Require(absent = ZERO)
  public void testOrderedByComparator() {
    @SuppressWarnings(&quot;unchecked&quot;)
    Comparator&lt;? super K&gt; comparator = navigableMap.comparator();
    if (comparator == null) {
      comparator =
          new Comparator&lt;K&gt;() {
            @SuppressWarnings(&quot;unchecked&quot;)
            @Override
            public int compare(K o1, K o2) {
              return ((Comparable) o1).compareTo(o2);
            }
          };
    }
    Iterator&lt;Entry&lt;K, V&gt;&gt; entryItr = navigableMap.entrySet().iterator();
    Entry&lt;K, V&gt; prevEntry = entryItr.next();
    while (entryItr.hasNext()) {
      Entry&lt;K, V&gt; nextEntry = entryItr.next();
      assertTrue(comparator.compare(prevEntry.getKey(), nextEntry.getKey()) &lt; 0);
      prevEntry = nextEntry;
    }
  }
}
</PRE>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>SynchronizedDequeTest_1.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<HR>
<PRE>
/*
 * Copyright (C) 2013 The Guava Authors
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package com.google.common.collect;

import java.util.ArrayDeque;
import java.util.Collection;
import java.util.Deque;
import java.util.Iterator;
import junit.framework.TestCase;

/**
 * Tests for {@link Synchronized#deque} and {@link Queues#synchronizedDeque}.
 *
 * @author Kurt Alfred Kluever
 */
public class SynchronizedDequeTest extends TestCase {

  protected Deque&lt;String&gt; create() {
    TestDeque&lt;String&gt; inner = new TestDeque&lt;&gt;();
    Deque&lt;String&gt; outer = Synchronized.deque(inner, inner.mutex);
    outer.add(&quot;foo&quot;); // necessary because we try to remove elements later on
    return outer;
  }

  private static final class TestDeque&lt;E&gt; implements Deque&lt;E&gt; {
    private final Deque&lt;E&gt; delegate = Lists.newLinkedList();
    public final Object mutex = new Integer(1); // something Serializable

    @Override
    public boolean offer(E o) {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.offer(o);
    }

    @Override
    public E poll() {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.poll();
    }

    @Override
    public E remove() {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.remove();
    }

    @Override
    public boolean remove(Object object) {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.remove(object);
    }

    @Override
    public E peek() {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.peek();
    }

    @Override
    public E element() {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.element();
    }

    @Override
    public Iterator&lt;E&gt; iterator() {
      // We explicitly don't lock for iterator()
      assertFalse(Thread.holdsLock(mutex));
      return delegate.iterator();
    }

    @Override
    public int size() {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.size();
    }

    @Override
    public boolean removeAll(Collection&lt;?&gt; collection) {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.removeAll(collection);
    }

    @Override
    public boolean isEmpty() {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.isEmpty();
    }

    @Override
    public boolean contains(Object object) {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.contains(object);
    }

    @Override
    public boolean add(E element) {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.add(element);
    }

    @Override
    public boolean containsAll(Collection&lt;?&gt; collection) {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.containsAll(collection);
    }

    @Override
    public boolean addAll(Collection&lt;? extends E&gt; collection) {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.addAll(collection);
    }

<A NAME="0"></A>    @Override
    public boolean retainAll(Collection&lt;?&gt; collection) {
      assertTrue(Thread.holdsLock(mutex));
      return <FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match304101-0.html#0',2,'match304101-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>delegate.retainAll(collection);
    }

    @Override
    public void clear() {
      assertTrue(Thread.holdsLock(mutex));
      delegate.clear();
    }

    @Override
    public Object[] toArray() {
      assertTrue(Thread.holdsLock</B></FONT>(mutex));
      return delegate.toArray();
    }

    @Override
    public &lt;T&gt; T[] toArray(T[] array) {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.toArray(array);
    }

    @Override
    public void addFirst(E e) {
      assertTrue(Thread.holdsLock(mutex));
      delegate.addFirst(e);
    }

    @Override
    public void addLast(E e) {
      assertTrue(Thread.holdsLock(mutex));
      delegate.addLast(e);
    }

    @Override
    public boolean offerFirst(E e) {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.offerFirst(e);
    }

    @Override
    public boolean offerLast(E e) {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.offerLast(e);
    }

    @Override
    public E removeFirst() {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.removeFirst();
    }

    @Override
    public E removeLast() {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.removeLast();
    }

    @Override
    public E pollFirst() {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.pollFirst();
    }

    @Override
    public E pollLast() {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.pollLast();
    }

    @Override
    public E getFirst() {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.getFirst();
    }

    @Override
    public E getLast() {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.getLast();
    }

    @Override
    public E peekFirst() {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.peekFirst();
    }

    @Override
    public E peekLast() {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.peekLast();
    }

    @Override
    public boolean removeFirstOccurrence(Object o) {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.removeFirstOccurrence(o);
    }

    @Override
    public boolean removeLastOccurrence(Object o) {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.removeLastOccurrence(o);
    }

    @Override
    public void push(E e) {
      assertTrue(Thread.holdsLock(mutex));
      delegate.push(e);
    }

    @Override
    public E pop() {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.pop();
    }

    @Override
    public Iterator&lt;E&gt; descendingIterator() {
      assertTrue(Thread.holdsLock(mutex));
      return delegate.descendingIterator();
    }

    private static final long serialVersionUID = 0;
  }
<A NAME="5"></A>
  @SuppressWarnings(&quot;CheckReturnValue&quot;)
  public void testHoldsLockOnAllOperations() {
    <FONT color="#151b8d"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match304101-0.html#5',2,'match304101-top.html#5',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>create().element();
<A NAME="4"></A>    create().offer(&quot;foo&quot;);
    create().peek();
    create().poll();
    <FONT color="#6cc417"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match304101-0.html#4',2,'match304101-top.html#4',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>create().remove</B></FONT>();
    create().add(&quot;foo&quot;);
    create().addAll(ImmutableList.of(&quot;foo&quot;));
<A NAME="3"></A>    create().clear();
    create().contains</B></FONT>(&quot;foo&quot;);
    create().containsAll(ImmutableList.of(&quot;foo&quot;));
    create().equals(new ArrayDeque&lt;&gt;(<FONT color="#53858b"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match304101-0.html#3',2,'match304101-top.html#3',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>ImmutableList.of(&quot;foo&quot;)));
    create().hashCode();
<A NAME="2"></A>    create().isEmpty();
    create().iterator();
    create</B></FONT>().remove(&quot;foo&quot;);
    <FONT color="#980517"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match304101-0.html#2',2,'match304101-top.html#2',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>create().removeAll(ImmutableList.of(&quot;foo&quot;));
    create().retainAll(ImmutableList.of(&quot;foo&quot;));
    create().size();
    create().toArray</B></FONT>();
    create().toArray(new String[] {&quot;foo&quot;});
    create().addFirst(&quot;e&quot;);
    create().addLast(&quot;e&quot;);
    create().offerFirst(&quot;e&quot;);
    create().offerLast(&quot;e&quot;);
    create().removeFirst();
    create().removeLast();
    create().pollFirst();
    create().pollLast();
    create().getFirst();
    create().getLast();
<A NAME="1"></A>    create().peekFirst();
    create().peekLast();
    create().removeFirstOccurrence(&quot;e&quot;);
    <FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match304101-0.html#1',2,'match304101-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>create().removeLastOccurrence(&quot;e&quot;);
    create().push(&quot;e&quot;);
    create().pop();
    create().descendingIterator();
  }</B></FONT>
}
</PRE>
</div>
  </div>
</body>
</html>
