<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for TraverserTest.java &amp; ImmutableNetwork_1.java</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for TraverserTest.java &amp; ImmutableNetwork_1.java
      </h3>
<h1 align="center">
        2.2%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>TraverserTest.java (1.2425716%)<th>ImmutableNetwork_1.java (10.599078%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(1259-1266)<td><a href="#" name="0">(157-171)</a><td align="center"><font color="#ff0000">13</font>
<tr onclick='openModal("#f63526")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#f63526"><font color="#f63526">-</font><td><a href="#" name="1">(28-37)<td><a href="#" name="1">(19-46)</a><td align="center"><font color="#c40000">10</font>
</td></td></a></td></td></tr></td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>TraverserTest.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 package com.google.common.graph;
2 import static com.google.common.base.Preconditions.checkArgument;
3 import static com.google.common.base.Preconditions.checkNotNull;
4 import static com.google.common.collect.Lists.charactersOf;
5 import static com.google.common.truth.Truth.assertThat;
6 import static org.junit.Assert.fail;
7 <a name="1"></a>
8 import com.google.common.collect.HashMultiset;
9 import com.google.common.collect.ImmutableList;
10 <font color="#f63526"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>import com.google.common.collect.ImmutableMultimap;
11 import com.google.common.collect.Iterables;
12 import com.google.common.collect.Multiset;
13 import com.google.common.collect.Ordering;
14 import com.google.common.primitives.Chars;
15 import org.junit.Test;
16 import org.junit.runner.RunWith;
17 import org.junit.runners.JUnit4;
18 @</b></font>RunWith(JUnit4.class)
19 public class TraverserTest {
20   private static final SuccessorsFunction&lt;Character&gt; JAVADOC_GRAPH =
21       createUndirectedGraph("ba", "ad", "be", "ac", "ec", "cf");
22   private static final SuccessorsFunction&lt;Character&gt; DIAMOND_GRAPH =
23       createDirectedGraph("ab", "ac", "bd", "cd");
24   private static final SuccessorsFunction&lt;Character&gt; MULTI_GRAPH =
25       createDirectedGraph("aa", "dd", "ab", "ac", "ca", "cd", "bd");
26   private static final SuccessorsFunction&lt;Character&gt; CYCLE_GRAPH =
27       createDirectedGraph("ab", "bc", "cd", "da");
28   private static final SuccessorsFunction&lt;Character&gt; TWO_CYCLES_GRAPH =
29       createDirectedGraph("ab", "ac", "bc", "cd", "da");
30   private static final SuccessorsFunction&lt;Character&gt; TREE =
31       createDirectedGraph("hd", "he", "hg", "da", "db", "dc", "gf");
32   private static final SuccessorsFunction&lt;Character&gt; TWO_TREES = createDirectedGraph("ab", "cd");
33   private static final SuccessorsFunction&lt;Character&gt; SINGLE_ROOT = createSingleRootGraph();
34   private static final SuccessorsFunction&lt;Character&gt; CYCLIC_GRAPH_CONTAINING_TREE =
35       createDirectedGraph("ab", "bc", "bd", "ed", "ef", "fe");
36   private static final SuccessorsFunction&lt;Character&gt; GRAPH_CONTAINING_TREE_AND_DIAMOND =
37       createDirectedGraph("ab", "fe", "fg", "bc", "bd", "ed", "eh", "gh");
38   @Test
39   public void forGraph_breadthFirst_javadocExample_canBeIteratedMultipleTimes() {
40     Iterable&lt;Character&gt; result = Traverser.forGraph(JAVADOC_GRAPH).breadthFirst('a');
41     assertEqualCharNodes(result, "abcdef");
42     assertEqualCharNodes(result, "abcdef");
43   }
44   @Test
45   public void forGraph_breadthFirstIterable_javadocExample_canBeIteratedMultipleTimes() {
46     Iterable&lt;Character&gt; result = Traverser.forGraph(JAVADOC_GRAPH).breadthFirst(charactersOf("bf"));
47     assertEqualCharNodes(result, "bfaecd");
48     assertEqualCharNodes(result, "bfaecd");
49   }
50   @Test
51   public void forGraph_breadthFirst_infinite() {
52     Iterable&lt;Integer&gt; result =
53         Traverser.forGraph(fixedSuccessors(Iterables.cycle(1, 2, 3))).breadthFirst(0);
54     assertThat(Iterables.limit(result, 4)).containsExactly(0, 1, 2, 3).inOrder();
55   }
56   @Test
57   public void forGraph_breadthFirst_diamond() {
58     Traverser&lt;Character&gt; traverser = Traverser.forGraph(DIAMOND_GRAPH);
59     assertEqualCharNodes(traverser.breadthFirst('a'), "abcd");
60     assertEqualCharNodes(traverser.breadthFirst('b'), "bd");
61     assertEqualCharNodes(traverser.breadthFirst('c'), "cd");
62     assertEqualCharNodes(traverser.breadthFirst('d'), "d");
63   }
64   @Test
65   public void forGraph_breadthFirstIterable_diamond() {
66     Traverser&lt;Character&gt; traverser = Traverser.forGraph(DIAMOND_GRAPH);
67     assertEqualCharNodes(traverser.breadthFirst(charactersOf("")), "");
68     assertEqualCharNodes(traverser.breadthFirst(charactersOf("bc")), "bcd");
69     assertEqualCharNodes(traverser.breadthFirst(charactersOf("a")), "abcd");
70     assertEqualCharNodes(traverser.breadthFirst(charactersOf("acdb")), "acdb");
71     assertEqualCharNodes(traverser.breadthFirst(charactersOf("db")), "db");
72   }
73   @Test
74   public void forGraph_breadthFirst_multiGraph() {
75     Traverser&lt;Character&gt; traverser = Traverser.forGraph(MULTI_GRAPH);
76     assertEqualCharNodes(traverser.breadthFirst('a'), "abcd");
77     assertEqualCharNodes(traverser.breadthFirst('b'), "bd");
78     assertEqualCharNodes(traverser.breadthFirst('c'), "cadb");
79     assertEqualCharNodes(traverser.breadthFirst('d'), "d");
80   }
81   @Test
82   public void forGraph_breadthFirstIterable_multiGraph() {
83     Traverser&lt;Character&gt; traverser = Traverser.forGraph(MULTI_GRAPH);
84     assertEqualCharNodes(traverser.breadthFirst(charactersOf("ac")), "acbd");
85     assertEqualCharNodes(traverser.breadthFirst(charactersOf("cb")), "cbad");
86     assertEqualCharNodes(traverser.breadthFirst(charactersOf("db")), "db");
87     assertEqualCharNodes(traverser.breadthFirst(charactersOf("d")), "d");
88   }
89   @Test
90   public void forGraph_breadthFirst_cycle() {
91     Traverser&lt;Character&gt; traverser = Traverser.forGraph(CYCLE_GRAPH);
92     assertEqualCharNodes(traverser.breadthFirst('a'), "abcd");
93     assertEqualCharNodes(traverser.breadthFirst('b'), "bcda");
94     assertEqualCharNodes(traverser.breadthFirst('c'), "cdab");
95     assertEqualCharNodes(traverser.breadthFirst('d'), "dabc");
96   }
97   @Test
98   public void forGraph_breadthFirstIterable_cycle() {
99     Traverser&lt;Character&gt; traverser = Traverser.forGraph(CYCLE_GRAPH);
100     assertEqualCharNodes(traverser.breadthFirst(charactersOf("a")), "abcd");
101     assertEqualCharNodes(traverser.breadthFirst(charactersOf("bd")), "bdca");
102     assertEqualCharNodes(traverser.breadthFirst(charactersOf("dc")), "dcab");
103     assertEqualCharNodes(traverser.breadthFirst(charactersOf("bc")), "bcda");
104   }
105   @Test
106   public void forGraph_breadthFirst_twoCycles() {
107     Traverser&lt;Character&gt; traverser = Traverser.forGraph(TWO_CYCLES_GRAPH);
108     assertEqualCharNodes(traverser.breadthFirst('a'), "abcd");
109     assertEqualCharNodes(traverser.breadthFirst('b'), "bcda");
110     assertEqualCharNodes(traverser.breadthFirst('c'), "cdab");
111     assertEqualCharNodes(traverser.breadthFirst('d'), "dabc");
112   }
113   @Test
114   public void forGraph_breadthFirstIterable_twoCycles() {
115     Traverser&lt;Character&gt; traverser = Traverser.forGraph(TWO_CYCLES_GRAPH);
116     assertEqualCharNodes(traverser.breadthFirst(charactersOf("a")), "abcd");
117     assertEqualCharNodes(traverser.breadthFirst(charactersOf("bd")), "bdca");
118     assertEqualCharNodes(traverser.breadthFirst(charactersOf("dc")), "dcab");
119     assertEqualCharNodes(traverser.breadthFirst(charactersOf("bc")), "bcda");
120   }
121   @Test
122   public void forGraph_breadthFirst_tree() throws Exception {
123     Traverser&lt;Character&gt; traverser = Traverser.forGraph(TREE);
124     assertEqualCharNodes(traverser.breadthFirst('h'), "hdegabcf");
125     assertEqualCharNodes(traverser.breadthFirst('d'), "dabc");
126     assertEqualCharNodes(traverser.breadthFirst('a'), "a");
127   }
128   @Test
129   public void forGraph_breadthFirstIterable_tree() throws Exception {
130     Traverser&lt;Character&gt; traverser = Traverser.forGraph(TREE);
131     assertEqualCharNodes(traverser.breadthFirst(charactersOf("hg")), "hgdefabc");
132     assertEqualCharNodes(traverser.breadthFirst(charactersOf("gd")), "gdfabc");
133     assertEqualCharNodes(traverser.breadthFirst(charactersOf("bdgh")), "bdghacfe");
134   }
135   @Test
136   public void forGraph_breadthFirst_twoTrees() {
137     Iterable&lt;Character&gt; result = Traverser.forGraph(TWO_TREES).breadthFirst('a');
138     assertEqualCharNodes(result, "ab");
139   }
140   @Test
141   public void forGraph_breadthFirstIterable_twoTrees() {
142     assertEqualCharNodes(Traverser.forGraph(TWO_TREES).breadthFirst(charactersOf("a")), "ab");
143     assertEqualCharNodes(Traverser.forGraph(TWO_TREES).breadthFirst(charactersOf("ac")), "acbd");
144   }
145   @Test
146   public void forGraph_breadthFirst_singleRoot() {
147     Iterable&lt;Character&gt; result = Traverser.forGraph(SINGLE_ROOT).breadthFirst('a');
148     assertEqualCharNodes(result, "a");
149   }
150   @Test
151   public void forGraph_breadthFirstIterable_singleRoot() {
152     Iterable&lt;Character&gt; result = Traverser.forGraph(SINGLE_ROOT).breadthFirst(charactersOf("a"));
153     assertEqualCharNodes(result, "a");
154   }
155   @Test
156   public void forGraph_breadthFirst_emptyGraph() {
157     try {
158       Traverser.forGraph(createDirectedGraph()).breadthFirst('a');
159       fail("Expected IllegalArgumentException");
160     } catch (IllegalArgumentException expected) {
161     }
162   }
163   @Test
164   public void forGraph_breadthFirstIterable_emptyGraph() {
165     assertEqualCharNodes(
166         Traverser.forGraph(createDirectedGraph()).breadthFirst(charactersOf("")), "");
167     try {
168       Traverser.forGraph(createDirectedGraph()).breadthFirst(charactersOf("a"));
169       fail("Expected IllegalArgumentException");
170     } catch (IllegalArgumentException expected) {
171     }
172   }
173   @Test
174   public void forGraph_breadthFirst_iterableIsLazy() {
175     RequestSavingGraph graph = new RequestSavingGraph(DIAMOND_GRAPH);
176     Iterable&lt;Character&gt; result = Traverser.forGraph(graph).breadthFirst('a');
177     assertEqualCharNodes(Iterables.limit(result, 2), "ab");
178     assertThat(graph.requestedNodes).containsExactly('a', 'a', 'b');
179     assertEqualCharNodes(Iterables.limit(result, 2), "ab");
180     assertThat(graph.requestedNodes).containsExactly('a', 'a', 'a', 'b', 'b');
181   }
182   @Test
183   public void forGraph_breadthFirstIterable_iterableIsLazy() {
184     RequestSavingGraph graph = new RequestSavingGraph(DIAMOND_GRAPH);
185     Iterable&lt;Character&gt; result = Traverser.forGraph(graph).breadthFirst(charactersOf("ab"));
186     assertEqualCharNodes(Iterables.limit(result, 2), "ab");
187     assertThat(graph.requestedNodes).containsExactly('a', 'a', 'b', 'b');
188     assertEqualCharNodes(Iterables.limit(result, 2), "ab");
189     assertThat(graph.requestedNodes).containsExactly('a', 'a', 'a', 'b', 'b', 'b');
190   }
191   @Test
192   public void forGraph_depthFirstPreOrder_javadocExample_canBeIteratedMultipleTimes() {
193     Iterable&lt;Character&gt; result = Traverser.forGraph(JAVADOC_GRAPH).depthFirstPreOrder('a');
194     assertEqualCharNodes(result, "abecfd");
195     assertEqualCharNodes(result, "abecfd");
196   }
197   @Test
198   public void forGraph_depthFirstPreOrderIterable_javadocExample_canBeIteratedMultipleTimes() {
199     Iterable&lt;Character&gt; result =
200         Traverser.forGraph(JAVADOC_GRAPH).depthFirstPreOrder(charactersOf("bc"));
201     assertEqualCharNodes(result, "bacefd");
202     assertEqualCharNodes(result, "bacefd");
203   }
204   @Test
205   public void forGraph_depthFirstPreOrder_infinite() {
206     Iterable&lt;Integer&gt; result =
207         Traverser.forGraph(fixedSuccessors(Iterables.cycle(1, 2, 3))).depthFirstPreOrder(0);
208     assertThat(Iterables.limit(result, 3)).containsExactly(0, 1, 2).inOrder();
209   }
210   @Test
211   public void forGraph_depthFirstPreOrder_diamond() {
212     Traverser&lt;Character&gt; traverser = Traverser.forGraph(DIAMOND_GRAPH);
213     assertEqualCharNodes(traverser.depthFirstPreOrder('a'), "abdc");
214     assertEqualCharNodes(traverser.depthFirstPreOrder('b'), "bd");
215     assertEqualCharNodes(traverser.depthFirstPreOrder('c'), "cd");
216     assertEqualCharNodes(traverser.depthFirstPreOrder('d'), "d");
217   }
218   @Test
219   public void forGraph_depthFirstPreOrderIterable_diamond() {
220     Traverser&lt;Character&gt; traverser = Traverser.forGraph(DIAMOND_GRAPH);
221     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("")), "");
222     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("bc")), "bdc");
223     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("a")), "abdc");
224     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("acdb")), "abdc");
225     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("db")), "db");
226   }
227   @Test
228   public void forGraph_depthFirstPreOrder_multigraph() {
229     Traverser&lt;Character&gt; traverser = Traverser.forGraph(MULTI_GRAPH);
230     assertEqualCharNodes(traverser.depthFirstPreOrder('a'), "abdc");
231     assertEqualCharNodes(traverser.depthFirstPreOrder('b'), "bd");
232     assertEqualCharNodes(traverser.depthFirstPreOrder('c'), "cabd");
233     assertEqualCharNodes(traverser.depthFirstPreOrder('d'), "d");
234   }
235   @Test
236   public void forGraph_depthFirstPreOrderIterable_multigraph() {
237     Traverser&lt;Character&gt; traverser = Traverser.forGraph(MULTI_GRAPH);
238     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("ac")), "abdc");
239     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("cb")), "cabd");
240     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("db")), "db");
241     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("d")), "d");
242   }
243   @Test
244   public void forGraph_depthFirstPreOrder_cycle() {
245     Traverser&lt;Character&gt; traverser = Traverser.forGraph(CYCLE_GRAPH);
246     assertEqualCharNodes(traverser.depthFirstPreOrder('a'), "abcd");
247     assertEqualCharNodes(traverser.depthFirstPreOrder('b'), "bcda");
248     assertEqualCharNodes(traverser.depthFirstPreOrder('c'), "cdab");
249     assertEqualCharNodes(traverser.depthFirstPreOrder('d'), "dabc");
250   }
251   @Test
252   public void forGraph_depthFirstPreOrderIterable_cycle() {
253     Traverser&lt;Character&gt; traverser = Traverser.forGraph(CYCLE_GRAPH);
254     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("a")), "abcd");
255     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("bd")), "bcda");
256     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("dc")), "dabc");
257     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("bc")), "bcda");
258   }
259   @Test
260   public void forGraph_depthFirstPreOrder_twoCycles() {
261     Traverser&lt;Character&gt; traverser = Traverser.forGraph(TWO_CYCLES_GRAPH);
262     assertEqualCharNodes(traverser.depthFirstPreOrder('a'), "abcd");
263     assertEqualCharNodes(traverser.depthFirstPreOrder('b'), "bcda");
264     assertEqualCharNodes(traverser.depthFirstPreOrder('c'), "cdab");
265     assertEqualCharNodes(traverser.depthFirstPreOrder('d'), "dabc");
266   }
267   @Test
268   public void forGraph_depthFirstPreOrderIterable_twoCycles() {
269     Traverser&lt;Character&gt; traverser = Traverser.forGraph(TWO_CYCLES_GRAPH);
270     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("a")), "abcd");
271     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("bd")), "bcda");
272     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("dc")), "dabc");
273     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("bc")), "bcda");
274   }
275   @Test
276   public void forGraph_depthFirstPreOrder_tree() throws Exception {
277     Traverser&lt;Character&gt; traverser = Traverser.forGraph(TREE);
278     assertEqualCharNodes(traverser.depthFirstPreOrder('h'), "hdabcegf");
279     assertEqualCharNodes(traverser.depthFirstPreOrder('d'), "dabc");
280     assertEqualCharNodes(traverser.depthFirstPreOrder('a'), "a");
281   }
282   @Test
283   public void forGraph_depthFirstPreOrderIterable_tree() throws Exception {
284     Traverser&lt;Character&gt; traverser = Traverser.forGraph(TREE);
285     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("hg")), "hdabcegf");
286     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("gd")), "gfdabc");
287     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("bdgh")), "bdacgfhe");
288   }
289   @Test
290   public void forGraph_depthFirstPreOrder_twoTrees() {
291     Iterable&lt;Character&gt; result = Traverser.forGraph(TWO_TREES).depthFirstPreOrder('a');
292     assertEqualCharNodes(result, "ab");
293   }
294   @Test
295   public void forGraph_depthFirstPreOrderIterable_twoTrees() {
296     assertEqualCharNodes(Traverser.forGraph(TWO_TREES).depthFirstPreOrder(charactersOf("a")), "ab");
297     assertEqualCharNodes(
298         Traverser.forGraph(TWO_TREES).depthFirstPreOrder(charactersOf("ac")), "abcd");
299   }
300   @Test
301   public void forGraph_depthFirstPreOrder_singleRoot() {
302     Iterable&lt;Character&gt; result = Traverser.forGraph(SINGLE_ROOT).depthFirstPreOrder('a');
303     assertEqualCharNodes(result, "a");
304   }
305   @Test
306   public void forGraph_depthFirstPreOrderIterable_singleRoot() {
307     Iterable&lt;Character&gt; result =
308         Traverser.forGraph(SINGLE_ROOT).depthFirstPreOrder(charactersOf("a"));
309     assertEqualCharNodes(result, "a");
310   }
311   @Test
312   public void forGraph_depthFirstPreOrder_emptyGraph() {
313     try {
314       Traverser.forGraph(createDirectedGraph()).depthFirstPreOrder('a');
315       fail("Expected IllegalArgumentException");
316     } catch (IllegalArgumentException expected) {
317     }
318   }
319   @Test
320   public void forGraph_depthFirstPreOrderIterable_emptyGraph() {
321     assertEqualCharNodes(
322         Traverser.forGraph(createDirectedGraph()).depthFirstPreOrder(charactersOf("")), "");
323     try {
324       Traverser.forGraph(createDirectedGraph()).depthFirstPreOrder(charactersOf("a"));
325       fail("Expected IllegalArgumentException");
326     } catch (IllegalArgumentException expected) {
327     }
328   }
329   @Test
330   public void forGraph_depthFirstPreOrder_iterableIsLazy() {
331     RequestSavingGraph graph = new RequestSavingGraph(DIAMOND_GRAPH);
332     Iterable&lt;Character&gt; result = Traverser.forGraph(graph).depthFirstPreOrder('a');
333     assertEqualCharNodes(Iterables.limit(result, 2), "ab");
334     assertThat(graph.requestedNodes).containsExactly('a', 'a', 'b');
335     assertEqualCharNodes(Iterables.limit(result, 2), "ab");
336     assertThat(graph.requestedNodes).containsExactly('a', 'a', 'a', 'b', 'b');
337   }
338   @Test
339   public void forGraph_depthFirstPreOrderIterable_iterableIsLazy() {
340     RequestSavingGraph graph = new RequestSavingGraph(DIAMOND_GRAPH);
341     Iterable&lt;Character&gt; result = Traverser.forGraph(graph).depthFirstPreOrder(charactersOf("ac"));
342     assertEqualCharNodes(Iterables.limit(result, 2), "ab");
343     assertThat(graph.requestedNodes).containsExactly('a', 'a', 'b', 'c');
344     assertEqualCharNodes(Iterables.limit(result, 2), "ab");
345     assertThat(graph.requestedNodes).containsExactly('a', 'a', 'a', 'b', 'b', 'c');
346   }
347   @Test
348   public void forGraph_depthFirstPostOrder_javadocExample_canBeIteratedMultipleTimes() {
349     Iterable&lt;Character&gt; result = Traverser.forGraph(JAVADOC_GRAPH).depthFirstPostOrder('a');
350     assertEqualCharNodes(result, "fcebda");
351     assertEqualCharNodes(result, "fcebda");
352   }
353   @Test
354   public void forGraph_depthFirstPostOrderIterable_javadocExample_canBeIteratedMultipleTimes() {
355     Iterable&lt;Character&gt; result =
356         Traverser.forGraph(JAVADOC_GRAPH).depthFirstPostOrder(charactersOf("bf"));
357     assertEqualCharNodes(result, "efcdab");
358     assertEqualCharNodes(result, "efcdab");
359   }
360   @Test
361   public void forGraph_depthFirstPostOrder_diamond() {
362     Traverser&lt;Character&gt; traverser = Traverser.forGraph(DIAMOND_GRAPH);
363     assertEqualCharNodes(traverser.depthFirstPostOrder('a'), "dbca");
364     assertEqualCharNodes(traverser.depthFirstPostOrder('b'), "db");
365     assertEqualCharNodes(traverser.depthFirstPostOrder('c'), "dc");
366     assertEqualCharNodes(traverser.depthFirstPostOrder('d'), "d");
367   }
368   @Test
369   public void forGraph_depthFirstPostOrderIterable_diamond() {
370     Traverser&lt;Character&gt; traverser = Traverser.forGraph(DIAMOND_GRAPH);
371     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("")), "");
372     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("bc")), "dbc");
373     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("a")), "dbca");
374     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("acdb")), "dbca");
375     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("db")), "db");
376   }
377   @Test
378   public void forGraph_depthFirstPostOrder_multigraph() {
379     Traverser&lt;Character&gt; traverser = Traverser.forGraph(MULTI_GRAPH);
380     assertEqualCharNodes(traverser.depthFirstPostOrder('a'), "dbca");
381     assertEqualCharNodes(traverser.depthFirstPostOrder('b'), "db");
382     assertEqualCharNodes(traverser.depthFirstPostOrder('c'), "dbac");
383     assertEqualCharNodes(traverser.depthFirstPostOrder('d'), "d");
384   }
385   @Test
386   public void forGraph_depthFirstPostOrderIterable_multigraph() {
387     Traverser&lt;Character&gt; traverser = Traverser.forGraph(MULTI_GRAPH);
388     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("ac")), "dbca");
389     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("cb")), "dbac");
390     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("db")), "db");
391     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("d")), "d");
392   }
393   @Test
394   public void forGraph_depthFirstPostOrder_cycle() {
395     Traverser&lt;Character&gt; traverser = Traverser.forGraph(CYCLE_GRAPH);
396     assertEqualCharNodes(traverser.depthFirstPostOrder('a'), "dcba");
397     assertEqualCharNodes(traverser.depthFirstPostOrder('b'), "adcb");
398     assertEqualCharNodes(traverser.depthFirstPostOrder('c'), "badc");
399     assertEqualCharNodes(traverser.depthFirstPostOrder('d'), "cbad");
400   }
401   @Test
402   public void forGraph_depthFirstPostOrderIterable_cycle() {
403     Traverser&lt;Character&gt; traverser = Traverser.forGraph(CYCLE_GRAPH);
404     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("a")), "dcba");
405     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("bd")), "adcb");
406     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("dc")), "cbad");
407     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("bc")), "adcb");
408   }
409   @Test
410   public void forGraph_depthFirstPostOrder_twoCycles() {
411     Traverser&lt;Character&gt; traverser = Traverser.forGraph(TWO_CYCLES_GRAPH);
412     assertEqualCharNodes(traverser.depthFirstPostOrder('a'), "dcba");
413     assertEqualCharNodes(traverser.depthFirstPostOrder('b'), "adcb");
414     assertEqualCharNodes(traverser.depthFirstPostOrder('c'), "badc");
415     assertEqualCharNodes(traverser.depthFirstPostOrder('d'), "cbad");
416   }
417   @Test
418   public void forGraph_depthFirstPostOrderIterable_twoCycles() {
419     Traverser&lt;Character&gt; traverser = Traverser.forGraph(TWO_CYCLES_GRAPH);
420     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("a")), "dcba");
421     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("bd")), "adcb");
422     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("dc")), "cbad");
423     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("bc")), "adcb");
424   }
425   @Test
426   public void forGraph_depthFirstPostOrder_tree() throws Exception {
427     Traverser&lt;Character&gt; traverser = Traverser.forGraph(TREE);
428     assertEqualCharNodes(traverser.depthFirstPostOrder('h'), "abcdefgh");
429     assertEqualCharNodes(traverser.depthFirstPostOrder('d'), "abcd");
430     assertEqualCharNodes(traverser.depthFirstPostOrder('a'), "a");
431   }
432   @Test
433   public void forGraph_depthFirstPostOrderIterable_tree() throws Exception {
434     Traverser&lt;Character&gt; traverser = Traverser.forGraph(TREE);
435     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("hg")), "abcdefgh");
436     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("gd")), "fgabcd");
437     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("bdgh")), "bacdfgeh");
438   }
439   @Test
440   public void forGraph_depthFirstPostOrder_twoTrees() {
441     Iterable&lt;Character&gt; result = Traverser.forGraph(TWO_TREES).depthFirstPostOrder('a');
442     assertEqualCharNodes(result, "ba");
443   }
444   @Test
445   public void forGraph_depthFirstPostOrderIterable_twoTrees() {
446     assertEqualCharNodes(
447         Traverser.forGraph(TWO_TREES).depthFirstPostOrder(charactersOf("a")), "ba");
448     assertEqualCharNodes(
449         Traverser.forGraph(TWO_TREES).depthFirstPostOrder(charactersOf("ac")), "badc");
450   }
451   @Test
452   public void forGraph_depthFirstPostOrder_singleRoot() {
453     Iterable&lt;Character&gt; result = Traverser.forGraph(SINGLE_ROOT).depthFirstPostOrder('a');
454     assertEqualCharNodes(result, "a");
455   }
456   @Test
457   public void forGraph_depthFirstPostOrderIterable_singleRoot() {
458     Iterable&lt;Character&gt; result =
459         Traverser.forGraph(SINGLE_ROOT).depthFirstPostOrder(charactersOf("a"));
460     assertEqualCharNodes(result, "a");
461   }
462   @Test
463   public void forGraph_depthFirstPostOrder_emptyGraph() {
464     try {
465       Traverser.forGraph(createDirectedGraph()).depthFirstPostOrder('a');
466       fail("Expected IllegalArgumentException");
467     } catch (IllegalArgumentException expected) {
468     }
469   }
470   @Test
471   public void forGraph_depthFirstPostOrderIterable_emptyGraph() {
472     assertEqualCharNodes(
473         Traverser.forGraph(createDirectedGraph()).depthFirstPostOrder(charactersOf("")), "");
474     try {
475       Traverser.forGraph(createDirectedGraph()).depthFirstPostOrder(charactersOf("a"));
476       fail("Expected IllegalArgumentException");
477     } catch (IllegalArgumentException expected) {
478     }
479   }
480   @Test
481   public void forGraph_depthFirstPostOrder_iterableIsLazy() {
482     RequestSavingGraph graph = new RequestSavingGraph(DIAMOND_GRAPH);
483     Iterable&lt;Character&gt; result = Traverser.forGraph(graph).depthFirstPostOrder('a');
484     assertEqualCharNodes(Iterables.limit(result, 2), "db");
485     assertThat(graph.requestedNodes).containsExactly('a', 'a', 'b', 'd');
486     assertEqualCharNodes(Iterables.limit(result, 2), "db");
487     assertThat(graph.requestedNodes).containsExactly('a', 'a', 'a', 'b', 'b', 'd', 'd');
488   }
489   @Test
490   public void forGraph_depthFirstPostOrderIterable_iterableIsLazy() {
491     RequestSavingGraph graph = new RequestSavingGraph(DIAMOND_GRAPH);
492     Iterable&lt;Character&gt; result = Traverser.forGraph(graph).depthFirstPostOrder(charactersOf("ac"));
493     assertEqualCharNodes(Iterables.limit(result, 2), "db");
494     assertThat(graph.requestedNodes).containsExactly('a', 'a', 'b', 'c', 'd');
495     assertEqualCharNodes(Iterables.limit(result, 2), "db");
496     assertThat(graph.requestedNodes).containsExactly('a', 'a', 'a', 'b', 'b', 'c', 'd', 'd');
497   }
498   @Test
499   @SuppressWarnings("CheckReturnValue")
500   public void forTree_acceptsDirectedGraph() throws Exception {
501     MutableGraph&lt;String&gt; graph = GraphBuilder.directed().build();
502     graph.putEdge("a", "b");
503     Traverser.forTree(graph);   }
504   @Test
505   public void forTree_withUndirectedGraph_throws() throws Exception {
506     MutableGraph&lt;String&gt; graph = GraphBuilder.undirected().build();
507     graph.putEdge("a", "b");
508     try {
509       Traverser.forTree(graph);
510       fail("Expected exception");
511     } catch (IllegalArgumentException expected) {
512     }
513   }
514   @Test
515   @SuppressWarnings("CheckReturnValue")
516   public void forTree_acceptsDirectedValueGraph() throws Exception {
517     MutableValueGraph&lt;String, Integer&gt; valueGraph = ValueGraphBuilder.directed().build();
518     valueGraph.putEdgeValue("a", "b", 11);
519     Traverser.forTree(valueGraph);   }
520   @Test
521   public void forTree_withUndirectedValueGraph_throws() throws Exception {
522     MutableValueGraph&lt;String, Integer&gt; valueGraph = ValueGraphBuilder.undirected().build();
523     valueGraph.putEdgeValue("a", "b", 11);
524     try {
525       Traverser.forTree(valueGraph);
526       fail("Expected exception");
527     } catch (IllegalArgumentException expected) {
528     }
529   }
530   @Test
531   @SuppressWarnings("CheckReturnValue")
532   public void forTree_acceptsDirectedNetwork() throws Exception {
533     MutableNetwork&lt;String, Integer&gt; network = NetworkBuilder.directed().build();
534     network.addEdge("a", "b", 11);
535     Traverser.forTree(network);   }
536   @Test
537   public void forTree_withUndirectedNetwork_throws() throws Exception {
538     MutableNetwork&lt;String, Integer&gt; network = NetworkBuilder.undirected().build();
539     network.addEdge("a", "b", 11);
540     try {
541       Traverser.forTree(network);
542       fail("Expected exception");
543     } catch (IllegalArgumentException expected) {
544     }
545   }
546   @Test
547   public void forTree_breadthFirst_infinite() {
548     Iterable&lt;Integer&gt; result =
549         Traverser.forTree(fixedSuccessors(Iterables.cycle(1, 2, 3))).breadthFirst(0);
550     assertThat(Iterables.limit(result, 8)).containsExactly(0, 1, 2, 3, 1, 2, 3, 1).inOrder();
551   }
552   @Test
553   public void forTree_breadthFirst_tree() throws Exception {
554     Traverser&lt;Character&gt; traverser = Traverser.forTree(TREE);
555     assertEqualCharNodes(traverser.breadthFirst('h'), "hdegabcf");
556     assertEqualCharNodes(traverser.breadthFirst('d'), "dabc");
557     assertEqualCharNodes(traverser.breadthFirst('a'), "a");
558   }
559   @Test
560   public void forTree_breadthFirstIterable_tree() throws Exception {
561     Traverser&lt;Character&gt; traverser = Traverser.forTree(TREE);
562     assertEqualCharNodes(traverser.breadthFirst(charactersOf("")), "");
563     assertEqualCharNodes(traverser.breadthFirst(charactersOf("h")), "hdegabcf");
564     assertEqualCharNodes(traverser.breadthFirst(charactersOf("gd")), "gdfabc");
565     assertEqualCharNodes(traverser.breadthFirst(charactersOf("age")), "agef");
566   }
567   @Test
568   public void forTree_breadthFirst_cyclicGraphContainingTree() throws Exception {
569     Traverser&lt;Character&gt; traverser = Traverser.forTree(CYCLIC_GRAPH_CONTAINING_TREE);
570     assertEqualCharNodes(traverser.breadthFirst('a'), "abcd");
571     assertEqualCharNodes(traverser.breadthFirst('b'), "bcd");
572     assertEqualCharNodes(traverser.breadthFirst('d'), "d");
573   }
574   @Test
575   public void forTree_breadthFirstIterable_cyclicGraphContainingTree() throws Exception {
576     Traverser&lt;Character&gt; traverser = Traverser.forTree(CYCLIC_GRAPH_CONTAINING_TREE);
577     assertEqualCharNodes(traverser.breadthFirst(charactersOf("a")), "abcd");
578     assertEqualCharNodes(traverser.breadthFirst(charactersOf("b")), "bcd");
579     assertEqualCharNodes(traverser.breadthFirst(charactersOf("cd")), "cd");
580   }
581   @Test
582   public void forTree_breadthFirst_graphContainingTreeAndDiamond() throws Exception {
583     Traverser&lt;Character&gt; traverser = Traverser.forTree(GRAPH_CONTAINING_TREE_AND_DIAMOND);
584     assertEqualCharNodes(traverser.breadthFirst('a'), "abcd");
585     assertEqualCharNodes(traverser.breadthFirst('b'), "bcd");
586     assertEqualCharNodes(traverser.breadthFirst('d'), "d");
587   }
588   @Test
589   public void forTree_breadthFirstIterable_graphContainingTreeAndDiamond() throws Exception {
590     Traverser&lt;Character&gt; traverser = Traverser.forTree(GRAPH_CONTAINING_TREE_AND_DIAMOND);
591     assertEqualCharNodes(traverser.breadthFirst(charactersOf("a")), "abcd");
592     assertEqualCharNodes(traverser.breadthFirst(charactersOf("bg")), "bgcdh");
593     assertEqualCharNodes(traverser.breadthFirst(charactersOf("ga")), "gahbcd");
594   }
595   @Test
596   public void forTree_breadthFirst_twoTrees() {
597     Iterable&lt;Character&gt; result = Traverser.forTree(TWO_TREES).breadthFirst('a');
598     assertEqualCharNodes(result, "ab");
599   }
600   @Test
601   public void forTree_breadthFirstIterable_twoTrees() {
602     assertEqualCharNodes(Traverser.forTree(TWO_TREES).breadthFirst(charactersOf("a")), "ab");
603     assertEqualCharNodes(Traverser.forTree(TWO_TREES).breadthFirst(charactersOf("ca")), "cadb");
604   }
605   @Test
606   public void forTree_breadthFirst_singleRoot() {
607     Iterable&lt;Character&gt; result = Traverser.forTree(SINGLE_ROOT).breadthFirst('a');
608     assertEqualCharNodes(result, "a");
609   }
610   @Test
611   public void forTree_breadthFirstIterable_singleRoot() {
612     Iterable&lt;Character&gt; result = Traverser.forTree(SINGLE_ROOT).breadthFirst(charactersOf("a"));
613     assertEqualCharNodes(result, "a");
614   }
615   @Test
616   public void forTree_breadthFirst_emptyGraph() {
617     try {
618       Traverser.forTree(createDirectedGraph()).breadthFirst('a');
619       fail("Expected IllegalArgumentException");
620     } catch (IllegalArgumentException expected) {
621     }
622   }
623   @Test
624   public void forTree_breadthFirstIterable_emptyGraph() {
625     assertEqualCharNodes(
626         Traverser.forTree(createDirectedGraph()).breadthFirst(charactersOf("")), "");
627     try {
628       Traverser.forTree(createDirectedGraph()).breadthFirst(charactersOf("a"));
629       fail("Expected IllegalArgumentException");
630     } catch (IllegalArgumentException expected) {
631     }
632   }
633   @Test
634   public void forTree_breadthFirst_iterableIsLazy() {
635     RequestSavingGraph graph = new RequestSavingGraph(TREE);
636     Iterable&lt;Character&gt; result = Traverser.forGraph(graph).breadthFirst('h');
637     assertEqualCharNodes(Iterables.limit(result, 2), "hd");
638     assertThat(graph.requestedNodes).containsExactly('h', 'h', 'd');
639     assertEqualCharNodes(Iterables.limit(result, 2), "hd");
640     assertThat(graph.requestedNodes).containsExactly('h', 'h', 'h', 'd', 'd');
641   }
642   @Test
643   public void forTree_breadthFirstIterable_iterableIsLazy() {
644     RequestSavingGraph graph = new RequestSavingGraph(TREE);
645     Iterable&lt;Character&gt; result = Traverser.forGraph(graph).breadthFirst(charactersOf("dg"));
646     assertEqualCharNodes(Iterables.limit(result, 3), "dga");
647     assertThat(graph.requestedNodes).containsExactly('a', 'd', 'd', 'g', 'g');
648     assertEqualCharNodes(Iterables.limit(result, 3), "dga");
649     assertThat(graph.requestedNodes).containsExactly('a', 'a', 'd', 'd', 'd', 'g', 'g', 'g');
650   }
651   @Test
652   public void forTree_depthFirstPreOrder_infinite() {
653     Iterable&lt;Integer&gt; result =
654         Traverser.forTree(fixedSuccessors(Iterables.cycle(1, 2, 3))).depthFirstPreOrder(0);
655     assertThat(Iterables.limit(result, 3)).containsExactly(0, 1, 1).inOrder();
656   }
657   @Test
658   public void forTree_depthFirstPreOrderIterable_tree() throws Exception {
659     Traverser&lt;Character&gt; traverser = Traverser.forTree(TREE);
660     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("h")), "hdabcegf");
661     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("d")), "dabc");
662     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("a")), "a");
663   }
664   @Test
665   public void forTree_depthFirstPreOrderIterableIterable_tree() throws Exception {
666     Traverser&lt;Character&gt; traverser = Traverser.forTree(TREE);
667     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("")), "");
668     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("h")), "hdabcegf");
669     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("gd")), "gfdabc");
670     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("age")), "agfe");
671   }
672   @Test
673   public void forTree_depthFirstPreOrder_cyclicGraphContainingTree() throws Exception {
674     Traverser&lt;Character&gt; traverser = Traverser.forTree(CYCLIC_GRAPH_CONTAINING_TREE);
675     assertEqualCharNodes(traverser.depthFirstPreOrder('a'), "abcd");
676     assertEqualCharNodes(traverser.depthFirstPreOrder('b'), "bcd");
677     assertEqualCharNodes(traverser.depthFirstPreOrder('d'), "d");
678   }
679   @Test
680   public void forTree_depthFirstPreOrderIterable_cyclicGraphContainingTree() throws Exception {
681     Traverser&lt;Character&gt; traverser = Traverser.forTree(CYCLIC_GRAPH_CONTAINING_TREE);
682     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("a")), "abcd");
683     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("b")), "bcd");
684     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("cd")), "cd");
685   }
686   @Test
687   public void forTree_depthFirstPreOrder_graphContainingTreeAndDiamond() throws Exception {
688     Traverser&lt;Character&gt; traverser = Traverser.forTree(GRAPH_CONTAINING_TREE_AND_DIAMOND);
689     assertEqualCharNodes(traverser.depthFirstPreOrder('a'), "abcd");
690     assertEqualCharNodes(traverser.depthFirstPreOrder('b'), "bcd");
691     assertEqualCharNodes(traverser.depthFirstPreOrder('d'), "d");
692   }
693   @Test
694   public void forTree_depthFirstPreOrderIterable_graphContainingTreeAndDiamond() throws Exception {
695     Traverser&lt;Character&gt; traverser = Traverser.forTree(GRAPH_CONTAINING_TREE_AND_DIAMOND);
696     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("a")), "abcd");
697     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("bg")), "bcdgh");
698     assertEqualCharNodes(traverser.depthFirstPreOrder(charactersOf("ga")), "ghabcd");
699   }
700   @Test
701   public void forTree_depthFirstPreOrder_twoTrees() {
702     Iterable&lt;Character&gt; result = Traverser.forTree(TWO_TREES).depthFirstPreOrder('a');
703     assertEqualCharNodes(result, "ab");
704   }
705   @Test
706   public void forTree_depthFirstPreOrderIterable_twoTrees() {
707     assertEqualCharNodes(Traverser.forTree(TWO_TREES).depthFirstPreOrder(charactersOf("a")), "ab");
708     assertEqualCharNodes(
709         Traverser.forTree(TWO_TREES).depthFirstPreOrder(charactersOf("ca")), "cdab");
710   }
711   @Test
712   public void forTree_depthFirstPreOrder_singleRoot() {
713     Iterable&lt;Character&gt; result = Traverser.forTree(SINGLE_ROOT).depthFirstPreOrder('a');
714     assertEqualCharNodes(result, "a");
715   }
716   @Test
717   public void forTree_depthFirstPreOrderIterable_singleRoot() {
718     Iterable&lt;Character&gt; result =
719         Traverser.forTree(SINGLE_ROOT).depthFirstPreOrder(charactersOf("a"));
720     assertEqualCharNodes(result, "a");
721   }
722   @Test
723   public void forTree_depthFirstPreOrder_emptyGraph() {
724     try {
725       Traverser.forTree(createDirectedGraph()).depthFirstPreOrder('a');
726       fail("Expected IllegalArgumentException");
727     } catch (IllegalArgumentException expected) {
728     }
729   }
730   @Test
731   public void forTree_depthFirstPreOrderIterable_emptyGraph() {
732     assertEqualCharNodes(
733         Traverser.forTree(createDirectedGraph()).depthFirstPreOrder(charactersOf("")), "");
734     try {
735       Traverser.forTree(createDirectedGraph()).depthFirstPreOrder(charactersOf("a"));
736       fail("Expected IllegalArgumentException");
737     } catch (IllegalArgumentException expected) {
738     }
739   }
740   @Test
741   public void forTree_depthFirstPreOrder_iterableIsLazy() {
742     RequestSavingGraph graph = new RequestSavingGraph(TREE);
743     Iterable&lt;Character&gt; result = Traverser.forGraph(graph).depthFirstPreOrder('h');
744     assertEqualCharNodes(Iterables.limit(result, 2), "hd");
745     assertThat(graph.requestedNodes).containsExactly('h', 'h', 'd');
746     assertEqualCharNodes(Iterables.limit(result, 2), "hd");
747     assertThat(graph.requestedNodes).containsExactly('h', 'h', 'h', 'd', 'd');
748   }
749   @Test
750   public void forTree_depthFirstPreOrderIterable_iterableIsLazy() {
751     RequestSavingGraph graph = new RequestSavingGraph(TREE);
752     Iterable&lt;Character&gt; result = Traverser.forGraph(graph).depthFirstPreOrder(charactersOf("dg"));
753     assertEqualCharNodes(Iterables.limit(result, 2), "da");
754     assertThat(graph.requestedNodes).containsExactly('a', 'd', 'd', 'g');
755     assertEqualCharNodes(Iterables.limit(result, 2), "da");
756     assertThat(graph.requestedNodes).containsExactly('a', 'a', 'd', 'd', 'd', 'g');
757   }
758   @Test
759   public void forTree_depthFirstPostOrder_tree() throws Exception {
760     Traverser&lt;Character&gt; traverser = Traverser.forTree(TREE);
761     assertEqualCharNodes(traverser.depthFirstPostOrder('h'), "abcdefgh");
762     assertEqualCharNodes(traverser.depthFirstPostOrder('d'), "abcd");
763     assertEqualCharNodes(traverser.depthFirstPostOrder('a'), "a");
764   }
765   @Test
766   public void forTree_depthFirstPostOrderIterable_tree() throws Exception {
767     Traverser&lt;Character&gt; traverser = Traverser.forTree(TREE);
768     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("")), "");
769     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("h")), "abcdefgh");
770     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("gd")), "fgabcd");
771     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("age")), "afge");
772   }
773   @Test
774   public void forTree_depthFirstPostOrder_cyclicGraphContainingTree() throws Exception {
775     Traverser&lt;Character&gt; traverser = Traverser.forTree(CYCLIC_GRAPH_CONTAINING_TREE);
776     assertEqualCharNodes(traverser.depthFirstPostOrder('a'), "cdba");
777     assertEqualCharNodes(traverser.depthFirstPostOrder('b'), "cdb");
778     assertEqualCharNodes(traverser.depthFirstPostOrder('d'), "d");
779   }
780   @Test
781   public void forTree_depthFirstPostOrderIterable_cyclicGraphContainingTree() throws Exception {
782     Traverser&lt;Character&gt; traverser = Traverser.forTree(CYCLIC_GRAPH_CONTAINING_TREE);
783     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("a")), "cdba");
784     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("b")), "cdb");
785     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("cd")), "cd");
786   }
787   @Test
788   public void forTree_depthFirstPostOrder_graphContainingTreeAndDiamond() throws Exception {
789     Traverser&lt;Character&gt; traverser = Traverser.forTree(GRAPH_CONTAINING_TREE_AND_DIAMOND);
790     assertEqualCharNodes(traverser.depthFirstPostOrder('a'), "cdba");
791     assertEqualCharNodes(traverser.depthFirstPostOrder('b'), "cdb");
792     assertEqualCharNodes(traverser.depthFirstPostOrder('d'), "d");
793   }
794   @Test
795   public void forTree_depthFirstPostOrderIterable_graphContainingTreeAndDiamond() throws Exception {
796     Traverser&lt;Character&gt; traverser = Traverser.forTree(GRAPH_CONTAINING_TREE_AND_DIAMOND);
797     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("a")), "cdba");
798     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("bg")), "cdbhg");
799     assertEqualCharNodes(traverser.depthFirstPostOrder(charactersOf("ga")), "hgcdba");
800   }
801   @Test
802   public void forTree_depthFirstPostOrder_twoTrees() {
803     Iterable&lt;Character&gt; result = Traverser.forTree(TWO_TREES).depthFirstPostOrder('a');
804     assertEqualCharNodes(result, "ba");
805   }
806   @Test
807   public void forTree_depthFirstPostOrderIterable_twoTrees() {
808     assertEqualCharNodes(Traverser.forTree(TWO_TREES).depthFirstPostOrder(charactersOf("a")), "ba");
809     assertEqualCharNodes(
810         Traverser.forTree(TWO_TREES).depthFirstPostOrder(charactersOf("ca")), "dcba");
811   }
812   @Test
813   public void forTree_depthFirstPostOrder_singleRoot() {
814     Iterable&lt;Character&gt; result = Traverser.forTree(SINGLE_ROOT).depthFirstPostOrder('a');
815     assertEqualCharNodes(result, "a");
816   }
817   @Test
818   public void forTree_depthFirstPostOrderIterable_singleRoot() {
819     Iterable&lt;Character&gt; result =
820         Traverser.forTree(SINGLE_ROOT).depthFirstPostOrder(charactersOf("a"));
821     assertEqualCharNodes(result, "a");
822   }
823   @Test
824   public void forTree_depthFirstPostOrder_emptyGraph() {
825     try {
826       Traverser.forTree(createDirectedGraph()).depthFirstPostOrder('a');
827       fail("Expected IllegalArgumentException");
828     } catch (IllegalArgumentException expected) {
829     }
830   }
831   @Test
832   public void forTree_depthFirstPostOrderIterable_emptyGraph() {
833     assertEqualCharNodes(
834         Traverser.forTree(createDirectedGraph()).depthFirstPostOrder(charactersOf("")), "");
835     try {
836       Traverser.forTree(createDirectedGraph()).depthFirstPostOrder(charactersOf("a"));
837       fail("Expected IllegalArgumentException");
838     } catch (IllegalArgumentException expected) {
839     }
840   }
841   @Test
842   public void forTree_depthFirstPostOrder_iterableIsLazy() {
843     RequestSavingGraph graph = new RequestSavingGraph(TREE);
844     Iterable&lt;Character&gt; result = Traverser.forGraph(graph).depthFirstPostOrder('h');
845     assertEqualCharNodes(Iterables.limit(result, 2), "ab");
846     assertThat(graph.requestedNodes).containsExactly('h', 'h', 'd', 'a', 'b');
847     assertEqualCharNodes(Iterables.limit(result, 2), "ab");
848     assertThat(graph.requestedNodes).containsExactly('h', 'h', 'h', 'd', 'd', 'a', 'a', 'b', 'b');
849   }
850   @Test
851   public void forTree_depthFirstPostOrderIterable_iterableIsLazy() {
852     RequestSavingGraph graph = new RequestSavingGraph(TREE);
853     Iterable&lt;Character&gt; result = Traverser.forGraph(graph).depthFirstPostOrder(charactersOf("dg"));
854     assertEqualCharNodes(Iterables.limit(result, 2), "ab");
855     assertThat(graph.requestedNodes).containsExactly('a', 'b', 'd', 'd', 'g');
856     assertEqualCharNodes(Iterables.limit(result, 2), "ab");
857     assertThat(graph.requestedNodes).containsExactly('a', 'a', 'b', 'b', 'd', 'd', 'd', 'g');
858   }
859   private static SuccessorsFunction&lt;Character&gt; createDirectedGraph(String... edges) {
860     return createGraph(  }
861   private static SuccessorsFunction&lt;Character&gt; createUndirectedGraph(String... edges) {
862     return createGraph(  }
863   private static SuccessorsFunction&lt;Character&gt; createGraph(boolean directed, String... edges) {
864     ImmutableMultimap.Builder&lt;Character, Character&gt; graphMapBuilder = ImmutableMultimap.builder();
865     for (String edge : edges) {
866       checkArgument(
867           edge.length() == 2, "Expecting each edge to consist of 2 characters but got %s", edge);
868       char node1 = edge.charAt(0);
869       char node2 = edge.charAt(1);
870       graphMapBuilder.put(node1, node2);
871       if (!directed) {
872         graphMapBuilder.put(node2, node1);
873       }
874     }
875     final ImmutableMultimap&lt;Character, Character&gt; graphMap = graphMapBuilder.build();
876     return new SuccessorsFunction&lt;Character&gt;() {
877       @Override
878       public Iterable&lt;? extends Character&gt; successors(Character node) {
879         checkArgument(
880             graphMap.containsKey(node) || graphMap.containsValue(node),
881             "Node %s is not an element of this graph",
882             node);
883         return Ordering.natural().immutableSortedCopy(graphMap.get(node));
884       }
885     };
886   }
887   private static ImmutableGraph&lt;Character&gt; createSingleRootGraph() {
888     MutableGraph&lt;Character&gt; graph = GraphBuilder.directed().build();
889     graph.addNode('a');
890     return ImmutableGraph.copyOf(graph);
891   }
892   private static void assertEqualCharNodes(Iterable&lt;Character&gt; result, String expectedCharacters) {
893     assertThat(ImmutableList.copyOf(result))
894         .containsExactlyElementsIn(Chars.asList(expectedCharacters.toCharArray()))
895         .inOrder();
896   }
897   private static class RequestSavingGraph implements SuccessorsFunction&lt;Character&gt; {
898 <a name="0"></a>    private final SuccessorsFunction&lt;Character&gt; delegate;
899     final Multiset&lt;Character&gt; requestedNodes = HashMultiset.create();
900     <font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>RequestSavingGraph(SuccessorsFunction&lt;Character&gt; delegate) {
901       this.delegate = checkNotNull(delegate);
902     }
903     @Override
904     public Iterable&lt;? extends Character&gt; successors(Character node) {
905       requestedNodes.add(node);
906       return</b></font> delegate.successors(node);
907     }
908   }
909   private static &lt;N&gt; SuccessorsFunction&lt;N&gt; fixedSuccessors(final Iterable&lt;N&gt; successors) {
910     return new SuccessorsFunction&lt;N&gt;() {
911       @Override
912       public Iterable&lt;N&gt; successors(N n) {
913         return successors;
914       }
915     };
916   }
917 }
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>ImmutableNetwork_1.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 <a name="1"></a>
2 package com.google.common.graph;
3 <font color="#f63526"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>import static com.google.common.base.Preconditions.checkNotNull;
4 import com.google.common.annotations.Beta;
5 import com.google.common.base.Function;
6 import com.google.common.collect.ImmutableMap;
7 import com.google.common.collect.Maps;
8 import com.google.errorprone.annotations.CanIgnoreReturnValue;
9 import com.google.errorprone.annotations.Immutable;
10 import java.util.Map;
11 @</b></font>Beta
12 @Immutable(containerOf = {"N", "E"})
13 @SuppressWarnings("Immutable") @ElementTypesAreNonnullByDefault
14 public final class ImmutableNetwork&lt;N, E&gt; extends StandardNetwork&lt;N, E&gt; {
15   private ImmutableNetwork(Network&lt;N, E&gt; network) {
16     super(
17         NetworkBuilder.from(network), getNodeConnections(network), getEdgeToReferenceNode(network));
18   }
19   public static &lt;N, E&gt; ImmutableNetwork&lt;N, E&gt; copyOf(Network&lt;N, E&gt; network) {
20     return (network instanceof ImmutableNetwork)
21         ? (ImmutableNetwork&lt;N, E&gt;) network
22         : new ImmutableNetwork&lt;N, E&gt;(network);
23   }
24   @Deprecated
25   public static &lt;N, E&gt; ImmutableNetwork&lt;N, E&gt; copyOf(ImmutableNetwork&lt;N, E&gt; network) {
26     return checkNotNull(network);
27   }
28   @Override
29   public ImmutableGraph&lt;N&gt; asGraph() {
30     return new ImmutableGraph&lt;&gt;(super.asGraph());   }
31   private static &lt;N, E&gt; Map&lt;N, NetworkConnections&lt;N, E&gt;&gt; getNodeConnections(Network&lt;N, E&gt; network) {
32     ImmutableMap.Builder&lt;N, NetworkConnections&lt;N, E&gt;&gt; nodeConnections = ImmutableMap.builder();
33     for (N node : network.nodes()) {
34       nodeConnections.put(node, connectionsOf(network, node));
35     }
36     return nodeConnections.buildOrThrow();
37   }
38   private static &lt;N, E&gt; Map&lt;E, N&gt; getEdgeToReferenceNode(Network&lt;N, E&gt; network) {
39     ImmutableMap.Builder&lt;E, N&gt; edgeToReferenceNode = ImmutableMap.builder();
40     for (E edge : network.edges()) {
41       edgeToReferenceNode.put(edge, network.incidentNodes(edge).nodeU());
42     }
43     return edgeToReferenceNode.buildOrThrow();
44   }
45   private static &lt;N, E&gt; NetworkConnections&lt;N, E&gt; connectionsOf(Network&lt;N, E&gt; network, N node) {
46     if (network.isDirected()) {
47       Map&lt;E, N&gt; inEdgeMap = Maps.asMap(network.inEdges(node), sourceNodeFn(network));
48       Map&lt;E, N&gt; outEdgeMap = Maps.asMap(network.outEdges(node), targetNodeFn(network));
49       int selfLoopCount = network.edgesConnecting(node, node).size();
50       return network.allowsParallelEdges()
51           ? DirectedMultiNetworkConnections.ofImmutable(inEdgeMap, outEdgeMap, selfLoopCount)
52           : DirectedNetworkConnections.ofImmutable(inEdgeMap, outEdgeMap, selfLoopCount);
53     } else {
54       Map&lt;E, N&gt; incidentEdgeMap =
55           Maps.asMap(network.incidentEdges(node), adjacentNodeFn(network, node));
56       return network.allowsParallelEdges()
57           ? UndirectedMultiNetworkConnections.ofImmutable(incidentEdgeMap)
58           : UndirectedNetworkConnections.ofImmutable(incidentEdgeMap);
59     }
60   }
61   private static &lt;N, E&gt; Function&lt;E, N&gt; sourceNodeFn(Network&lt;N, E&gt; network) {
62     return (E edge) -&gt; network.incidentNodes(edge).source();
63   }
64   private static &lt;N, E&gt; Function&lt;E, N&gt; targetNodeFn(Network&lt;N, E&gt; network) {
65     return (E edge) -&gt; network.incidentNodes(edge).target();
66   }
67   private static &lt;N, E&gt; Function&lt;E, N&gt; adjacentNodeFn(Network&lt;N, E&gt; network, N node) {
68     return (E edge) -&gt; network.incidentNodes(edge).adjacentNode(node);
69   }
70   public static class Builder&lt;N, E&gt; {
71 <a name="0"></a>
72     private final MutableNetwork&lt;N, E&gt; mutableNetwork;
73     <font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>Builder(NetworkBuilder&lt;N, E&gt; networkBuilder) {
74       this.mutableNetwork = networkBuilder.build();
75     }
76     @CanIgnoreReturnValue
77     public ImmutableNetwork.Builder&lt;N, E&gt; addNode(N node) {
78       mutableNetwork.addNode(node);
79       return</b></font> this;
80     }
81     @CanIgnoreReturnValue
82     public ImmutableNetwork.Builder&lt;N, E&gt; addEdge(N nodeU, N nodeV, E edge) {
83       mutableNetwork.addEdge(nodeU, nodeV, edge);
84       return this;
85     }
86     @CanIgnoreReturnValue
87     public ImmutableNetwork.Builder&lt;N, E&gt; addEdge(EndpointPair&lt;N&gt; endpoints, E edge) {
88       mutableNetwork.addEdge(endpoints, edge);
89       return this;
90     }
91     public ImmutableNetwork&lt;N, E&gt; build() {
92       return ImmutableNetwork.copyOf(mutableNetwork);
93     }
94   }
95 }
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
