<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for DummyProxy.java &amp; ValueGraphTest_1.java</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for DummyProxy.java &amp; ValueGraphTest_1.java
      </h3>
<h1 align="center">
        6.1%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>DummyProxy.java (20.76923%)<th>ValueGraphTest_1.java (3.6437247%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(19-39)<td><a href="#" name="0">(21-38)</a><td align="center"><font color="#ff0000">15</font>
<tr onclick='openModal("#f63526")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#f63526"><font color="#f63526">-</font><td><a href="#" name="1">(47-54)<td><a href="#" name="1">(90-95)</a><td align="center"><font color="#cc0000">12</font>
</td></td></a></td></td></tr></td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>DummyProxy.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 <a name="0"></a>
2 package com.google.common.testing;
3 <font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>import static com.google.common.base.Preconditions.checkNotNull;
4 import static com.google.common.testing.NullPointerTester.isNullable;
5 import com.google.common.annotations.GwtIncompatible;
6 import com.google.common.collect.ImmutableList;
7 import com.google.common.collect.Sets;
8 import com.google.common.reflect.AbstractInvocationHandler;
9 import com.google.common.reflect.Invokable;
10 import com.google.common.reflect.Parameter;
11 import com.google.common.reflect.TypeToken;
12 import java.io.Serializable;
13 import java.lang.reflect.Method;
14 import java.lang.reflect.Proxy;
15 import java.util.Set;
16 @</b></font>GwtIncompatible
17 abstract class DummyProxy {
18   final &lt;T&gt; T newProxy(TypeToken&lt;T&gt; interfaceType) {
19     Set&lt;Class&lt;?&gt;&gt; interfaceClasses = <font color="#f63526"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>Sets.newLinkedHashSet();
20     interfaceClasses.addAll(interfaceType.getTypes().interfaces().rawTypes());
21     interfaceClasses.add(Serializable.class);
22     Object dummy =
23         Proxy.newProxyInstance(
24             interfaceClasses.iterator().next().getClassLoader(),
25             interfaceClasses.toArray</b></font>(new Class&lt;?&gt;[interfaceClasses.size()]),
26             new DummyHandler(interfaceType));
27     @SuppressWarnings("unchecked")     T result = (T) dummy;
28     return result;
29   }
30   abstract &lt;R&gt; R dummyReturnValue(TypeToken&lt;R&gt; returnType);
31   private class DummyHandler extends AbstractInvocationHandler implements Serializable {
32     private final TypeToken&lt;?&gt; interfaceType;
33     DummyHandler(TypeToken&lt;?&gt; interfaceType) {
34       this.interfaceType = interfaceType;
35     }
36     @Override
37     protected Object handleInvocation(Object proxy, Method method, Object[] args) {
38       Invokable&lt;?, ?&gt; invokable = interfaceType.method(method);
39       ImmutableList&lt;Parameter&gt; params = invokable.getParameters();
40       for (int i = 0; i &lt; args.length; i++) {
41         Parameter param = params.get(i);
42         if (!isNullable(param)) {
43           checkNotNull(args[i]);
44         }
45       }
46       return dummyReturnValue(interfaceType.resolveType(method.getGenericReturnType()));
47     }
48     @Override
49     public int hashCode() {
50       return identity().hashCode();
51     }
52     @Override
53     public boolean equals(Object obj) {
54       if (obj instanceof DummyHandler) {
55         DummyHandler that = (DummyHandler) obj;
56         return identity().equals(that.identity());
57       } else {
58         return false;
59       }
60     }
61     private DummyProxy identity() {
62       return DummyProxy.this;
63     }
64     @Override
65     public String toString() {
66       return "Dummy proxy for " + interfaceType;
67     }
68     private Object writeReplace() {
69       return new DummyHandler(TypeToken.of(interfaceType.getRawType()));
70     }
71   }
72 }
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>ValueGraphTest_1.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 /*
2  * Copyright (C) 2016 The Guava Authors
3  *
4  * Licensed under the Apache License, Version 2.0 (the "License");
5  * you may not use this file except in compliance with the License.
6  * You may obtain a copy of the License at
7  *
8  * http://www.apache.org/licenses/LICENSE-2.0
9  *
10  * Unless required by applicable law or agreed to in writing, software
11  * distributed under the License is distributed on an "AS IS" BASIS,
12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
13  * See the License for the specific language governing permissions and
14  * limitations under the License.
15  */
16 package com.google.common.graph;
17 <a name="0"></a>
18 import static com.google.common.graph.GraphConstants.ENDPOINTS_MISMATCH;
19 import static com.google.common.graph.TestUtil.assertStronglyEquivalent;
20 <font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>import static com.google.common.truth.Truth.assertThat;
21 import static java.util.concurrent.Executors.newFixedThreadPool;
22 import static org.junit.Assert.fail;
23 import com.google.common.collect.ImmutableList;
24 import java.util.Set;
25 import java.util.concurrent.Callable;
26 import java.util.concurrent.CyclicBarrier;
27 import java.util.concurrent.ExecutorService;
28 import java.util.concurrent.Future;
29 import org.junit.After;
30 import org.junit.Test;
31 import org.junit.runner.RunWith;
32 import org.junit.runners.JUnit4;
33 @</b></font>RunWith(JUnit4.class)
34 public final class ValueGraphTest {
35   private static final String DEFAULT = "default";
36   MutableValueGraph&lt;Integer, String&gt; graph;
37   @After
38   public void validateGraphState() {
39     assertStronglyEquivalent(graph, Graphs.copyOf(graph));
40     assertStronglyEquivalent(graph, ImmutableValueGraph.copyOf(graph));
41     Graph&lt;Integer&gt; asGraph = graph.asGraph();
42     AbstractGraphTest.validateGraph(asGraph);
43     assertThat(graph.nodes()).isEqualTo(asGraph.nodes());
44     assertThat(graph.edges()).isEqualTo(asGraph.edges());
45     assertThat(graph.nodeOrder()).isEqualTo(asGraph.nodeOrder());
46     assertThat(graph.incidentEdgeOrder()).isEqualTo(asGraph.incidentEdgeOrder());
47     assertThat(graph.isDirected()).isEqualTo(asGraph.isDirected());
48     assertThat(graph.allowsSelfLoops()).isEqualTo(asGraph.allowsSelfLoops());
49     for (Integer node : graph.nodes()) {
50       assertThat(graph.adjacentNodes(node)).isEqualTo(asGraph.adjacentNodes(node));
51       assertThat(graph.predecessors(node)).isEqualTo(asGraph.predecessors(node));
52       assertThat(graph.successors(node)).isEqualTo(asGraph.successors(node));
53       assertThat(graph.degree(node)).isEqualTo(asGraph.degree(node));
54       assertThat(graph.inDegree(node)).isEqualTo(asGraph.inDegree(node));
55       assertThat(graph.outDegree(node)).isEqualTo(asGraph.outDegree(node));
56       for (Integer otherNode : graph.nodes()) {
57         boolean hasEdge = graph.hasEdgeConnecting(node, otherNode);
58         assertThat(hasEdge).isEqualTo(asGraph.hasEdgeConnecting(node, otherNode));
59         assertThat(graph.edgeValueOrDefault(node, otherNode, null) != null).isEqualTo(hasEdge);
60         assertThat(!graph.edgeValueOrDefault(node, otherNode, DEFAULT).equals(DEFAULT))
61             .isEqualTo(hasEdge);
62       }
63     }
64   }
65   @Test
66   public void directedGraph() {
67     graph = ValueGraphBuilder.directed().allowsSelfLoops(true).build();
68     graph.putEdgeValue(1, 2, "valueA");
69     graph.putEdgeValue(2, 1, "valueB");
70     graph.putEdgeValue(2, 3, "valueC");
71     graph.putEdgeValue(4, 4, "valueD");
72     assertThat(graph.edgeValueOrDefault(1, 2, null)).isEqualTo("valueA");
73     assertThat(graph.edgeValueOrDefault(2, 1, null)).isEqualTo("valueB");
74     assertThat(graph.edgeValueOrDefault(2, 3, null)).isEqualTo("valueC");
75 <a name="1"></a>    assertThat(graph.edgeValueOrDefault(4, 4, null)).isEqualTo("valueD");
76     assertThat(graph.edgeValueOrDefault(1, 2, DEFAULT)).isEqualTo("valueA");
77     assertThat(graph.edgeValueOrDefault(2, 1, DEFAULT)).isEqualTo("valueB");
78     <font color="#f63526"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>assertThat(graph.edgeValueOrDefault(2, 3, DEFAULT)).isEqualTo("valueC");
79     assertThat(graph.edgeValueOrDefault(4, 4, DEFAULT)).isEqualTo("valueD");
80     String toString = graph.toString();
81     assertThat(toString).contains("valueA");
82     assertThat</b></font>(toString).contains("valueB");
83     assertThat(toString).contains("valueC");
84     assertThat(toString).contains("valueD");
85   }
86   @Test
87   public void undirectedGraph() {
88     graph = ValueGraphBuilder.undirected().allowsSelfLoops(true).build();
89     graph.putEdgeValue(1, 2, "valueA");
90     graph.putEdgeValue(2, 1, "valueB");     graph.putEdgeValue(2, 3, "valueC");
91     graph.putEdgeValue(4, 4, "valueD");
92     assertThat(graph.edgeValueOrDefault(1, 2, null)).isEqualTo("valueB");
93     assertThat(graph.edgeValueOrDefault(2, 1, null)).isEqualTo("valueB");
94     assertThat(graph.edgeValueOrDefault(2, 3, null)).isEqualTo("valueC");
95     assertThat(graph.edgeValueOrDefault(4, 4, null)).isEqualTo("valueD");
96     assertThat(graph.edgeValueOrDefault(1, 2, DEFAULT)).isEqualTo("valueB");
97     assertThat(graph.edgeValueOrDefault(2, 1, DEFAULT)).isEqualTo("valueB");
98     assertThat(graph.edgeValueOrDefault(2, 3, DEFAULT)).isEqualTo("valueC");
99     assertThat(graph.edgeValueOrDefault(4, 4, DEFAULT)).isEqualTo("valueD");
100     String toString = graph.toString();
101     assertThat(toString).doesNotContain("valueA");
102     assertThat(toString).contains("valueB");
103     assertThat(toString).contains("valueC");
104     assertThat(toString).contains("valueD");
105   }
106   @Test
107   public void incidentEdgeOrder_unordered() {
108     graph = ValueGraphBuilder.directed().incidentEdgeOrder(ElementOrder.unordered()).build();
109     assertThat(graph.incidentEdgeOrder()).isEqualTo(ElementOrder.unordered());
110   }
111   @Test
112   public void incidentEdgeOrder_stable() {
113     graph = ValueGraphBuilder.directed().incidentEdgeOrder(ElementOrder.stable()).build();
114     assertThat(graph.incidentEdgeOrder()).isEqualTo(ElementOrder.stable());
115   }
116   @Test
117   public void hasEdgeConnecting_directed_correct() {
118     graph = ValueGraphBuilder.directed().build();
119     graph.putEdgeValue(1, 2, "A");
120     assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(1, 2))).isTrue();
121   }
122   @Test
123   public void hasEdgeConnecting_directed_backwards() {
124     graph = ValueGraphBuilder.directed().build();
125     graph.putEdgeValue(1, 2, "A");
126     assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(2, 1))).isFalse();
127   }
128   @Test
129   public void hasEdgeConnecting_directed_mismatch() {
130     graph = ValueGraphBuilder.directed().build();
131     graph.putEdgeValue(1, 2, "A");
132     assertThat(graph.hasEdgeConnecting(EndpointPair.unordered(1, 2))).isFalse();
133     assertThat(graph.hasEdgeConnecting(EndpointPair.unordered(2, 1))).isFalse();
134   }
135   @Test
136   public void hasEdgeConnecting_undirected_correct() {
137     graph = ValueGraphBuilder.undirected().build();
138     graph.putEdgeValue(1, 2, "A");
139     assertThat(graph.hasEdgeConnecting(EndpointPair.unordered(1, 2))).isTrue();
140   }
141   @Test
142   public void hasEdgeConnecting_undirected_backwards() {
143     graph = ValueGraphBuilder.undirected().build();
144     graph.putEdgeValue(1, 2, "A");
145     assertThat(graph.hasEdgeConnecting(EndpointPair.unordered(2, 1))).isTrue();
146   }
147   @Test
148   public void hasEdgeConnecting_undirected_mismatch() {
149     graph = ValueGraphBuilder.undirected().build();
150     graph.putEdgeValue(1, 2, "A");
151     assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(1, 2))).isTrue();
152     assertThat(graph.hasEdgeConnecting(EndpointPair.ordered(2, 1))).isTrue();
153   }
154   @Test
155   public void edgeValueOrDefault_directed_correct() {
156     graph = ValueGraphBuilder.directed().build();
157     graph.putEdgeValue(1, 2, "A");
158     assertThat(graph.edgeValueOrDefault(EndpointPair.ordered(1, 2), "default")).isEqualTo("A");
159   }
160   @Test
161   public void edgeValueOrDefault_directed_backwards() {
162     graph = ValueGraphBuilder.directed().build();
163     graph.putEdgeValue(1, 2, "A");
164     assertThat(graph.edgeValueOrDefault(EndpointPair.ordered(2, 1), "default"))
165         .isEqualTo("default");
166   }
167   @Test
168   public void edgeValueOrDefault_directed_mismatch() {
169     graph = ValueGraphBuilder.directed().build();
170     graph.putEdgeValue(1, 2, "A");
171     try {
172       String unused = graph.edgeValueOrDefault(EndpointPair.unordered(1, 2), "default");
173       unused = graph.edgeValueOrDefault(EndpointPair.unordered(2, 1), "default");
174       fail("Expected IllegalArgumentException: " + ENDPOINTS_MISMATCH);
175     } catch (IllegalArgumentException e) {
176       assertThat(e).hasMessageThat().contains(ENDPOINTS_MISMATCH);
177     }
178   }
179   @Test
180   public void edgeValueOrDefault_undirected_correct() {
181     graph = ValueGraphBuilder.undirected().build();
182     graph.putEdgeValue(1, 2, "A");
183     assertThat(graph.edgeValueOrDefault(EndpointPair.unordered(1, 2), "default")).isEqualTo("A");
184   }
185   @Test
186   public void edgeValueOrDefault_undirected_backwards() {
187     graph = ValueGraphBuilder.undirected().build();
188     graph.putEdgeValue(1, 2, "A");
189     assertThat(graph.edgeValueOrDefault(EndpointPair.unordered(2, 1), "default")).isEqualTo("A");
190   }
191   @Test
192   public void edgeValueOrDefault_undirected_mismatch() {
193     graph = ValueGraphBuilder.undirected().build();
194     graph.putEdgeValue(1, 2, "A");
195     assertThat(graph.edgeValueOrDefault(EndpointPair.ordered(2, 1), "default")).isEqualTo("A");
196     assertThat(graph.edgeValueOrDefault(EndpointPair.ordered(2, 1), "default")).isEqualTo("A");
197   }
198   @Test
199   public void putEdgeValue_directed() {
200     graph = ValueGraphBuilder.directed().build();
201     assertThat(graph.putEdgeValue(1, 2, "valueA")).isNull();
202     assertThat(graph.putEdgeValue(2, 1, "valueB")).isNull();
203     assertThat(graph.putEdgeValue(1, 2, "valueC")).isEqualTo("valueA");
204     assertThat(graph.putEdgeValue(2, 1, "valueD")).isEqualTo("valueB");
205   }
206   @Test
207   public void putEdgeValue_directed_orderMismatch() {
208     graph = ValueGraphBuilder.directed().build();
209     try {
210       graph.putEdgeValue(EndpointPair.unordered(1, 2), "irrelevant");
211       fail("Expected IllegalArgumentException: " + ENDPOINTS_MISMATCH);
212     } catch (IllegalArgumentException e) {
213       assertThat(e).hasMessageThat().contains(ENDPOINTS_MISMATCH);
214     }
215   }
216   @Test
217   public void putEdgeValue_undirected_orderMismatch() {
218     graph = ValueGraphBuilder.undirected().build();
219     assertThat(graph.putEdgeValue(EndpointPair.ordered(1, 2), "irrelevant")).isNull();
220   }
221   @Test
222   public void putEdgeValue_undirected() {
223     graph = ValueGraphBuilder.undirected().build();
224     assertThat(graph.putEdgeValue(1, 2, "valueA")).isNull();
225     assertThat(graph.putEdgeValue(2, 1, "valueB")).isEqualTo("valueA");
226     assertThat(graph.putEdgeValue(1, 2, "valueC")).isEqualTo("valueB");
227     assertThat(graph.putEdgeValue(2, 1, "valueD")).isEqualTo("valueC");
228   }
229   @Test
230   public void removeEdge_directed() {
231     graph = ValueGraphBuilder.directed().build();
232     graph.putEdgeValue(1, 2, "valueA");
233     graph.putEdgeValue(2, 1, "valueB");
234     graph.putEdgeValue(2, 3, "valueC");
235     assertThat(graph.removeEdge(1, 2)).isEqualTo("valueA");
236     assertThat(graph.removeEdge(1, 2)).isNull();
237     assertThat(graph.removeEdge(2, 1)).isEqualTo("valueB");
238     assertThat(graph.removeEdge(2, 1)).isNull();
239     assertThat(graph.removeEdge(2, 3)).isEqualTo("valueC");
240     assertThat(graph.removeEdge(2, 3)).isNull();
241   }
242   @Test
243   public void removeEdge_undirected() {
244     graph = ValueGraphBuilder.undirected().build();
245     graph.putEdgeValue(1, 2, "valueA");
246     graph.putEdgeValue(2, 1, "valueB");
247     graph.putEdgeValue(2, 3, "valueC");
248     assertThat(graph.removeEdge(1, 2)).isEqualTo("valueB");
249     assertThat(graph.removeEdge(1, 2)).isNull();
250     assertThat(graph.removeEdge(2, 1)).isNull();
251     assertThat(graph.removeEdge(2, 3)).isEqualTo("valueC");
252     assertThat(graph.removeEdge(2, 3)).isNull();
253   }
254   @Test
255   public void removeEdge_directed_orderMismatch() {
256     graph = ValueGraphBuilder.directed().build();
257     graph.putEdgeValue(1, 2, "1-&gt;2");
258     graph.putEdgeValue(2, 1, "2-&gt;1");
259     try {
260       graph.removeEdge(EndpointPair.unordered(1, 2));
261       graph.removeEdge(EndpointPair.unordered(2, 1));
262       fail("Expected IllegalArgumentException: " + ENDPOINTS_MISMATCH);
263     } catch (IllegalArgumentException e) {
264       assertThat(e).hasMessageThat().contains(ENDPOINTS_MISMATCH);
265     }
266   }
267   @Test
268   public void removeEdge_undirected_orderMismatch() {
269     graph = ValueGraphBuilder.undirected().build();
270     graph.putEdgeValue(1, 2, "1-2");
271     assertThat(graph.removeEdge(EndpointPair.ordered(1, 2))).isEqualTo("1-2");
272   }
273   @Test
274   public void edgeValue_missing() {
275     graph = ValueGraphBuilder.directed().build();
276     assertThat(graph.edgeValueOrDefault(1, 2, DEFAULT)).isEqualTo(DEFAULT);
277     assertThat(graph.edgeValueOrDefault(2, 1, DEFAULT)).isEqualTo(DEFAULT);
278     assertThat(graph.edgeValueOrDefault(1, 2, null)).isNull();
279     assertThat(graph.edgeValueOrDefault(2, 1, null)).isNull();
280     graph.putEdgeValue(1, 2, "valueA");
281     graph.putEdgeValue(2, 1, "valueB");
282     assertThat(graph.edgeValueOrDefault(1, 2, DEFAULT)).isEqualTo("valueA");
283     assertThat(graph.edgeValueOrDefault(2, 1, DEFAULT)).isEqualTo("valueB");
284     assertThat(graph.edgeValueOrDefault(1, 2, null)).isEqualTo("valueA");
285     assertThat(graph.edgeValueOrDefault(2, 1, null)).isEqualTo("valueB");
286     graph.removeEdge(1, 2);
287     graph.putEdgeValue(2, 1, "valueC");
288     assertThat(graph.edgeValueOrDefault(1, 2, DEFAULT)).isEqualTo(DEFAULT);
289     assertThat(graph.edgeValueOrDefault(2, 1, DEFAULT)).isEqualTo("valueC");
290     assertThat(graph.edgeValueOrDefault(1, 2, null)).isNull();
291     assertThat(graph.edgeValueOrDefault(2, 1, null)).isEqualTo("valueC");
292   }
293   @Test
294   public void equivalence_considersEdgeValue() {
295     graph = ValueGraphBuilder.undirected().build();
296     graph.putEdgeValue(1, 2, "valueA");
297     MutableValueGraph&lt;Integer, String&gt; otherGraph = ValueGraphBuilder.undirected().build();
298     otherGraph.putEdgeValue(1, 2, "valueA");
299     assertThat(graph).isEqualTo(otherGraph);
300     otherGraph.putEdgeValue(1, 2, "valueB");
301     assertThat(graph).isNotEqualTo(otherGraph);   }
302   @Test
303   public void incidentEdges_stableIncidentEdgeOrder_preservesIncidentEdgesOrder_directed() {
304     graph = ValueGraphBuilder.directed().incidentEdgeOrder(ElementOrder.stable()).build();
305     graph.putEdgeValue(2, 1, "2-1");
306     graph.putEdgeValue(2, 3, "2-3");
307     graph.putEdgeValue(1, 2, "1-2");
308     assertThat(graph.incidentEdges(2))
309         .containsExactly(
310             EndpointPair.ordered(2, 1), EndpointPair.ordered(2, 3), EndpointPair.ordered(1, 2))
311         .inOrder();
312   }
313   @Test
314   public void incidentEdges_stableIncidentEdgeOrder_preservesIncidentEdgesOrder_undirected() {
315     graph = ValueGraphBuilder.undirected().incidentEdgeOrder(ElementOrder.stable()).build();
316     graph.putEdgeValue(2, 3, "2-3");
317     graph.putEdgeValue(2, 1, "2-1");
318     graph.putEdgeValue(2, 4, "2-4");
319     graph.putEdgeValue(1, 2, "1-2"); 
320     assertThat(graph.incidentEdges(2))
321         .containsExactly(
322             EndpointPair.unordered(2, 3),
323             EndpointPair.unordered(1, 2),
324             EndpointPair.unordered(2, 4))
325         .inOrder();
326   }
327   @Test
328   public void concurrentIteration() throws Exception {
329     graph = ValueGraphBuilder.directed().build();
330     graph.putEdgeValue(1, 2, "A");
331     graph.putEdgeValue(3, 4, "B");
332     graph.putEdgeValue(5, 6, "C");
333     int threadCount = 20;
334     ExecutorService executor = newFixedThreadPool(threadCount);
335     final CyclicBarrier barrier = new CyclicBarrier(threadCount);
336     ImmutableList.Builder&lt;Future&lt;?&gt;&gt; futures = ImmutableList.builder();
337     for (int i = 0; i &lt; threadCount; i++) {
338       futures.add(
339           executor.submit(
340               new Callable&lt;Object&gt;() {
341                 @Override
342                 public Object call() throws Exception {
343                   barrier.await();
344                   Integer first = graph.nodes().iterator().next();
345                   for (Integer node : graph.nodes()) {
346                     Set&lt;Integer&gt; unused = graph.successors(node);
347                   }
348                   /*
349                    * Also look up an earlier node so that, if the graph is using MapRetrievalCache,
350                    * we read one of the fields declared in that class.
351                    */
352                   Set&lt;Integer&gt; unused = graph.successors(first);
353                   return null;
354                 }
355               }));
356     }
357     for (Future&lt;?&gt; future : futures.build()) {
358       future.get();
359     }
360     executor.shutdown();
361   }
362 }
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
