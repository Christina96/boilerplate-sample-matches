<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for ListRetainAllTester_1.java &amp; ImmutableListTest.java</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for ListRetainAllTester_1.java &amp; ImmutableListTest.java
      </h3>
<h1 align="center">
        8.1%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>ListRetainAllTester_1.java (64.28571%)<th>ImmutableListTest.java (4.3338685%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(70-73)<td><a href="#" name="0">(513-520)</a><td align="center"><font color="#ff0000">20</font>
<tr onclick='openModal("#f63526")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#f63526"><font color="#f63526">-</font><td><a href="#" name="1">(19-38)<td><a href="#" name="1">(47-66)</a><td align="center"><font color="#a50000">13</font>
<tr onclick='openModal("#980517")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#980517"><font color="#980517">-</font><td><a href="#" name="2">(59-66)<td><a href="#" name="2">(668-673)</a><td align="center"><font color="#8c0000">11</font>
<tr onclick='openModal("#53858b")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#53858b"><font color="#53858b">-</font><td><a href="#" name="3">(46-53)<td><a href="#" name="3">(724-730)</a><td align="center"><font color="#7f0000">10</font>
</td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>ListRetainAllTester_1.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 <a name="1"></a>
2 package com.google.common.collect.testing.testers;
3 <font color="#f63526"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>import static com.google.common.collect.testing.Helpers.assertContentsInOrder;
4 import static com.google.common.collect.testing.features.CollectionFeature.SUPPORTS_REMOVE;
5 import static com.google.common.collect.testing.features.CollectionSize.ONE;
6 import static com.google.common.collect.testing.features.CollectionSize.SEVERAL;
7 import static com.google.common.collect.testing.features.CollectionSize.ZERO;
8 import com.google.common.annotations.GwtCompatible;
9 import com.google.common.collect.testing.MinimalCollection;
10 import com.google.common.collect.testing.features.CollectionFeature;
11 import com.google.common.collect.testing.features.CollectionSize;
12 import java.util.Arrays;
13 import org.junit.Ignore;
14 @</b></font>GwtCompatible
15 @Ignore public class ListRetainAllTester&lt;E&gt; extends AbstractListTester&lt;E&gt; {
16   @CollectionFeature.Require(SUPPORTS_REMOVE)
17   @CollectionSize.Require(absent = {ZERO, ONE})
18 <a name="3"></a>  public void testRetainAll_duplicatesKept() {
19     E[] array = createSamplesArray();
20     array[1] = e0();
21     collection = <font color="#53858b"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>getSubjectGenerator().create(array);
22     assertFalse(
23         "containsDuplicates.retainAll(superset) should return false",
24         collection.retainAll(MinimalCollection.of(createSamplesArray())));
25     expectContents(array);
26   }
27   @SuppressWarnings("unchecked")</b></font>
28   @CollectionFeature.Require(SUPPORTS_REMOVE)
29   @CollectionSize.Require(SEVERAL)
30 <a name="2"></a>  public void testRetainAll_duplicatesRemoved() {
31     E[] array = createSamplesArray();
32     array[1] = e0();
33     collection = <font color="#980517"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>getSubjectGenerator().create(array);
34     assertTrue(
35         "containsDuplicates.retainAll(subset) should return true",
36         collection.retainAll(MinimalCollection.of(e2())));
37     expectContents(e2());
38   }
39   @SuppressWarnings("uncheck</b></font>ed")
40 <a name="0"></a>  @CollectionFeature.Require(SUPPORTS_REMOVE)
41   @CollectionSize.Require(SEVERAL)
42   public void testRetainAll_countIgnored() {
43     <font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>resetContainer(getSubjectGenerator().create(e0(), e2(), e1(), e0()));
44     assertTrue(getList().retainAll(Arrays.asList(e0(), e1())));
45     assertContentsInOrder(getList(), e0(), e1(), e0());
46   }</b></font>
47 }
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>ImmutableListTest.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 package com.google.common.collect;
2 import static com.google.common.collect.Iterables.getOnlyElement;
3 import static com.google.common.collect.Iterables.unmodifiableIterable;
4 import static com.google.common.collect.Sets.newHashSet;
5 import static com.google.common.collect.testing.features.CollectionFeature.ALLOWS_NULL_QUERIES;
6 import static com.google.common.collect.testing.features.CollectionFeature.SERIALIZABLE;
7 import static java.lang.reflect.Proxy.newProxyInstance;
8 import static java.util.Arrays.asList;
9 import com.google.common.annotations.GwtCompatible;
10 import com.google.common.annotations.GwtIncompatible;
11 import com.google.common.collect.testing.Helpers;
12 import com.google.common.collect.testing.ListTestSuiteBuilder;
13 import com.google.common.collect.testing.MinimalCollection;
14 import com.google.common.collect.testing.MinimalIterable;
15 import com.google.common.collect.testing.features.CollectionSize;
16 import com.google.common.collect.testing.google.ListGenerators.BuilderAddAllListGenerator;
17 import com.google.common.collect.testing.google.ListGenerators.BuilderReversedListGenerator;
18 import com.google.common.collect.testing.google.ListGenerators.ImmutableListHeadSubListGenerator;
19 import com.google.common.collect.testing.google.ListGenerators.ImmutableListMiddleSubListGenerator;
20 import com.google.common.collect.testing.google.ListGenerators.ImmutableListOfGenerator;
21 import com.google.common.collect.testing.google.ListGenerators.ImmutableListTailSubListGenerator;
22 import com.google.common.collect.testing.google.ListGenerators.UnhashableElementsImmutableListGenerator;
23 import com.google.common.collect.testing.testers.ListHashCodeTester;
24 import com.google.common.testing.CollectorTester;
25 import com.google.common.testing.NullPointerTester;
26 <a name="1"></a>import com.google.common.testing.SerializableTester;
27 import java.lang.reflect.InvocationHandler;
28 import java.lang.reflect.InvocationTargetException;
29 <font color="#f63526"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>import java.lang.reflect.Method;
30 import java.util.Arrays;
31 import java.util.Collection;
32 import java.util.Collections;
33 import java.util.Iterator;
34 import java.util.List;
35 import java.util.Set;
36 import java.util.concurrent.CopyOnWriteArrayList;
37 import junit.framework.Test;
38 import junit.framework.TestCase;
39 import junit.framework.TestSuite;
40 @</b></font>GwtCompatible(emulated = true)
41 public class ImmutableListTest extends TestCase {
42   @GwtIncompatible   public static Test suite() {
43     TestSuite suite = new TestSuite();
44     suite.addTest(
45         ListTestSuiteBuilder.using(new ImmutableListOfGenerator())
46             .named("ImmutableList")
47             .withFeatures(CollectionSize.ANY, SERIALIZABLE, ALLOWS_NULL_QUERIES)
48             .createTestSuite());
49     suite.addTest(
50         ListTestSuiteBuilder.using(new BuilderAddAllListGenerator())
51             .named("ImmutableList, built with Builder.add")
52             .withFeatures(CollectionSize.ANY, SERIALIZABLE, ALLOWS_NULL_QUERIES)
53             .createTestSuite());
54     suite.addTest(
55         ListTestSuiteBuilder.using(new BuilderAddAllListGenerator())
56             .named("ImmutableList, built with Builder.addAll")
57             .withFeatures(CollectionSize.ANY, SERIALIZABLE, ALLOWS_NULL_QUERIES)
58             .createTestSuite());
59     suite.addTest(
60         ListTestSuiteBuilder.using(new BuilderReversedListGenerator())
61             .named("ImmutableList, reversed")
62             .withFeatures(CollectionSize.ANY, SERIALIZABLE, ALLOWS_NULL_QUERIES)
63             .createTestSuite());
64     suite.addTest(
65         ListTestSuiteBuilder.using(new ImmutableListHeadSubListGenerator())
66             .named("ImmutableList, head subList")
67             .withFeatures(CollectionSize.ANY, SERIALIZABLE, ALLOWS_NULL_QUERIES)
68             .createTestSuite());
69     suite.addTest(
70         ListTestSuiteBuilder.using(new ImmutableListTailSubListGenerator())
71             .named("ImmutableList, tail subList")
72             .withFeatures(CollectionSize.ANY, SERIALIZABLE, ALLOWS_NULL_QUERIES)
73             .createTestSuite());
74     suite.addTest(
75         ListTestSuiteBuilder.using(new ImmutableListMiddleSubListGenerator())
76             .named("ImmutableList, middle subList")
77             .withFeatures(CollectionSize.ANY, SERIALIZABLE, ALLOWS_NULL_QUERIES)
78             .createTestSuite());
79     suite.addTest(
80         ListTestSuiteBuilder.using(new UnhashableElementsImmutableListGenerator())
81             .suppressing(ListHashCodeTester.getHashCodeMethod())
82             .named("ImmutableList, unhashable values")
83             .withFeatures(CollectionSize.ANY, ALLOWS_NULL_QUERIES)
84             .createTestSuite());
85     return suite;
86   }
87   public static class CreationTests extends TestCase {
88     public void testCreation_noArgs() {
89       List&lt;String&gt; list = ImmutableList.of();
90       assertEquals(Collections.emptyList(), list);
91     }
92     public void testCreation_oneElement() {
93       List&lt;String&gt; list = ImmutableList.of("a");
94       assertEquals(Collections.singletonList("a"), list);
95     }
96     public void testCreation_twoElements() {
97       List&lt;String&gt; list = ImmutableList.of("a", "b");
98       assertEquals(Lists.newArrayList("a", "b"), list);
99     }
100     public void testCreation_threeElements() {
101       List&lt;String&gt; list = ImmutableList.of("a", "b", "c");
102       assertEquals(Lists.newArrayList("a", "b", "c"), list);
103     }
104     public void testCreation_fourElements() {
105       List&lt;String&gt; list = ImmutableList.of("a", "b", "c", "d");
106       assertEquals(Lists.newArrayList("a", "b", "c", "d"), list);
107     }
108     public void testCreation_fiveElements() {
109       List&lt;String&gt; list = ImmutableList.of("a", "b", "c", "d", "e");
110       assertEquals(Lists.newArrayList("a", "b", "c", "d", "e"), list);
111     }
112     public void testCreation_sixElements() {
113       List&lt;String&gt; list = ImmutableList.of("a", "b", "c", "d", "e", "f");
114       assertEquals(Lists.newArrayList("a", "b", "c", "d", "e", "f"), list);
115     }
116     public void testCreation_sevenElements() {
117       List&lt;String&gt; list = ImmutableList.of("a", "b", "c", "d", "e", "f", "g");
118       assertEquals(Lists.newArrayList("a", "b", "c", "d", "e", "f", "g"), list);
119     }
120     public void testCreation_eightElements() {
121       List&lt;String&gt; list = ImmutableList.of("a", "b", "c", "d", "e", "f", "g", "h");
122       assertEquals(Lists.newArrayList("a", "b", "c", "d", "e", "f", "g", "h"), list);
123     }
124     public void testCreation_nineElements() {
125       List&lt;String&gt; list = ImmutableList.of("a", "b", "c", "d", "e", "f", "g", "h", "i");
126       assertEquals(Lists.newArrayList("a", "b", "c", "d", "e", "f", "g", "h", "i"), list);
127     }
128     public void testCreation_tenElements() {
129       List&lt;String&gt; list = ImmutableList.of("a", "b", "c", "d", "e", "f", "g", "h", "i", "j");
130       assertEquals(Lists.newArrayList("a", "b", "c", "d", "e", "f", "g", "h", "i", "j"), list);
131     }
132     public void testCreation_elevenElements() {
133       List&lt;String&gt; list = ImmutableList.of("a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k");
134       assertEquals(Lists.newArrayList("a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k"), list);
135     }
136     public void testCreation_twelveElements() {
137       List&lt;String&gt; list =
138           ImmutableList.of("a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l");
139       assertEquals(
140           Lists.newArrayList("a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l"), list);
141     }
142     public void testCreation_thirteenElements() {
143       List&lt;String&gt; list =
144           ImmutableList.of("a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m");
145       assertEquals(
146           Lists.newArrayList("a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m"),
147           list);
148     }
149     public void testCreation_fourteenElements() {
150       List&lt;String&gt; list =
151           ImmutableList.of("a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n");
152       assertEquals(
153           Lists.newArrayList("a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n"),
154           list);
155     }
156     public void testCreation_singletonNull() {
157       try {
158         ImmutableList.of((String) null);
159         fail();
160       } catch (NullPointerException expected) {
161       }
162     }
163     public void testCreation_withNull() {
164       try {
165         ImmutableList.of("a", null, "b");
166         fail();
167       } catch (NullPointerException expected) {
168       }
169     }
170     public void testCreation_generic() {
171       List&lt;String&gt; a = ImmutableList.of("a");
172       ImmutableList&lt;List&lt;String&gt;&gt; unused = ImmutableList.of(a, a);
173     }
174     public void testCreation_arrayOfArray() {
175       String[] array = new String[] {"a"};
176       List&lt;String[]&gt; list = ImmutableList.&lt;String[]&gt;of(array);
177       assertEquals(Collections.singletonList(array), list);
178     }
179     public void testCopyOf_emptyArray() {
180       String[] array = new String[0];
181       List&lt;String&gt; list = ImmutableList.copyOf(array);
182       assertEquals(Collections.emptyList(), list);
183     }
184     public void testCopyOf_arrayOfOneElement() {
185       String[] array = new String[] {"a"};
186       List&lt;String&gt; list = ImmutableList.copyOf(array);
187       assertEquals(Collections.singletonList("a"), list);
188     }
189     public void testCopyOf_nullArray() {
190       try {
191         ImmutableList.copyOf((String[]) null);
192         fail();
193       } catch (NullPointerException expected) {
194       }
195     }
196     public void testCopyOf_arrayContainingOnlyNull() {
197       String[] array = new String[] {null};
198       try {
199         ImmutableList.copyOf(array);
200         fail();
201       } catch (NullPointerException expected) {
202       }
203     }
204     public void testCopyOf_collection_empty() {
205       Collection&lt;String&gt; c = MinimalCollection.&lt;String&gt;of();
206       List&lt;String&gt; list = ImmutableList.copyOf(c);
207       assertEquals(Collections.emptyList(), list);
208     }
209     public void testCopyOf_collection_oneElement() {
210       Collection&lt;String&gt; c = MinimalCollection.of("a");
211       List&lt;String&gt; list = ImmutableList.copyOf(c);
212       assertEquals(Collections.singletonList("a"), list);
213     }
214     public void testCopyOf_collection_general() {
215       Collection&lt;String&gt; c = MinimalCollection.of("a", "b", "a");
216       List&lt;String&gt; list = ImmutableList.copyOf(c);
217       assertEquals(asList("a", "b", "a"), list);
218       List&lt;String&gt; mutableList = asList("a", "b");
219       list = ImmutableList.copyOf(mutableList);
220       mutableList.set(0, "c");
221       assertEquals(asList("a", "b"), list);
222     }
223     public void testCopyOf_collectionContainingNull() {
224       Collection&lt;String&gt; c = MinimalCollection.of("a", null, "b");
225       try {
226         ImmutableList.copyOf(c);
227         fail();
228       } catch (NullPointerException expected) {
229       }
230     }
231     public void testCopyOf_iterator_empty() {
232       Iterator&lt;String&gt; iterator = Iterators.emptyIterator();
233       List&lt;String&gt; list = ImmutableList.copyOf(iterator);
234       assertEquals(Collections.emptyList(), list);
235     }
236     public void testCopyOf_iterator_oneElement() {
237       Iterator&lt;String&gt; iterator = Iterators.singletonIterator("a");
238       List&lt;String&gt; list = ImmutableList.copyOf(iterator);
239       assertEquals(Collections.singletonList("a"), list);
240     }
241     public void testCopyOf_iterator_general() {
242       Iterator&lt;String&gt; iterator = asList("a", "b", "a").iterator();
243       List&lt;String&gt; list = ImmutableList.copyOf(iterator);
244       assertEquals(asList("a", "b", "a"), list);
245     }
246     public void testCopyOf_iteratorContainingNull() {
247       Iterator&lt;String&gt; iterator = asList("a", null, "b").iterator();
248       try {
249         ImmutableList.copyOf(iterator);
250         fail();
251       } catch (NullPointerException expected) {
252       }
253     }
254     public void testCopyOf_iteratorNull() {
255       try {
256         ImmutableList.copyOf((Iterator&lt;String&gt;) null);
257         fail();
258       } catch (NullPointerException expected) {
259       }
260     }
261     public void testCopyOf_concurrentlyMutating() {
262       List&lt;String&gt; sample = Lists.newArrayList("a", "b", "c");
263       for (int delta : new int[] {-1, 0, 1}) {
264         for (int i = 0; i &lt; sample.size(); i++) {
265           Collection&lt;String&gt; misleading = Helpers.misleadingSizeCollection(delta);
266           List&lt;String&gt; expected = sample.subList(0, i);
267           misleading.addAll(expected);
268           assertEquals(expected, ImmutableList.copyOf(misleading));
269           assertEquals(expected, ImmutableList.copyOf((Iterable&lt;String&gt;) misleading));
270         }
271       }
272     }
273     private static class CountingIterable implements Iterable&lt;String&gt; {
274       int count = 0;
275       @Override
276       public Iterator&lt;String&gt; iterator() {
277         count++;
278         return asList("a", "b", "a").iterator();
279       }
280     }
281     public void testCopyOf_plainIterable() {
282       CountingIterable iterable = new CountingIterable();
283       List&lt;String&gt; list = ImmutableList.copyOf(iterable);
284       assertEquals(asList("a", "b", "a"), list);
285     }
286     public void testCopyOf_plainIterable_iteratesOnce() {
287       CountingIterable iterable = new CountingIterable();
288       ImmutableList&lt;String&gt; unused = ImmutableList.copyOf(iterable);
289       assertEquals(1, iterable.count);
290     }
291     public void testCopyOf_shortcut_empty() {
292       Collection&lt;String&gt; c = ImmutableList.of();
293       assertSame(c, ImmutableList.copyOf(c));
294     }
295     public void testCopyOf_shortcut_singleton() {
296       Collection&lt;String&gt; c = ImmutableList.of("a");
297       assertSame(c, ImmutableList.copyOf(c));
298     }
299     public void testCopyOf_shortcut_immutableList() {
300       Collection&lt;String&gt; c = ImmutableList.of("a", "b", "c");
301       assertSame(c, ImmutableList.copyOf(c));
302     }
303     public void testBuilderAddArrayHandlesNulls() {
304       String[] elements = {"a", null, "b"};
305       ImmutableList.Builder&lt;String&gt; builder = ImmutableList.builder();
306       try {
307         builder.add(elements);
308         fail("Expected NullPointerException");
309       } catch (NullPointerException expected) {
310       }
311       ImmutableList&lt;String&gt; result = builder.build();
312       if (result.isEmpty()) {
313         return;
314       }
315       assertTrue(ImmutableList.of("a").equals(result));
316       assertEquals(1, result.size());
317     }
318     public void testBuilderAddCollectionHandlesNulls() {
319       List&lt;String&gt; elements = Arrays.asList("a", null, "b");
320       ImmutableList.Builder&lt;String&gt; builder = ImmutableList.builder();
321       try {
322         builder.addAll(elements);
323         fail("Expected NullPointerException");
324       } catch (NullPointerException expected) {
325       }
326       ImmutableList&lt;String&gt; result = builder.build();
327       assertEquals(ImmutableList.of("a"), result);
328       assertEquals(1, result.size());
329     }
330     public void testSortedCopyOf_natural() {
331       Collection&lt;Integer&gt; c = MinimalCollection.of(4, 16, 10, -1, 5);
332       ImmutableList&lt;Integer&gt; list = ImmutableList.sortedCopyOf(c);
333       assertEquals(asList(-1, 4, 5, 10, 16), list);
334     }
335     public void testSortedCopyOf_natural_empty() {
336       Collection&lt;Integer&gt; c = MinimalCollection.of();
337       ImmutableList&lt;Integer&gt; list = ImmutableList.sortedCopyOf(c);
338       assertEquals(asList(), list);
339     }
340     public void testSortedCopyOf_natural_singleton() {
341       Collection&lt;Integer&gt; c = MinimalCollection.of(100);
342       ImmutableList&lt;Integer&gt; list = ImmutableList.sortedCopyOf(c);
343       assertEquals(asList(100), list);
344     }
345     public void testSortedCopyOf_natural_containsNull() {
346       Collection&lt;Integer&gt; c = MinimalCollection.of(1, 3, null, 2);
347       try {
348         ImmutableList.sortedCopyOf(c);
349         fail("Expected NPE");
350       } catch (NullPointerException expected) {
351       }
352     }
353     public void testSortedCopyOf() {
354       Collection&lt;String&gt; c = MinimalCollection.of("a", "b", "A", "c");
355       List&lt;String&gt; list = ImmutableList.sortedCopyOf(String.CASE_INSENSITIVE_ORDER, c);
356       assertEquals(asList("a", "A", "b", "c"), list);
357     }
358     public void testSortedCopyOf_empty() {
359       Collection&lt;String&gt; c = MinimalCollection.of();
360       List&lt;String&gt; list = ImmutableList.sortedCopyOf(String.CASE_INSENSITIVE_ORDER, c);
361       assertEquals(asList(), list);
362     }
363     public void testSortedCopyOf_singleton() {
364       Collection&lt;String&gt; c = MinimalCollection.of("a");
365       List&lt;String&gt; list = ImmutableList.sortedCopyOf(String.CASE_INSENSITIVE_ORDER, c);
366       assertEquals(asList("a"), list);
367     }
368     public void testSortedCopyOf_containsNull() {
369       Collection&lt;String&gt; c = MinimalCollection.of("a", "b", "A", null, "c");
370       try {
371         ImmutableList.sortedCopyOf(String.CASE_INSENSITIVE_ORDER, c);
372         fail("Expected NPE");
373       } catch (NullPointerException expected) {
374       }
375     }
376     public void testToImmutableList() {
377       CollectorTester.of(ImmutableList.&lt;String&gt;toImmutableList())
378           .expectCollects(ImmutableList.of("a", "b", "c", "d"), "a", "b", "c", "d");
379     }
380   }
381   @GwtIncompatible   public static class ConcurrentTests extends TestCase {
382     enum WrapWithIterable {
383       WRAP,
384       NO_WRAP
385     }
386     private static void runConcurrentlyMutatedTest(
387         Collection&lt;Integer&gt; initialContents,
388         Iterable&lt;ListFrobber&gt; actionsToPerformConcurrently,
389         WrapWithIterable wrap) {
390       ConcurrentlyMutatedList&lt;Integer&gt; concurrentlyMutatedList =
391           newConcurrentlyMutatedList(initialContents, actionsToPerformConcurrently);
392       Iterable&lt;Integer&gt; iterableToCopy =
393           wrap == WrapWithIterable.WRAP
394               ? unmodifiableIterable(concurrentlyMutatedList)
395               : concurrentlyMutatedList;
396       ImmutableList&lt;Integer&gt; copyOfIterable = ImmutableList.copyOf(iterableToCopy);
397       assertTrue(concurrentlyMutatedList.getAllStates().contains(copyOfIterable));
398     }
399     private static void runConcurrentlyMutatedTest(WrapWithIterable wrap) {
400       runConcurrentlyMutatedTest(elements(), ops(add(1), add(2)), wrap);
401       runConcurrentlyMutatedTest(elements(), ops(add(1), nop()), wrap);
402       runConcurrentlyMutatedTest(elements(), ops(add(1), remove()), wrap);
403       runConcurrentlyMutatedTest(elements(), ops(nop(), add(1)), wrap);
404       runConcurrentlyMutatedTest(elements(1), ops(remove(), nop()), wrap);
405       runConcurrentlyMutatedTest(elements(1), ops(remove(), add(2)), wrap);
406 <a name="0"></a>
407       runConcurrentlyMutatedTest(elements(1, 2), ops(remove(), remove()), wrap);
408       runConcurrentlyMutatedTest(elements(1, 2), <font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>ops(remove(), nop()), wrap);
409       runConcurrentlyMutatedTest(elements(1, 2), ops(remove(), add(3)), wrap);
410       runConcurrentlyMutatedTest(elements(1, 2), ops(nop(), remove()), wrap);
411       runConcurrentlyMutatedTest(elements(1, 2, 3), ops(remove(), remove()), wrap);
412     }</b></font>
413     private static ImmutableList&lt;Integer&gt; elements(Integer... elements) {
414       return ImmutableList.copyOf(elements);
415     }
416     private static ImmutableList&lt;ListFrobber&gt; ops(ListFrobber... elements) {
417       return ImmutableList.copyOf(elements);
418     }
419     public void testCopyOf_concurrentlyMutatedList() {
420       runConcurrentlyMutatedTest(WrapWithIterable.NO_WRAP);
421     }
422     public void testCopyOf_concurrentlyMutatedIterable() {
423       runConcurrentlyMutatedTest(WrapWithIterable.WRAP);
424     }
425     interface ListFrobber {
426       void perform(List&lt;Integer&gt; list);
427     }
428     static ListFrobber add(final int element) {
429       return new ListFrobber() {
430         @Override
431         public void perform(List&lt;Integer&gt; list) {
432           list.add(0, element);
433         }
434       };
435     }
436     static ListFrobber remove() {
437       return new ListFrobber() {
438         @Override
439         public void perform(List&lt;Integer&gt; list) {
440           list.remove(0);
441         }
442       };
443     }
444     static ListFrobber nop() {
445       return new ListFrobber() {
446         @Override
447         public void perform(List&lt;Integer&gt; list) {}
448       };
449     }
450     interface ConcurrentlyMutatedList&lt;E&gt; extends List&lt;E&gt; {
451       Set&lt;List&lt;E&gt;&gt; getAllStates();
452     }
453     private static ConcurrentlyMutatedList&lt;Integer&gt; newConcurrentlyMutatedList(
454         final Collection&lt;Integer&gt; initialContents,
455         final Iterable&lt;ListFrobber&gt; actionsToPerformConcurrently) {
456       InvocationHandler invocationHandler =
457           new InvocationHandler() {
458             final CopyOnWriteArrayList&lt;Integer&gt; delegate =
459                 new CopyOnWriteArrayList&lt;&gt;(initialContents);
460             final Method getAllStatesMethod =
461                 getOnlyElement(asList(ConcurrentlyMutatedList.class.getDeclaredMethods()));
462             final Iterator&lt;ListFrobber&gt; remainingActions = actionsToPerformConcurrently.iterator();
463             final Set&lt;List&lt;Integer&gt;&gt; allStates = newHashSet();
464             @Override
465             public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
466               return method.equals(getAllStatesMethod)
467                   ? getAllStates()
468                   : invokeListMethod(method, args);
469             }
470             private Set&lt;List&lt;Integer&gt;&gt; getAllStates() {
471               return allStates;
472             }
473             private Object invokeListMethod(Method method, Object[] args) throws Throwable {
474               try {
475                 Object returnValue = method.invoke(delegate, args);
476                 mutateDelegate();
477                 return returnValue;
478               } catch (InvocationTargetException e) {
479                 throw e.getCause();
480               } catch (IllegalAccessException e) {
481                 throw new AssertionError(e);
482               }
483             }
484             private void mutateDelegate() {
485               allStates.add(ImmutableList.copyOf(delegate));
486               remainingActions.next().perform(delegate);
487               allStates.add(ImmutableList.copyOf(delegate));
488             }
489           };
490       @SuppressWarnings("unchecked")
491       ConcurrentlyMutatedList&lt;Integer&gt; list =
492           (ConcurrentlyMutatedList&lt;Integer&gt;)
493               newProxyInstance(
494                   ImmutableListTest.CreationTests.class.getClassLoader(),
495                   new Class[] {ConcurrentlyMutatedList.class},
496                   invocationHandler);
497       return list;
498     }
499   }
500   public static class BasicTests extends TestCase {
501     @GwtIncompatible     public void testNullPointers() {
502       NullPointerTester tester = new NullPointerTester();
503       tester.testAllPublicStaticMethods(ImmutableList.class);
504       tester.testAllPublicInstanceMethods(ImmutableList.of(1, 2, 3));
505     }
506     @GwtIncompatible     public void testSerialization_empty() {
507       Collection&lt;String&gt; c = ImmutableList.of();
508       assertSame(c, SerializableTester.reserialize(c));
509     }
510     @GwtIncompatible     public void testSerialization_singleton() {
511       Collection&lt;String&gt; c = ImmutableList.of("a");
512       SerializableTester.reserializeAndAssert(c);
513     }
514     @GwtIncompatible     public void testSerialization_multiple() {
515       Collection&lt;String&gt; c = ImmutableList.of("a", "b", "c");
516       SerializableTester.reserializeAndAssert(c);
517     }
518 <a name="2"></a>    public void testEquals_immutableList() {
519       Collection&lt;String&gt; c = ImmutableList.of("a", "b", "c");
520       assertTrue(c.equals(ImmutableList.of("a", "b", "c")));
521       assertFalse(<font color="#980517"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>c.equals(ImmutableList.of("a", "c", "b")));
522       assertFalse(c.equals(ImmutableList.of("a", "b")));
523       assertFalse(c.equals(ImmutableList.of("a", "b", "c", "d")));
524     }
525     public void te</b></font>stBuilderAdd() {
526       ImmutableList&lt;String&gt; list =
527           new ImmutableList.Builder&lt;String&gt;().add("a").add("b").add("a").add("c").build();
528       assertEquals(asList("a", "b", "a", "c"), list);
529     }
530     @GwtIncompatible("Builder impl")
531     public void testBuilderForceCopy() {
532       ImmutableList.Builder&lt;Integer&gt; builder = ImmutableList.builder();
533       Object[] prevArray = null;
534       for (int i = 0; i &lt; 10; i++) {
535         builder.add(i);
536         assertNotSame(builder.contents, prevArray);
537         prevArray = builder.contents;
538         ImmutableList&lt;Integer&gt; unused = builder.build();
539       }
540     }
541     @GwtIncompatible
542     public void testBuilderExactlySizedReusesArray() {
543       ImmutableList.Builder&lt;Integer&gt; builder = ImmutableList.builderWithExpectedSize(10);
544       Object[] builderArray = builder.contents;
545       for (int i = 0; i &lt; 10; i++) {
546         builder.add(i);
547       }
548       Object[] builderArrayAfterAdds = builder.contents;
549       RegularImmutableList&lt;Integer&gt; list = (RegularImmutableList&lt;Integer&gt;) builder.build();
550       Object[] listInternalArray = list.array;
551       assertSame(builderArray, builderArrayAfterAdds);
552       assertSame(builderArray, listInternalArray);
553     }
554     public void testBuilderAdd_varargs() {
555       ImmutableList&lt;String&gt; list =
556           new ImmutableList.Builder&lt;String&gt;().add("a", "b", "a", "c").build();
557       assertEquals(asList("a", "b", "a", "c"), list);
558     }
559     public void testBuilderAddAll_iterable() {
560       List&lt;String&gt; a = asList("a", "b");
561       List&lt;String&gt; b = asList("c", "d");
562       ImmutableList&lt;String&gt; list = new ImmutableList.Builder&lt;String&gt;().addAll(a).addAll(b).build();
563       assertEquals(asList("a", "b", "c", "d"), list);
564       b.set(0, "f");
565       assertEquals(asList("a", "b", "c", "d"), list);
566     }
567     public void testBuilderAddAll_iterator() {
568 <a name="3"></a>      List&lt;String&gt; a = asList("a", "b");
569       List&lt;String&gt; b = asList("c", "d");
570       ImmutableList&lt;String&gt; list =
571           new ImmutableList.Builder&lt;String&gt;().addAll(<font color="#53858b"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>a.iterator()).addAll(b.iterator()).build();
572       assertEquals(asList("a", "b", "c", "d"), list);
573       b.set(0, "f");
574       assertEquals(asList("a", "b", "c", "d"), list);
575     }
576     public void testCo</b></font>mplexBuilder() {
577       List&lt;Integer&gt; colorElem = asList(0x00, 0x33, 0x66, 0x99, 0xCC, 0xFF);
578       ImmutableList.Builder&lt;Integer&gt; webSafeColorsBuilder = ImmutableList.builder();
579       for (Integer red : colorElem) {
580         for (Integer green : colorElem) {
581           for (Integer blue : colorElem) {
582             webSafeColorsBuilder.add((red &lt;&lt; 16) + (green &lt;&lt; 8) + blue);
583           }
584         }
585       }
586       ImmutableList&lt;Integer&gt; webSafeColors = webSafeColorsBuilder.build();
587       assertEquals(216, webSafeColors.size());
588       Integer[] webSafeColorArray = webSafeColors.toArray(new Integer[webSafeColors.size()]);
589       assertEquals(0x000000, (int) webSafeColorArray[0]);
590       assertEquals(0x000033, (int) webSafeColorArray[1]);
591       assertEquals(0x000066, (int) webSafeColorArray[2]);
592       assertEquals(0x003300, (int) webSafeColorArray[6]);
593       assertEquals(0x330000, (int) webSafeColorArray[36]);
594       assertEquals(0x000066, (int) webSafeColors.get(2));
595       assertEquals(0x003300, (int) webSafeColors.get(6));
596       ImmutableList&lt;Integer&gt; addedColor = webSafeColorsBuilder.add(0x00BFFF).build();
597       assertEquals(
598           "Modifying the builder should not have changed any already" + " built sets",
599           216,
600           webSafeColors.size());
601       assertEquals("the new array should be one bigger than webSafeColors", 217, addedColor.size());
602       Integer[] appendColorArray = addedColor.toArray(new Integer[addedColor.size()]);
603       assertEquals(0x00BFFF, (int) appendColorArray[216]);
604     }
605     public void testBuilderAddHandlesNullsCorrectly() {
606       ImmutableList.Builder&lt;String&gt; builder = ImmutableList.builder();
607       try {
608         builder.add((String) null);
609         fail("expected NullPointerException");
610       } catch (NullPointerException expected) {
611       }
612       try {
613         builder.add((String[]) null);
614         fail("expected NullPointerException");
615       } catch (NullPointerException expected) {
616       }
617       try {
618         builder.add("a", null, "b");
619         fail("expected NullPointerException");
620       } catch (NullPointerException expected) {
621       }
622     }
623     public void testBuilderAddAllHandlesNullsCorrectly() {
624       ImmutableList.Builder&lt;String&gt; builder = ImmutableList.builder();
625       try {
626         builder.addAll((Iterable&lt;String&gt;) null);
627         fail("expected NullPointerException");
628       } catch (NullPointerException expected) {
629       }
630       try {
631         builder.addAll((Iterator&lt;String&gt;) null);
632         fail("expected NullPointerException");
633       } catch (NullPointerException expected) {
634       }
635       builder = ImmutableList.builder();
636       List&lt;String&gt; listWithNulls = asList("a", null, "b");
637       try {
638         builder.addAll(listWithNulls);
639         fail("expected NullPointerException");
640       } catch (NullPointerException expected) {
641       }
642       builder = ImmutableList.builder();
643       Iterator&lt;String&gt; iteratorWithNulls = asList("a", null, "b").iterator();
644       try {
645         builder.addAll(iteratorWithNulls);
646         fail("expected NullPointerException");
647       } catch (NullPointerException expected) {
648       }
649       Iterable&lt;String&gt; iterableWithNulls = MinimalIterable.of("a", null, "b");
650       try {
651         builder.addAll(iterableWithNulls);
652         fail("expected NullPointerException");
653       } catch (NullPointerException expected) {
654       }
655     }
656     public void testAsList() {
657       ImmutableList&lt;String&gt; list = ImmutableList.of("a", "b");
658       assertSame(list, list.asList());
659     }
660   }
661 }
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
