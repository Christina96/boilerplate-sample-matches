
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 11.695906432748536%, Tokens: 10</h2>
        <div class="column">
            <h3>jedis-MDEwOlJlcG9zaXRvcnk3MTU2MDU=-flat-CommandArguments.java</h3>
            <pre><code>1  package redis.clients.jedis;
<span onclick='openModal()' class='match'>2  import java.util.ArrayList;
3  import java.util.Collection;
4  import java.util.Iterator;
5  import redis.clients.jedis.args.Rawable;
6  import redis.clients.jedis.args.RawableFactory;
7  import redis.clients.jedis.commands.ProtocolCommand;
8  import redis.clients.jedis.params.IParams;
9  public class CommandArguments implements Iterable<Rawable> {
10    private final ArrayList<Rawable> args;
11    private boolean blocking;
</span>12    private CommandArguments() {
13      throw new InstantiationError();
14    }
15    public CommandArguments(ProtocolCommand command) {
16      args = new ArrayList<>();
17      args.add(command);
18    }
19    public ProtocolCommand getCommand() {
20      return (ProtocolCommand) args.get(0);
21    }
22    public CommandArguments add(Object arg) {
23      if (arg == null) {
24        throw new IllegalArgumentException("null is not a valid argument.");
25      } else if (arg instanceof Rawable) {
26        args.add((Rawable) arg);
27      } else if (arg instanceof byte[]) {
28        args.add(RawableFactory.from((byte[]) arg));
29      } else if (arg instanceof String) {
30        args.add(RawableFactory.from((String) arg));
31      } else if (arg instanceof Boolean) {
32        args.add(RawableFactory.from(Integer.toString((Boolean) arg ? 1 : 0)));
33      } else {
34        args.add(RawableFactory.from(String.valueOf(arg)));
35      }
36      return this;
37    }
38    public CommandArguments addObjects(Object... args) {
39      for (Object arg : args) {
40        add(arg);
41      }
42      return this;
43    }
44    public CommandArguments addObjects(Collection args) {
45      args.forEach(arg -> add(arg));
46      return this;
47    }
48    public CommandArguments key(Object key) {
49      if (key instanceof Rawable) {
50        Rawable raw = (Rawable) key;
51        processKey(raw.getRaw());
52        args.add(raw);
53      } else if (key instanceof byte[]) {
54        byte[] raw = (byte[]) key;
55        processKey(raw);
56        args.add(RawableFactory.from(raw));
57      } else if (key instanceof String) {
58        String raw = (String) key;
59        processKey(raw);
60        args.add(RawableFactory.from(raw));
61      } else {
62        throw new IllegalArgumentException("\"" + key.toString() + "\" is not a valid argument.");
63      }
64      return this;
65    }
66    public final CommandArguments keys(Object... keys) {
67      for (Object key : keys) {
68        key(key);
69      }
70      return this;
71    }
72    public final CommandArguments addParams(IParams params) {
73      params.addParams(this);
74      return this;
75    }
76    protected CommandArguments processKey(byte[] key) {
77      return this;
78    }
79    protected final CommandArguments processKeys(byte[]... keys) {
80      for (byte[] key : keys) {
81        processKey(key);
82      }
83      return this;
84    }
85    protected CommandArguments processKey(String key) {
86      return this;
87    }
88    protected final CommandArguments processKeys(String... keys) {
89      for (String key : keys) {
90        processKey(key);
91      }
92      return this;
93    }
94    public int size() {
95      return args.size();
96    }
97    @Override
98    public Iterator<Rawable> iterator() {
99      return args.iterator();
100    }
101    public boolean isBlocking() {
102      return blocking;
103    }
104    public CommandArguments blocking() {
105      this.blocking = true;
106      return this;
107    }
108  }
</code></pre>
        </div>
        <div class="column">
            <h3>ribbon-MDEwOlJlcG9zaXRvcnk3NjE2MTU4-flat-HttpClientResponse.java</h3>
            <pre><code>1  package com.netflix.niws.client.http;
2  import com.google.common.collect.ArrayListMultimap;
3  import com.google.common.collect.Lists;
4  import com.google.common.collect.Multimap;
5  import com.google.common.reflect.TypeToken;
6  import com.netflix.client.ClientException;
7  import com.netflix.client.config.IClientConfig;
8  import com.netflix.client.http.HttpHeaders;
9  import com.netflix.client.http.HttpResponse;
10  import com.sun.jersey.api.client.ClientResponse;
11  import com.sun.jersey.api.client.GenericType;
12  import javax.ws.rs.core.MultivaluedMap;
13  import java.io.InputStream;
<span onclick='openModal()' class='match'>14  import java.lang.reflect.Type;
15  import java.net.URI;
16  import java.util.AbstractMap;
17  import java.util.Collection;
18  import java.util.List;
19  import java.util.Map;
20  import java.util.Map.Entry;
21  class HttpClientResponse implements HttpResponse {
22      private final ClientResponse bcr;
23      private final Multimap<String, String> headers = ArrayListMultimap.<String, String>create();
</span>24      private final HttpHeaders httpHeaders;
25      private final URI requestedURI;
26      private final IClientConfig overrideConfig;
27      public HttpClientResponse(ClientResponse cr, URI requestedURI, IClientConfig config){
28          bcr = cr;
29          this.requestedURI = requestedURI;
30          this.overrideConfig = config;
31          for (Map.Entry<String, List<String>> entry: bcr.getHeaders().entrySet()) {
32              if (entry.getKey() != null && entry.getValue() != null) {
33                  headers.putAll(entry.getKey(), entry.getValue());
34              }
35          }
36          httpHeaders =  new HttpHeaders() {
37              @Override
38              public String getFirstValue(String headerName) {
39                  return bcr.getHeaders().getFirst(headerName);
40              }
41              @Override
42              public List<String> getAllValues(String headerName) {
43                  return bcr.getHeaders().get(headerName);
44              }
45              @Override
46              public List<Entry<String, String>> getAllHeaders() {
47                  MultivaluedMap<String, String> map = bcr.getHeaders();
48                  List<Entry<String, String>> result = Lists.newArrayList();
49                  for (Map.Entry<String, List<String>> header: map.entrySet()) {
50                      String name = header.getKey();
51                      for (String value: header.getValue()) {
52                          result.add(new AbstractMap.SimpleEntry<String, String>(name, value));
53                      }
54                  }
55                  return result;
56              }
57              @Override
58              public boolean containsHeader(String name) {
59                  return bcr.getHeaders().containsKey(name);
60              }
61          };
62      }
63      public InputStream getRawEntity() {
64          return bcr.getEntityInputStream();
65      }
66      public <T> T getEntity(Class<T> c) throws Exception {
67          return bcr.getEntity(c);
68      }
69      @Override
70      public Map<String, Collection<String>> getHeaders() {
71          return headers.asMap();
72      }
73      @Override
74      public int getStatus() {
75          return bcr.getStatus();
76      }
77      @Override
78      public boolean isSuccess() {
79          boolean isSuccess = false;
80          ClientResponse.Status s = bcr != null? bcr.getClientResponseStatus(): null;
81          isSuccess = s!=null? (s.getFamily() == javax.ws.rs.core.Response.Status.Family.SUCCESSFUL): false;
82          return isSuccess;
83      }
84      @Override
85      public boolean hasEntity() {
86          return bcr.hasEntity();
87      }
88      @Override
89      public URI getRequestedURI() {
90         return requestedURI;
91      }
92      @Override
93      public Object getPayload() throws ClientException {
94          if (hasEntity()) {
95              return getRawEntity();
96          } else {
97              return null;
98          }
99      }
100      @Override
101      public boolean hasPayload() {
102          return hasEntity();        
103      }
104      public ClientResponse getJerseyClientResponse() {
105          return bcr;
106      }
107      @Override
108      public void close() {
109          bcr.close();
110      }
111      @Override
112      public InputStream getInputStream() {
113          return getRawEntity();
114      }
115      @Override
116      public String getStatusLine() {
117          return bcr.getClientResponseStatus().toString();
118      }
119      @Override
120      public HttpHeaders getHttpHeaders() {
121          return httpHeaders;
122      }
123      @Override
124      public <T> T getEntity(TypeToken<T> type) throws Exception {
125          return bcr.getEntity(new GenericType<T>(type.getType()));
126      }
127      @Override
128      public <T> T getEntity(Type type) throws Exception {
129          return bcr.getEntity(new GenericType<T>(type));
130      }
131  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from jedis-MDEwOlJlcG9zaXRvcnk3MTU2MDU=-flat-CommandArguments.java</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from ribbon-MDEwOlJlcG9zaXRvcnk3NjE2MTU4-flat-HttpClientResponse.java</div>
                </div>
                <div class="column column_space"><pre><code>2  import java.util.ArrayList;
3  import java.util.Collection;
4  import java.util.Iterator;
5  import redis.clients.jedis.args.Rawable;
6  import redis.clients.jedis.args.RawableFactory;
7  import redis.clients.jedis.commands.ProtocolCommand;
8  import redis.clients.jedis.params.IParams;
9  public class CommandArguments implements Iterable<Rawable> {
10    private final ArrayList<Rawable> args;
11    private boolean blocking;
</pre></code></div>
                <div class="column column_space"><pre><code>14  import java.lang.reflect.Type;
15  import java.net.URI;
16  import java.util.AbstractMap;
17  import java.util.Collection;
18  import java.util.List;
19  import java.util.Map;
20  import java.util.Map.Entry;
21  class HttpClientResponse implements HttpResponse {
22      private final ClientResponse bcr;
23      private final Multimap<String, String> headers = ArrayListMultimap.<String, String>create();
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    