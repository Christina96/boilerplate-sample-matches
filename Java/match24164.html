<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Matches for ImmutableListMultimapTest_1.java & ElementOrderTest.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</HEAD>
<body>
  <div style="align-items: center; display: flex; justify-content: space-around;">
    <div>
      <h3 align="center">
Matches for ImmutableListMultimapTest_1.java & ElementOrderTest.java
      </h3>
      <h1 align="center">
        42.3%
      </h1>
      <center>
        <a href="index.html" target="_top">
          INDEX
        </a>
        <span>-</span>
        <a href="help-en.html" target="_top">
          HELP
        </a>
      </center>
    </div>
    <div>
<TABLE BORDER="1" CELLSPACING="0" BGCOLOR="#d0d0d0">
<TR><TH><TH>ImmutableListMultimapTest_1.java (29.933481%)<TH>ElementOrderTest.java (72.19251%)<TH>Tokens
<TR><TD BGCOLOR="#0000ff"><FONT COLOR="#0000ff">-</FONT><TD><A HREF="javascript:ZweiFrames('match24164-0.html#0',2,'match24164-1.html#0',3)" NAME="0">(410-422)<TD><A HREF="javascript:ZweiFrames('match24164-0.html#0',2,'match24164-1.html#0',3)" NAME="0">(155-171)</A><TD ALIGN=center><FONT COLOR="#ff0000">29</FONT>
<TR><TD BGCOLOR="#f63526"><FONT COLOR="#f63526">-</FONT><TD><A HREF="javascript:ZweiFrames('match24164-0.html#1',2,'match24164-1.html#1',3)" NAME="1">(438-450)<TD><A HREF="javascript:ZweiFrames('match24164-0.html#1',2,'match24164-1.html#1',3)" NAME="1">(138-152)</A><TD ALIGN=center><FONT COLOR="#d30000">24</FONT>
<TR><TD BGCOLOR="#980517"><FONT COLOR="#980517">-</FONT><TD><A HREF="javascript:ZweiFrames('match24164-0.html#2',2,'match24164-1.html#2',3)" NAME="2">(398-405)<TD><A HREF="javascript:ZweiFrames('match24164-0.html#2',2,'match24164-1.html#2',3)" NAME="2">(126-135)</A><TD ALIGN=center><FONT COLOR="#b80000">21</FONT>
<TR><TD BGCOLOR="#53858b"><FONT COLOR="#53858b">-</FONT><TD><A HREF="javascript:ZweiFrames('match24164-0.html#3',2,'match24164-1.html#3',3)" NAME="3">(298-305)<TD><A HREF="javascript:ZweiFrames('match24164-0.html#3',2,'match24164-1.html#3',3)" NAME="3">(101-112)</A><TD ALIGN=center><FONT COLOR="#b80000">21</FONT>
<TR><TD BGCOLOR="#6cc417"><FONT COLOR="#6cc417">-</FONT><TD><A HREF="javascript:ZweiFrames('match24164-0.html#4',2,'match24164-1.html#4',3)" NAME="4">(276-283)<TD><A HREF="javascript:ZweiFrames('match24164-0.html#4',2,'match24164-1.html#4',3)" NAME="4">(76-90)</A><TD ALIGN=center><FONT COLOR="#b80000">21</FONT>
<TR><TD BGCOLOR="#151b8d"><FONT COLOR="#151b8d">-</FONT><TD><A HREF="javascript:ZweiFrames('match24164-0.html#5',2,'match24164-1.html#5',3)" NAME="5">(555-565)<TD><A HREF="javascript:ZweiFrames('match24164-0.html#5',2,'match24164-1.html#5',3)" NAME="5">(61-71)</A><TD ALIGN=center><FONT COLOR="#af0000">20</FONT>
<TR><TD BGCOLOR="#8c8774"><FONT COLOR="#8c8774">-</FONT><TD><A HREF="javascript:ZweiFrames('match24164-0.html#6',2,'match24164-1.html#6',3)" NAME="6">(315-321)<TD><A HREF="javascript:ZweiFrames('match24164-0.html#6',2,'match24164-1.html#6',3)" NAME="6">(114-123)</A><TD ALIGN=center><FONT COLOR="#9e0000">18</FONT>
<TR><TD BGCOLOR="#38a4a5"><FONT COLOR="#38a4a5">-</FONT><TD><A HREF="javascript:ZweiFrames('match24164-0.html#7',2,'match24164-1.html#7',3)" NAME="7">(472-488)<TD><A HREF="javascript:ZweiFrames('match24164-0.html#7',2,'match24164-1.html#7',3)" NAME="7">(208-217)</A><TD ALIGN=center><FONT COLOR="#8c0000">16</FONT>
<TR><TD BGCOLOR="#c58917"><FONT COLOR="#c58917">-</FONT><TD><A HREF="javascript:ZweiFrames('match24164-0.html#8',2,'match24164-1.html#8',3)" NAME="8">(332-338)<TD><A HREF="javascript:ZweiFrames('match24164-0.html#8',2,'match24164-1.html#8',3)" NAME="8">(44-53)</A><TD ALIGN=center><FONT COLOR="#8c0000">16</FONT>
<TR><TD BGCOLOR="#83a33a"><FONT COLOR="#83a33a">-</FONT><TD><A HREF="javascript:ZweiFrames('match24164-0.html#9',2,'match24164-1.html#9',3)" NAME="9">(535-547)<TD><A HREF="javascript:ZweiFrames('match24164-0.html#9',2,'match24164-1.html#9',3)" NAME="9">(189-198)</A><TD ALIGN=center><FONT COLOR="#830000">15</FONT>
<TR><TD BGCOLOR="#ad5910"><FONT COLOR="#ad5910">-</FONT><TD><A HREF="javascript:ZweiFrames('match24164-0.html#10',2,'match24164-1.html#10',3)" NAME="10">(522-533)<TD><A HREF="javascript:ZweiFrames('match24164-0.html#10',2,'match24164-1.html#10',3)" NAME="10">(93-99)</A><TD ALIGN=center><FONT COLOR="#830000">15</FONT>
<TR><TD BGCOLOR="#b041ff"><FONT COLOR="#b041ff">-</FONT><TD><A HREF="javascript:ZweiFrames('match24164-0.html#11',2,'match24164-1.html#11',3)" NAME="11">(321-330)<TD><A HREF="javascript:ZweiFrames('match24164-0.html#11',2,'match24164-1.html#11',3)" NAME="11">(54-60)</A><TD ALIGN=center><FONT COLOR="#720000">13</FONT>
<TR><TD BGCOLOR="#571b7e"><FONT COLOR="#571b7e">-</FONT><TD><A HREF="javascript:ZweiFrames('match24164-0.html#12',2,'match24164-1.html#12',3)" NAME="12">(566-572)<TD><A HREF="javascript:ZweiFrames('match24164-0.html#12',2,'match24164-1.html#12',3)" NAME="12">(37-44)</A><TD ALIGN=center><FONT COLOR="#690000">12</FONT>
<TR><TD BGCOLOR="#3b9c9c"><FONT COLOR="#3b9c9c">-</FONT><TD><A HREF="javascript:ZweiFrames('match24164-0.html#13',2,'match24164-1.html#13',3)" NAME="13">(32-47)<TD><A HREF="javascript:ZweiFrames('match24164-0.html#13',2,'match24164-1.html#13',3)" NAME="13">(19-31)</A><TD ALIGN=center><FONT COLOR="#600000">11</FONT>
<TR><TD BGCOLOR="#842dce"><FONT COLOR="#842dce">-</FONT><TD><A HREF="javascript:ZweiFrames('match24164-0.html#14',2,'match24164-1.html#14',3)" NAME="14">(289-292)<TD><A HREF="javascript:ZweiFrames('match24164-0.html#14',2,'match24164-1.html#14',3)" NAME="14">(174-177)</A><TD ALIGN=center><FONT COLOR="#4f0000">9</FONT>
<TR><TD BGCOLOR="#f52887"><FONT COLOR="#f52887">-</FONT><TD><A HREF="javascript:ZweiFrames('match24164-0.html#15',2,'match24164-1.html#15',3)" NAME="15">(118-124)<TD><A HREF="javascript:ZweiFrames('match24164-0.html#15',2,'match24164-1.html#15',3)" NAME="15">(234-240)</A><TD ALIGN=center><FONT COLOR="#4f0000">9</FONT>
</TABLE>
    </div>
  </div>
  <hr>
  <div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>ImmutableListMultimapTest_1.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<HR>
<PRE>
/*
 * Copyright (C) 2008 The Guava Authors
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package com.google.common.collect;

import static com.google.common.collect.testing.features.CollectionFeature.KNOWN_ORDER;
import static com.google.common.collect.testing.features.CollectionFeature.SERIALIZABLE;
import static com.google.common.collect.testing.features.MapFeature.ALLOWS_ANY_NULL_QUERIES;
import static com.google.common.truth.Truth.assertThat;

import com.google.common.annotations.GwtCompatible;
import com.google.common.annotations.GwtIncompatible;
import com.google.common.collect.ImmutableListMultimap.Builder;
import com.google.common.collect.testing.features.CollectionSize;
import com.google.common.collect.testing.google.ListMultimapTestSuiteBuilder;
<A NAME="13"></A>import com.google.common.collect.testing.google.TestStringListMultimapGenerator;
import com.google.common.collect.testing.google.UnmodifiableCollectionTests;
import com.google.common.testing.EqualsTester;
<FONT color="#3b9c9c"><A HREF="javascript:ZweiFrames('match24164-1.html#13',3,'match24164-top.html#13',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>import com.google.common.testing.NullPointerTester;
import com.google.common.testing.SerializableTester;
import java.util.Arrays;
import java.util.Collection;
import java.util.Collections;
import java.util.Map.Entry;
import junit.framework.Test;
import junit.framework.TestCase;
import junit.framework.TestSuite;

/**
 * Tests for {@link ImmutableListMultimap}.
 *
 * @author Jared Levy
 */
@</B></FONT>GwtCompatible(emulated = true)
public class ImmutableListMultimapTest extends TestCase {
  public static class ImmutableListMultimapGenerator extends TestStringListMultimapGenerator {
    @Override
    protected ListMultimap&lt;String, String&gt; create(Entry&lt;String, String&gt;[] entries) {
      ImmutableListMultimap.Builder&lt;String, String&gt; builder = ImmutableListMultimap.builder();
      for (Entry&lt;String, String&gt; entry : entries) {
        builder.put(entry.getKey(), entry.getValue());
      }
      return builder.build();
    }
  }

  public static class ImmutableListMultimapCopyOfEntriesGenerator
      extends TestStringListMultimapGenerator {
    @Override
    protected ListMultimap&lt;String, String&gt; create(Entry&lt;String, String&gt;[] entries) {
      return ImmutableListMultimap.copyOf(Arrays.asList(entries));
    }
  }

  @GwtIncompatible // suite
  public static Test suite() {
    TestSuite suite = new TestSuite();
    suite.addTest(
        ListMultimapTestSuiteBuilder.using(new ImmutableListMultimapGenerator())
            .named(&quot;ImmutableListMultimap&quot;)
            .withFeatures(ALLOWS_ANY_NULL_QUERIES, SERIALIZABLE, KNOWN_ORDER, CollectionSize.ANY)
            .createTestSuite());
    suite.addTest(
        ListMultimapTestSuiteBuilder.using(new ImmutableListMultimapCopyOfEntriesGenerator())
            .named(&quot;ImmutableListMultimap.copyOf[Iterable&lt;Entry&gt;]&quot;)
            .withFeatures(ALLOWS_ANY_NULL_QUERIES, SERIALIZABLE, KNOWN_ORDER, CollectionSize.ANY)
            .createTestSuite());
    suite.addTestSuite(ImmutableListMultimapTest.class);
    return suite;
  }

  public void testBuilder_withImmutableEntry() {
    ImmutableListMultimap&lt;String, Integer&gt; multimap =
        new Builder&lt;String, Integer&gt;().put(Maps.immutableEntry(&quot;one&quot;, 1)).build();
    assertEquals(Arrays.asList(1), multimap.get(&quot;one&quot;));
  }

  public void testBuilder_withImmutableEntryAndNullContents() {
    Builder&lt;String, Integer&gt; builder = new Builder&lt;&gt;();
    try {
      builder.put(Maps.immutableEntry(&quot;one&quot;, (Integer) null));
      fail();
    } catch (NullPointerException expected) {
    }
    try {
      builder.put(Maps.immutableEntry((String) null, 1));
      fail();
    } catch (NullPointerException expected) {
    }
  }

  private static class StringHolder {
    String string;
  }

  public void testBuilder_withMutableEntry() {
    ImmutableListMultimap.Builder&lt;String, Integer&gt; builder = new Builder&lt;&gt;();
    final StringHolder holder = new StringHolder();
    holder.string = &quot;one&quot;;
    Entry&lt;String, Integer&gt; entry =
        new AbstractMapEntry&lt;String, Integer&gt;() {
<A NAME="15"></A>          @Override
          public String getKey() {
            return holder.string;
          <FONT color="#f52887"><A HREF="javascript:ZweiFrames('match24164-1.html#15',3,'match24164-top.html#15',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}

          @Override
          public Integer getValue() {
            return 1;
          }
        }</B></FONT>;

    builder.put(entry);
    holder.string = &quot;two&quot;;
    assertEquals(Arrays.asList(1), builder.build().get(&quot;one&quot;));
  }

  public void testBuilderPutAllIterable() {
    ImmutableListMultimap.Builder&lt;String, Integer&gt; builder = ImmutableListMultimap.builder();
    builder.putAll(&quot;foo&quot;, Arrays.asList(1, 2, 3));
    builder.putAll(&quot;bar&quot;, Arrays.asList(4, 5));
    builder.putAll(&quot;foo&quot;, Arrays.asList(6, 7));
    Multimap&lt;String, Integer&gt; multimap = builder.build();
    assertEquals(Arrays.asList(1, 2, 3, 6, 7), multimap.get(&quot;foo&quot;));
    assertEquals(Arrays.asList(4, 5), multimap.get(&quot;bar&quot;));
    assertEquals(7, multimap.size());
  }

  public void testBuilderPutAllVarargs() {
    ImmutableListMultimap.Builder&lt;String, Integer&gt; builder = ImmutableListMultimap.builder();
    builder.putAll(&quot;foo&quot;, 1, 2, 3);
    builder.putAll(&quot;bar&quot;, 4, 5);
    builder.putAll(&quot;foo&quot;, 6, 7);
    Multimap&lt;String, Integer&gt; multimap = builder.build();
    assertEquals(Arrays.asList(1, 2, 3, 6, 7), multimap.get(&quot;foo&quot;));
    assertEquals(Arrays.asList(4, 5), multimap.get(&quot;bar&quot;));
    assertEquals(7, multimap.size());
  }

  public void testBuilderPutAllMultimap() {
    Multimap&lt;String, Integer&gt; toPut = LinkedListMultimap.create();
    toPut.put(&quot;foo&quot;, 1);
    toPut.put(&quot;bar&quot;, 4);
    toPut.put(&quot;foo&quot;, 2);
    toPut.put(&quot;foo&quot;, 3);
    Multimap&lt;String, Integer&gt; moreToPut = LinkedListMultimap.create();
    moreToPut.put(&quot;foo&quot;, 6);
    moreToPut.put(&quot;bar&quot;, 5);
    moreToPut.put(&quot;foo&quot;, 7);
    ImmutableListMultimap.Builder&lt;String, Integer&gt; builder = ImmutableListMultimap.builder();
    builder.putAll(toPut);
    builder.putAll(moreToPut);
    Multimap&lt;String, Integer&gt; multimap = builder.build();
    assertEquals(Arrays.asList(1, 2, 3, 6, 7), multimap.get(&quot;foo&quot;));
    assertEquals(Arrays.asList(4, 5), multimap.get(&quot;bar&quot;));
    assertEquals(7, multimap.size());
  }

  public void testBuilderPutAllWithDuplicates() {
    ImmutableListMultimap.Builder&lt;String, Integer&gt; builder = ImmutableListMultimap.builder();
    builder.putAll(&quot;foo&quot;, 1, 2, 3);
    builder.putAll(&quot;bar&quot;, 4, 5);
    builder.putAll(&quot;foo&quot;, 1, 6, 7);
    ImmutableListMultimap&lt;String, Integer&gt; multimap = builder.build();
    assertEquals(Arrays.asList(1, 2, 3, 1, 6, 7), multimap.get(&quot;foo&quot;));
    assertEquals(Arrays.asList(4, 5), multimap.get(&quot;bar&quot;));
    assertEquals(8, multimap.size());
  }

  public void testBuilderPutWithDuplicates() {
    ImmutableListMultimap.Builder&lt;String, Integer&gt; builder = ImmutableListMultimap.builder();
    builder.putAll(&quot;foo&quot;, 1, 2, 3);
    builder.putAll(&quot;bar&quot;, 4, 5);
    builder.put(&quot;foo&quot;, 1);
    ImmutableListMultimap&lt;String, Integer&gt; multimap = builder.build();
    assertEquals(Arrays.asList(1, 2, 3, 1), multimap.get(&quot;foo&quot;));
    assertEquals(Arrays.asList(4, 5), multimap.get(&quot;bar&quot;));
    assertEquals(6, multimap.size());
  }

  public void testBuilderPutAllMultimapWithDuplicates() {
    Multimap&lt;String, Integer&gt; toPut = LinkedListMultimap.create();
    toPut.put(&quot;foo&quot;, 1);
    toPut.put(&quot;bar&quot;, 4);
    toPut.put(&quot;foo&quot;, 2);
    toPut.put(&quot;foo&quot;, 1);
    toPut.put(&quot;bar&quot;, 5);
    Multimap&lt;String, Integer&gt; moreToPut = LinkedListMultimap.create();
    moreToPut.put(&quot;foo&quot;, 6);
    moreToPut.put(&quot;bar&quot;, 4);
    moreToPut.put(&quot;foo&quot;, 7);
    moreToPut.put(&quot;foo&quot;, 2);
    ImmutableListMultimap.Builder&lt;String, Integer&gt; builder = ImmutableListMultimap.builder();
    builder.putAll(toPut);
    builder.putAll(moreToPut);
    Multimap&lt;String, Integer&gt; multimap = builder.build();
    assertEquals(Arrays.asList(1, 2, 1, 6, 7, 2), multimap.get(&quot;foo&quot;));
    assertEquals(Arrays.asList(4, 5, 4), multimap.get(&quot;bar&quot;));
    assertEquals(9, multimap.size());
  }

  public void testBuilderPutNullKey() {
    Multimap&lt;String, Integer&gt; toPut = LinkedListMultimap.create();
    toPut.put(&quot;foo&quot;, null);
    ImmutableListMultimap.Builder&lt;String, Integer&gt; builder = ImmutableListMultimap.builder();
    try {
      builder.put(null, 1);
      fail();
    } catch (NullPointerException expected) {
    }
    try {
      builder.putAll(null, Arrays.asList(1, 2, 3));
      fail();
    } catch (NullPointerException expected) {
    }
    try {
      builder.putAll(null, 1, 2, 3);
      fail();
    } catch (NullPointerException expected) {
    }
    try {
      builder.putAll(toPut);
      fail();
    } catch (NullPointerException expected) {
    }
  }

  public void testBuilderPutNullValue() {
    Multimap&lt;String, Integer&gt; toPut = LinkedListMultimap.create();
    toPut.put(null, 1);
    ImmutableListMultimap.Builder&lt;String, Integer&gt; builder = ImmutableListMultimap.builder();
    try {
      builder.put(&quot;foo&quot;, null);
      fail();
    } catch (NullPointerException expected) {
    }
    try {
      builder.putAll(&quot;foo&quot;, Arrays.asList(1, null, 3));
      fail();
    } catch (NullPointerException expected) {
    }
    try {
      builder.putAll(&quot;foo&quot;, 1, null, 3);
      fail();
    } catch (NullPointerException expected) {
    }
    try {
      builder.putAll(toPut);
      fail();
    } catch (NullPointerException expected) {
    }
  }

  public void testBuilderOrderKeysBy() {
    ImmutableListMultimap.Builder&lt;String, Integer&gt; builder = ImmutableListMultimap.builder();
    builder.put(&quot;b&quot;, 3);
    builder.put(&quot;d&quot;, 2);
    builder.put(&quot;a&quot;, 5);
    builder.orderKeysBy(Collections.reverseOrder());
<A NAME="4"></A>    builder.put(&quot;c&quot;, 4);
    builder.put(&quot;a&quot;, 2);
    builder.put(&quot;b&quot;, 6);
    <FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match24164-1.html#4',3,'match24164-top.html#4',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>ImmutableListMultimap&lt;String, Integer&gt; multimap = builder.build();
    assertThat(multimap.keySet()).containsExactly(&quot;d&quot;, &quot;c&quot;, &quot;b&quot;, &quot;a&quot;).inOrder();
    assertThat(multimap.values()).containsExactly(2, 4, 3, 6, 5, 2).inOrder();
    assertThat(multimap.get(&quot;a&quot;)).containsExactly(5, 2).inOrder();
    assertThat(multimap.get(&quot;b&quot;)).containsExactly(3, 6).inOrder();
  }

  public void testBuilderOrderKeys</B></FONT>ByDuplicates() {
    ImmutableListMultimap.Builder&lt;String, Integer&gt; builder = ImmutableListMultimap.builder();
    builder.put(&quot;bb&quot;, 3);
<A NAME="14"></A>    builder.put(&quot;d&quot;, 2);
    builder.put(&quot;a&quot;, 5);
    builder.orderKeysBy(
        <FONT color="#842dce"><A HREF="javascript:ZweiFrames('match24164-1.html#14',3,'match24164-top.html#14',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>new Ordering&lt;String&gt;() {
          @Override
          public int compare(String left, String right) {
            return left.length</B></FONT>() - right.length();
          }
        });
<A NAME="3"></A>    builder.put(&quot;cc&quot;, 4);
    builder.put(&quot;a&quot;, 2);
    builder.put(&quot;bb&quot;, 6);
    <FONT color="#53858b"><A HREF="javascript:ZweiFrames('match24164-1.html#3',3,'match24164-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>ImmutableListMultimap&lt;String, Integer&gt; multimap = builder.build();
    assertThat(multimap.keySet()).containsExactly(&quot;d&quot;, &quot;a&quot;, &quot;bb&quot;, &quot;cc&quot;).inOrder();
    assertThat(multimap.values()).containsExactly(2, 5, 2, 3, 6, 4).inOrder();
    assertThat(multimap.get(&quot;a&quot;)).containsExactly(5, 2).inOrder();
    assertThat(multimap.get(&quot;bb&quot;)).containsExactly(3, 6).inOrder();
  }

  public void testBuilderO</B></FONT>rderValuesBy() {
    ImmutableListMultimap.Builder&lt;String, Integer&gt; builder = ImmutableListMultimap.builder();
    builder.put(&quot;b&quot;, 3);
    builder.put(&quot;d&quot;, 2);
    builder.put(&quot;a&quot;, 5);
    builder.orderValuesBy(Collections.reverseOrder());
    builder.put(&quot;c&quot;, 4);
<A NAME="6"></A>    builder.put(&quot;a&quot;, 2);
    builder.put(&quot;b&quot;, 6);
    ImmutableListMultimap&lt;String, Integer&gt; multimap = builder.build();
    <FONT color="#8c8774"><A HREF="javascript:ZweiFrames('match24164-1.html#6',3,'match24164-top.html#6',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>assertThat(multimap.keySet()).containsExactly(&quot;b&quot;, &quot;d&quot;, &quot;a&quot;, &quot;c&quot;).inOrder();
    assertThat(multimap.values()).containsExactly(6, 3, 2, 5, 2, 4).inOrder();
    assertThat(multimap.get(&quot;a&quot;)).containsExactly(5, 2).inOrder();
<A NAME="11"></A>    assertThat(multimap.get(&quot;b&quot;)).containsExactly(6, 3).inOrder();
  }

  public void testBuilderOrderKey</B></FONT>sAndValuesBy() <FONT color="#b041ff"><A HREF="javascript:ZweiFrames('match24164-1.html#11',3,'match24164-top.html#11',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>{
    ImmutableListMultimap.Builder&lt;String, Integer&gt; builder = ImmutableListMultimap.builder();
    builder.put(&quot;b&quot;, 3);
    builder.put(&quot;d&quot;, 2);
    builder.put(&quot;a&quot;, 5);
    builder.orderKeysBy(Collections.reverseOrder());
    builder.orderValuesBy(Collections.reverseOrder());
    builder.put(&quot;c&quot;, 4);
<A NAME="8"></A>    builder.put(&quot;a&quot;, 2);
    builder.put</B></FONT>(&quot;b&quot;, 6);
    ImmutableListMultimap&lt;String, Integer&gt; multimap = builder.build();
    assertThat(<FONT color="#c58917"><A HREF="javascript:ZweiFrames('match24164-1.html#8',3,'match24164-top.html#8',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>multimap.keySet()).containsExactly(&quot;d&quot;, &quot;c&quot;, &quot;b&quot;, &quot;a&quot;).inOrder();
    assertThat(multimap.values()).containsExactly(2, 4, 6, 3, 5, 2).inOrder();
    assertThat(multimap.get(&quot;a&quot;)).containsExactly(5, 2).inOrder();
    assertThat(multimap.get(&quot;b&quot;)).containsExactly(6, 3).inOrder();
  }

  public voi</B></FONT>d testCopyOf() {
    ArrayListMultimap&lt;String, Integer&gt; input = ArrayListMultimap.create();
    input.put(&quot;foo&quot;, 1);
    input.put(&quot;bar&quot;, 2);
    input.put(&quot;foo&quot;, 3);
    Multimap&lt;String, Integer&gt; multimap = ImmutableListMultimap.copyOf(input);
    assertEquals(multimap, input);
    assertEquals(input, multimap);
  }

  public void testCopyOfWithDuplicates() {
    ArrayListMultimap&lt;String, Integer&gt; input = ArrayListMultimap.create();
    input.put(&quot;foo&quot;, 1);
    input.put(&quot;bar&quot;, 2);
    input.put(&quot;foo&quot;, 3);
    input.put(&quot;foo&quot;, 1);
    Multimap&lt;String, Integer&gt; multimap = ImmutableListMultimap.copyOf(input);
    assertEquals(multimap, input);
    assertEquals(input, multimap);
  }

  public void testCopyOfEmpty() {
    ArrayListMultimap&lt;String, Integer&gt; input = ArrayListMultimap.create();
    Multimap&lt;String, Integer&gt; multimap = ImmutableListMultimap.copyOf(input);
    assertEquals(multimap, input);
    assertEquals(input, multimap);
  }

  public void testCopyOfImmutableListMultimap() {
    Multimap&lt;String, Integer&gt; multimap = createMultimap();
    assertSame(multimap, ImmutableListMultimap.copyOf(multimap));
  }

  public void testCopyOfNullKey() {
    ArrayListMultimap&lt;String, Integer&gt; input = ArrayListMultimap.create();
    input.put(null, 1);
    try {
      ImmutableListMultimap.copyOf(input);
      fail();
    } catch (NullPointerException expected) {
    }
  }

  public void testCopyOfNullValue() {
    ArrayListMultimap&lt;String, Integer&gt; input = ArrayListMultimap.create();
    input.putAll(&quot;foo&quot;, Arrays.asList(1, null, 3));
    try {
      ImmutableListMultimap.copyOf(input);
      fail();
    } catch (NullPointerException expected) {
    }
  }

  // TODO(b/172823566): Use mainline testToImmutableListMultimap once CollectorTester is usable.
  public void testToImmutableListMultimap_java7_combine() {
    ImmutableListMultimap.Builder&lt;String, Integer&gt; zis =
        ImmutableListMultimap.&lt;String, Integer&gt;builder().put(&quot;a&quot;, 1).put(&quot;b&quot;, 2);
<A NAME="2"></A>    ImmutableListMultimap.Builder&lt;String, Integer&gt; zat =
        ImmutableListMultimap.&lt;String, Integer&gt;builder().put(&quot;a&quot;, 3).put(&quot;c&quot;, 4);
    ImmutableListMultimap&lt;String, Integer&gt; multimap = zis.combine(zat).build();
    <FONT color="#980517"><A HREF="javascript:ZweiFrames('match24164-1.html#2',3,'match24164-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>assertThat(multimap.keySet()).containsExactly(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;).inOrder();
    assertThat(multimap.values()).containsExactly(1, 3, 2, 4).inOrder();
    assertThat(multimap.get(&quot;a&quot;)).containsExactly(1, 3).inOrder();
    assertThat(multimap.get(&quot;b&quot;)).containsExactly(2);
    assertThat(multimap.get(&quot;c&quot;)).containsExactly(4);
  }

  public void testEmptyM</B></FONT>ultimapReads() {
    Multimap&lt;String, Integer&gt; multimap = ImmutableListMultimap.of();
<A NAME="0"></A>    assertFalse(multimap.containsKey(&quot;foo&quot;));
    assertFalse(multimap.containsValue(1));
    assertFalse(multimap.containsEntry(&quot;foo&quot;, 1));
    <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match24164-1.html#0',3,'match24164-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>assertTrue(multimap.entries().isEmpty());
    assertTrue(multimap.equals(ArrayListMultimap.create()));
    assertEquals(Collections.emptyList(), multimap.get(&quot;foo&quot;));
    assertEquals(0, multimap.hashCode());
    assertTrue(multimap.isEmpty());
    assertEquals(HashMultiset.create(), multimap.keys());
    assertEquals(Collections.emptySet(), multimap.keySet());
    assertEquals(0, multimap.size());
    assertTrue(multimap.values().isEmpty());
    assertEquals(&quot;{}&quot;, multimap.toString());
  }

  public void testEmptyMu</B></FONT>ltimapWrites() {
    Multimap&lt;String, Integer&gt; multimap = ImmutableListMultimap.of();
    UnmodifiableCollectionTests.assertMultimapIsUnmodifiable(multimap, &quot;foo&quot;, 1);
  }

  private Multimap&lt;String, Integer&gt; createMultimap() {
    return ImmutableListMultimap.&lt;String, Integer&gt;builder()
        .put(&quot;foo&quot;, 1)
        .put(&quot;bar&quot;, 2)
        .put(&quot;foo&quot;, 3)
        .build();
  }

<A NAME="1"></A>  public void testMultimapReads() {
    Multimap&lt;String, Integer&gt; multimap = createMultimap();
    assertTrue(multimap.containsKey(&quot;foo&quot;));
    <FONT color="#f63526"><A HREF="javascript:ZweiFrames('match24164-1.html#1',3,'match24164-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>assertFalse(multimap.containsKey(&quot;cat&quot;));
    assertTrue(multimap.containsValue(1));
    assertFalse(multimap.containsValue(5));
    assertTrue(multimap.containsEntry(&quot;foo&quot;, 1));
    assertFalse(multimap.containsEntry(&quot;cat&quot;, 1));
    assertFalse(multimap.containsEntry(&quot;foo&quot;, 5));
    assertFalse(multimap.entries().isEmpty());
    assertEquals(3, multimap.size());
    assertFalse(multimap.isEmpty());
    assertEquals(&quot;{foo=[1, 3], bar=[2]}&quot;, multimap.toString());
  }

  public void testMu</B></FONT>ltimapWrites() {
    Multimap&lt;String, Integer&gt; multimap = createMultimap();
    UnmodifiableCollectionTests.assertMultimapIsUnmodifiable(multimap, &quot;bar&quot;, 2);
  }

  public void testMultimapEquals() {
    Multimap&lt;String, Integer&gt; multimap = createMultimap();
    Multimap&lt;String, Integer&gt; arrayListMultimap = ArrayListMultimap.create();
    arrayListMultimap.putAll(&quot;foo&quot;, Arrays.asList(1, 3));
    arrayListMultimap.put(&quot;bar&quot;, 2);

    new EqualsTester()
        .addEqualityGroup(
            multimap,
            createMultimap(),
            arrayListMultimap,
            ImmutableListMultimap.&lt;String, Integer&gt;builder()
                .put(&quot;bar&quot;, 2)
                .put(&quot;foo&quot;, 1)
<A NAME="7"></A>                .put(&quot;foo&quot;, 3)
                .build())
        .addEqualityGroup(
            <FONT color="#38a4a5"><A HREF="javascript:ZweiFrames('match24164-1.html#7',3,'match24164-top.html#7',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>ImmutableListMultimap.&lt;String, Integer&gt;builder()
                .put(&quot;bar&quot;, 2)
                .put(&quot;foo&quot;, 3)
                .put(&quot;foo&quot;, 1)
                .build())
        .addEqualityGroup(
            ImmutableListMultimap.&lt;String, Integer&gt;builder()
                .put(&quot;foo&quot;, 2)
                .put(&quot;foo&quot;, 3)
                .put(&quot;foo&quot;, 1)
                .build())
        .addEqualityGroup(
            ImmutableListMultimap.&lt;String, Integer&gt;builder().put(&quot;bar&quot;, 2).put(&quot;foo&quot;, 3).build())
        .testEquals();
  }

  public</B></FONT> void testOf() {
    assertMultimapEquals(ImmutableListMultimap.of(&quot;one&quot;, 1), &quot;one&quot;, 1);
    assertMultimapEquals(ImmutableListMultimap.of(&quot;one&quot;, 1, &quot;two&quot;, 2), &quot;one&quot;, 1, &quot;two&quot;, 2);
    assertMultimapEquals(
        ImmutableListMultimap.of(&quot;one&quot;, 1, &quot;two&quot;, 2, &quot;three&quot;, 3), &quot;one&quot;, 1, &quot;two&quot;, 2, &quot;three&quot;, 3);
    assertMultimapEquals(
        ImmutableListMultimap.of(&quot;one&quot;, 1, &quot;two&quot;, 2, &quot;three&quot;, 3, &quot;four&quot;, 4),
        &quot;one&quot;,
        1,
        &quot;two&quot;,
        2,
        &quot;three&quot;,
        3,
        &quot;four&quot;,
        4);
    assertMultimapEquals(
        ImmutableListMultimap.of(&quot;one&quot;, 1, &quot;two&quot;, 2, &quot;three&quot;, 3, &quot;four&quot;, 4, &quot;five&quot;, 5),
        &quot;one&quot;,
        1,
        &quot;two&quot;,
        2,
        &quot;three&quot;,
        3,
        &quot;four&quot;,
        4,
        &quot;five&quot;,
        5);
  }

  public void testInverse() {
    assertEquals(
<A NAME="10"></A>        ImmutableListMultimap.&lt;Integer, String&gt;of(),
        ImmutableListMultimap.&lt;String, Integer&gt;of().inverse());
    assertEquals(ImmutableListMultimap.of(1, &quot;one&quot;), ImmutableListMultimap.of(&quot;one&quot;, 1).inverse());
    <FONT color="#ad5910"><A HREF="javascript:ZweiFrames('match24164-1.html#10',3,'match24164-top.html#10',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>assertEquals(
        ImmutableListMultimap.of(1, &quot;one&quot;, 2, &quot;two&quot;),
        ImmutableListMultimap.of(&quot;one&quot;, 1, &quot;two&quot;, 2).inverse());
    assertEquals(
        ImmutableListMultimap.of(&quot;of&quot;, 'o', &quot;of&quot;, 'f', &quot;to&quot;, 't', &quot;to&quot;, 'o').inverse(),
        ImmutableListMultimap.of('o', &quot;of&quot;, 'f', &quot;of&quot;, 't', &quot;to&quot;, 'o', &quot;to&quot;));
    assertEquals(
        ImmutableListMultimap.of('f', &quot;foo&quot;, 'o', &quot;foo&quot;, 'o', &quot;foo&quot;),
        ImmutableListMultimap.of(&quot;foo&quot;, 'f', &quot;foo&quot;, 'o', &quot;foo&quot;, 'o').inverse());
  }
<A NAME="9"></A>
  public void testInverseM</B></FONT>inimizesWork() {
    ImmutableListMultimap&lt;String, Character&gt; multimap =
        <FONT color="#83a33a"><A HREF="javascript:ZweiFrames('match24164-1.html#9',3,'match24164-top.html#9',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>ImmutableListMultimap.&lt;String, Character&gt;builder()
            .put(&quot;foo&quot;, 'f')
            .put(&quot;foo&quot;, 'o')
            .put(&quot;foo&quot;, 'o')
            .put(&quot;poo&quot;, 'p')
            .put(&quot;poo&quot;, 'o')
            .put(&quot;poo&quot;, 'o')
            .build();
    assertSame(multimap.inverse(), multimap.inverse());
    assertSame(multimap, multimap.inverse().inverse());
  }

  private static &lt;K, V</B></FONT>&gt; void assertMultimapEquals(
      Multimap&lt;K, V&gt; multimap, Object... alternatingKeysAndValues) {
    assertEquals(multimap.size(), alternatingKeysAndValues.length / 2);
    int i = 0;
    for (Entry&lt;K, V&gt; entry : multimap.entries()) {
<A NAME="5"></A>      assertEquals(alternatingKeysAndValues[i++], entry.getKey());
      assertEquals(alternatingKeysAndValues[i++], entry.getValue());
    }
  <FONT color="#151b8d"><A HREF="javascript:ZweiFrames('match24164-1.html#5',3,'match24164-top.html#5',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}

  @GwtIncompatible // SerializableTester
  public void testSerialization() {
    Multimap&lt;String, Integer&gt; multimap = createMultimap();
    SerializableTester.reserializeAndAssert(multimap);
    assertEquals(multimap.size(), SerializableTester.reserialize(multimap).size());
    SerializableTester.reserializeAndAssert(multimap.get(&quot;foo&quot;));
<A NAME="12"></A>    LenientSerializableTester.reserializeAndAssertLenient(multimap.keySet());
    LenientSerializableTester.reserializeAndAssertLenient(multimap.keys());
    SerializableTester.reserializeAndAssert(multimap.asMap</B></FONT>());
    Collection&lt;Integer&gt; valuesCopy = <FONT color="#571b7e"><A HREF="javascript:ZweiFrames('match24164-1.html#12',3,'match24164-top.html#12',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>SerializableTester.reserialize(multimap.values());
    assertEquals(HashMultiset.create(multimap.values()), HashMultiset.create(valuesCopy));
  }

  @GwtIncompatible // SerializableTester
  public void testEmptySerialization() {
    Multimap&lt;String, Integer&gt; multimap = ImmutableListMultimap.of()</B></FONT>;
    assertSame(multimap, SerializableTester.reserialize(multimap));
  }

  @GwtIncompatible // reflection
  public void testNulls() throws Exception {
    NullPointerTester tester = new NullPointerTester();
    tester.testAllPublicStaticMethods(ImmutableListMultimap.class);
    tester.ignore(ImmutableListMultimap.class.getMethod(&quot;get&quot;, Object.class));
    tester.testAllPublicInstanceMethods(ImmutableListMultimap.of());
    tester.testAllPublicInstanceMethods(ImmutableListMultimap.of(&quot;a&quot;, 1));
  }
}
</PRE>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>ElementOrderTest.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<HR>
<PRE>
/*
 * Copyright (C) 2016 The Guava Authors
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
<A NAME="13"></A>
package com.google.common.graph;

<FONT color="#3b9c9c"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match24164-0.html#13',2,'match24164-top.html#13',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>import static com.google.common.base.Preconditions.checkNotNull;
import static com.google.common.graph.ElementOrder.insertion;
import static com.google.common.graph.ElementOrder.unordered;
import static com.google.common.truth.Truth.assertThat;

import com.google.common.collect.Ordering;
import java.util.Comparator;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.junit.runners.JUnit4;

/** Tests for ordering the elements of graphs. */
@</B></FONT>RunWith(JUnit4.class)
public final class ElementOrderTest {
  // Node order tests
<A NAME="12"></A>
  @Test
  public void nodeOrder_none() {
    MutableGraph&lt;Integer&gt; graph = <FONT color="#571b7e"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match24164-0.html#12',2,'match24164-top.html#12',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>GraphBuilder.directed().nodeOrder(unordered()).build();

    assertThat(graph.nodeOrder()).isEqualTo(unordered());
  }
<A NAME="8"></A>
  @Test
  public void nodeOrder_insertion() {
    MutableGraph&lt;Integer&gt; graph = <FONT color="#c58917"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match24164-0.html#8',2,'match24164-top.html#8',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>GraphBuilder.directed().nodeOrder(insertion()).build()</B></FONT>;

    addNodes(graph);

    assertThat(graph.nodeOrder()).isEqualTo(insertion());
    assertThat(graph.nodes()).containsExactly(3, 1, 4).inOrder();
  }
<A NAME="11"></A>
  // The default ordering is INSERTION unless otherwise specified.
  @Test</B></FONT>
  public void nodeOrder_default() <FONT color="#b041ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match24164-0.html#11',2,'match24164-top.html#11',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>{
    MutableGraph&lt;Integer&gt; graph = GraphBuilder.directed().build();

    addNodes(graph);
<A NAME="5"></A>
    assertThat(graph.nodeOrder()).isEqualTo(insertion());
    assertThat(graph.nodes</B></FONT>()).containsExactly(3, 1, 4).inOrder();
  <FONT color="#151b8d"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match24164-0.html#5',2,'match24164-top.html#5',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>}

  @Test
  public void nodeOrder_natural() {
    MutableGraph&lt;Integer&gt; graph =
        GraphBuilder.directed().nodeOrder(ElementOrder.&lt;Integer&gt;natural()).build();

    addNodes(graph);

    assertThat(graph.nodeOrder()).isEqualTo(ElementOrder.sorted(Ordering.&lt;Integer&gt;natural()));
    assertThat(graph.nodes</B></FONT>()).containsExactly(1, 3, 4).inOrder();
  }
<A NAME="4"></A>
  @Test
  public void nodeOrder_sorted() {
    <FONT color="#6cc417"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match24164-0.html#4',2,'match24164-top.html#4',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>MutableGraph&lt;Integer&gt; graph =
        GraphBuilder.directed()
            .nodeOrder(ElementOrder.sorted(Ordering.&lt;Integer&gt;natural().reverse()))
            .build();

    addNodes(graph);

    assertThat(graph.nodeOrder())
        .isEqualTo(ElementOrder.sorted(Ordering.&lt;Integer&gt;natural().reverse()));
    assertThat(graph.nodes()).containsExactly(4, 3, 1).inOrder();
  }

  // Edge order tests

<A NAME="10"></A>  @Test</B></FONT>
  public void edgeOrder_none() {
    MutableNetwork&lt;Integer, String&gt; network =
        <FONT color="#ad5910"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match24164-0.html#10',2,'match24164-top.html#10',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>NetworkBuilder.directed().edgeOrder(unordered()).build();

    assertThat(network.edgeOrder()).isEqualTo(unordered());
    assertThat(network.nodeOrder()).isEqualTo(insertion()); // default
  }
<A NAME="3"></A>
  @Test</B></FONT>
  public void edgeOrder_insertion() {
    <FONT color="#53858b"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match24164-0.html#3',2,'match24164-top.html#3',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>MutableNetwork&lt;Integer, String&gt; network =
        NetworkBuilder.directed().edgeOrder(insertion()).build();

    addEdges(network);

    assertThat(network.edgeOrder()).isEqualTo(ElementOrder.insertion());
    assertThat(network.edges()).containsExactly(&quot;i&quot;, &quot;e&quot;, &quot;p&quot;).inOrder();
    assertThat(network.nodeOrder()).isEqualTo(ElementOrder.insertion()); // default
  }

<A NAME="6"></A>  // The default ordering is INSERTION unless otherwise specified.
  @Test</B></FONT>
  public void edgeOrder_default() {
    MutableNetwork&lt;Integer, String&gt; network = <FONT color="#8c8774"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match24164-0.html#6',2,'match24164-top.html#6',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>NetworkBuilder.directed().build();

    addEdges(network);

    assertThat(network.edgeOrder()).isEqualTo(ElementOrder.insertion());
    assertThat(network.edges()).containsExactly(&quot;i&quot;, &quot;e&quot;, &quot;p&quot;).inOrder();
    assertThat(network.nodeOrder()).isEqualTo(ElementOrder.insertion()); // default
  }

<A NAME="2"></A>  @Test</B></FONT>
  public void edgeOrder_natural() {
    MutableNetwork&lt;Integer, String&gt; network =
        <FONT color="#980517"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match24164-0.html#2',2,'match24164-top.html#2',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>NetworkBuilder.directed().edgeOrder(ElementOrder.&lt;String&gt;natural()).build();

    addEdges(network);

    assertThat(network.edgeOrder()).isEqualTo(ElementOrder.sorted(Ordering.&lt;String&gt;natural()));
    assertThat(network.edges()).containsExactly(&quot;e&quot;, &quot;i&quot;, &quot;p&quot;).inOrder();
    assertThat(network.nodeOrder()).isEqualTo(insertion()); // default
  }

<A NAME="1"></A>  @Test</B></FONT>
  public void edgeOrder_sorted() {
    MutableNetwork&lt;Integer, String&gt; network =
        <FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match24164-0.html#1',2,'match24164-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>NetworkBuilder.directed()
            .edgeOrder(ElementOrder.sorted(Ordering.&lt;String&gt;natural().reverse()))
            .build();

    addEdges(network);

    assertThat(network.edgeOrder())
        .isEqualTo(ElementOrder.sorted(Ordering.&lt;String&gt;natural().reverse()));
    assertThat(network.edges()).containsExactly(&quot;p&quot;, &quot;i&quot;, &quot;e&quot;).inOrder();
    assertThat(network.nodeOrder()).isEqualTo(ElementOrder.insertion()); // default
  }

  // Combined node and edge order tests

<A NAME="0"></A>  @Test</B></FONT>
  public void nodeOrderUnorderedandEdgesSorted() {
    MutableNetwork&lt;Integer, String&gt; network =
        <FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match24164-0.html#0',2,'match24164-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>NetworkBuilder.directed()
            .nodeOrder(unordered())
            .edgeOrder(ElementOrder.sorted(Ordering.&lt;String&gt;natural().reverse()))
            .build();

    addEdges(network);

    assertThat(network.edgeOrder())
        .isEqualTo(ElementOrder.sorted(Ordering.&lt;String&gt;natural().reverse()));
    assertThat(network.edges()).containsExactly(&quot;p&quot;, &quot;i&quot;, &quot;e&quot;).inOrder();
    assertThat(network.nodeOrder()).isEqualTo(unordered());
    assertThat(network.nodes()).containsExactly(4, 1, 3);
  }

  // Sorting of user-defined classes

<A NAME="14"></A>  @Test</B></FONT>
  public void customComparator() {
    Comparator&lt;NonComparableSuperClass&gt; comparator =
        <FONT color="#842dce"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match24164-0.html#14',2,'match24164-top.html#14',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>new Comparator&lt;NonComparableSuperClass&gt;() {
          @Override
          public int compare(NonComparableSuperClass left, NonComparableSuperClass right) {
            return left.value.compareTo</B></FONT>(right.value);
          }
        };

    MutableGraph&lt;NonComparableSuperClass&gt; graph =
        GraphBuilder.undirected().nodeOrder(ElementOrder.sorted(comparator)).build();

    NonComparableSuperClass node1 = new NonComparableSuperClass(1);
    NonComparableSuperClass node3 = new NonComparableSuperClass(3);
<A NAME="9"></A>    NonComparableSuperClass node5 = new NonComparableSuperClass(5);
    NonComparableSuperClass node7 = new NonComparableSuperClass(7);

    <FONT color="#83a33a"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match24164-0.html#9',2,'match24164-top.html#9',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>graph.addNode(node1);
    graph.addNode(node7);
    graph.addNode(node5);
    graph.addNode(node3);

    assertThat(graph.nodeOrder().comparator()).isEqualTo(comparator);
    assertThat(graph.nodes()).containsExactly(node1, node3, node5, node7).inOrder();
  }

  @Test</B></FONT>
  public void customComparable() {
    MutableGraph&lt;ComparableSubClass&gt; graph =
        GraphBuilder.undirected().nodeOrder(ElementOrder.&lt;ComparableSubClass&gt;natural()).build();

    ComparableSubClass node2 = new ComparableSubClass(2);
    ComparableSubClass node4 = new ComparableSubClass(4);
<A NAME="7"></A>    ComparableSubClass node6 = new ComparableSubClass(6);
    ComparableSubClass node8 = new ComparableSubClass(8);

    <FONT color="#38a4a5"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match24164-0.html#7',2,'match24164-top.html#7',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>graph.addNode(node4);
    graph.addNode(node2);
    graph.addNode(node6);
    graph.addNode(node8);

    assertThat(graph.nodeOrder().comparator()).isEqualTo(Ordering.natural());
    assertThat(graph.nodes()).containsExactly(node2, node4, node6, node8).inOrder();
  }

  private </B></FONT>static void addNodes(MutableGraph&lt;Integer&gt; graph) {
    graph.addNode(3);
    graph.addNode(1);
    graph.addNode(4);
  }

  private static void addEdges(MutableNetwork&lt;Integer, String&gt; network) {
    network.addEdge(3, 1, &quot;i&quot;);
    network.addEdge(1, 4, &quot;e&quot;);
    network.addEdge(4, 3, &quot;p&quot;);
  }

  private static class NonComparableSuperClass {
    final Integer value;
<A NAME="15"></A>
    NonComparableSuperClass(Integer value) {
      this.value = checkNotNull(value);
    <FONT color="#f52887"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match24164-0.html#15',2,'match24164-top.html#15',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>}

    @Override
    public String toString() {
      return &quot;value=&quot; + value;
    }
  }</B></FONT>

  @SuppressWarnings(&quot;ComparableType&quot;)
  private static class ComparableSubClass extends NonComparableSuperClass
      implements Comparable&lt;NonComparableSuperClass&gt; {

    ComparableSubClass(Integer value) {
      super(value);
    }

    @Override
    public int compareTo(NonComparableSuperClass other) {
      return value.compareTo(other.value);
    }
  }
}
</PRE>
</div>
  </div>
</body>
</html>
