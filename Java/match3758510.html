<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for PgDatabaseTable.java &amp; NodeAllocationResult.java</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for PgDatabaseTable.java &amp; NodeAllocationResult.java
      </h3>
<h1 align="center">
        5.1%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>PgDatabaseTable.java (19.148935%)<th>NodeAllocationResult.java (2.9508197%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(24-35)<td><a href="#" name="0">(29-44)</a><td align="center"><font color="#ff0000">9</font>
</td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>PgDatabaseTable.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 <a name="0"></a>
2 package io.crate.metadata.pgcatalog;
3 <font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>import static io.crate.types.DataTypes.BOOLEAN;
4 import static io.crate.types.DataTypes.INTEGER;
5 import static io.crate.types.DataTypes.STRING;
6 import static io.crate.types.DataTypes.STRING_ARRAY;
7 import io.crate.Constants;
8 import io.crate.metadata.RelationName;
9 import io.crate.metadata.SystemTable;
10 public class PgDatabaseTable {
11     public static final RelationName NAME = new RelationName(PgCatalogSchemaInfo.NAME, "pg_database")</b></font>;
12     public static SystemTable&lt;Void&gt; create() {
13         return SystemTable.&lt;Void&gt;builder(NAME)
14             .add("oid", INTEGER, c -&gt; 0)
15             .add("datname", STRING, c -&gt; Constants.DB_NAME)
16             .add("datdba", INTEGER, c -&gt; 1)
17             .add("encoding", INTEGER, c -&gt; 6)
18             .add("datcollate", STRING, c -&gt; "en_US.UTF-8")
19             .add("datctype", STRING, c -&gt; "en_US.UTF-8")
20             .add("datistemplate", BOOLEAN,c -&gt; false)
21             .add("datallowconn", BOOLEAN, c -&gt; true)
22             .add("datconnlimit", INTEGER,c -&gt; -1)             .add("datlastsysoid", INTEGER, c -&gt; null)
23             .add("datfrozenxid", INTEGER, c -&gt; null)
24             .add("datminmxid", INTEGER, c -&gt; null)
25             .add("dattablespace", INTEGER, c -&gt; null)
26             .add("datacl", STRING_ARRAY, c -&gt; null)
27             .build();
28     }
29 }
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>NodeAllocationResult.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 package org.elasticsearch.cluster.routing.allocation;
2 import org.elasticsearch.ElasticsearchException;
3 import org.elasticsearch.cluster.node.DiscoveryNode;
4 import org.elasticsearch.cluster.routing.allocation.decider.Decision;
5 import javax.annotation.Nullable;
6 <a name="0"></a>import org.elasticsearch.common.io.stream.StreamInput;
7 import org.elasticsearch.common.io.stream.StreamOutput;
8 import org.elasticsearch.common.io.stream.Writeable;
9 <font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>import org.elasticsearch.common.unit.ByteSizeValue;
10 import org.elasticsearch.common.xcontent.ToXContentFragment;
11 import org.elasticsearch.common.xcontent.ToXContentObject;
12 import org.elasticsearch.common.xcontent.XContentBuilder;
13 import java.io.IOException;
14 import java.util.Comparator;
15 import static org.elasticsearch.cluster.routing.allocation.AbstractAllocationDecision.discoveryNodeToXContent;
16 public class NodeAllocationResult implements ToXContentObject, Writeable, Comparable&lt;NodeAllocationResult&gt; {
17     private static final Comparator&lt;NodeAllocationResult&gt; NODE_RESULT_COMPARATOR =</b></font>
18         Comparator.comparing(NodeAllocationResult::getNodeDecision)
19             .thenComparingInt(NodeAllocationResult::getWeightRanking)
20             .thenComparing(r -&gt; r.getNode().getId());
21     private final DiscoveryNode node;
22     @Nullable
23     private final ShardStoreInfo shardStoreInfo;
24     private final AllocationDecision nodeDecision;
25     @Nullable
26     private final Decision canAllocateDecision;
27     private final int weightRanking;
28     public NodeAllocationResult(DiscoveryNode node, ShardStoreInfo shardStoreInfo, @Nullable Decision decision) {
29         this.node = node;
30         this.shardStoreInfo = shardStoreInfo;
31         this.canAllocateDecision = decision;
32         this.nodeDecision = decision != null ? AllocationDecision.fromDecisionType(canAllocateDecision.type()) : AllocationDecision.NO;
33         this.weightRanking = 0;
34     }
35     public NodeAllocationResult(DiscoveryNode node, AllocationDecision nodeDecision, Decision canAllocate, int weightRanking) {
36         this.node = node;
37         this.shardStoreInfo = null;
38         this.canAllocateDecision = canAllocate;
39         this.nodeDecision = nodeDecision;
40         this.weightRanking = weightRanking;
41     }
42     public NodeAllocationResult(DiscoveryNode node, Decision decision, int weightRanking) {
43         this.node = node;
44         this.shardStoreInfo = null;
45         this.canAllocateDecision = decision;
46         this.nodeDecision = AllocationDecision.fromDecisionType(decision.type());
47         this.weightRanking = weightRanking;
48     }
49     public NodeAllocationResult(StreamInput in) throws IOException {
50         node = new DiscoveryNode(in);
51         shardStoreInfo = in.readOptionalWriteable(ShardStoreInfo::new);
52         canAllocateDecision = in.readOptionalWriteable(Decision::readFrom);
53         nodeDecision = AllocationDecision.readFrom(in);
54         weightRanking = in.readVInt();
55     }
56     @Override
57     public void writeTo(StreamOutput out) throws IOException {
58         node.writeTo(out);
59         out.writeOptionalWriteable(shardStoreInfo);
60         out.writeOptionalWriteable(canAllocateDecision);
61         nodeDecision.writeTo(out);
62         out.writeVInt(weightRanking);
63     }
64     public DiscoveryNode getNode() {
65         return node;
66     }
67     @Nullable
68     public ShardStoreInfo getShardStoreInfo() {
69         return shardStoreInfo;
70     }
71     @Nullable
72     public Decision getCanAllocateDecision() {
73         return canAllocateDecision;
74     }
75     public boolean isWeightRanked() {
76         return weightRanking &gt; 0;
77     }
78     public int getWeightRanking() {
79         return weightRanking;
80     }
81     public AllocationDecision getNodeDecision() {
82         return nodeDecision;
83     }
84     @Override
85     public XContentBuilder toXContent(XContentBuilder builder, Params params) throws IOException {
86         builder.startObject();
87         {
88             discoveryNodeToXContent(node, false, builder);
89             builder.field("node_decision", nodeDecision);
90             if (shardStoreInfo != null) {
91                 shardStoreInfo.toXContent(builder, params);
92             }
93             if (isWeightRanked()) {
94                 builder.field("weight_ranking", getWeightRanking());
95             }
96             if (canAllocateDecision != null &amp;&amp; canAllocateDecision.getDecisions().isEmpty() == false) {
97                 builder.startArray("deciders");
98                 canAllocateDecision.toXContent(builder, params);
99                 builder.endArray();
100             }
101         }
102         builder.endObject();
103         return builder;
104     }
105     @Override
106     public int compareTo(NodeAllocationResult other) {
107         return NODE_RESULT_COMPARATOR.compare(this, other);
108     }
109     public static final class ShardStoreInfo implements ToXContentFragment, Writeable {
110         private final boolean inSync;
111         @Nullable
112         private final String allocationId;
113         private final long matchingBytes;
114         @Nullable
115         private final Exception storeException;
116         public ShardStoreInfo(String allocationId, boolean inSync, Exception storeException) {
117             this.inSync = inSync;
118             this.allocationId = allocationId;
119             this.matchingBytes = -1;
120             this.storeException = storeException;
121         }
122         public ShardStoreInfo(long matchingBytes) {
123             this.inSync = false;
124             this.allocationId = null;
125             this.matchingBytes = matchingBytes;
126             this.storeException = null;
127         }
128         public ShardStoreInfo(StreamInput in) throws IOException {
129             this.inSync = in.readBoolean();
130             this.allocationId = in.readOptionalString();
131             this.matchingBytes = in.readLong();
132             this.storeException = in.readException();
133         }
134         public boolean isInSync() {
135             return inSync;
136         }
137         @Nullable
138         public String getAllocationId() {
139             return allocationId;
140         }
141         public boolean hasMatchingSyncId() {
142             return matchingBytes == Long.MAX_VALUE;
143         }
144         public long getMatchingBytes() {
145             return matchingBytes;
146         }
147         @Nullable
148         public Exception getStoreException() {
149             return storeException;
150         }
151         @Override
152         public void writeTo(StreamOutput out) throws IOException {
153             out.writeBoolean(inSync);
154             out.writeOptionalString(allocationId);
155             out.writeLong(matchingBytes);
156             out.writeException(storeException);
157         }
158         @Override
159         public XContentBuilder toXContent(XContentBuilder builder, Params params) throws IOException {
160             builder.startObject("store");
161             {
162                 if (matchingBytes &lt; 0) {
163                     if (allocationId == null &amp;&amp; storeException == null) {
164                         builder.field("found", false);
165                     } else {
166                         builder.field("in_sync", inSync);
167                     }
168                 }
169                 if (allocationId != null) {
170                     builder.field("allocation_id", allocationId);
171                 }
172                 if (matchingBytes &gt;= 0) {
173                     if (hasMatchingSyncId()) {
174                         builder.field("matching_sync_id", true);
175                     } else {
176                         builder.humanReadableField("matching_size_in_bytes", "matching_size", new ByteSizeValue(matchingBytes));
177                     }
178                 }
179                 if (storeException != null) {
180                     builder.startObject("store_exception");
181                     ElasticsearchException.generateThrowableXContent(builder, params, storeException);
182                     builder.endObject();
183                 }
184             }
185             builder.endObject();
186             return builder;
187         }
188     }
189 }
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
