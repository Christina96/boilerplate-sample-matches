<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for ConcurrentMapRemoveTester.java &amp; TreeRangeMapTest.java</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for ConcurrentMapRemoveTester.java &amp; TreeRangeMapTest.java
      </h3>
<h1 align="center">
        10.5%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>ConcurrentMapRemoveTester.java (52.941177%)<th>TreeRangeMapTest.java (5.869565%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(19-37)<td><a href="#" name="0">(25-41)</a><td align="center"><font color="#ff0000">12</font>
<tr onclick='openModal("#f63526")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#f63526"><font color="#f63526">-</font><td><a href="#" name="1">(48-52)<td><a href="#" name="1">(53-59)</a><td align="center"><font color="#e90000">11</font>
<tr onclick='openModal("#980517")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#980517"><font color="#980517">-</font><td><a href="#" name="2">(72-74)<td><a href="#" name="2">(314-317)</a><td align="center"><font color="#d40000">10</font>
<tr onclick='openModal("#53858b")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#53858b"><font color="#53858b">-</font><td><a href="#" name="3">(66-70)<td><a href="#" name="3">(224-229)</a><td align="center"><font color="#d40000">10</font>
<tr onclick='openModal("#6cc417")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#6cc417"><font color="#6cc417">-</font><td><a href="#" name="4">(60-64)<td><a href="#" name="4">(165-170)</a><td align="center"><font color="#d40000">10</font>
<tr onclick='openModal("#151b8d")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#151b8d"><font color="#151b8d">-</font><td><a href="#" name="5">(54-58)<td><a href="#" name="5">(110-115)</a><td align="center"><font color="#d40000">10</font>
<tr onclick='openModal("#8c8774")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#8c8774"><font color="#8c8774">-</font><td><a href="#" name="6">(94-97)<td><a href="#" name="6">(823-826)</a><td align="center"><font color="#bf0000">9</font>
<tr onclick='openModal("#38a4a5")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#38a4a5"><font color="#38a4a5">-</font><td><a href="#" name="7">(83-86)<td><a href="#" name="7">(772-775)</a><td align="center"><font color="#bf0000">9</font>
</td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>ConcurrentMapRemoveTester.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 <a name="0"></a>
2 package com.google.common.collect.testing.testers;
3 <font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>import static com.google.common.collect.testing.features.CollectionSize.ZERO;
4 import static com.google.common.collect.testing.features.MapFeature.ALLOWS_NULL_KEY_QUERIES;
5 import static com.google.common.collect.testing.features.MapFeature.ALLOWS_NULL_VALUE_QUERIES;
6 import static com.google.common.collect.testing.features.MapFeature.SUPPORTS_REMOVE;
7 import com.google.common.annotations.GwtCompatible;
8 import com.google.common.collect.testing.AbstractMapTester;
9 import com.google.common.collect.testing.features.CollectionSize;
10 import com.google.common.collect.testing.features.MapFeature;
11 import java.util.concurrent.ConcurrentMap;
12 import org.junit.Ignore;
13 @</b></font>GwtCompatible
14 @Ignore public class ConcurrentMapRemoveTester&lt;K, V&gt; extends AbstractMapTester&lt;K, V&gt; {
15   @Override
16   protected ConcurrentMap&lt;K, V&gt; getMap() {
17     return (ConcurrentMap&lt;K, V&gt;) super.getMap();
18   }
19 <a name="1"></a>  @MapFeature.Require(SUPPORTS_REMOVE)
20   @CollectionSize.Require(absent = ZERO)
21   public void testRemove_supportedPresent() {
22     <font color="#f63526"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>assertTrue(getMap().remove(k0(), v0()));
23     expectMissing(e0());
24   }
25 <a name="5"></a>
26   @</b></font>MapFeature.Require(SUPPORTS_REMOVE)
27   public void testRemove_supportedPresentKeyWrongValue() {
28     <font color="#151b8d"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>assertFalse(getMap().remove(k0(), v3()));
29     expectUnchanged();
30   }
31 <a name="4"></a>
32   @</b></font>MapFeature.Require(SUPPORTS_REMOVE)
33   public void testRemove_supportedWrongKeyPresentValue() {
34     <font color="#6cc417"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>assertFalse(getMap().remove(k3(), v0()));
35     expectUnchanged();
36   }
37 <a name="3"></a>
38   @</b></font>MapFeature.Require(SUPPORTS_REMOVE)
39   public void testRemove_supportedAbsentKeyAbsentValue() {
40     <font color="#53858b"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>assertFalse(getMap().remove(k3(), v3()));
41     expectUnchanged();
42   }
43 <a name="2"></a>
44   @</b></font>MapFeature.Require(value = SUPPORTS_REMOVE, absent = ALLOWS_NULL_KEY_QUERIES)
45   public void testRemove_nullKeyQueriesUnsupported() {
46     <font color="#980517"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>try {
47       assertFalse(getMap().remove(null, v3()));
48     } catch (NullPointerException tolerated) {</b></font>
49     }
50     expectUnchanged();
51   }
52 <a name="7"></a>  @MapFeature.Require(value = SUPPORTS_REMOVE, absent = ALLOWS_NULL_VALUE_QUERIES)
53   public void testRemove_nullValueQueriesUnsupported() {
54     try {
55       assertFalse(<font color="#38a4a5"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>getMap().remove(k3(), null));
56     } catch (NullPointerException tolerated) {
57     }</b></font>
58     expectUnchanged();
59   }
60   @MapFeature.Require(absent = SUPPORTS_REMOVE)
61 <a name="6"></a>  @CollectionSize.Require(absent = ZERO)
62   public void testRemove_unsupportedPresent() {
63     try {
64       getMap().remove(<font color="#8c8774"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>k0(), v0());
65       fail("Expected UnsupportedOperationException");
66     } catch (UnsupportedOperationException expected) {
67     }</b></font>
68     expectUnchanged();
69   }
70   @MapFeature.Require(absent = SUPPORTS_REMOVE)
71   public void testRemove_unsupportedAbsent() {
72     try {
73       assertFalse(getMap().remove(k0(), v3()));
74     } catch (UnsupportedOperationException tolerated) {
75     }
76     expectUnchanged();
77   }
78 }
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>TreeRangeMapTest.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 package com.google.common.collect;
2 import static com.google.common.collect.BoundType.OPEN;
3 import static com.google.common.collect.testing.Helpers.mapEntry;
4 import com.google.common.annotations.GwtIncompatible;
5 import com.google.common.collect.testing.MapTestSuiteBuilder;
6 <a name="0"></a>import com.google.common.collect.testing.SampleElements;
7 import com.google.common.collect.testing.TestMapGenerator;
8 import com.google.common.collect.testing.features.CollectionFeature;
9 <font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>import com.google.common.collect.testing.features.CollectionSize;
10 import com.google.common.collect.testing.features.MapFeature;
11 import java.util.List;
12 import java.util.Map;
13 import java.util.Map.Entry;
14 import java.util.NoSuchElementException;
15 import java.util.function.BiFunction;
16 import junit.framework.Test;
17 import junit.framework.TestCase;
18 import junit.framework.TestSuite;
19 @</b></font>GwtIncompatible public class TreeRangeMapTest extends TestCase {
20   public static Test suite() {
21     TestSuite suite = new TestSuite();
22     suite.addTestSuite(TreeRangeMapTest.class);
23     suite.addTest(
24         MapTestSuiteBuilder.using(
25                 new TestMapGenerator&lt;Range&lt;Integer&gt;, String&gt;() {
26                   @Override
27 <a name="1"></a>                  public SampleElements&lt;Entry&lt;Range&lt;Integer&gt;, String&gt;&gt; samples() {
28                     return new SampleElements&lt;&gt;(
29                         mapEntry(Range.singleton(0), "banana"),
30                         mapEntry(<font color="#f63526"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>Range.closedOpen(3, 5), "frisbee"),
31                         mapEntry(Range.atMost(-1), "fruitcake"),
32                         mapEntry(Range.open(10, 15), "elephant"),
33                         mapEntry(Range.closed(20, 22), "umbrella"));
34                   }
35                   @</b></font>Override
36                   public Map&lt;Range&lt;Integer&gt;, String&gt; create(Object... elements) {
37                     RangeMap&lt;Integer, String&gt; rangeMap = TreeRangeMap.create();
38                     for (Object o : elements) {
39                       @SuppressWarnings("unchecked")
40                       Entry&lt;Range&lt;Integer&gt;, String&gt; entry = (Entry&lt;Range&lt;Integer&gt;, String&gt;) o;
41                       rangeMap.put(entry.getKey(), entry.getValue());
42                     }
43                     return rangeMap.asMapOfRanges();
44                   }
45                   @SuppressWarnings("unchecked")
46                   @Override
47                   public Entry&lt;Range&lt;Integer&gt;, String&gt;[] createArray(int length) {
48                     return new Entry[length];
49                   }
50                   @Override
51                   public Iterable&lt;Entry&lt;Range&lt;Integer&gt;, String&gt;&gt; order(
52                       List&lt;Entry&lt;Range&lt;Integer&gt;, String&gt;&gt; insertionOrder) {
53                     return Range.&lt;Integer&gt;rangeLexOrdering().onKeys().sortedCopy(insertionOrder);
54                   }
55                   @SuppressWarnings("unchecked")
56                   @Override
57                   public Range&lt;Integer&gt;[] createKeyArray(int length) {
58                     return new Range[length];
59                   }
60                   @Override
61                   public String[] createValueArray(int length) {
62                     return new String[length];
63                   }
64                 })
65             .named("TreeRangeMap.asMapOfRanges")
66             .withFeatures(
67                 CollectionSize.ANY,
68                 MapFeature.SUPPORTS_REMOVE,
69                 MapFeature.ALLOWS_ANY_NULL_QUERIES,
70                 CollectionFeature.KNOWN_ORDER,
71                 CollectionFeature.SUPPORTS_ITERATOR_REMOVE)
72             .createTestSuite());
73     suite.addTest(
74         MapTestSuiteBuilder.using(
75                 new TestMapGenerator&lt;Range&lt;Integer&gt;, String&gt;() {
76                   @Override
77                   public SampleElements&lt;Entry&lt;Range&lt;Integer&gt;, String&gt;&gt; samples() {
78 <a name="5"></a>                    return new SampleElements&lt;&gt;(
79                         mapEntry(Range.singleton(0), "banana"),
80                         mapEntry(Range.closedOpen(3, 5), "frisbee"),
81                         <font color="#151b8d"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>mapEntry(Range.atMost(-1), "fruitcake"),
82                         mapEntry(Range.open(10, 15), "elephant"),
83                         mapEntry(Range.closed(20, 22), "umbrella"));
84                   }
85                   @</b></font>Override
86                   public Map&lt;Range&lt;Integer&gt;, String&gt; create(Object... elements) {
87                     RangeMap&lt;Integer, String&gt; rangeMap = TreeRangeMap.create();
88                     for (Object o : elements) {
89                       @SuppressWarnings("unchecked")
90                       Entry&lt;Range&lt;Integer&gt;, String&gt; entry = (Entry&lt;Range&lt;Integer&gt;, String&gt;) o;
91                       rangeMap.put(entry.getKey(), entry.getValue());
92                     }
93                     return rangeMap.subRangeMap(Range.atMost(22)).asMapOfRanges();
94                   }
95                   @SuppressWarnings("unchecked")
96                   @Override
97                   public Entry&lt;Range&lt;Integer&gt;, String&gt;[] createArray(int length) {
98                     return new Entry[length];
99                   }
100                   @Override
101                   public Iterable&lt;Entry&lt;Range&lt;Integer&gt;, String&gt;&gt; order(
102                       List&lt;Entry&lt;Range&lt;Integer&gt;, String&gt;&gt; insertionOrder) {
103                     return Range.&lt;Integer&gt;rangeLexOrdering().onKeys().sortedCopy(insertionOrder);
104                   }
105                   @SuppressWarnings("unchecked")
106                   @Override
107                   public Range&lt;Integer&gt;[] createKeyArray(int length) {
108                     return new Range[length];
109                   }
110                   @Override
111                   public String[] createValueArray(int length) {
112                     return new String[length];
113                   }
114                 })
115             .named("TreeRangeMap.subRangeMap.asMapOfRanges")
116             .withFeatures(
117                 CollectionSize.ANY,
118                 MapFeature.SUPPORTS_REMOVE,
119                 MapFeature.ALLOWS_ANY_NULL_QUERIES,
120                 CollectionFeature.KNOWN_ORDER)
121             .createTestSuite());
122     suite.addTest(
123         MapTestSuiteBuilder.using(
124                 new TestMapGenerator&lt;Range&lt;Integer&gt;, String&gt;() {
125                   @Override
126                   public SampleElements&lt;Entry&lt;Range&lt;Integer&gt;, String&gt;&gt; samples() {
127 <a name="4"></a>                    return new SampleElements&lt;&gt;(
128                         mapEntry(Range.singleton(0), "banana"),
129                         mapEntry(Range.closedOpen(3, 5), "frisbee"),
130                         <font color="#6cc417"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>mapEntry(Range.atMost(-1), "fruitcake"),
131                         mapEntry(Range.open(10, 15), "elephant"),
132                         mapEntry(Range.closed(20, 22), "umbrella"));
133                   }
134                   @</b></font>Override
135                   public Map&lt;Range&lt;Integer&gt;, String&gt; create(Object... elements) {
136                     RangeMap&lt;Integer, String&gt; rangeMap = TreeRangeMap.create();
137                     for (Object o : elements) {
138                       @SuppressWarnings("unchecked")
139                       Entry&lt;Range&lt;Integer&gt;, String&gt; entry = (Entry&lt;Range&lt;Integer&gt;, String&gt;) o;
140                       rangeMap.put(entry.getKey(), entry.getValue());
141                     }
142                     return rangeMap.asDescendingMapOfRanges();
143                   }
144                   @SuppressWarnings("unchecked")
145                   @Override
146                   public Entry&lt;Range&lt;Integer&gt;, String&gt;[] createArray(int length) {
147                     return new Entry[length];
148                   }
149                   @Override
150                   public Iterable&lt;Entry&lt;Range&lt;Integer&gt;, String&gt;&gt; order(
151                       List&lt;Entry&lt;Range&lt;Integer&gt;, String&gt;&gt; insertionOrder) {
152                     return Range.&lt;Integer&gt;rangeLexOrdering()
153                         .reverse()
154                         .onKeys()
155                         .sortedCopy(insertionOrder);
156                   }
157                   @SuppressWarnings("unchecked")
158                   @Override
159                   public Range&lt;Integer&gt;[] createKeyArray(int length) {
160                     return new Range[length];
161                   }
162                   @Override
163                   public String[] createValueArray(int length) {
164                     return new String[length];
165                   }
166                 })
167             .named("TreeRangeMap.asDescendingMapOfRanges")
168             .withFeatures(
169                 CollectionSize.ANY,
170                 MapFeature.SUPPORTS_REMOVE,
171                 MapFeature.ALLOWS_ANY_NULL_QUERIES,
172                 CollectionFeature.KNOWN_ORDER,
173                 CollectionFeature.SUPPORTS_ITERATOR_REMOVE)
174             .createTestSuite());
175     suite.addTest(
176         MapTestSuiteBuilder.using(
177                 new TestMapGenerator&lt;Range&lt;Integer&gt;, String&gt;() {
178                   @Override
179                   public SampleElements&lt;Entry&lt;Range&lt;Integer&gt;, String&gt;&gt; samples() {
180 <a name="3"></a>                    return new SampleElements&lt;&gt;(
181                         mapEntry(Range.singleton(0), "banana"),
182                         mapEntry(Range.closedOpen(3, 5), "frisbee"),
183                         <font color="#53858b"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>mapEntry(Range.atMost(-1), "fruitcake"),
184                         mapEntry(Range.open(10, 15), "elephant"),
185                         mapEntry(Range.closed(20, 22), "umbrella"));
186                   }
187                   @</b></font>Override
188                   public Map&lt;Range&lt;Integer&gt;, String&gt; create(Object... elements) {
189                     RangeMap&lt;Integer, String&gt; rangeMap = TreeRangeMap.create();
190                     for (Object o : elements) {
191                       @SuppressWarnings("unchecked")
192                       Entry&lt;Range&lt;Integer&gt;, String&gt; entry = (Entry&lt;Range&lt;Integer&gt;, String&gt;) o;
193                       rangeMap.put(entry.getKey(), entry.getValue());
194                     }
195                     return rangeMap.subRangeMap(Range.atMost(22)).asDescendingMapOfRanges();
196                   }
197                   @SuppressWarnings("unchecked")
198                   @Override
199                   public Entry&lt;Range&lt;Integer&gt;, String&gt;[] createArray(int length) {
200                     return new Entry[length];
201                   }
202                   @Override
203                   public Iterable&lt;Entry&lt;Range&lt;Integer&gt;, String&gt;&gt; order(
204                       List&lt;Entry&lt;Range&lt;Integer&gt;, String&gt;&gt; insertionOrder) {
205                     return Range.&lt;Integer&gt;rangeLexOrdering()
206                         .reverse()
207                         .onKeys()
208                         .sortedCopy(insertionOrder);
209                   }
210                   @SuppressWarnings("unchecked")
211                   @Override
212                   public Range&lt;Integer&gt;[] createKeyArray(int length) {
213                     return new Range[length];
214                   }
215                   @Override
216                   public String[] createValueArray(int length) {
217                     return new String[length];
218                   }
219                 })
220             .named("TreeRangeMap.subRangeMap.asDescendingMapOfRanges")
221             .withFeatures(
222                 CollectionSize.ANY,
223                 MapFeature.SUPPORTS_REMOVE,
224                 MapFeature.ALLOWS_ANY_NULL_QUERIES,
225                 CollectionFeature.KNOWN_ORDER)
226             .createTestSuite());
227     return suite;
228   }
229   private static final ImmutableList&lt;Range&lt;Integer&gt;&gt; RANGES;
230   private static final int MIN_BOUND = -2;
231   private static final int MAX_BOUND = 2;
232   static {
233     ImmutableList.Builder&lt;Range&lt;Integer&gt;&gt; builder = ImmutableList.builder();
234     builder.add(Range.&lt;Integer&gt;all());
235     for (int i = MIN_BOUND; i &lt;= MAX_BOUND; i++) {
236       for (BoundType type : BoundType.values()) {
237         builder.add(Range.upTo(i, type));
238         builder.add(Range.downTo(i, type));
239       }
240     }
241     for (int i = MIN_BOUND; i &lt;= MAX_BOUND; i++) {
242       for (int j = i; j &lt;= MAX_BOUND; j++) {
243         for (BoundType lowerType : BoundType.values()) {
244           for (BoundType upperType : BoundType.values()) {
245             if (i == j &amp; lowerType == OPEN &amp; upperType == OPEN) {
246               continue;
247             }
248             builder.add(Range.range(i, lowerType, j, upperType));
249           }
250         }
251       }
252     }
253     RANGES = builder.build();
254   }
255   public void testSpanSingleRange() {
256     for (Range&lt;Integer&gt; range : RANGES) {
257 <a name="2"></a>      RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
258       rangeMap.put(range, 1);
259       <font color="#980517"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>try {
260         assertEquals(range, rangeMap.span());
261         assertFalse(range.isEmpty());
262       } catch (NoSuchElementException e) {</b></font>
263         assertTrue(range.isEmpty());
264       }
265     }
266   }
267   public void testSpanTwoRanges() {
268     for (Range&lt;Integer&gt; range1 : RANGES) {
269       for (Range&lt;Integer&gt; range2 : RANGES) {
270         RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
271         rangeMap.put(range1, 1);
272         rangeMap.put(range2, 2);
273         Range&lt;Integer&gt; expected;
274         if (range1.isEmpty()) {
275           if (range2.isEmpty()) {
276             expected = null;
277           } else {
278             expected = range2;
279           }
280         } else {
281           if (range2.isEmpty()) {
282             expected = range1;
283           } else {
284             expected = range1.span(range2);
285           }
286         }
287         try {
288           assertEquals(expected, rangeMap.span());
289           assertNotNull(expected);
290         } catch (NoSuchElementException e) {
291           assertNull(expected);
292         }
293       }
294     }
295   }
296   public void testAllRangesAlone() {
297     for (Range&lt;Integer&gt; range : RANGES) {
298       Map&lt;Integer, Integer&gt; model = Maps.newHashMap();
299       putModel(model, range, 1);
300       RangeMap&lt;Integer, Integer&gt; test = TreeRangeMap.create();
301       test.put(range, 1);
302       verify(model, test);
303     }
304   }
305   public void testAllRangePairs() {
306     for (Range&lt;Integer&gt; range1 : RANGES) {
307       for (Range&lt;Integer&gt; range2 : RANGES) {
308         Map&lt;Integer, Integer&gt; model = Maps.newHashMap();
309         putModel(model, range1, 1);
310         putModel(model, range2, 2);
311         RangeMap&lt;Integer, Integer&gt; test = TreeRangeMap.create();
312         test.put(range1, 1);
313         test.put(range2, 2);
314         verify(model, test);
315       }
316     }
317   }
318   public void testAllRangeTriples() {
319     for (Range&lt;Integer&gt; range1 : RANGES) {
320       for (Range&lt;Integer&gt; range2 : RANGES) {
321         for (Range&lt;Integer&gt; range3 : RANGES) {
322           Map&lt;Integer, Integer&gt; model = Maps.newHashMap();
323           putModel(model, range1, 1);
324           putModel(model, range2, 2);
325           putModel(model, range3, 3);
326           RangeMap&lt;Integer, Integer&gt; test = TreeRangeMap.create();
327           test.put(range1, 1);
328           test.put(range2, 2);
329           test.put(range3, 3);
330           verify(model, test);
331         }
332       }
333     }
334   }
335   public void testPutAll() {
336     for (Range&lt;Integer&gt; range1 : RANGES) {
337       for (Range&lt;Integer&gt; range2 : RANGES) {
338         for (Range&lt;Integer&gt; range3 : RANGES) {
339           Map&lt;Integer, Integer&gt; model = Maps.newHashMap();
340           putModel(model, range1, 1);
341           putModel(model, range2, 2);
342           putModel(model, range3, 3);
343           RangeMap&lt;Integer, Integer&gt; test = TreeRangeMap.create();
344           RangeMap&lt;Integer, Integer&gt; test2 = TreeRangeMap.create();
345           test.put(range1, 1);
346           test2.put(range2, 2);
347           test2.put(range3, 3);
348           test.putAll(test2);
349           verify(model, test);
350         }
351       }
352     }
353   }
354   public void testPutAndRemove() {
355     for (Range&lt;Integer&gt; rangeToPut : RANGES) {
356       for (Range&lt;Integer&gt; rangeToRemove : RANGES) {
357         Map&lt;Integer, Integer&gt; model = Maps.newHashMap();
358         putModel(model, rangeToPut, 1);
359         removeModel(model, rangeToRemove);
360         RangeMap&lt;Integer, Integer&gt; test = TreeRangeMap.create();
361         test.put(rangeToPut, 1);
362         test.remove(rangeToRemove);
363         verify(model, test);
364       }
365     }
366   }
367   public void testPutTwoAndRemove() {
368     for (Range&lt;Integer&gt; rangeToPut1 : RANGES) {
369       for (Range&lt;Integer&gt; rangeToPut2 : RANGES) {
370         for (Range&lt;Integer&gt; rangeToRemove : RANGES) {
371           Map&lt;Integer, Integer&gt; model = Maps.newHashMap();
372           putModel(model, rangeToPut1, 1);
373           putModel(model, rangeToPut2, 2);
374           removeModel(model, rangeToRemove);
375           RangeMap&lt;Integer, Integer&gt; test = TreeRangeMap.create();
376           test.put(rangeToPut1, 1);
377           test.put(rangeToPut2, 2);
378           test.remove(rangeToRemove);
379           verify(model, test);
380         }
381       }
382     }
383   }
384   public void testPutCoalescingTwoAndRemove() {
385     for (Range&lt;Integer&gt; rangeToPut1 : RANGES) {
386       for (Range&lt;Integer&gt; rangeToPut2 : RANGES) {
387         for (Range&lt;Integer&gt; rangeToRemove : RANGES) {
388           Map&lt;Integer, Integer&gt; model = Maps.newHashMap();
389           putModel(model, rangeToPut1, 1);
390           putModel(model, rangeToPut2, 2);
391           removeModel(model, rangeToRemove);
392           RangeMap&lt;Integer, Integer&gt; test = TreeRangeMap.create();
393           test.putCoalescing(rangeToPut1, 1);
394           test.putCoalescing(rangeToPut2, 2);
395           test.remove(rangeToRemove);
396           verify(model, test);
397         }
398       }
399     }
400   }
401   public void testPutCoalescing() {
402     RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
403     rangeMap.putCoalescing(Range.closedOpen(0, 1), 1);
404     rangeMap.putCoalescing(Range.closedOpen(1, 2), 1);
405     rangeMap.putCoalescing(Range.closedOpen(2, 3), 2);
406     assertEquals(
407         ImmutableMap.of(Range.closedOpen(0, 2), 1, Range.closedOpen(2, 3), 2),
408         rangeMap.asMapOfRanges());
409   }
410   public void testPutCoalescingEmpty() {
411     RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
412     rangeMap.put(Range.closedOpen(0, 1), 1);
413     rangeMap.put(Range.closedOpen(1, 2), 1);
414     assertEquals(
415         ImmutableMap.of(Range.closedOpen(0, 1), 1, Range.closedOpen(1, 2), 1),
416         rangeMap.asMapOfRanges());
417     rangeMap.putCoalescing(Range.closedOpen(1, 1), 1);     assertEquals(ImmutableMap.of(Range.closedOpen(0, 2), 1), rangeMap.asMapOfRanges());
418   }
419   public void testPutCoalescingSubmapEmpty() {
420     RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
421     rangeMap.put(Range.closedOpen(0, 1), 1);
422     rangeMap.put(Range.closedOpen(1, 2), 1);
423     assertEquals(
424         ImmutableMap.of(Range.closedOpen(0, 1), 1, Range.closedOpen(1, 2), 1),
425         rangeMap.asMapOfRanges());
426     RangeMap&lt;Integer, Integer&gt; subRangeMap = rangeMap.subRangeMap(Range.closedOpen(0, 2));
427     subRangeMap.putCoalescing(Range.closedOpen(1, 1), 1);     assertEquals(ImmutableMap.of(Range.closedOpen(0, 2), 1), subRangeMap.asMapOfRanges());
428     assertEquals(ImmutableMap.of(Range.closedOpen(0, 2), 1), rangeMap.asMapOfRanges());
429   }
430   public void testPutCoalescingComplex() {
431     RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
432     rangeMap.put(Range.closedOpen(0, 1), 1);
433     rangeMap.put(Range.closedOpen(1, 3), 1);
434     rangeMap.put(Range.closedOpen(3, 5), 1);
435     rangeMap.put(Range.closedOpen(7, 10), 2);
436     rangeMap.put(Range.closedOpen(12, 15), 2);
437     rangeMap.put(Range.closedOpen(18, 19), 3);
438     rangeMap.putCoalescing(Range.closedOpen(-5, -4), 0);     rangeMap.putCoalescing(Range.closedOpen(-6, -5), 0); 
439     rangeMap.putCoalescing(Range.closedOpen(2, 4), 1);     rangeMap.putCoalescing(Range.closedOpen(9, 14), 0);     rangeMap.putCoalescing(Range.closedOpen(17, 20), 3); 
440     rangeMap.putCoalescing(Range.closedOpen(22, 23), 4);     rangeMap.putCoalescing(Range.closedOpen(23, 25), 4); 
441     assertEquals(
442         new ImmutableMap.Builder&lt;&gt;()
443             .put(Range.closedOpen(-6, -4), 0)
444             .put(Range.closedOpen(0, 1), 1)             .put(Range.closedOpen(1, 5), 1)
445             .put(Range.closedOpen(7, 9), 2)
446             .put(Range.closedOpen(9, 14), 0)
447             .put(Range.closedOpen(14, 15), 2)
448             .put(Range.closedOpen(17, 20), 3)
449             .put(Range.closedOpen(22, 25), 4)
450             .build(),
451         rangeMap.asMapOfRanges());
452   }
453   public void testMergeOntoRangeOverlappingLowerBound() {
454     RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
455     rangeMap.put(Range.closedOpen(0, 2), 1);
456     rangeMap.merge(Range.closedOpen(1, 3), 2, Integer::sum);
457     assertEquals(
458         new ImmutableMap.Builder&lt;&gt;()
459             .put(Range.closedOpen(0, 1), 1)
460             .put(Range.closedOpen(1, 2), 3)
461             .put(Range.closedOpen(2, 3), 2)
462             .build(),
463         rangeMap.asMapOfRanges());
464   }
465   public void testMergeOntoRangeOverlappingUpperBound() {
466     RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
467     rangeMap.put(Range.closedOpen(1, 3), 1);
468     rangeMap.merge(Range.closedOpen(0, 2), 2, Integer::sum);
469     assertEquals(
470         new ImmutableMap.Builder&lt;&gt;()
471             .put(Range.closedOpen(0, 1), 2)
472             .put(Range.closedOpen(1, 2), 3)
473             .put(Range.closedOpen(2, 3), 1)
474             .build(),
475         rangeMap.asMapOfRanges());
476   }
477   public void testMergeOntoIdenticalRange() {
478     RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
479     rangeMap.put(Range.closedOpen(0, 1), 1);
480     rangeMap.merge(Range.closedOpen(0, 1), 2, Integer::sum);
481     assertEquals(ImmutableMap.of(Range.closedOpen(0, 1), 3), rangeMap.asMapOfRanges());
482   }
483   public void testMergeOntoSuperRange() {
484     RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
485     rangeMap.put(Range.closedOpen(0, 3), 1);
486     rangeMap.merge(Range.closedOpen(1, 2), 2, Integer::sum);
487     assertEquals(
488         new ImmutableMap.Builder&lt;&gt;()
489             .put(Range.closedOpen(0, 1), 1)
490             .put(Range.closedOpen(1, 2), 3)
491             .put(Range.closedOpen(2, 3), 1)
492             .build(),
493         rangeMap.asMapOfRanges());
494   }
495   public void testMergeOntoSubRange() {
496     RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
497     rangeMap.put(Range.closedOpen(1, 2), 1);
498     rangeMap.merge(Range.closedOpen(0, 3), 2, Integer::sum);
499     assertEquals(
500         new ImmutableMap.Builder&lt;&gt;()
501             .put(Range.closedOpen(0, 1), 2)
502             .put(Range.closedOpen(1, 2), 3)
503             .put(Range.closedOpen(2, 3), 2)
504             .build(),
505         rangeMap.asMapOfRanges());
506   }
507   public void testMergeOntoDisconnectedRanges() {
508     RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
509     rangeMap.put(Range.closedOpen(0, 1), 1);
510     rangeMap.put(Range.closedOpen(2, 3), 2);
511     rangeMap.merge(Range.closedOpen(0, 3), 3, Integer::sum);
512     assertEquals(
513         new ImmutableMap.Builder&lt;&gt;()
514             .put(Range.closedOpen(0, 1), 4)
515             .put(Range.closedOpen(1, 2), 3)
516             .put(Range.closedOpen(2, 3), 5)
517             .build(),
518         rangeMap.asMapOfRanges());
519   }
520   public void testMergeNullValue() {
521     RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
522     rangeMap.put(Range.closedOpen(1, 2), 1);
523     rangeMap.put(Range.closedOpen(3, 4), 2);
524     rangeMap.merge(Range.closedOpen(0, 5), null, (v1, v2) -&gt; v1 + 1);
525     assertEquals(
526         new ImmutableMap.Builder&lt;&gt;()
527             .put(Range.closedOpen(1, 2), 2)
528             .put(Range.closedOpen(3, 4), 3)
529             .build(),
530         rangeMap.asMapOfRanges());
531   }
532   public void testMergeWithRemappingFunctionReturningNullValue() {
533     RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
534     rangeMap.put(Range.closedOpen(1, 2), 1);
535     rangeMap.put(Range.closedOpen(3, 4), 2);
536     rangeMap.merge(Range.closedOpen(0, 5), 3, (v1, v2) -&gt; null);
537     assertEquals(
538         new ImmutableMap.Builder&lt;&gt;()
539             .put(Range.closedOpen(0, 1), 3)
540             .put(Range.closedOpen(2, 3), 3)
541             .put(Range.closedOpen(4, 5), 3)
542             .build(),
543         rangeMap.asMapOfRanges());
544   }
545   public void testMergeAllRangeTriples() {
546     for (Range&lt;Integer&gt; range1 : RANGES) {
547       for (Range&lt;Integer&gt; range2 : RANGES) {
548         for (Range&lt;Integer&gt; range3 : RANGES) {
549           Map&lt;Integer, Integer&gt; model = Maps.newHashMap();
550           mergeModel(model, range1, 1, Integer::sum);
551           mergeModel(model, range2, 2, Integer::sum);
552           mergeModel(model, range3, 3, Integer::sum);
553           RangeMap&lt;Integer, Integer&gt; test = TreeRangeMap.create();
554           test.merge(range1, 1, Integer::sum);
555           test.merge(range2, 2, Integer::sum);
556           test.merge(range3, 3, Integer::sum);
557           verify(model, test);
558         }
559       }
560     }
561   }
562   public void testSubRangeMapExhaustive() {
563     for (Range&lt;Integer&gt; range1 : RANGES) {
564       for (Range&lt;Integer&gt; range2 : RANGES) {
565         RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
566         rangeMap.put(range1, 1);
567         rangeMap.put(range2, 2);
568         for (Range&lt;Integer&gt; subRange : RANGES) {
569           RangeMap&lt;Integer, Integer&gt; expected = TreeRangeMap.create();
570           for (Entry&lt;Range&lt;Integer&gt;, Integer&gt; entry : rangeMap.asMapOfRanges().entrySet()) {
571             if (entry.getKey().isConnected(subRange)) {
572               expected.put(entry.getKey().intersection(subRange), entry.getValue());
573             }
574           }
575           RangeMap&lt;Integer, Integer&gt; subRangeMap = rangeMap.subRangeMap(subRange);
576           assertEquals(expected, subRangeMap);
577           assertEquals(expected.asMapOfRanges(), subRangeMap.asMapOfRanges());
578           assertEquals(expected.asDescendingMapOfRanges(), subRangeMap.asDescendingMapOfRanges());
579           assertEquals(
580               ImmutableList.copyOf(subRangeMap.asMapOfRanges().entrySet()).reverse(),
581               ImmutableList.copyOf(subRangeMap.asDescendingMapOfRanges().entrySet()));
582           if (!expected.asMapOfRanges().isEmpty()) {
583             assertEquals(expected.span(), subRangeMap.span());
584           }
585           for (int i = MIN_BOUND; i &lt;= MAX_BOUND; i++) {
586             assertEquals(expected.get(i), subRangeMap.get(i));
587           }
588           for (Range&lt;Integer&gt; query : RANGES) {
589             assertEquals(
590                 expected.asMapOfRanges().get(query), subRangeMap.asMapOfRanges().get(query));
591           }
592         }
593       }
594     }
595   }
596   public void testSubSubRangeMap() {
597     RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
598     rangeMap.put(Range.open(3, 7), 1);
599     rangeMap.put(Range.closed(9, 10), 2);
600     rangeMap.put(Range.closed(12, 16), 3);
601     RangeMap&lt;Integer, Integer&gt; sub1 = rangeMap.subRangeMap(Range.closed(5, 11));
602     assertEquals(
603         ImmutableMap.of(Range.closedOpen(5, 7), 1, Range.closed(9, 10), 2), sub1.asMapOfRanges());
604     RangeMap&lt;Integer, Integer&gt; sub2 = sub1.subRangeMap(Range.open(6, 15));
605     assertEquals(
606         ImmutableMap.of(Range.open(6, 7), 1, Range.closed(9, 10), 2), sub2.asMapOfRanges());
607   }
608   public void testSubRangeMapPut() {
609     RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
610     rangeMap.put(Range.open(3, 7), 1);
611     rangeMap.put(Range.closed(9, 10), 2);
612     rangeMap.put(Range.closed(12, 16), 3);
613     RangeMap&lt;Integer, Integer&gt; sub = rangeMap.subRangeMap(Range.closed(5, 11));
614     assertEquals(
615         ImmutableMap.of(Range.closedOpen(5, 7), 1, Range.closed(9, 10), 2), sub.asMapOfRanges());
616     sub.put(Range.closed(7, 9), 4);
617     assertEquals(
618         ImmutableMap.of(
619             Range.closedOpen(5, 7), 1, Range.closed(7, 9), 4, Range.openClosed(9, 10), 2),
620         sub.asMapOfRanges());
621     assertEquals(
622         ImmutableMap.of(
623             Range.open(3, 7),
624             1,
625             Range.closed(7, 9),
626             4,
627             Range.openClosed(9, 10),
628             2,
629             Range.closed(12, 16),
630             3),
631 <a name="7"></a>        rangeMap.asMapOfRanges());
632     try {
633       <font color="#38a4a5"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>sub.put(Range.open(9, 12), 5);
634       fail("Expected IllegalArgumentException");
635     } catch (IllegalArgumentException expected) {
636     }</b></font>
637     sub = sub.subRangeMap(Range.closedOpen(5, 5));
638     sub.put(Range.closedOpen(5, 5), 6);     assertEquals(
639         ImmutableMap.of(
640             Range.open(3, 7),
641             1,
642             Range.closed(7, 9),
643             4,
644             Range.openClosed(9, 10),
645             2,
646             Range.closed(12, 16),
647             3),
648         rangeMap.asMapOfRanges());
649   }
650   public void testSubRangeMapPutCoalescing() {
651     RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
652     rangeMap.put(Range.open(3, 7), 1);
653     rangeMap.put(Range.closed(9, 10), 2);
654     rangeMap.put(Range.closed(12, 16), 3);
655     RangeMap&lt;Integer, Integer&gt; sub = rangeMap.subRangeMap(Range.closed(5, 11));
656     assertEquals(
657         ImmutableMap.of(Range.closedOpen(5, 7), 1, Range.closed(9, 10), 2), sub.asMapOfRanges());
658     sub.putCoalescing(Range.closed(7, 9), 2);
659     assertEquals(
660         ImmutableMap.of(Range.closedOpen(5, 7), 1, Range.closed(7, 10), 2), sub.asMapOfRanges());
661     assertEquals(
662         ImmutableMap.of(Range.open(3, 7), 1, Range.closed(7, 10), 2, Range.closed(12, 16), 3),
663         rangeMap.asMapOfRanges());
664     sub.putCoalescing(Range.singleton(7), 1);
665     assertEquals(
666         ImmutableMap.of(Range.closed(5, 7), 1, Range.openClosed(7, 10), 2), sub.asMapOfRanges());
667     assertEquals(
668         ImmutableMap.of(
669             Range.open(3, 5),
670             1,
671             Range.closed(5, 7),
672             1,
673             Range.openClosed(7, 10),
674             2,
675             Range.closed(12, 16),
676             3),
677 <a name="6"></a>        rangeMap.asMapOfRanges());
678     try {
679       <font color="#8c8774"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>sub.putCoalescing(Range.open(9, 12), 5);
680       fail("Expected IllegalArgumentException");
681     } catch (IllegalArgumentException expected) {
682     }</b></font>
683   }
684   public void testSubRangeMapRemove() {
685     RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
686     rangeMap.put(Range.open(3, 7), 1);
687     rangeMap.put(Range.closed(9, 10), 2);
688     rangeMap.put(Range.closed(12, 16), 3);
689     RangeMap&lt;Integer, Integer&gt; sub = rangeMap.subRangeMap(Range.closed(5, 11));
690     assertEquals(
691         ImmutableMap.of(Range.closedOpen(5, 7), 1, Range.closed(9, 10), 2), sub.asMapOfRanges());
692     sub.remove(Range.closed(7, 9));
693     assertEquals(
694         ImmutableMap.of(Range.closedOpen(5, 7), 1, Range.openClosed(9, 10), 2),
695         sub.asMapOfRanges());
696     assertEquals(
697         ImmutableMap.of(Range.open(3, 7), 1, Range.openClosed(9, 10), 2, Range.closed(12, 16), 3),
698         rangeMap.asMapOfRanges());
699     sub.remove(Range.closed(3, 9));
700     assertEquals(ImmutableMap.of(Range.openClosed(9, 10), 2), sub.asMapOfRanges());
701     assertEquals(
702         ImmutableMap.of(Range.open(3, 5), 1, Range.openClosed(9, 10), 2, Range.closed(12, 16), 3),
703         rangeMap.asMapOfRanges());
704   }
705   public void testSubRangeMapClear() {
706     RangeMap&lt;Integer, Integer&gt; rangeMap = TreeRangeMap.create();
707     rangeMap.put(Range.open(3, 7), 1);
708     rangeMap.put(Range.closed(9, 10), 2);
709     rangeMap.put(Range.closed(12, 16), 3);
710     RangeMap&lt;Integer, Integer&gt; sub = rangeMap.subRangeMap(Range.closed(5, 11));
711     sub.clear();
712     assertEquals(
713         ImmutableMap.of(Range.open(3, 5), 1, Range.closed(12, 16), 3), rangeMap.asMapOfRanges());
714   }
715   private void verify(Map&lt;Integer, Integer&gt; model, RangeMap&lt;Integer, Integer&gt; test) {
716     for (int i = MIN_BOUND - 1; i &lt;= MAX_BOUND + 1; i++) {
717       assertEquals(model.get(i), test.get(i));
718       Entry&lt;Range&lt;Integer&gt;, Integer&gt; entry = test.getEntry(i);
719       assertEquals(model.containsKey(i), entry != null);
720       if (entry != null) {
721         assertTrue(test.asMapOfRanges().entrySet().contains(entry));
722       }
723     }
724     for (Range&lt;Integer&gt; range : test.asMapOfRanges().keySet()) {
725       assertFalse(range.isEmpty());
726     }
727   }
728   private static void putModel(Map&lt;Integer, Integer&gt; model, Range&lt;Integer&gt; range, int value) {
729     for (int i = MIN_BOUND - 1; i &lt;= MAX_BOUND + 1; i++) {
730       if (range.contains(i)) {
731         model.put(i, value);
732       }
733     }
734   }
735   private static void removeModel(Map&lt;Integer, Integer&gt; model, Range&lt;Integer&gt; range) {
736     for (int i = MIN_BOUND - 1; i &lt;= MAX_BOUND + 1; i++) {
737       if (range.contains(i)) {
738         model.remove(i);
739       }
740     }
741   }
742   private static void mergeModel(
743       Map&lt;Integer, Integer&gt; model,
744       Range&lt;Integer&gt; range,
745       int value,
746       BiFunction&lt;? super Integer, ? super Integer, ? extends Integer&gt; remappingFunction) {
747     for (int i = MIN_BOUND - 1; i &lt;= MAX_BOUND + 1; i++) {
748       if (range.contains(i)) {
749         model.merge(i, value, remappingFunction);
750       }
751     }
752   }
753 }
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
