<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for RtspEncoderTest.java &amp; DefaultByteBufHolderTest.java</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for RtspEncoderTest.java &amp; DefaultByteBufHolderTest.java
      </h3>
<h1 align="center">
        23.7%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>RtspEncoderTest.java (24.193548%)<th>DefaultByteBufHolderTest.java (23.255814%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(87-96)<td><a href="#" name="0">(29-33)</a><td align="center"><font color="#ff0000">11</font>
<tr onclick='openModal("#f63526")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#f63526"><font color="#f63526">-</font><td><a href="#" name="1">(156-162)<td><a href="#" name="1">(64-68)</a><td align="center"><font color="#e70000">10</font>
<tr onclick='openModal("#980517")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#980517"><font color="#980517">-</font><td><a href="#" name="2">(26-42)<td><a href="#" name="2">(18-28)</a><td align="center"><font color="#d00000">9</font>
</td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>RtspEncoderTest.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 package io.netty.handler.codec.rtsp;
2 import io.netty.buffer.ByteBuf;
3 import io.netty.channel.embedded.EmbeddedChannel;
4 import io.netty.handler.codec.http.DefaultFullHttpRequest;
5 import io.netty.handler.codec.http.DefaultFullHttpResponse;
6 import io.netty.handler.codec.http.DefaultHttpRequest;
7 <a name="2"></a>import io.netty.handler.codec.http.DefaultHttpResponse;
8 import io.netty.handler.codec.http.FullHttpRequest;
9 import io.netty.handler.codec.http.FullHttpResponse;
10 <font color="#980517"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>import io.netty.handler.codec.http.HttpRequest;
11 import io.netty.handler.codec.http.HttpResponse;
12 import io.netty.util.CharsetUtil;
13 import org.junit.jupiter.api.Test;
14 import static org.junit.jupiter.api.Assertions.assertEquals;
15 public class RtspEncoderTest {
16     @Test
17     public void testSendSetupRequest() {</b></font>
18         String expected = "SETUP rtsp://172.10.20.30:554/d3abaaa7-65f2-42b4-"
19                         + "8d6b-379f492fcf0f RTSP/1.0\r\n"
20                         + "transport: MP2T/DVBC/UDP;unicast;client=01234567;"
21                         + "source=172.10.20.30;"
22                         + "destination=1.1.1.1;client_port=6922\r\n"
23                         + "cseq: 1\r\n"
24                         + "\r\n";
25         HttpRequest request = new DefaultHttpRequest(RtspVersions.RTSP_1_0,
26                RtspMethods.SETUP,
27                "rtsp://172.10.20.30:554/d3abaaa7-65f2-42b4-8d6b-379f492fcf0f");
28         request.headers().add(RtspHeaderNames.TRANSPORT,
29                "MP2T/DVBC/UDP;unicast;client=01234567;source=172.10.20.30;" +
30                "destination=1.1.1.1;client_port=6922");
31         request.headers().add(RtspHeaderNames.CSEQ, "1");
32         EmbeddedChannel ch = new EmbeddedChannel(new RtspEncoder());
33         ch.writeOutbound(request);
34         ByteBuf buf = ch.readOutbound();
35         String actual = buf.toString(CharsetUtil.UTF_8);
36         buf.release();
37         assertEquals(expected, actual);
38     }
39     @Test
40     public void testSendGetParameterRequest() {
41         String expected = "GET_PARAMETER rtsp://172.10.20.30:554 RTSP/1.0\r\n"
42                         + "session: 2547019973447939919\r\n"
43                         + "cseq: 3\r\n"
44                         + "content-length: 31\r\n"
45                         + "content-type: text/parameters\r\n"
46                         + "\r\n"
47                         + "stream_state\r\n"
48                         + "position\r\n"
49                         + "scale\r\n";
50         byte[] content = ("stream_state\r\n"
51 <a name="0"></a>                        + "position\r\n"
52                         + "scale\r\n").getBytes(CharsetUtil.UTF_8);
53         <font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>FullHttpRequest request = new DefaultFullHttpRequest(
54                 RtspVersions.RTSP_1_0,
55                 RtspMethods.GET_PARAMETER,
56                 "rtsp://172.10.20.30:554");
57         request.headers().add(RtspHeaderNames.SESSION, "2547019973447939919");
58         request.headers().add(RtspHeaderNames.CSEQ, "3");
59         request.headers().add(RtspHeaderNames.CONTENT_LENGTH,
60                 "" + content.length);
61         request.headers().add(RtspHeaderNames.CONTENT_TYPE, "text/parameters");
62         request.content().writeBytes</b></font>(content);
63         EmbeddedChannel ch = new EmbeddedChannel(new RtspEncoder());
64         ch.writeOutbound(request);
65         ByteBuf buf = ch.readOutbound();
66         String actual = buf.toString(CharsetUtil.UTF_8);
67         buf.release();
68         assertEquals(expected, actual);
69     }
70     @Test
71     public void testSend200OkResponseWithoutBody() {
72         String expected = "RTSP/1.0 200 OK\r\n"
73                         + "server: Testserver\r\n"
74                         + "cseq: 1\r\n"
75                         + "session: 2547019973447939919\r\n"
76                         + "\r\n";
77         HttpResponse response = new DefaultHttpResponse(RtspVersions.RTSP_1_0,
78                 RtspResponseStatuses.OK);
79         response.headers().add(RtspHeaderNames.SERVER, "Testserver");
80         response.headers().add(RtspHeaderNames.CSEQ, "1");
81         response.headers().add(RtspHeaderNames.SESSION, "2547019973447939919");
82         EmbeddedChannel ch = new EmbeddedChannel(new RtspEncoder());
83         ch.writeOutbound(response);
84         ByteBuf buf = ch.readOutbound();
85         String actual = buf.toString(CharsetUtil.UTF_8);
86         buf.release();
87         assertEquals(expected, actual);
88     }
89     @Test
90     public void testSend200OkResponseWithBody() {
91         String expected = "RTSP/1.0 200 OK\r\n"
92                         + "server: Testserver\r\n"
93                         + "session: 2547019973447939919\r\n"
94                         + "content-type: text/parameters\r\n"
95                         + "content-length: 50\r\n"
96                         + "cseq: 3\r\n"
97                         + "\r\n"
98                         + "position: 24\r\n"
99                         + "stream_state: playing\r\n"
100                         + "scale: 1.00\r\n";
101         byte[] content = ("position: 24\r\n"
102                         + "stream_state: playing\r\n"
103                         + "scale: 1.00\r\n").getBytes(CharsetUtil.UTF_8);
104 <a name="1"></a>        FullHttpResponse response =
105                 new DefaultFullHttpResponse(RtspVersions.RTSP_1_0,
106                                             RtspResponseStatuses.OK);
107         <font color="#f63526"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>response.headers().add(RtspHeaderNames.SERVER, "Testserver");
108         response.headers().add(RtspHeaderNames.SESSION, "2547019973447939919");
109         response.headers().add(RtspHeaderNames.CONTENT_TYPE,
110                 "text/parameters");
111         response.headers().add(RtspHeaderNames.CONTENT_LENGTH,
112                 "" + content.length);
113         response.headers</b></font>().add(RtspHeaderNames.CSEQ, "3");
114         response.content().writeBytes(content);
115         EmbeddedChannel ch = new EmbeddedChannel(new RtspEncoder());
116         ch.writeOutbound(response);
117         ByteBuf buf = ch.readOutbound();
118         String actual = buf.toString(CharsetUtil.UTF_8);
119         buf.release();
120         assertEquals(expected, actual);
121     }
122 }
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>DefaultByteBufHolderTest.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 /*
2  * Copyright 2015 The Netty Project
3  *
4  * The Netty Project licenses this file to you under the Apache License,
5  * version 2.0 (the "License"); you may not use this file except in compliance
6  * with the License. You may obtain a copy of the License at:
7  *
8  *   https://www.apache.org/licenses/LICENSE-2.0
9  *
10  * Unless required by applicable law or agreed to in writing, software
11  * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
12  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
13  * License for the specific language governing permissions and limitations
14  * under the License.
15 <a name="2"></a> */
16 package io.netty.buffer;
17 <font color="#980517"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>import org.junit.jupiter.api.Test;
18 import static org.junit.jupiter.api.Assertions.assertEquals;
19 import static org.junit.jupiter.api.Assertions.assertFalse;
20 import static org.junit.jupiter.api.Assertions.assertNotNull;
21 import static org.junit.jupiter.api.Assertions.assertTrue;
22 public class DefaultByteBufHolderTest {
23 <a name="0"></a>
24     @Test
25     public void testToString() {</b></font>
26         <font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>ByteBufHolder holder = new DefaultByteBufHolder(Unpooled.buffer());
27         assertEquals(1, holder.refCnt());
28         assertNotNull(holder.toString());
29         assertTrue(holder.release());
30         assertNotNull(holder.toString</b></font>());
31     }
32     @Test
33     public void testEqualsAndHashCode() {
34         ByteBufHolder holder = new DefaultByteBufHolder(Unpooled.EMPTY_BUFFER);
35         ByteBufHolder copy = holder.copy();
36         try {
37             assertEquals(holder, copy);
38             assertEquals(holder.hashCode(), copy.hashCode());
39         } finally {
40             holder.release();
41             copy.release();
42         }
43     }
44     @SuppressWarnings("SimplifiableJUnitAssertion")
45     @Test
46     public void testDifferentClassesAreNotEqual() {
47         ByteBufHolder dflt = new DefaultByteBufHolder(Unpooled.EMPTY_BUFFER);
48         ByteBufHolder other = new OtherByteBufHolder(Unpooled.EMPTY_BUFFER, 123);
49         ByteBufHolder constant1 = new DefaultByteBufHolder(Unpooled.EMPTY_BUFFER) {
50         };
51         ByteBufHolder constant2 = new DefaultByteBufHolder(Unpooled.EMPTY_BUFFER) {
52 <a name="1"></a>        };
53         try {
54             <font color="#f63526"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>assertFalse(dflt.equals(other));
55             assertFalse(dflt.equals(constant1));
56             assertFalse(constant1.equals(dflt));
57             assertFalse(constant1.equals(other));
58             assertFalse(constant1.equals</b></font>(constant2));
59         } finally {
60             dflt.release();
61             other.release();
62             constant1.release();
63             constant2.release();
64         }
65     }
66     private static class OtherByteBufHolder extends DefaultByteBufHolder {
67         private final int extraField;
68         OtherByteBufHolder(final ByteBuf data, final int extraField) {
69             super(data);
70             this.extraField = extraField;
71         }
72         @Override
73         public boolean equals(final Object o) {
74             if (this == o) {
75                 return true;
76             }
77             if (o == null || getClass() != o.getClass()) {
78                 return false;
79             }
80             if (!super.equals(o)) {
81                 return false;
82             }
83             final OtherByteBufHolder that = (OtherByteBufHolder) o;
84             return extraField == that.extraField;
85         }
86         @Override
87         public int hashCode() {
88             int result = super.hashCode();
89             result = 31 * result + extraField;
90             return result;
91         }
92     }
93 }
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
