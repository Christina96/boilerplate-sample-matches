
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Tokens: 17, <button onclick='openModal()' class='match'></button></h2>
        <div class="column">
            <h3>BungeeCord-MDEwOlJlcG9zaXRvcnk2MDg0MjEw-flat-ChatColor.java</h3>
            <pre><code>1  package net.md_5.bungee.api;
2  import com.google.common.base.Preconditions;
3  import java.awt.Color;
4  import java.util.HashMap;
5  import java.util.Locale;
6  import java.util.Map;
7  import java.util.Objects;
8  import java.util.regex.Pattern;
9  import lombok.Getter;
10  public final class ChatColor
11  {
12      public static final char COLOR_CHAR = '\u00A7';
13      public static final String ALL_CODES = "0123456789AaBbCcDdEeFfKkLlMmNnOoRrXx";
14      public static final Pattern STRIP_COLOR_PATTERN = Pattern.compile( "(?i)" + String.valueOf( COLOR_CHAR ) + "[0-9A-FK-ORX]" );
15      private static final Map<Character, ChatColor> BY_CHAR = new HashMap<Character, ChatColor>();
16      private static final Map<String, ChatColor> BY_NAME = new HashMap<String, ChatColor>();
17      public static final ChatColor BLACK = new ChatColor( '0', "black", new Color( 0x000000 ) );
18      public static final ChatColor DARK_BLUE = new ChatColor( '1', "dark_blue", new Color( 0x0000AA ) );
19      public static final ChatColor DARK_GREEN = new ChatColor( '2', "dark_green", new Color( 0x00AA00 ) );
20      public static final ChatColor DARK_AQUA = new ChatColor( '3', "dark_aqua", new Color( 0x00AAAA ) );
21      public static final ChatColor DARK_RED = new ChatColor( '4', "dark_red", new Color( 0xAA0000 ) );
22      public static final ChatColor DARK_PURPLE = new ChatColor( '5', "dark_purple", new Color( 0xAA00AA ) );
23      public static final ChatColor GOLD = new ChatColor( '6', "gold", new Color( 0xFFAA00 ) );
24      public static final ChatColor GRAY = new ChatColor( '7', "gray", new Color( 0xAAAAAA ) );
25      public static final ChatColor DARK_GRAY = new ChatColor( '8', "dark_gray", new Color( 0x555555 ) );
26      public static final ChatColor BLUE = new ChatColor( '9', "blue", new Color( 0x5555FF ) );
27      public static final ChatColor GREEN = new ChatColor( 'a', "green", new Color( 0x55FF55 ) );
28      public static final ChatColor AQUA = new ChatColor( 'b', "aqua", new Color( 0x55FFFF ) );
29      public static final ChatColor RED = new ChatColor( 'c', "red", new Color( 0xFF5555 ) );
30      public static final ChatColor LIGHT_PURPLE = new ChatColor( 'd', "light_purple", new Color( 0xFF55FF ) );
31      public static final ChatColor YELLOW = new ChatColor( 'e', "yellow", new Color( 0xFFFF55 ) );
32      public static final ChatColor WHITE = new ChatColor( 'f', "white", new Color( 0xFFFFFF ) );
33      public static final ChatColor MAGIC = new ChatColor( 'k', "obfuscated" );
34      public static final ChatColor BOLD = new ChatColor( 'l', "bold" );
35      public static final ChatColor STRIKETHROUGH = new ChatColor( 'm', "strikethrough" );
36      public static final ChatColor UNDERLINE = new ChatColor( 'n', "underline" );
37      public static final ChatColor ITALIC = new ChatColor( 'o', "italic" );
38      public static final ChatColor RESET = new ChatColor( 'r', "reset" );
39      private static int count = 0;
40      private final String toString;
41      @Getter
42      private final String name;
43      private final int ordinal;
44      @Getter
45      private final Color color;
46      private ChatColor(char code, String name)
47      {
48          this( code, name, null );
49      }
50      private ChatColor(char code, String name, Color color)
51      {
52          this.name = name;
53          this.toString = new String( new char[]
54          {
55              COLOR_CHAR, code
56          } );
57          this.ordinal = count++;
58          this.color = color;
59          BY_CHAR.put( code, this );
60          BY_NAME.put( name.toUpperCase( Locale.ROOT ), this );
61      }
62      private ChatColor(String name, String toString, int rgb)
63      {
64          this.name = name;
65          this.toString = toString;
66          this.ordinal = -1;
67          this.color = new Color( rgb );
68      }
69      @Override
70      public int hashCode()
71      {
72          int hash = 7;
73          hash = 53 * hash + Objects.hashCode( this.toString );
74          return hash;
75      }
76      @Override
77      public boolean equals(Object obj)
78      {
79          if ( this == obj )
80          {
81              return true;
82          }
83          if ( obj == null || getClass() != obj.getClass() )
84          {
85              return false;
86          }
87          final ChatColor other = (ChatColor) obj;
88          return Objects.equals( this.toString, other.toString );
89      }
90      @Override
91      public String toString()
92      {
93          return toString;
94      }
95      public static String stripColor(final String input)
96      {
97          if ( input == null )
98          {
99              return null;
100          }
101          return STRIP_COLOR_PATTERN.matcher( input ).replaceAll( "" );
102      }
103      public static String translateAlternateColorCodes(char altColorChar, String textToTranslate)
104      {
105          char[] b = textToTranslate.toCharArray();
106          for ( int i = 0; i < b.length - 1; i++ )
107          {
108              if ( b[i] == altColorChar && ALL_CODES.indexOf( b[i + 1] ) > -1 )
109              {
110                  b[i] = ChatColor.COLOR_CHAR;
111                  b[i + 1] = Character.toLowerCase( b[i + 1] );
112              }
113          }
114          return new String( b );
115      }
116      public static ChatColor getByChar(char code)
117      {
118          return BY_CHAR.get( code );
119      }
120      public static ChatColor of(Color color)
121      {
122          return of( "#" + String.format( "%08x", color.getRGB() ).substring( 2 ) );
123      }
124      public static ChatColor of(String string)
125      {
126          Preconditions.checkArgument( string != null, "string cannot be null" );
127          if ( string.startsWith( "#" ) && string.length() == 7 )
128          {
129              int rgb;
130              try
131              {
132                  rgb = Integer.parseInt( string.substring( 1 ), 16 );
133              } catch ( NumberFormatException ex )
134              {
135                  throw new IllegalArgumentException( "Illegal hex string " + string );
136              }
137              StringBuilder magic = new StringBuilder( COLOR_CHAR + "x" );
138              for ( char c : string.substring( 1 ).toCharArray() )
139              {
140                  magic.append( COLOR_CHAR ).append( c );
141              }
142              return new ChatColor( string, magic.toString(), rgb );
143          }
<span onclick='openModal()' class='match'>144          ChatColor defined = BY_NAME.get( string.toUpperCase( Locale.ROOT ) );
145          if ( defined != null )
</span>146          {
147              return defined;
148          }
149          throw new IllegalArgumentException( "Could not parse ChatColor " + string );
150      }
151      @Deprecated
152      public static ChatColor valueOf(String name)
153      {
154          Preconditions.checkNotNull( name, "Name is null" );
155          ChatColor defined = BY_NAME.get( name );
156          Preconditions.checkArgument( defined != null, "No enum constant " + ChatColor.class.getName() + "." + name );
157          return defined;
158      }
159      @Deprecated
160      public static ChatColor[] values()
161      {
162          return BY_CHAR.values().toArray( new ChatColor[ 0 ] );
163      }
164      @Deprecated
165      public String name()
166      {
167          return getName().toUpperCase( Locale.ROOT );
168      }
169      @Deprecated
170      public int ordinal()
171      {
172          Preconditions.checkArgument( ordinal >= 0, "Cannot get ordinal of hex color" );
173          return ordinal;
174      }
175  }
</code></pre>
        </div>
        <div class="column">
            <h3>BungeeCord-MDEwOlJlcG9zaXRvcnk2MDg0MjEw-flat-YamlConfig.java</h3>
            <pre><code>1  package net.md_5.bungee.conf;
2  import com.google.common.base.Charsets;
3  import edu.umd.cs.findbugs.annotations.SuppressFBWarnings;
4  import java.io.File;
5  import java.io.FileInputStream;
6  import java.io.FileOutputStream;
7  import java.io.IOException;
8  import java.io.InputStream;
9  import java.io.OutputStreamWriter;
10  import java.io.Writer;
11  import java.net.SocketAddress;
12  import java.util.ArrayList;
13  import java.util.Arrays;
14  import java.util.Collection;
15  import java.util.Collections;
16  import java.util.HashMap;
17  import java.util.HashSet;
18  import java.util.LinkedHashMap;
19  import java.util.List;
20  import java.util.Locale;
21  import java.util.Map;
22  import java.util.logging.Level;
23  import lombok.RequiredArgsConstructor;
24  import net.md_5.bungee.Util;
25  import net.md_5.bungee.api.ChatColor;
26  import net.md_5.bungee.api.ProxyServer;
27  import net.md_5.bungee.api.config.ConfigurationAdapter;
28  import net.md_5.bungee.api.config.ListenerInfo;
29  import net.md_5.bungee.api.config.ServerInfo;
30  import net.md_5.bungee.util.CaseInsensitiveMap;
31  import org.yaml.snakeyaml.DumperOptions;
32  import org.yaml.snakeyaml.Yaml;
33  import org.yaml.snakeyaml.error.YAMLException;
34  public class YamlConfig implements ConfigurationAdapter
35  {
36      @RequiredArgsConstructor
37      private enum DefaultTabList
38      {
39          GLOBAL(), GLOBAL_PING(), SERVER();
40      }
41      private final Yaml yaml;
42      private Map<String, Object> config;
43      private final File file = new File( "config.yml" );
44      public YamlConfig()
45      {
46          DumperOptions options = new DumperOptions();
47          options.setDefaultFlowStyle( DumperOptions.FlowStyle.BLOCK );
48          yaml = new Yaml( options );
49      }
50      @Override
51      public void load()
52      {
53          try
54          {
55              file.createNewFile();
56              try ( InputStream is = new FileInputStream( file ) )
57              {
58                  try
59                  {
60                      config = (Map) yaml.load( is );
61                  } catch ( YAMLException ex )
62                  {
63                      throw new RuntimeException( "Invalid configuration encountered - this is a configuration error and NOT a bug! Please attempt to fix the error or see https:&bsol;&bsol;www.spigotmc.org/ for help.", ex );
64                  }
65              }
66              if ( config == null )
67              {
68                  config = new CaseInsensitiveMap<>();
69              } else
70              {
71                  config = new CaseInsensitiveMap<>( config );
72              }
73          } catch ( IOException ex )
74          {
75              throw new RuntimeException( "Could not load configuration!", ex );
76          }
77          Map<String, Object> permissions = get( "permissions", null );
78          if ( permissions == null )
79          {
80              set( "permissions.default", Arrays.asList( new String[]
81              {
82                  "bungeecord.command.server", "bungeecord.command.list"
83              } ) );
84              set( "permissions.admin", Arrays.asList( new String[]
85              {
86                  "bungeecord.command.alert", "bungeecord.command.end", "bungeecord.command.ip", "bungeecord.command.reload", "bungeecord.command.kick"
87              } ) );
88          }
89          Map<String, Object> groups = get( "groups", null );
90          if ( groups == null )
91          {
92              set( "groups.md_5", Collections.singletonList( "admin" ) );
93          }
94      }
95      private <T> T get(String path, T def)
96      {
97          return get( path, def, config );
98      }
99      @SuppressWarnings("unchecked")
100      private <T> T get(String path, T def, Map submap)
101      {
102          int index = path.indexOf( '.' );
103          if ( index == -1 )
104          {
105              Object val = submap.get( path );
106              if ( val == null && def != null )
107              {
108                  val = def;
109                  submap.put( path, def );
110                  save();
111              }
112              return (T) val;
113          } else
114          {
115              String first = path.substring( 0, index );
116              String second = path.substring( index + 1, path.length() );
117              Map sub = (Map) submap.get( first );
118              if ( sub == null )
119              {
120                  sub = new LinkedHashMap();
121                  submap.put( first, sub );
122              }
123              return get( second, def, sub );
124          }
125      }
126      private void set(String path, Object val)
127      {
128          set( path, val, config );
129      }
130      @SuppressWarnings("unchecked")
131      private void set(String path, Object val, Map submap)
132      {
133          int index = path.indexOf( '.' );
134          if ( index == -1 )
135          {
136              if ( val == null )
137              {
138                  submap.remove( path );
139              } else
140              {
141                  submap.put( path, val );
142              }
143              save();
144          } else
145          {
146              String first = path.substring( 0, index );
147              String second = path.substring( index + 1, path.length() );
148              Map sub = (Map) submap.get( first );
149              if ( sub == null )
150              {
151                  sub = new LinkedHashMap();
152                  submap.put( first, sub );
153              }
154              set( second, val, sub );
155          }
156      }
157      private void save()
158      {
159          try
160          {
161              try ( Writer wr = new OutputStreamWriter( new FileOutputStream( file ), Charsets.UTF_8 ) )
162              {
163                  yaml.dump( config, wr );
164              }
165          } catch ( IOException ex )
166          {
167              ProxyServer.getInstance().getLogger().log( Level.WARNING, "Could not save config", ex );
168          }
169      }
170      @Override
171      public int getInt(String path, int def)
172      {
173          return get( path, def );
174      }
175      @Override
176      public String getString(String path, String def)
177      {
178          return get( path, def );
179      }
180      @Override
181      public boolean getBoolean(String path, boolean def)
182      {
183          return get( path, def );
184      }
185      @Override
186      @SuppressWarnings("unchecked")
187      public Map<String, ServerInfo> getServers()
188      {
189          Map<String, Map<String, Object>> base = get( "servers", (Map) Collections.singletonMap( "lobby", new HashMap<>() ) );
190          Map<String, ServerInfo> ret = new HashMap<>();
191          for ( Map.Entry<String, Map<String, Object>> entry : base.entrySet() )
192          {
193              Map<String, Object> val = entry.getValue();
194              String name = entry.getKey();
195              String addr = get( "address", "localhost:25565", val );
196              String motd = ChatColor.translateAlternateColorCodes( '&', get( "motd", "&1Just another BungeeCord - Forced Host", val ) );
197              boolean restricted = get( "restricted", false, val );
198              SocketAddress address = Util.getAddr( addr );
199              ServerInfo info = ProxyServer.getInstance().constructServerInfo( name, address, motd, restricted );
200              ret.put( name, info );
201          }
202          return ret;
203      }
204      @Override
205      @SuppressWarnings("unchecked")
206      @SuppressFBWarnings("RCN_REDUNDANT_NULLCHECK_OF_NONNULL_VALUE")
207      public Collection<ListenerInfo> getListeners()
208      {
209          Collection<Map<String, Object>> base = get( "listeners", (Collection) Arrays.asList( new Map[]
210          {
211              new HashMap()
212          } ) );
213          Map<String, String> forcedDef = new HashMap<>();
214          forcedDef.put( "pvp.md-5.net", "pvp" );
215          Collection<ListenerInfo> ret = new HashSet<>();
216          for ( Map<String, Object> val : base )
217          {
218              String motd = get( "motd", "&1Another Bungee server", val );
219              motd = ChatColor.translateAlternateColorCodes( '&', motd );
220              int maxPlayers = get( "max_players", 1, val );
221              boolean forceDefault = get( "force_default_server", false, val );
222              String host = get( "host", "0.0.0.0:25577", val );
223              int tabListSize = get( "tab_size", 60, val );
224              SocketAddress address = Util.getAddr( host );
225              Map<String, String> forced = new CaseInsensitiveMap<>( get( "forced_hosts", forcedDef, val ) );
226              String tabListName = get( "tab_list", "GLOBAL_PING", val );
<span onclick='openModal()' class='match'>227              DefaultTabList value = DefaultTabList.valueOf( tabListName.toUpperCase( Locale.ROOT ) );
228              if ( value == null )
</span>229              {
230                  value = DefaultTabList.GLOBAL_PING;
231              }
232              boolean setLocalAddress = get( "bind_local_address", true, val );
233              boolean pingPassthrough = get( "ping_passthrough", false, val );
234              boolean query = get( "query_enabled", false, val );
235              int queryPort = get( "query_port", 25577, val );
236              boolean proxyProtocol = get( "proxy_protocol", false, val );
237              List<String> serverPriority = new ArrayList<>( get( "priorities", Collections.EMPTY_LIST, val ) );
238              String defaultServer = get( "default_server", null, val );
239              String fallbackServer = get( "fallback_server", null, val );
240              if ( defaultServer != null )
241              {
242                  serverPriority.add( defaultServer );
243                  set( "default_server", null, val );
244              }
245              if ( fallbackServer != null )
246              {
247                  serverPriority.add( fallbackServer );
248                  set( "fallback_server", null, val );
249              }
250              if ( serverPriority.isEmpty() )
251              {
252                  serverPriority.add( "lobby" );
253              }
254              set( "priorities", serverPriority, val );
255              ListenerInfo info = new ListenerInfo( address, motd, maxPlayers, tabListSize, serverPriority, forceDefault, forced, value.toString(), setLocalAddress, pingPassthrough, queryPort, query, proxyProtocol );
256              ret.add( info );
257          }
258          return ret;
259      }
260      @Override
261      @SuppressWarnings("unchecked")
262      public Collection<String> getGroups(String player)
263      {
264          Map<String, Collection<String>> raw = get( "groups", Collections.emptyMap() );
265          Collection<String> groups = raw.get( player );
266          Collection<String> ret = ( groups == null ) ? new HashSet<String>() : new HashSet<>( groups );
267          ret.add( "default" );
268          return ret;
269      }
270      @Override
271      public Collection<?> getList(String path, Collection<?> def)
272      {
273          return get( path, def );
274      }
275      @Override
276      @SuppressWarnings("unchecked")
277      public Collection<String> getPermissions(String group)
278      {
279          Collection<String> permissions = get( "permissions." + group, null );
280          return ( permissions == null ) ? Collections.EMPTY_SET : permissions;
281      }
282  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from BungeeCord-MDEwOlJlcG9zaXRvcnk2MDg0MjEw-flat-ChatColor.java</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from BungeeCord-MDEwOlJlcG9zaXRvcnk2MDg0MjEw-flat-YamlConfig.java</div>
                </div>
                <div class="column column_space"><pre><code>144          ChatColor defined = BY_NAME.get( string.toUpperCase( Locale.ROOT ) );
145          if ( defined != null )
</pre></code></div>
                <div class="column column_space"><pre><code>227              DefaultTabList value = DefaultTabList.valueOf( tabListName.toUpperCase( Locale.ROOT ) );
228              if ( value == null )
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    