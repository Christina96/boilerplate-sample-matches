<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Matches for IndexVersionValue.java & DocIdSeqNoAndSource.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</HEAD>
<body>
  <div style="align-items: center; display: flex; justify-content: space-around;">
    <div>
      <h3 align="center">
Matches for IndexVersionValue.java & DocIdSeqNoAndSource.java
      </h3>
      <h1 align="center">
        30.8%
      </h1>
      <center>
        <a href="index.html" target="_top">
          INDEX
        </a>
        <span>-</span>
        <a href="help-en.html" target="_top">
          HELP
        </a>
      </center>
    </div>
    <div>
<TABLE BORDER="1" CELLSPACING="0" BGCOLOR="#d0d0d0">
<TR><TH><TH>IndexVersionValue.java (34.328358%)<TH>DocIdSeqNoAndSource.java (28.04878%)<TH>Tokens
<TR><TD BGCOLOR="#0000ff"><FONT COLOR="#0000ff">-</FONT><TD><A HREF="javascript:ZweiFrames('match200156-0.html#0',2,'match200156-1.html#0',3)" NAME="0">(41-46)<TD><A HREF="javascript:ZweiFrames('match200156-0.html#0',2,'match200156-1.html#0',3)" NAME="0">(61-66)</A><TD ALIGN=center><FONT COLOR="#ff0000">14</FONT>
<TR><TD BGCOLOR="#f63526"><FONT COLOR="#f63526">-</FONT><TD><A HREF="javascript:ZweiFrames('match200156-0.html#1',2,'match200156-1.html#1',3)" NAME="1">(54-59)<TD><A HREF="javascript:ZweiFrames('match200156-0.html#1',2,'match200156-1.html#1',3)" NAME="1">(68-74)</A><TD ALIGN=center><FONT COLOR="#a30000">9</FONT>
</TABLE>
    </div>
  </div>
  <hr>
  <div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>IndexVersionValue.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<HR>
<PRE>
/*
 * Licensed to Elasticsearch under one or more contributor
 * license agreements. See the NOTICE file distributed with
 * this work for additional information regarding copyright
 * ownership. Elasticsearch licenses this file to you under
 * the Apache License, Version 2.0 (the &quot;License&quot;); you may
 * not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */

package org.elasticsearch.index.engine;

import org.apache.lucene.util.RamUsageEstimator;
import org.elasticsearch.index.translog.Translog;

import java.util.Objects;

final class IndexVersionValue extends VersionValue {

    private static final long RAM_BYTES_USED = RamUsageEstimator.shallowSizeOfInstance(IndexVersionValue.class);

    private final Translog.Location translogLocation;

    IndexVersionValue(Translog.Location translogLocation, long version, long seqNo, long term) {
        super(version, seqNo, term);
        this.translogLocation = translogLocation;
    }

<A NAME="0"></A>    @Override
    public long ramBytesUsed() {
        return RAM_BYTES_USED + RamUsageEstimator.shallowSizeOf(translogLocation);
    <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match200156-1.html#0',3,'match200156-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;</B></FONT>
        if (!super.equals(o)) return false;
        IndexVersionValue that = (IndexVersionValue) o;
        return Objects.equals(translogLocation, that.translogLocation);
    }
<A NAME="1"></A>
    @Override
    public int hashCode() {
        <FONT color="#f63526"><A HREF="javascript:ZweiFrames('match200156-1.html#1',3,'match200156-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>return Objects.hash(super.hashCode(), translogLocation);
    }

    @Override
    public String toString() {
        return</B></FONT> &quot;IndexVersionValue{&quot; +
            &quot;version=&quot; + version +
            &quot;, seqNo=&quot; + seqNo +
            &quot;, term=&quot; + term +
            &quot;, location=&quot; + translogLocation +
            '}';
    }

    @Override
    public Translog.Location getLocation() {
        return translogLocation;
    }
}
</PRE>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>DocIdSeqNoAndSource.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<HR>
<PRE>
/*
 * Licensed to Elasticsearch under one or more contributor
 * license agreements. See the NOTICE file distributed with
 * this work for additional information regarding copyright
 * ownership. Elasticsearch licenses this file to you under
 * the Apache License, Version 2.0 (the &quot;License&quot;); you may
 * not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */

package org.elasticsearch.index.engine;


import org.apache.lucene.util.BytesRef;

import java.util.Objects;

/** A tuple of document id, sequence number, primary term, source and version of a document */
public final class DocIdSeqNoAndSource {
    private final String id;
    private final BytesRef source;
    private final long seqNo;
    private final long primaryTerm;
    private final long version;

    public DocIdSeqNoAndSource(String id, BytesRef source, long seqNo, long primaryTerm, long version) {
        this.id = id;
        this.source = source;
        this.seqNo = seqNo;
        this.primaryTerm = primaryTerm;
        this.version = version;
    }

    public String getId() {
        return id;
    }

    public BytesRef getSource() {
        return source;
    }

    public long getSeqNo() {
        return seqNo;
    }

    public long getPrimaryTerm() {
        return primaryTerm;
    }
<A NAME="0"></A>
    public long getVersion() {
        return version;
    <FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match200156-0.html#0',2,'match200156-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>}

    @Override
    public boolean equals(Object o) {
<A NAME="1"></A>        if (this == o) return true;
        if (o == null || getClass() != o.getClass()) return false;</B></FONT>
        DocIdSeqNoAndSource that = (DocIdSeqNoAndSource) o;
        <FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match200156-0.html#1',2,'match200156-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>return Objects.equals(id, that.id) &amp;&amp; Objects.equals(source, that.source)
            &amp;&amp; seqNo == that.seqNo &amp;&amp; primaryTerm == that.primaryTerm &amp;&amp; version == that.version;
    }

    @Override
    public int hashCode() {
        return</B></FONT> Objects.hash(id, source, seqNo, primaryTerm, version);
    }

    @Override
    public String toString() {
        return &quot;doc{&quot; + &quot;id='&quot; + id + &quot; seqNo=&quot; + seqNo + &quot; primaryTerm=&quot; + primaryTerm
            + &quot; version=&quot; + version + &quot; source= &quot; + (source != null ? source.utf8ToString() : null) + &quot;}&quot;;
    }
}
</PRE>
</div>
  </div>
</body>
</html>
