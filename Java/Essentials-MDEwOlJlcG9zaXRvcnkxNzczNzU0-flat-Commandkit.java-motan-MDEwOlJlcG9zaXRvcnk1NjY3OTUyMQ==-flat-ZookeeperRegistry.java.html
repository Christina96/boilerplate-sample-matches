
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 3.1161473087818696%, Tokens: 11, <button onclick='openModal()' class='match'></button></h2>
        <div class="column">
            <h3>Essentials-MDEwOlJlcG9zaXRvcnkxNzczNzU0-flat-Commandkit.java</h3>
            <pre><code><span onclick='openModal()' class='match'>1  package com.earth2me.essentials.commands;
2  import com.earth2me.essentials.CommandSource;
3  import static com.earth2me.essentials.I18n.tl;
4  import com.earth2me.essentials.Kit;
5  import com.earth2me.essentials.User;
6  import com.earth2me.essentials.utils.StringUtil;
7  import java.util.ArrayList;
8  import java.util.List;
9  import java.util.Locale;
10  import java.util.logging.Level;
11  import org.bukkit.Server;
</span>12  public class Commandkit extends EssentialsCommand
13  {
14  	public Commandkit()
15  	{
16  		super("kit");
17  	}
18  	@Override
19  	public void run(final Server server, final User user, final String commandLabel, final String[] args) throws Exception
20  	{
21  		if (args.length < 1)
22  		{
23  			final String kitList = Kit.listKits(ess, user);
24  			user.sendMessage(kitList.length() > 0 ? tl("kits", kitList) : tl("noKits"));
25  			throw new NoChargeException();
26  		}
27  		else if (args.length > 1 && user.isAuthorized("essentials.kit.others"))
28  		{
29  			final User userTo = getPlayer(server, user, args, 1);
30  			final String kitNames = StringUtil.sanitizeString(args[0].toLowerCase(Locale.ENGLISH)).trim();
31  			giveKits(userTo, user, kitNames);
32  		}
33  		else
34  		{
35  			final String kitNames = StringUtil.sanitizeString(args[0].toLowerCase(Locale.ENGLISH)).trim();
36  			giveKits(user, user, kitNames);
37  		}
38  	}
39  	@Override
40  	public void run(final Server server, final CommandSource sender, final String commandLabel, final String[] args) throws Exception
41  	{
42  		if (args.length < 2)
43  		{
44  			final String kitList = Kit.listKits(ess, null);
45  			sender.sendMessage(kitList.length() > 0 ? tl("kits", kitList) : tl("noKits"));
46  			throw new NoChargeException();
47  		}
48  		else
49  		{
50  			final User userTo = getPlayer(server, args, 1, true, false);
51  			final String[] kits = args[0].toLowerCase(Locale.ENGLISH).split(",");
52  			for (final String kitName : kits)
53  			{
54  				final Kit kit = new Kit(kitName, ess);
55  				kit.expandItems(userTo);
56  				sender.sendMessage(tl("kitGiveTo", kitName, userTo.getDisplayName()));
57  				userTo.sendMessage(tl("kitReceive", kitName));
58  			}
59  		}
60  	}
61  	private void giveKits(final User userTo, final User userFrom, final String kitNames) throws Exception
62  	{
63  		if (kitNames.isEmpty())
64  		{
65  			throw new Exception(tl("kitNotFound"));
66  		}
67  		String[] kitList = kitNames.split(",");
68  		List<Kit> kits = new ArrayList<Kit>();
69  		for (final String kitName : kitList)
70  		{
71  			if (kitName.isEmpty())
72  			{
73  				throw new Exception(tl("kitNotFound"));
74  			}
75  			Kit kit = new Kit(kitName, ess);
76  			kit.checkPerms(userFrom);
77  			kit.checkDelay(userFrom);
78  			kit.checkAffordable(userFrom);
79  			kits.add(kit);
80  		}
81  		for (final Kit kit : kits)
82  		{
83  			try
84  			{
85  				kit.checkDelay(userFrom);
86  				kit.checkAffordable(userFrom);
87  				kit.setTime(userFrom);
88  				kit.expandItems(userTo);
89  				kit.chargeUser(userTo);
90  				if (!userFrom.equals(userTo))
91  				{
92  					userFrom.sendMessage(tl("kitGiveTo", kit.getName(), userTo.getDisplayName()));
93  				}
94  				userTo.sendMessage(tl("kitReceive", kit.getName()));
95  			}
96  			catch (NoChargeException ex)			
97  			{
98  				if (ess.getSettings().isDebug())
99  				{
100  					ess.getLogger().log(Level.INFO, "Soft kit error, abort spawning " + kit.getName(), ex);
101  				}
102  			}
103  			catch (Exception ex)			
104  			{
105  				ess.showError(userFrom.getSource(), ex, "\\ kit: " + kit.getName());
106  			}
107  		}
108  	}
109  }
</code></pre>
        </div>
        <div class="column">
            <h3>motan-MDEwOlJlcG9zaXRvcnk1NjY3OTUyMQ==-flat-ZookeeperRegistry.java</h3>
            <pre><code><span onclick='openModal()' class='match'>1  package com.weibo.api.motan.registry.zookeeper;
2  import com.weibo.api.motan.closable.Closable;
3  import com.weibo.api.motan.closable.ShutDownHook;
4  import com.weibo.api.motan.common.MotanConstants;
5  import com.weibo.api.motan.exception.MotanFrameworkException;
6  import com.weibo.api.motan.registry.support.command.CommandFailbackRegistry;
7  import com.weibo.api.motan.registry.support.command.CommandListener;
8  import com.weibo.api.motan.registry.support.command.ServiceListener;
9  import com.weibo.api.motan.rpc.URL;
10  import com.weibo.api.motan.util.ConcurrentHashSet;
11  import com.weibo.api.motan.util.LoggerUtil;
</span>12  import org.I0Itec.zkclient.IZkChildListener;
13  import org.I0Itec.zkclient.IZkDataListener;
14  import org.I0Itec.zkclient.IZkStateListener;
15  import org.I0Itec.zkclient.ZkClient;
16  import org.apache.commons.lang3.StringUtils;
17  import org.apache.zookeeper.Watcher;
18  import java.util.*;
19  import java.util.concurrent.ConcurrentHashMap;
20  import java.util.concurrent.locks.ReentrantLock;
21  public class ZookeeperRegistry extends CommandFailbackRegistry implements Closable {
22      private final ReentrantLock clientLock = new ReentrantLock();
23      private final ReentrantLock serverLock = new ReentrantLock();
24      private ZkClient zkClient;
25      private Set<URL> availableServices = new ConcurrentHashSet<>();
26      private ConcurrentHashMap<URL, ConcurrentHashMap<ServiceListener, IZkChildListener>> serviceListeners = new ConcurrentHashMap<>();
27      private ConcurrentHashMap<URL, ConcurrentHashMap<CommandListener, IZkDataListener>> commandListeners = new ConcurrentHashMap<>();
28      public ZookeeperRegistry(URL url, ZkClient client) {
29          super(url);
30          this.zkClient = client;
31          IZkStateListener zkStateListener = new IZkStateListener() {
32              @Override
33              public void handleStateChanged(Watcher.Event.KeeperState state) throws Exception {
34              }
35              @Override
36              public void handleNewSession() throws Exception {
37                  LoggerUtil.info("zkRegistry get new session notify.");
38                  reconnectService();
39                  reconnectClient();
40              }
41              @Override
42              public void handleSessionEstablishmentError(Throwable throwable) throws Exception {
43                  LoggerUtil.warn("zkRegistry establish session error.", throwable);
44              }
45          };
46          zkClient.subscribeStateChanges(zkStateListener);
47          ShutDownHook.registerShutdownHook(this);
48      }
49      public ConcurrentHashMap<URL, ConcurrentHashMap<ServiceListener, IZkChildListener>> getServiceListeners() {
50          return serviceListeners;
51      }
52      public ConcurrentHashMap<URL, ConcurrentHashMap<CommandListener, IZkDataListener>> getCommandListeners() {
53          return commandListeners;
54      }
55      @Override
56      protected void subscribeService(final URL url, final ServiceListener serviceListener) {
57          try {
58              clientLock.lock();
59              ConcurrentHashMap<ServiceListener, IZkChildListener> childChangeListeners = serviceListeners.get(url);
60              if (childChangeListeners == null) {
61                  serviceListeners.putIfAbsent(url, new ConcurrentHashMap<ServiceListener, IZkChildListener>());
62                  childChangeListeners = serviceListeners.get(url);
63              }
64              IZkChildListener zkChildListener = childChangeListeners.get(serviceListener);
65              if (zkChildListener == null) {
66                  childChangeListeners.putIfAbsent(serviceListener, new IZkChildListener() {
67                      @Override
68                      public void handleChildChange(String parentPath, List<String> currentChildren) {
69                          serviceListener.notifyService(url, getUrl(), nodeChildsToUrls(url, parentPath, currentChildren));
70                          LoggerUtil.info(String.format("[ZookeeperRegistry] service list change: path=%s, currentChildren=%s", parentPath, currentChildren));
71                      }
72                  });
73                  zkChildListener = childChangeListeners.get(serviceListener);
74              }
75              try {
76                  removeNode(url, ZkNodeType.CLIENT);
77                  createNode(url, ZkNodeType.CLIENT);
78              } catch (Exception e) {
79                  LoggerUtil.warn("[ZookeeperRegistry] subscribe service: create node error, path=%s, msg=%s", ZkUtils.toNodePath(url, ZkNodeType.CLIENT), e.getMessage());
80              }
81              String serverTypePath = ZkUtils.toNodeTypePath(url, ZkNodeType.AVAILABLE_SERVER);
82              zkClient.subscribeChildChanges(serverTypePath, zkChildListener);
83              LoggerUtil.info(String.format("[ZookeeperRegistry] subscribe service: path=%s, info=%s", ZkUtils.toNodePath(url, ZkNodeType.AVAILABLE_SERVER), url.toFullStr()));
84          } catch (Throwable e) {
85              throw new MotanFrameworkException(String.format("Failed to subscribe %s to zookeeper(%s), cause: %s", url, getUrl(), e.getMessage()), e);
86          } finally {
87              clientLock.unlock();
88          }
89      }
90      @Override
91      protected void subscribeCommand(final URL url, final CommandListener commandListener) {
92          try {
93              clientLock.lock();
94              ConcurrentHashMap<CommandListener, IZkDataListener> dataChangeListeners = commandListeners.get(url);
95              if (dataChangeListeners == null) {
96                  commandListeners.putIfAbsent(url, new ConcurrentHashMap<CommandListener, IZkDataListener>());
97                  dataChangeListeners = commandListeners.get(url);
98              }
99              IZkDataListener zkDataListener = dataChangeListeners.get(commandListener);
100              if (zkDataListener == null) {
101                  dataChangeListeners.putIfAbsent(commandListener, new IZkDataListener() {
102                      @Override
103                      public void handleDataChange(String dataPath, Object data) throws Exception {
104                          commandListener.notifyCommand(url, (String) data);
105                          LoggerUtil.info(String.format("[ZookeeperRegistry] command data change: path=%s, command=%s", dataPath, (String) data));
106                      }
107                      @Override
108                      public void handleDataDeleted(String dataPath) throws Exception {
109                          commandListener.notifyCommand(url, null);
110                          LoggerUtil.info(String.format("[ZookeeperRegistry] command deleted: path=%s", dataPath));
111                      }
112                  });
113                  zkDataListener = dataChangeListeners.get(commandListener);
114              }
115              String commandPath = ZkUtils.toCommandPath(url);
116              zkClient.subscribeDataChanges(commandPath, zkDataListener);
117              LoggerUtil.info(String.format("[ZookeeperRegistry] subscribe command: path=%s, info=%s", commandPath, url.toFullStr()));
118          } catch (Throwable e) {
119              throw new MotanFrameworkException(String.format("Failed to subscribe %s to zookeeper(%s), cause: %s", url, getUrl(), e.getMessage()), e);
120          } finally {
121              clientLock.unlock();
122          }
123      }
124      @Override
125      protected void unsubscribeService(URL url, ServiceListener serviceListener) {
126          try {
127              clientLock.lock();
128              Map<ServiceListener, IZkChildListener> childChangeListeners = serviceListeners.get(url);
129              if (childChangeListeners != null) {
130                  IZkChildListener zkChildListener = childChangeListeners.get(serviceListener);
131                  if (zkChildListener != null) {
132                      zkClient.unsubscribeChildChanges(ZkUtils.toNodeTypePath(url, ZkNodeType.CLIENT), zkChildListener);
133                      childChangeListeners.remove(serviceListener);
134                  }
135              }
136          } catch (Throwable e) {
137              throw new MotanFrameworkException(String.format("Failed to unsubscribe service %s to zookeeper(%s), cause: %s", url, getUrl(), e.getMessage()), e);
138          } finally {
139              clientLock.unlock();
140          }
141      }
142      @Override
143      protected void unsubscribeCommand(URL url, CommandListener commandListener) {
144          try {
145              clientLock.lock();
146              Map<CommandListener, IZkDataListener> dataChangeListeners = commandListeners.get(url);
147              if (dataChangeListeners != null) {
148                  IZkDataListener zkDataListener = dataChangeListeners.get(commandListener);
149                  if (zkDataListener != null) {
150                      zkClient.unsubscribeDataChanges(ZkUtils.toCommandPath(url), zkDataListener);
151                      dataChangeListeners.remove(commandListener);
152                  }
153              }
154          } catch (Throwable e) {
155              throw new MotanFrameworkException(String.format("Failed to unsubscribe command %s to zookeeper(%s), cause: %s", url, getUrl(), e.getMessage()), e);
156          } finally {
157              clientLock.unlock();
158          }
159      }
160      @Override
161      protected List<URL> discoverService(URL url) {
162          try {
163              String parentPath = ZkUtils.toNodeTypePath(url, ZkNodeType.AVAILABLE_SERVER);
164              List<String> currentChilds = new ArrayList<>();
165              if (zkClient.exists(parentPath)) {
166                  currentChilds = zkClient.getChildren(parentPath);
167              }
168              return nodeChildsToUrls(url, parentPath, currentChilds);
169          } catch (Throwable e) {
170              throw new MotanFrameworkException(String.format("Failed to discover service %s from zookeeper(%s), cause: %s", url, getUrl(), e.getMessage()), e);
171          }
172      }
173      @Override
174      protected String discoverCommand(URL url) {
175          try {
176              String commandPath = ZkUtils.toCommandPath(url);
177              String command = "";
178              if (zkClient.exists(commandPath)) {
179                  command = zkClient.readData(commandPath);
180              }
181              return command;
182          } catch (Throwable e) {
183              throw new MotanFrameworkException(String.format("Failed to discover command %s from zookeeper(%s), cause: %s", url, getUrl(), e.getMessage()));
184          }
185      }
186      @Override
187      protected void doRegister(URL url) {
188          try {
189              serverLock.lock();
190              removeNode(url, ZkNodeType.AVAILABLE_SERVER);
191              removeNode(url, ZkNodeType.UNAVAILABLE_SERVER);
192              createNode(url, ZkNodeType.UNAVAILABLE_SERVER);
193          } catch (Throwable e) {
194              throw new MotanFrameworkException(String.format("Failed to register %s to zookeeper(%s), cause: %s", url, getUrl(), e.getMessage()), e);
195          } finally {
196              serverLock.unlock();
197          }
198      }
199      @Override
200      protected void doUnregister(URL url) {
201          try {
202              serverLock.lock();
203              removeNode(url, ZkNodeType.AVAILABLE_SERVER);
204              removeNode(url, ZkNodeType.UNAVAILABLE_SERVER);
205          } catch (Throwable e) {
206              throw new MotanFrameworkException(String.format("Failed to unregister %s to zookeeper(%s), cause: %s", url, getUrl(), e.getMessage()), e);
207          } finally {
208              serverLock.unlock();
209          }
210      }
211      @Override
212      protected void doAvailable(URL url) {
213          try {
214              serverLock.lock();
215              if (url == null) {
216                  availableServices.addAll(getRegisteredServiceUrls());
217                  for (URL u : getRegisteredServiceUrls()) {
218                      removeNode(u, ZkNodeType.AVAILABLE_SERVER);
219                      removeNode(u, ZkNodeType.UNAVAILABLE_SERVER);
220                      createNode(u, ZkNodeType.AVAILABLE_SERVER);
221                  }
222              } else {
223                  availableServices.add(url);
224                  removeNode(url, ZkNodeType.AVAILABLE_SERVER);
225                  removeNode(url, ZkNodeType.UNAVAILABLE_SERVER);
226                  createNode(url, ZkNodeType.AVAILABLE_SERVER);
227              }
228          } finally {
229              serverLock.unlock();
230          }
231      }
232      @Override
233      protected void doUnavailable(URL url) {
234          try {
235              serverLock.lock();
236              if (url == null) {
237                  availableServices.removeAll(getRegisteredServiceUrls());
238                  for (URL u : getRegisteredServiceUrls()) {
239                      removeNode(u, ZkNodeType.AVAILABLE_SERVER);
240                      removeNode(u, ZkNodeType.UNAVAILABLE_SERVER);
241                      createNode(u, ZkNodeType.UNAVAILABLE_SERVER);
242                  }
243              } else {
244                  availableServices.remove(url);
245                  removeNode(url, ZkNodeType.AVAILABLE_SERVER);
246                  removeNode(url, ZkNodeType.UNAVAILABLE_SERVER);
247                  createNode(url, ZkNodeType.UNAVAILABLE_SERVER);
248              }
249          } finally {
250              serverLock.unlock();
251          }
252      }
253      private List<URL> nodeChildsToUrls(URL url, String parentPath, List<String> currentChilds) {
254          List<URL> urls = new ArrayList<>();
255          if (currentChilds != null) {
256              for (String node : currentChilds) {
257                  String nodePath = parentPath + MotanConstants.PATH_SEPARATOR + node;
258                  String data = null;
259                  try {
260                      data = zkClient.readData(nodePath, true);
261                  } catch (Exception e) {
262                      LoggerUtil.warn("get zkdata fail!" + e.getMessage());
263                  }
264                  URL newurl = null;
265                  if (StringUtils.isNotBlank(data)) {
266                      try {
267                          newurl = URL.valueOf(data);
268                      } catch (Exception e) {
269                          LoggerUtil.warn(String.format("Found malformed urls from ZookeeperRegistry, path=%s", nodePath), e);
270                      }
271                  }
272                  if (newurl == null) {
273                      newurl = url.createCopy();
274                      String host = "";
275                      int port = 80;
276                      if (node.indexOf(":") > -1) {
277                          String[] hp = node.split(":");
278                          if (hp.length > 1) {
279                              host = hp[0];
280                              try {
281                                  port = Integer.parseInt(hp[1]);
282                              } catch (Exception ignore) {
283                              }
284                          }
285                      } else {
286                          host = node;
287                      }
288                      newurl.setHost(host);
289                      newurl.setPort(port);
290                  }
291                  urls.add(newurl);
292              }
293          }
294          return urls;
295      }
296      private void createNode(URL url, ZkNodeType nodeType) {
297          String nodeTypePath = ZkUtils.toNodeTypePath(url, nodeType);
298          if (!zkClient.exists(nodeTypePath)) {
299              zkClient.createPersistent(nodeTypePath, true);
300          }
301          zkClient.createEphemeral(ZkUtils.toNodePath(url, nodeType), url.toFullStr());
302      }
303      private void removeNode(URL url, ZkNodeType nodeType) {
304          String nodePath = ZkUtils.toNodePath(url, nodeType);
305          if (zkClient.exists(nodePath)) {
306              zkClient.delete(nodePath);
307          }
308      }
309      private void reconnectService() {
310          Collection<URL> allRegisteredServices = getRegisteredServiceUrls();
311          if (allRegisteredServices != null && !allRegisteredServices.isEmpty()) {
312              try {
313                  serverLock.lock();
314                  for (URL url : getRegisteredServiceUrls()) {
315                      doRegister(url);
316                  }
317                  LoggerUtil.info("[{}] reconnect: register services {}", registryClassName, allRegisteredServices);
318                  for (URL url : availableServices) {
319                      if (!getRegisteredServiceUrls().contains(url)) {
320                          LoggerUtil.warn("reconnect url not register. url:{}", url);
321                          continue;
322                      }
323                      doAvailable(url);
324                  }
325                  LoggerUtil.info("[{}] reconnect: available services {}", registryClassName, availableServices);
326              } finally {
327                  serverLock.unlock();
328              }
329          }
330      }
331      @SuppressWarnings("rawtypes")
332      private void reconnectClient() {
333          if (serviceListeners != null && !serviceListeners.isEmpty()) {
334              try {
335                  clientLock.lock();
336                  for (Map.Entry entry : serviceListeners.entrySet()) {
337                      URL url = (URL) entry.getKey();
338                      ConcurrentHashMap<ServiceListener, IZkChildListener> childChangeListeners = serviceListeners.get(url);
339                      if (childChangeListeners != null) {
340                          for (Map.Entry e : childChangeListeners.entrySet()) {
341                              subscribeService(url, (ServiceListener) e.getKey());
342                          }
343                      }
344                  }
345                  for (Map.Entry entry : commandListeners.entrySet()) {
346                      URL url = (URL) entry.getKey();
347                      ConcurrentHashMap<CommandListener, IZkDataListener> dataChangeListeners = commandListeners.get(url);
348                      if (dataChangeListeners != null) {
349                          for (Map.Entry e : dataChangeListeners.entrySet()) {
350                              subscribeCommand(url, (CommandListener) e.getKey());
351                          }
352                      }
353                  }
354                  LoggerUtil.info("[{}] reconnect all clients", registryClassName);
355              } finally {
356                  clientLock.unlock();
357              }
358          }
359      }
360      @Override
361      public void close() {
362          this.zkClient.close();
363      }
364  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from Essentials-MDEwOlJlcG9zaXRvcnkxNzczNzU0-flat-Commandkit.java</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from motan-MDEwOlJlcG9zaXRvcnk1NjY3OTUyMQ==-flat-ZookeeperRegistry.java</div>
                </div>
                <div class="column column_space"><pre><code>1  package com.earth2me.essentials.commands;
2  import com.earth2me.essentials.CommandSource;
3  import static com.earth2me.essentials.I18n.tl;
4  import com.earth2me.essentials.Kit;
5  import com.earth2me.essentials.User;
6  import com.earth2me.essentials.utils.StringUtil;
7  import java.util.ArrayList;
8  import java.util.List;
9  import java.util.Locale;
10  import java.util.logging.Level;
11  import org.bukkit.Server;
</pre></code></div>
                <div class="column column_space"><pre><code>1  package com.weibo.api.motan.registry.zookeeper;
2  import com.weibo.api.motan.closable.Closable;
3  import com.weibo.api.motan.closable.ShutDownHook;
4  import com.weibo.api.motan.common.MotanConstants;
5  import com.weibo.api.motan.exception.MotanFrameworkException;
6  import com.weibo.api.motan.registry.support.command.CommandFailbackRegistry;
7  import com.weibo.api.motan.registry.support.command.CommandListener;
8  import com.weibo.api.motan.registry.support.command.ServiceListener;
9  import com.weibo.api.motan.rpc.URL;
10  import com.weibo.api.motan.util.ConcurrentHashSet;
11  import com.weibo.api.motan.util.LoggerUtil;
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    