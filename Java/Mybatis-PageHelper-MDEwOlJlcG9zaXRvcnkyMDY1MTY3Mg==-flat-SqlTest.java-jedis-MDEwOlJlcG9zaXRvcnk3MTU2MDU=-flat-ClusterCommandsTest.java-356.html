
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Tokens: 17, <button onclick='openModal()' class='match'>CODE CLONE</button></h2>
        <div class="column">
            <h3>Mybatis-PageHelper-MDEwOlJlcG9zaXRvcnkyMDY1MTY3Mg==-flat-SqlTest.java</h3>
            <pre><code>1  package com.github.pagehelper.sql;
2  import com.github.pagehelper.PageHelper;
3  import com.github.pagehelper.parser.CountSqlParser;
4  import net.sf.jsqlparser.parser.CCJSqlParserUtil;
5  import net.sf.jsqlparser.statement.Statement;
6  import net.sf.jsqlparser.statement.select.Select;
7  import net.sf.jsqlparser.statement.select.SelectBody;
8  import org.junit.Assert;
9  import org.junit.Test;
10  public class SqlTest {
11      @Test
12      public void testSqlParser() {
13          CountSqlParser countSqlParser = new CountSqlParser();
14          Assert.assertEquals(&quot;WITH AA AS (SELECT 1 FROM A1), BB AS (SELECT 1 FROM B2), AB AS (SELECT * FROM AA UNION ALL SELECT * FROM BB) SELECT count(0) FROM AB&quot;,
15                  countSqlParser.getSmartCountSql(&quot;WITH AA AS (SELECT 1 FROM A1), BB AS (SELECT 1 FROM B2), AB AS (SELECT * FROM AA UNION ALL SELECT * FROM BB) SELECT * FROM AB&quot;));
16          Assert.assertEquals(&quot;WITH cr AS (SELECT UserRegionCode FROM person.UserRegion WHERE Name LIKE &#x27;C%&#x27;) SELECT count(0) FROM person.StateProvince WHERE UserRegionCode IN (SELECT * FROM cr)&quot;,
17                  countSqlParser.getSmartCountSql(&quot;with &quot; +
18                          &quot;cr as &quot; +
19                          &quot;( &quot; +
20                          &quot;    select UserRegionCode from person.UserRegion where Name like &#x27;C%&#x27; order by name&quot; +
21                          &quot;) &quot; +
22                          &quot; &quot; +
23                          &quot;select * from person.StateProvince where UserRegionCode in (select * from cr)&quot;));
24          Assert.assertEquals(&quot;WITH cr AS (SELECT aaz093 FROM aa10 WHERE aaa100 LIKE &#x27;AAB05%&#x27;) SELECT count(0) FROM (SELECT count(1) FROM aa10 WHERE aaz093 IN (SELECT * FROM cr)) table_count&quot;,
25                  countSqlParser.getSmartCountSql(&quot;with cr as &quot; +
26                          &quot; (select aaz093 from aa10 where aaa100 like &#x27;AAB05%&#x27; order by aaz093 desc) &quot; +
27                          &quot;select count(1) from aa10 where aaz093 in (select * from cr)&quot;));
28          Assert.assertEquals(&quot;SELECT count(0) FROM ac02 a LEFT JOIN aa10 b ON b.aaa100 = &#x27;AAC031&#x27; AND b.aaa102 = a.aac031&quot;,
29                  countSqlParser.getSmartCountSql(&quot;select a.aac001,a.aac030,b.aaa103 &quot; +
30                          &quot;  from ac02 a &quot; +
31                          &quot;  left join aa10 b &quot; +
32                          &quot;    on b.aaa100 = &#x27;AAC031&#x27; &quot; +
33                          &quot;   and b.aaa102 = a.aac031 &quot; +
34                          &quot;   order by a.aac001&quot;));
35          Assert.assertEquals(&quot;SELECT count(0) FROM (SELECT * FROM aa10 WHERE aaa100 LIKE &#x27;AAB05%&#x27; UNION SELECT * FROM aa10 WHERE aaa100 = &#x27;AAC031&#x27;) table_count&quot;,
36                  countSqlParser.getSmartCountSql(&quot;select * from aa10 WHERE aaa100 LIKE &#x27;AAB05%&#x27; &quot; +
37                          &quot;union &quot; +
38                          &quot;select * from aa10 where aaa100 = &#x27;AAC031&#x27;&quot;));
39          Assert.assertEquals(&quot;SELECT count(0) FROM (SELECT * FROM aa10 WHERE aaa100 LIKE &#x27;AAB05%&#x27; UNION SELECT * FROM aa10 WHERE aaa100 = &#x27;AAC031&#x27;)&quot;,
40                  countSqlParser.getSmartCountSql(&quot;select * from (select * from aa10 WHERE aaa100 LIKE &#x27;AAB05%&#x27; &quot; +
41                          &quot;union &quot; +
42                          &quot;select * from aa10 where aaa100 = &#x27;AAC031&#x27;)&quot;));
43          Assert.assertEquals(&quot;SELECT count(0) FROM (SELECT so.id, so.address, so.area_code, so.area_id, so.del_flag, so.email, so.fax, so.grade, so.icon, so.master, so.name, so.parent_id, so.parent_ids, so.phone, so.remarks, so.type, so.zip_code FROM sys_organization so LEFT JOIN sys_user_organization suo ON (suo.org_id = so.id OR FIND_IN_SET(suo.org_id, so.parent_ids)) WHERE suo.user_id = ? GROUP BY so.id LIMIT ?) table_count&quot;,
44                  countSqlParser.getSmartCountSql(&quot;select so.id,so.address,so.area_code,so.area_id,so.del_flag,so.email,so.fax,so.grade,so.icon,so.master, so.name,so.parent_id,so.parent_ids,so.phone,so.remarks,so.type,so.zip_code from sys_organization so LEFT JOIN sys_user_organization suo ON (suo.org_id = so.id or FIND_IN_SET(suo.org_id,so.parent_ids)) where suo.user_id = ? group by so.id LIMIT ? &quot;));
45          Assert.assertEquals(&quot;SELECT count(0) FROM xx1 LEFT JOIN xx2 ON xx1.id = xx2.user_id WHERE 1 = 1 AND xx1.`name` LIKE \&quot;%ll%\&quot; AND xx1.status = 1 AND (xx2.`type` = 1)&quot;,
46                  countSqlParser.getSmartCountSql(&quot;select xx,xx,xx from xx1 left join xx2 on xx1.id=xx2.user_id where 1=1 and xx1.`name` like \&quot;%ll%\&quot; and  xx1.status = 1 and (xx2.`type` = 1) order by xx1.number asc&quot;));
47      }
48      @Test
49      public void testSqlParser11() {
50          CountSqlParser countSqlParser = new CountSqlParser();
51          Assert.assertEquals(&quot;SELECT count(0) FROM (SELECT so.id, so.address, so.area_code, so.area_id, so.del_flag, so.email, so.fax, so.grade, so.icon, so.master, so.name, so.parent_id, so.parent_ids, so.phone, so.remarks, so.type, so.zip_code FROM sys_organization so LEFT JOIN sys_user_organization suo ON (suo.org_id = so.id OR FIND_IN_SET(suo.org_id, so.parent_ids)) WHERE suo.user_id = ? GROUP BY so.id LIMIT ?) table_count&quot;,
52                  countSqlParser.getSmartCountSql(
53                          &quot;select so.id,so.address,so.area_code,so.area_id,so.del_flag,so.email,&quot; +
54                                  &quot;so.fax,so.grade,so.icon,so.master, so.name,so.parent_id,so.parent_ids,&quot; +
55                                  &quot;so.phone,so.remarks,so.type,so.zip_code &quot; +
56                                  &quot;from sys_organization so &quot; +
57                                  &quot;LEFT JOIN sys_user_organization suo ON (suo.org_id = so.id or FIND_IN_SET(suo.org_id,so.parent_ids)) &quot; +
58                                  &quot;where suo.user_id = ? group by so.id LIMIT ? &quot;));
59          Assert.assertEquals(&quot;SELECT count(0) FROM sys_organization so LEFT JOIN sys_user_organization suo ON (suo.org_id = so.id OR FIND_IN_SET(suo.org_id, so.parent_ids)) WHERE suo.user_id = ?&quot;,
60                  countSqlParser.getSmartCountSql(
61                          &quot;select so.id,so.address,so.area_code,so.area_id,so.del_flag,so.email,&quot; +
62                                  &quot;so.fax,so.grade,so.icon,so.master, so.name,so.parent_id,so.parent_ids,&quot; +
63                                  &quot;so.phone,so.remarks,so.type,so.zip_code &quot; +
64                                  &quot;from sys_organization so &quot; +
65                                  &quot;LEFT JOIN sys_user_organization suo ON (suo.org_id = so.id or FIND_IN_SET(suo.org_id,so.parent_ids)) &quot; +
66                                  &quot;where suo.user_id = ?&quot;));
67      }
68      @Test
69      public void testSqlParser2() {
70          CountSqlParser countSqlParser = new CountSqlParser();
71          Assert.assertEquals(&quot;SELECT count(0) FROM (SELECT name, count(id) FROM user GROUP BY name) table_count&quot;,
72                  countSqlParser.getSmartCountSql(&quot;select name,count(id) from user group by name&quot;));
73      }
74      @Test
75      public void testSqlParser3() {
76          CountSqlParser countSqlParser = new CountSqlParser();
77          Assert.assertEquals(&quot;select count(0) from ( \n&quot; +
78                          &quot;SELECT *\n&quot; +
79                          &quot;    FROM vwdatasearch\n&quot; +
80                          &quot;    WHERE ComId = ?\n&quot; +
81                          &quot;    AND (\n&quot; +
82                          &quot;      Title1 %% ?\n&quot; +
83                          &quot;    )\n&quot; +
84                          &quot;\n&quot; +
85                          &quot; ) tmp_count&quot;,
86                  countSqlParser.getSmartCountSql(&quot;SELECT *\n&quot; +
87                          &quot;    FROM vwdatasearch\n&quot; +
88                          &quot;    WHERE ComId = ?\n&quot; +
89                          &quot;    AND (\n&quot; +
90                          &quot;      Title1 %% ?\n&quot; +
91                          &quot;    )\n&quot;));
92      }
93      @Test
94      public void testSqlParser4() {
95          CountSqlParser countSqlParser = new CountSqlParser();
96          String sql = countSqlParser.getSmartCountSql(&quot;&amp;bsol;* test */select name,count(id) from user group by name&quot;);
97          Assert.assertEquals(&quot;&amp;bsol;* test */SELECT count(0) FROM (SELECT name, count(id) FROM user GROUP BY name) table_count&quot;,
98                  sql);
99      }
100      @Test
101      public void testWithNolock() {
102          String sql = &quot;SELECT * FROM A WITH(NOLOCK) INNER JOIN B WITH(NOLOCK) ON A.TypeId = B.Id&quot;;
103          sql = sql.replaceAll(&quot;((?i)\\s*(\\w?)\\s*with\\s*\\(nolock\\))&quot;, &quot; $2_PAGEWITHNOLOCK&quot;);
104          Statement stmt = null;
105          try {
106              stmt = CCJSqlParserUtil.parse(sql);
107          } catch (Throwable e) {
108              e.printStackTrace();
109              return;
110          }
111          Select select = (Select) stmt;
112          SelectBody selectBody = select.getSelectBody();
113          sql = selectBody.toString();
114          sql = sql.replaceAll(&quot;\\s*(\\w*?)_PAGEWITHNOLOCK&quot;, &quot; $1 WITH(NOLOCK)&quot;);
115          Assert.assertEquals(&quot;SELECT * FROM A WITH(NOLOCK) INNER JOIN B WITH(NOLOCK) ON A.TypeId = B.Id&quot;, sql);
116      }
117      @Test
118      public void testSql375() {
119          CountSqlParser countSqlParser = new CountSqlParser();
120          Assert.assertEquals(&quot;SELECT count(0) FROM tbl&quot;, countSqlParser.getSmartCountSql(&quot;SELECT IF(score &gt;= 60, &#x27;pass&#x27;, &#x27;failed&#x27;) FROM tbl&quot;));
121      }
122      @Test
123      public void testSql350() {
124          CountSqlParser countSqlParser = new CountSqlParser();
125          Assert.assertEquals(&quot;select count(0) from ( \n&quot; +
126                  &quot;select a,b,c from tb_test having a not null\n&quot; +
127                  &quot; ) tmp_count&quot;, countSqlParser.getSmartCountSql(&quot;select a,b,c from tb_test having a not null&quot;));
128      }
129      @Test
130      public void testSql555() {
131          CountSqlParser countSqlParser = new CountSqlParser();
132          Assert.assertEquals(&quot;SELECT count(0) FROM (SELECT (a.column1 + a.column2) AS popCount FROM peaf_staff AS a ORDER BY FIELD(a.`store_id`, ?, ?), popCount DESC) table_count&quot;,
<span onclick='openModal()' class='match'>133                  countSqlParser.getSmartCountSql(&quot;SELECT (a.column1+a.column2) as popCount  FROM peaf_staff AS a ORDER BY FIELD(a.`store_id`, ?, ?), popCount DESC\n&quot;));
134      }
135      @Test
136      public void testSql606() {
137          CountSqlParser countSqlParser = new CountSqlParser();
</span>138          Assert.assertEquals(&quot;SELECT count(0) FROM (SELECT (SELECT COUNT(1) FROM test1 WHERE test1.id = test.test1_id) AS successCount, (SELECT COUNT(1) FROM test1) AS Total FROM test HAVING successCount = Total) table_count&quot;,
139                  countSqlParser.getSmartCountSql(&quot;select\n&quot; +
140                          &quot;(SELECT COUNT(1) FROM test1 WHERE test1.id = test.test1_id )as successCount ,\n&quot; +
141                          &quot;(SELECT COUNT(1) FROM test1 ) as Total\n&quot; +
142                          &quot;from test\n&quot; +
143                          &quot;Having successCount = Total&quot;));
144      }
145      @Test
146      public void testSql201() {
147          CountSqlParser countSqlParser = new CountSqlParser();
148          Assert.assertEquals(&quot;SELECT count(0) FROM BASE_PARENT bp LEFT JOIN (BASE_STUDENT bs, BASE_PARENT_STUDENT bst) ON (bp.ID = bst.PARENT_ID AND bs.ID = bst.STUDENT_ID) WHERE 1 = 1&quot;,
149                  countSqlParser.getSmartCountSql(&quot;SELECT bp.ID, bp.NAME, bp.PHONE, bp.IDCODE, bp.CREDENTIALS_PIC, bp.ROLE, bs.ID child_id, bs.NAME child_name &quot; +
150                          &quot;FROM BASE_PARENT bp &quot; +
151                          &quot;LEFT JOIN (BASE_STUDENT bs ,BASE_PARENT_STUDENT bst) ON (bp.ID = bst.PARENT_ID AND bs.ID = bst.STUDENT_ID) &quot; +
152                          &quot;WHERE 1 = 1&quot;));
153      }
154      @Test
155      public void testSql545() {
156          CountSqlParser countSqlParser = new CountSqlParser();
157          Assert.assertEquals(&quot;select count(0) from ( \n&quot; +
158                          &quot; select * from user_info order by [ ]\n&quot; +
159                          &quot; ) tmp_count&quot;,
160                  countSqlParser.getSmartCountSql(&quot; select * from user_info order by [ ]&quot;));
161      }
162      @Test
163      public void testKeepOrderBy() {
164          CountSqlParser countSqlParser = new CountSqlParser();
165          try {
166              PageHelper.startPage(1, 10).keepOrderBy(true);
167              Assert.assertEquals(&quot;select count(0) from ( \n&quot; +
168                              &quot; select * from user_info order by name desc\n&quot; +
169                              &quot; ) tmp_count&quot;,
170                      countSqlParser.getSmartCountSql(&quot; select * from user_info order by name desc&quot;));
171          } finally {
172              PageHelper.clearPage();
173          }
174          try {
175              PageHelper.startPage(1, 10).keepSubSelectOrderBy(true);
176              Assert.assertEquals(&quot;SELECT count(0) FROM (SELECT id, name FROM user_info ORDER BY name DESC) temp&quot;,
177                      countSqlParser.getSmartCountSql(&quot;select * from (select id, name from user_info order by name desc) temp order by id&quot;));
178          } finally {
179              PageHelper.clearPage();
180          }
181      }
182  }
</code></pre>
        </div>
        <div class="column">
            <h3>jedis-MDEwOlJlcG9zaXRvcnk3MTU2MDU=-flat-ClusterCommandsTest.java</h3>
            <pre><code>1  package redis.clients.jedis.commands.jedis;
2  import static org.junit.Assert.assertEquals;
3  import static org.junit.Assert.assertNotEquals;
4  import static org.junit.Assert.assertNotNull;
5  import static org.junit.Assert.assertTrue;
6  import java.util.List;
7  import java.util.Map;
8  import org.hamcrest.MatcherAssert;
9  import org.hamcrest.Matchers;
10  import org.junit.After;
11  import org.junit.AfterClass;
12  import org.junit.Before;
13  import org.junit.Test;
14  import redis.clients.jedis.HostAndPort;
15  import redis.clients.jedis.Jedis;
16  import redis.clients.jedis.args.ClusterResetType;
17  import redis.clients.jedis.HostAndPorts;
18  import redis.clients.jedis.exceptions.JedisDataException;
19  import redis.clients.jedis.util.JedisClusterCRC16;
20  import redis.clients.jedis.util.JedisClusterTestUtil;
21  public class ClusterCommandsTest {
22    private static Jedis node1;
23    private static Jedis node2;
24    private static HostAndPort nodeInfo1 = HostAndPorts.getClusterServers().get(0);
25    private static HostAndPort nodeInfo2 = HostAndPorts.getClusterServers().get(1);
26    @Before
27    public void setUp() throws Exception {
28      node1 = new Jedis(nodeInfo1);
29      node1.auth(&quot;cluster&quot;);
30      node1.flushAll();
31      node2 = new Jedis(nodeInfo2);
32      node2.auth(&quot;cluster&quot;);
33      node2.flushAll();
34    }
35    @After
36    public void tearDown() {
37      node1.disconnect();
38      node2.disconnect();
39    }
40    @AfterClass
41    public static void removeSlots() throws InterruptedException {
42      try (Jedis node = new Jedis(nodeInfo1)) {
43        node.auth(&quot;cluster&quot;);
44        node.clusterReset(ClusterResetType.SOFT);
45      }
46      try (Jedis node = new Jedis(nodeInfo2)) {
47        node.auth(&quot;cluster&quot;);
48        node.clusterReset(ClusterResetType.SOFT);
49      }
50    }
51    @Test
52    public void testClusterSoftReset() {
53      node1.clusterMeet(&quot;127.0.0.1&quot;, nodeInfo2.getPort());
54      assertTrue(node1.clusterNodes().split(&quot;\n&quot;).length &gt; 1);
55      node1.clusterReset(ClusterResetType.SOFT);
56      assertEquals(1, node1.clusterNodes().split(&quot;\n&quot;).length);
57    }
58    @Test
59    public void testClusterHardReset() {
60      String nodeId = JedisClusterTestUtil.getNodeId(node1.clusterNodes());
61      node1.clusterReset(ClusterResetType.HARD);
62      String newNodeId = JedisClusterTestUtil.getNodeId(node1.clusterNodes());
63      assertNotEquals(nodeId, newNodeId);
64    }
65    @Test
66    public void clusterSetSlotImporting() {
67      node2.clusterAddSlots(6000);
68      String[] nodes = node1.clusterNodes().split(&quot;\n&quot;);
69      String nodeId = nodes[0].split(&quot; &quot;)[0];
70      String status = node1.clusterSetSlotImporting(6000, nodeId);
71      assertEquals(&quot;OK&quot;, status);
72      node2.clusterDelSlots(6000);
73    }
74    @Test
75    public void clusterNodes() {
76      String nodes = node1.clusterNodes();
77      assertTrue(nodes.split(&quot;\n&quot;).length &gt; 0);
78    }
79    @Test
80    public void clusterAddSlotsAndDelSlots() {
81      assertEquals(&quot;OK&quot;, node1.clusterAddSlots(1, 2, 3, 4, 5));
82      assertEquals(&quot;OK&quot;, node1.clusterDelSlots(1, 2, 3, 4, 5));
83    }
84    @Test
85    public void clusterInfo() {
86      String info = node1.clusterInfo();
87      assertNotNull(info);
88    }
89    @Test
90    public void addAndDelSlotsRange() {
91      assertEquals(&quot;OK&quot;, node1.clusterAddSlotsRange(100, 105));
92      String clusterNodes = node1.clusterNodes();
93      assertTrue(clusterNodes.contains(&quot;connected 100-105&quot;));
94      assertEquals(&quot;OK&quot;, node1.clusterAddSlotsRange(110, 120));
95      clusterNodes = node1.clusterNodes();
96      assertTrue(clusterNodes.contains(&quot;connected 100-105 110-120&quot;));
97      assertEquals(&quot;OK&quot;, node1.clusterDelSlotsRange(100, 105));
98      clusterNodes = node1.clusterNodes();
99      assertTrue(clusterNodes.contains(&quot;connected 110-120&quot;));
100      assertEquals(&quot;OK&quot;, node1.clusterDelSlotsRange(110, 120));
101    }
102    @Test
103    public void clusterGetKeysInSlot() {
104      node1.clusterAddSlots(500);
105      List&lt;String&gt; keys = node1.clusterGetKeysInSlot(500, 1);
106      assertEquals(0, keys.size());
107      node1.clusterDelSlots(500);
108    }
109    @Test
110    public void clusterGetKeysInSlotBinary() {
111      node1.clusterAddSlots(501);
112      List&lt;byte[]&gt; keys = node1.clusterGetKeysInSlotBinary(501, 1);
113      assertEquals(0, keys.size());
114      node1.clusterDelSlots(501);
115    }
116    @Test
117    public void clusterSetSlotNode() {
118      String[] nodes = node1.clusterNodes().split(&quot;\n&quot;);
119      String nodeId = nodes[0].split(&quot; &quot;)[0];
120      String status = node1.clusterSetSlotNode(10000, nodeId);
121      assertEquals(&quot;OK&quot;, status);
122    }
123    @Test
124    public void clusterSetSlotMigrating() {
125      node1.clusterAddSlots(5000);
126      String[] nodes = node1.clusterNodes().split(&quot;\n&quot;);
127      String nodeId = nodes[0].split(&quot; &quot;)[0];
128      String status = node1.clusterSetSlotMigrating(5000, nodeId);
129      assertEquals(&quot;OK&quot;, status);
130      node1.clusterDelSlots(5000);
131    }
132    @Test
133    public void clusterSlots() {
134      assertEquals(&quot;OK&quot;, node1.clusterAddSlots(3000, 3001, 3002));
135      List&lt;Object&gt; slots = node1.clusterSlots();
136      assertNotNull(slots);
137      assertTrue(slots.size() &gt; 0);
138      for (Object slotInfoObj : slots) {
139        assertNotNull(slotInfoObj);
140        List&lt;Object&gt; slotInfo = (List&lt;Object&gt;) slotInfoObj;
141        assertTrue(slotInfo.size() &gt;= 2);
142        assertTrue(slotInfo.get(0) instanceof Long);
143        assertTrue(slotInfo.get(1) instanceof Long);
144        if (slotInfo.size() &gt; 2) {
145          assertTrue(slotInfo.get(2) instanceof List);
146        }
147      }
148      node1.clusterDelSlots(3000, 3001, 3002);
149    }
150    @Test
151    public void clusterLinks() throws InterruptedException {
152      List&lt;Map&lt;String, Object&gt;&gt; links = node1.clusterLinks();
153      assertNotNull(links);
154      assertEquals(0, links.size());
155    }
156    @Test
157    public void testClusterKeySlot() {
158      assertEquals(JedisClusterCRC16.getSlot(&quot;{user1000}.following&quot;),
159        node1.clusterKeySlot(&quot;{user1000}.following&quot;));
160      assertEquals(JedisClusterCRC16.getSlot(&quot;foo{bar}{zap}&quot;),
161          node1.clusterKeySlot(&quot;foo{bar}{zap}&quot;));
162      assertEquals(JedisClusterCRC16.getSlot(&quot;foo{}{bar}&quot;),
163          node1.clusterKeySlot(&quot;foo{}{bar}&quot;));
164      assertEquals(JedisClusterCRC16.getSlot(&quot;foo{{bar}}zap&quot;),
<span onclick='openModal()' class='match'>165          node1.clusterKeySlot(&quot;foo{{bar}}zap&quot;));
166    }
167    @Test
168    public void clusterCountFailureReports() {
169      assertEquals(0, node1.clusterCountFailureReports(node1.clusterMyId()));
</span>170    }
171    @Test
172    public void clusterMyId() {
173      MatcherAssert.assertThat(node1.clusterMyId(), Matchers.not(Matchers.isEmptyOrNullString()));
174    }
175    @Test
176    public void clusterMyShardId() {
177      MatcherAssert.assertThat(node1.clusterMyShardId(), Matchers.not(Matchers.isEmptyOrNullString()));
178    }
179    @Test
180    public void testClusterEpoch() {
181      try {
182        assertEquals(&quot;OK&quot;, node1.clusterSetConfigEpoch(1));
183      } catch (JedisDataException jde) {
184        assertEquals(&quot;ERR The user can assign a config epoch only when the node does not know any other node.&quot;, jde.getMessage());
185      }
186    }
187    @Test
188    public void ClusterBumpEpoch() {
189      MatcherAssert.assertThat(node1.clusterBumpEpoch(), Matchers.matchesPattern(&quot;^BUMPED|STILL [0-9]+$&quot;));
190    }
191  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from Mybatis-PageHelper-MDEwOlJlcG9zaXRvcnkyMDY1MTY3Mg==-flat-SqlTest.java</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from jedis-MDEwOlJlcG9zaXRvcnk3MTU2MDU=-flat-ClusterCommandsTest.java</div>
                </div>
                <div class="column column_space"><pre><code>133                  countSqlParser.getSmartCountSql(&quot;SELECT (a.column1+a.column2) as popCount  FROM peaf_staff AS a ORDER BY FIELD(a.`store_id`, ?, ?), popCount DESC\n&quot;));
134      }
135      @Test
136      public void testSql606() {
137          CountSqlParser countSqlParser = new CountSqlParser();
</pre></code></div>
                <div class="column column_space"><pre><code>165          node1.clusterKeySlot(&quot;foo{{bar}}zap&quot;));
166    }
167    @Test
168    public void clusterCountFailureReports() {
169      assertEquals(0, node1.clusterCountFailureReports(node1.clusterMyId()));
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    