<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Matches for MapReplaceEntryTester.java & MultimapRemoveEntryTester_1.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</HEAD>
<body>
  <div style="align-items: center; display: flex; justify-content: space-around;">
    <div>
      <h3 align="center">
Matches for MapReplaceEntryTester.java & MultimapRemoveEntryTester_1.java
      </h3>
      <h1 align="center">
        44.0%
      </h1>
      <center>
        <a href="index.html" target="_top">
          INDEX
        </a>
        <span>-</span>
        <a href="help-en.html" target="_top">
          HELP
        </a>
      </center>
    </div>
    <div>
<TABLE BORDER="1" CELLSPACING="0" BGCOLOR="#d0d0d0">
<TR><TH><TH>MapReplaceEntryTester.java (48.0%)<TH>MultimapRemoveEntryTester_1.java (40.677967%)<TH>Tokens
<TR><TD BGCOLOR="#0000ff"><FONT COLOR="#0000ff">-</FONT><TD><A HREF="javascript:ZweiFrames('match21022-0.html#0',2,'match21022-1.html#0',3)" NAME="0">(87-97)<TD><A HREF="javascript:ZweiFrames('match21022-0.html#0',2,'match21022-1.html#0',3)" NAME="0">(101-113)</A><TD ALIGN=center><FONT COLOR="#ff0000">24</FONT>
<TR><TD BGCOLOR="#f63526"><FONT COLOR="#f63526">-</FONT><TD><A HREF="javascript:ZweiFrames('match21022-0.html#1',2,'match21022-1.html#1',3)" NAME="1">(19-41)<TD><A HREF="javascript:ZweiFrames('match21022-0.html#1',2,'match21022-1.html#1',3)" NAME="1">(28-47)</A><TD ALIGN=center><FONT COLOR="#b40000">17</FONT>
<TR><TD BGCOLOR="#980517"><FONT COLOR="#980517">-</FONT><TD><A HREF="javascript:ZweiFrames('match21022-0.html#2',2,'match21022-1.html#2',3)" NAME="2">(101-106)<TD><A HREF="javascript:ZweiFrames('match21022-0.html#2',2,'match21022-1.html#2',3)" NAME="2">(83-89)</A><TD ALIGN=center><FONT COLOR="#940000">14</FONT>
<TR><TD BGCOLOR="#53858b"><FONT COLOR="#53858b">-</FONT><TD><A HREF="javascript:ZweiFrames('match21022-0.html#3',2,'match21022-1.html#3',3)" NAME="3">(68-72)<TD><A HREF="javascript:ZweiFrames('match21022-0.html#3',2,'match21022-1.html#3',3)" NAME="3">(60-64)</A><TD ALIGN=center><FONT COLOR="#7f0000">12</FONT>
<TR><TD BGCOLOR="#6cc417"><FONT COLOR="#6cc417">-</FONT><TD><A HREF="javascript:ZweiFrames('match21022-0.html#4',2,'match21022-1.html#4',3)" NAME="4">(78-83)<TD><A HREF="javascript:ZweiFrames('match21022-0.html#4',2,'match21022-1.html#4',3)" NAME="4">(114-120)</A><TD ALIGN=center><FONT COLOR="#740000">11</FONT>
<TR><TD BGCOLOR="#151b8d"><FONT COLOR="#151b8d">-</FONT><TD><A HREF="javascript:ZweiFrames('match21022-0.html#5',2,'match21022-1.html#5',3)" NAME="5">(55-59)<TD><A HREF="javascript:ZweiFrames('match21022-0.html#5',2,'match21022-1.html#5',3)" NAME="5">(69-75)</A><TD ALIGN=center><FONT COLOR="#740000">11</FONT>
<TR><TD BGCOLOR="#8c8774"><FONT COLOR="#8c8774">-</FONT><TD><A HREF="javascript:ZweiFrames('match21022-0.html#6',2,'match21022-1.html#6',3)" NAME="6">(44-46)<TD><A HREF="javascript:ZweiFrames('match21022-0.html#6',2,'match21022-1.html#6',3)" NAME="6">(55-58)</A><TD ALIGN=center><FONT COLOR="#740000">11</FONT>
<TR><TD BGCOLOR="#38a4a5"><FONT COLOR="#38a4a5">-</FONT><TD><A HREF="javascript:ZweiFrames('match21022-0.html#7',2,'match21022-1.html#7',3)" NAME="7">(107-112)<TD><A HREF="javascript:ZweiFrames('match21022-0.html#7',2,'match21022-1.html#7',3)" NAME="7">(95-100)</A><TD ALIGN=center><FONT COLOR="#6a0000">10</FONT>
<TR><TD BGCOLOR="#c58917"><FONT COLOR="#c58917">-</FONT><TD><A HREF="javascript:ZweiFrames('match21022-0.html#8',2,'match21022-1.html#8',3)" NAME="8">(62-66)<TD><A HREF="javascript:ZweiFrames('match21022-0.html#8',2,'match21022-1.html#8',3)" NAME="8">(49-53)</A><TD ALIGN=center><FONT COLOR="#6a0000">10</FONT>
</TABLE>
    </div>
  </div>
  <hr>
  <div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>MapReplaceEntryTester.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<HR>
<PRE>
/*
 * Copyright (C) 2015 The Guava Authors
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
<A NAME="1"></A>
package com.google.common.collect.testing.testers;

<FONT color="#f63526"><A HREF="javascript:ZweiFrames('match21022-1.html#1',3,'match21022-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>import static com.google.common.collect.testing.features.CollectionSize.ZERO;
import static com.google.common.collect.testing.features.MapFeature.ALLOWS_NULL_VALUES;
import static com.google.common.collect.testing.features.MapFeature.ALLOWS_NULL_VALUE_QUERIES;
import static com.google.common.collect.testing.features.MapFeature.SUPPORTS_PUT;

import com.google.common.annotations.GwtCompatible;
import com.google.common.collect.testing.AbstractMapTester;
import com.google.common.collect.testing.features.CollectionSize;
import com.google.common.collect.testing.features.MapFeature;
import java.util.Map;
import org.junit.Ignore;

/**
 * A generic JUnit test which tests {@link Map#replace(Object, Object, Object)}. Can't be invoked
 * directly; please see {@link com.google.common.collect.testing.MapTestSuiteBuilder}.
 *
 * @author Louis Wasserman
 */
@GwtCompatible
@Ignore // Affects only Android test runner, which respects JUnit 4 annotations on JUnit 3 tests.
public class MapReplaceEntryTester&lt;K, V&gt; extends AbstractMapTester&lt;K, V&gt; {

<A NAME="6"></A>  @</B></FONT>MapFeature.Require(SUPPORTS_PUT)
  @CollectionSize.Require(absent = ZERO)
  public void testReplaceEntry_supportedPresent() {
    try <FONT color="#8c8774"><A HREF="javascript:ZweiFrames('match21022-1.html#6',3,'match21022-top.html#6',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>{
      assertTrue(getMap().replace(k0(), v0(), v3()));
      expectReplacement(entry(k0(), v3</B></FONT>()));
    } catch (ClassCastException tolerated) { // for ClassToInstanceMap
      expectUnchanged();
    }
  }

<A NAME="5"></A>  @MapFeature.Require(SUPPORTS_PUT)
  @CollectionSize.Require(absent = ZERO)
  public void testReplaceEntry_supportedPresentUnchanged() {
    <FONT color="#151b8d"><A HREF="javascript:ZweiFrames('match21022-1.html#5',3,'match21022-top.html#5',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>assertTrue(getMap().replace(k0(), v0(), v0()));
    expectUnchanged();
  }

<A NAME="8"></A>  @</B></FONT>MapFeature.Require(SUPPORTS_PUT)
  @CollectionSize.Require(absent = ZERO)
  public void testReplaceEntry_supportedWrongValue() {
    assertFalse(<FONT color="#c58917"><A HREF="javascript:ZweiFrames('match21022-1.html#8',3,'match21022-top.html#8',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>getMap().replace(k0(), v3(), v4()));
    expectUnchanged();
  }
<A NAME="3"></A>
  @</B></FONT>MapFeature.Require(SUPPORTS_PUT)
  public void testReplaceEntry_supportedAbsentKey() {
    <FONT color="#53858b"><A HREF="javascript:ZweiFrames('match21022-1.html#3',3,'match21022-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>assertFalse(getMap().replace(k3(), v3(), v4()));
    expectUnchanged();
  }

  @MapFeature.Require(v</B></FONT>alue = SUPPORTS_PUT, absent = ALLOWS_NULL_VALUES)
  @CollectionSize.Require(absent = ZERO)
  public void testReplaceEntry_presentNullValueUnsupported() {
<A NAME="4"></A>    try {
      getMap().replace(k0(), v0(), null);
      fail(&quot;Expected NullPointerException&quot;);
    <FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match21022-1.html#4',3,'match21022-top.html#4',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>} catch (NullPointerException expected) {
    }
    expectUnchanged();
  }

  @</B></FONT>MapFeature.Require(value = SUPPORTS_PUT, absent = ALLOWS_NULL_VALUE_QUERIES)
<A NAME="0"></A>  @CollectionSize.Require(absent = ZERO)
  public void testReplaceEntry_wrongValueNullValueUnsupported() {
    try {
      assertFalse(<FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match21022-1.html#0',3,'match21022-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>getMap().replace(k0(), v3(), null));
    } catch (NullPointerException tolerated) {
      // the operation would be a no-op, so exceptions are allowed but not required
    }
    expectUnchanged();
  }

  @MapFeature.Require(value = SUPPORTS_PUT, absent = ALLOWS_NULL_VALUE_QUERIES)
  public void testReplaceEntry_absentKeyNullValueUnsupported() {
    try {
      assertFalse(getMap().replace(k3</B></FONT>(), v3(), null));
<A NAME="2"></A>    } catch (NullPointerException tolerated) {
      // the operation would be a no-op, so exceptions are allowed but not required
    }
    <FONT color="#980517"><A HREF="javascript:ZweiFrames('match21022-1.html#2',3,'match21022-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>expectUnchanged();
  }

<A NAME="7"></A>  @MapFeature.Require({SUPPORTS_PUT, ALLOWS_NULL_VALUE_QUERIES})
  public void testReplaceEntry_nullDifferentFromAbsent() {
    assertFalse(getMap().replace(k3(), null, v3</B></FONT>()));
    <FONT color="#38a4a5"><A HREF="javascript:ZweiFrames('match21022-1.html#7',3,'match21022-top.html#7',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>expectUnchanged();
  }

  @MapFeature.Require(value = SUPPORTS_PUT, absent = ALLOWS_NULL_VALUE_QUERIES)
  public void testReplaceEntry_expectNullUnsupported() {
    try {</B></FONT>
      assertFalse(getMap().replace(k3(), null, v3()));
    } catch (NullPointerException tolerated) {
      // the operation would be a no-op, so exceptions are allowed but not required
    }
    expectUnchanged();
  }

  @MapFeature.Require(absent = SUPPORTS_PUT)
  @CollectionSize.Require(absent = ZERO)
  public void testReplaceEntry_unsupportedPresent() {
    try {
      getMap().replace(k0(), v0(), v3());
      fail(&quot;Expected UnsupportedOperationException&quot;);
    } catch (UnsupportedOperationException expected) {
    }
    expectUnchanged();
  }

  @MapFeature.Require(absent = SUPPORTS_PUT)
  @CollectionSize.Require(absent = ZERO)
  public void testReplaceEntry_unsupportedWrongValue() {
    try {
      getMap().replace(k0(), v3(), v4());
    } catch (UnsupportedOperationException tolerated) {
      // the operation would be a no-op, so exceptions are allowed but not required
    }
    expectUnchanged();
  }

  @MapFeature.Require(absent = SUPPORTS_PUT)
  public void testReplaceEntry_unsupportedAbsentKey() {
    try {
      getMap().replace(k3(), v3(), v4());
    } catch (UnsupportedOperationException tolerated) {
      // the operation would be a no-op, so exceptions are allowed but not required
    }
    expectUnchanged();
  }
}
</PRE>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>MultimapRemoveEntryTester_1.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<HR>
<PRE>
/*
 * Copyright (C) 2012 The Guava Authors
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package com.google.common.collect.testing.google;

import static com.google.common.collect.testing.Helpers.assertEqualIgnoringOrder;
import static com.google.common.collect.testing.features.CollectionSize.ZERO;
import static com.google.common.collect.testing.features.MapFeature.ALLOWS_NULL_KEYS;
import static com.google.common.collect.testing.features.MapFeature.ALLOWS_NULL_KEY_QUERIES;
import static com.google.common.collect.testing.features.MapFeature.ALLOWS_NULL_VALUES;
import static com.google.common.collect.testing.features.MapFeature.ALLOWS_NULL_VALUE_QUERIES;
<A NAME="1"></A>import static com.google.common.collect.testing.features.MapFeature.SUPPORTS_REMOVE;

import com.google.common.annotations.GwtCompatible;
<FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match21022-0.html#1',2,'match21022-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>import com.google.common.collect.ImmutableList;
import com.google.common.collect.Multimap;
import com.google.common.collect.testing.Helpers;
import com.google.common.collect.testing.features.CollectionSize;
import com.google.common.collect.testing.features.MapFeature;
import java.util.Collection;
import java.util.Iterator;
import java.util.List;
import java.util.Map.Entry;
import org.junit.Ignore;

/**
 * Tests for {@link Multimap#remove(Object, Object)}.
 *
 * @author Louis Wasserman
 */
@GwtCompatible
@Ignore // Affects only Android test runner, which respects JUnit 4 annotations on JUnit 3 tests.
<A NAME="8"></A>public class MultimapRemoveEntryTester&lt;K, V&gt; extends AbstractMultimapTester&lt;K, V, Multimap&lt;K, V&gt;&gt; {
  @</B></FONT>MapFeature.Require(SUPPORTS_REMOVE)
  public void testRemoveAbsent() {
    <FONT color="#c58917"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match21022-0.html#8',2,'match21022-top.html#8',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>assertFalse(multimap().remove(k0(), v1()));
    expectUnchanged();
  }
<A NAME="6"></A>
  @</B></FONT>CollectionSize.Require(absent = ZERO)
  @MapFeature.Require(SUPPORTS_REMOVE)
  public void testRemovePresent() <FONT color="#8c8774"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match21022-0.html#6',2,'match21022-top.html#6',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>{
    assertTrue(multimap().remove(k0(), v0()));
<A NAME="3"></A>
    assertFalse(multimap().containsEntry(k0(), v0</B></FONT>()));
    expectMissing(e0());
    <FONT color="#53858b"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match21022-0.html#3',2,'match21022-top.html#3',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>assertEquals(getNumElements() - 1, multimap().size());
    assertGet(k0(), ImmutableList.&lt;V&gt;of());
  }

  @CollectionSize.Require(a</B></FONT>bsent = ZERO)
  @MapFeature.Require({SUPPORTS_REMOVE, ALLOWS_NULL_KEYS})
<A NAME="5"></A>  public void testRemoveNullKeyPresent() {
    initMultimapWithNullKey();

    assertTrue(multimap().remove(null, <FONT color="#151b8d"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match21022-0.html#5',2,'match21022-top.html#5',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>getValueForNullKey()));

    expectMissing(Helpers.mapEntry((K) null, getValueForNullKey()));
    assertGet(getKeyForNullValue(), ImmutableList.&lt;V&gt;of());
  }

  @</B></FONT>CollectionSize.Require(absent = ZERO)
  @MapFeature.Require({SUPPORTS_REMOVE, ALLOWS_NULL_VALUES})
  public void testRemoveNullValuePresent() {
    initMultimapWithNullValue();

<A NAME="2"></A>    assertTrue(multimap().remove(getKeyForNullValue(), null));

    expectMissing(Helpers.mapEntry(getKeyForNullValue(), (V) null));
    assertGet(getKeyForNullValue(), <FONT color="#980517"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match21022-0.html#2',2,'match21022-top.html#2',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>ImmutableList.&lt;V&gt;of());
  }

  @MapFeature.Require({SUPPORTS_REMOVE, ALLOWS_NULL_KEY_QUERIES})
  public void testRemoveNullKeyAbsent() {
    assertFalse(multimap().remove(null, v0()));
    expectUnchanged</B></FONT>();
  }

<A NAME="7"></A>  @MapFeature.Require({SUPPORTS_REMOVE, ALLOWS_NULL_VALUE_QUERIES})
  public void testRemoveNullValueAbsent() {
    assertFalse(multimap().remove(k0(), null));
    <FONT color="#38a4a5"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match21022-0.html#7',2,'match21022-top.html#7',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>expectUnchanged();
  }

<A NAME="0"></A>  @MapFeature.Require(value = SUPPORTS_REMOVE, absent = ALLOWS_NULL_VALUE_QUERIES)
  public void testRemoveNullValueForbidden() {
    try {</B></FONT>
      <FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match21022-0.html#0',2,'match21022-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>multimap().remove(k0(), null);
      fail(&quot;Expected NullPointerException&quot;);
    } catch (NullPointerException expected) {
      // success
    }
    expectUnchanged();
  }

  @MapFeature.Require(value = SUPPORTS_REMOVE, absent = ALLOWS_NULL_KEY_QUERIES)
  public void testRemoveNullKeyForbidden() {
<A NAME="4"></A>    try {
      multimap().remove(null, v0());
      fail</B></FONT>(&quot;Expected NullPointerException&quot;);
    <FONT color="#6cc417"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match21022-0.html#4',2,'match21022-top.html#4',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>} catch (NullPointerException expected) {
      // success
    }
    expectUnchanged();
  }

  @</B></FONT>MapFeature.Require(SUPPORTS_REMOVE)
  @CollectionSize.Require(absent = ZERO)
  public void testRemovePropagatesToGet() {
    List&lt;Entry&lt;K, V&gt;&gt; entries = Helpers.copyToList(multimap().entries());
    for (Entry&lt;K, V&gt; entry : entries) {
      resetContainer();

      K key = entry.getKey();
      V value = entry.getValue();
      Collection&lt;V&gt; collection = multimap().get(key);
      assertNotNull(collection);
      Collection&lt;V&gt; expectedCollection = Helpers.copyToList(collection);

      multimap().remove(key, value);
      expectedCollection.remove(value);

      assertEqualIgnoringOrder(expectedCollection, collection);
      assertEquals(!expectedCollection.isEmpty(), multimap().containsKey(key));
    }
  }

  @MapFeature.Require(SUPPORTS_REMOVE)
  @CollectionSize.Require(absent = ZERO)
  public void testRemovePropagatesToAsMap() {
    List&lt;Entry&lt;K, V&gt;&gt; entries = Helpers.copyToList(multimap().entries());
    for (Entry&lt;K, V&gt; entry : entries) {
      resetContainer();

      K key = entry.getKey();
      V value = entry.getValue();
      Collection&lt;V&gt; collection = multimap().asMap().get(key);
      assertNotNull(collection);
      Collection&lt;V&gt; expectedCollection = Helpers.copyToList(collection);

      multimap().remove(key, value);
      expectedCollection.remove(value);

      assertEqualIgnoringOrder(expectedCollection, collection);
      assertEquals(!expectedCollection.isEmpty(), multimap().containsKey(key));
    }
  }

  @MapFeature.Require(SUPPORTS_REMOVE)
  @CollectionSize.Require(absent = ZERO)
  public void testRemovePropagatesToAsMapEntrySet() {
    List&lt;Entry&lt;K, V&gt;&gt; entries = Helpers.copyToList(multimap().entries());
    for (Entry&lt;K, V&gt; entry : entries) {
      resetContainer();

      K key = entry.getKey();
      V value = entry.getValue();

      Iterator&lt;Entry&lt;K, Collection&lt;V&gt;&gt;&gt; asMapItr = multimap().asMap().entrySet().iterator();
      Collection&lt;V&gt; collection = null;
      while (asMapItr.hasNext()) {
        Entry&lt;K, Collection&lt;V&gt;&gt; asMapEntry = asMapItr.next();
        if (key.equals(asMapEntry.getKey())) {
          collection = asMapEntry.getValue();
          break;
        }
      }
      assertNotNull(collection);
      Collection&lt;V&gt; expectedCollection = Helpers.copyToList(collection);

      multimap().remove(key, value);
      expectedCollection.remove(value);

      assertEqualIgnoringOrder(expectedCollection, collection);
      assertEquals(!expectedCollection.isEmpty(), multimap().containsKey(key));
    }
  }
}
</PRE>
</div>
  </div>
</body>
</html>
