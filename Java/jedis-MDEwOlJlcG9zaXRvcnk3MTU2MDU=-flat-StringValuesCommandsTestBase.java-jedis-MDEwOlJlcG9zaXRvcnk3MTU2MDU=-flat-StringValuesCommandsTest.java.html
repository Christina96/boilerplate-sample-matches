
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Tokens: 951, <button onclick='openModal()' class='match'></button></h2>
        <div class="column">
            <h3>jedis-MDEwOlJlcG9zaXRvcnk3MTU2MDU=-flat-StringValuesCommandsTestBase.java</h3>
            <pre><code>1  package redis.clients.jedis.commands.unified;
2  import static org.junit.Assert.assertEquals;
3  import static org.junit.Assert.assertTrue;
4  import static org.junit.Assert.assertNull;
5  import java.util.ArrayList;
6  import java.util.List;
7  import org.junit.Test;
8  import redis.clients.jedis.params.LCSParams;
9  import redis.clients.jedis.resps.LCSMatchResult;
10  import redis.clients.jedis.exceptions.JedisDataException;
11  import redis.clients.jedis.params.GetExParams;
12  public abstract class StringValuesCommandsTestBase extends UnifiedJedisCommandsTestBase {
13    @Test
14    public void setAndGet() {
15      String status = jedis.set("foo", "bar");
16      assertEquals("OK", status);
17      String value = jedis.get("foo");
18      assertEquals("bar", value);
19      assertNull(jedis.get("bar"));
20    }
21    @Test
22    public void getSet() {
23      String value = jedis.getSet("foo", "bar");
24      assertNull(value);
25      value = jedis.get("foo");
26      assertEquals("bar", value);
27    }
28    @Test
29    public void getDel() {
30      String status = jedis.set("foo", "bar");
31      assertEquals("OK", status);
32      String value = jedis.getDel("foo");
33      assertEquals("bar", value);
34      assertNull(jedis.get("foo"));
35    }
36    @Test
37    public void getEx() {
38      assertNull(jedis.getEx("foo", GetExParams.getExParams().ex(1)));
39      jedis.set("foo", "bar");
40      assertEquals("bar", jedis.getEx("foo", GetExParams.getExParams().ex(10)));
41      long ttl = jedis.ttl("foo");
42      assertTrue(ttl > 0 && ttl <= 10);
43      assertEquals("bar", jedis.getEx("foo", GetExParams.getExParams().px(20000l)));
44      ttl = jedis.ttl("foo");
45      assertTrue(ttl > 10 && ttl <= 20);
46      assertEquals("bar", jedis.getEx("foo", GetExParams.getExParams().exAt(System.currentTimeMillis() / 1000 + 30)));
47      ttl = jedis.ttl("foo");
48      assertTrue(ttl > 20 && ttl <= 30);
49      assertEquals("bar", jedis.getEx("foo", GetExParams.getExParams().pxAt(System.currentTimeMillis() + 40000l)));
50      ttl = jedis.ttl("foo");
51      assertTrue(ttl > 30 && ttl <= 40);
52      assertEquals("bar", jedis.getEx("foo", GetExParams.getExParams().persist()));
53      assertEquals(-1, jedis.ttl("foo"));
54    }
55    @Test
56    public void mget() {
57      List<String> values = jedis.mget("foo", "bar");
58      List<String> expected = new ArrayList<String>();
59      expected.add(null);
60      expected.add(null);
61      assertEquals(expected, values);
62      jedis.set("foo", "bar");
63      expected = new ArrayList<String>();
64      expected.add("bar");
65      expected.add(null);
66      values = jedis.mget("foo", "bar");
67      assertEquals(expected, values);
68      jedis.set("bar", "foo");
69      expected = new ArrayList<String>();
70      expected.add("bar");
71      expected.add("foo");
72      values = jedis.mget("foo", "bar");
73      assertEquals(expected, values);
74    }
75    @Test
76    public void setnx() {
77      assertEquals(1, jedis.setnx("foo", "bar"));
78      assertEquals("bar", jedis.get("foo"));
79      assertEquals(0, jedis.setnx("foo", "bar2"));
80      assertEquals("bar", jedis.get("foo"));
81    }
82    @Test
83    public void setex() {
84      String status = jedis.setex("foo", 20, "bar");
85      assertEquals("OK", status);
86      long ttl = jedis.ttl("foo");
87      assertTrue(ttl > 0 && ttl <= 20);
88    }
89    @Test
90    public void mset() {
<span onclick='openModal()' class='match'>91      String status = jedis.mset("foo", "bar", "bar", "foo");
92      assertEquals("OK", status);
93      assertEquals("bar", jedis.get("foo"));
94      assertEquals("foo", jedis.get("bar"));
95    }
96    @Test
97    public void msetnx() {
98      assertEquals(1, jedis.msetnx("foo", "bar", "bar", "foo"));
99      assertEquals("bar", jedis.get("foo"));
100      assertEquals("foo", jedis.get("bar"));
101      assertEquals(0, jedis.msetnx("foo", "bar1", "bar2", "foo2"));
102      assertEquals("bar", jedis.get("foo"));
103      assertEquals("foo", jedis.get("bar"));
104    }
105    @Test
106    public void incr() {
107      assertEquals(1, jedis.incr("foo"));
108      assertEquals(2, jedis.incr("foo"));
109    }
110    @Test(expected = JedisDataException.class)
111    public void incrWrongValue() {
112      jedis.set("foo", "bar");
113      jedis.incr("foo");
114    }
115    @Test
116    public void incrBy() {
117      assertEquals(2, jedis.incrBy("foo", 2));
118      assertEquals(5, jedis.incrBy("foo", 3));
119    }
120    @Test(expected = JedisDataException.class)
121    public void incrByWrongValue() {
122      jedis.set("foo", "bar");
123      jedis.incrBy("foo", 2);
124    }
125    @Test
126    public void incrByFloat() {
127      assertEquals(10.5, jedis.incrByFloat("foo", 10.5), 0.0);
128      assertEquals(10.6, jedis.incrByFloat("foo", 0.1), 0.0);
129    }
130    @Test(expected = JedisDataException.class)
131    public void incrByFloatWrongValue() {
132      jedis.set("foo", "bar");
133      jedis.incrByFloat("foo", 2d);
134    }
135    @Test(expected = JedisDataException.class)
136    public void decrWrongValue() {
137      jedis.set("foo", "bar");
138      jedis.decr("foo");
139    }
140    @Test
141    public void decr() {
142      assertEquals(-1, jedis.decr("foo"));
143      assertEquals(-2, jedis.decr("foo"));
144    }
145    @Test
146    public void decrBy() {
147      assertEquals(-2, jedis.decrBy("foo", 2));
148      assertEquals(-4, jedis.decrBy("foo", 2));
149    }
150    @Test(expected = JedisDataException.class)
151    public void decrByWrongValue() {
152      jedis.set("foo", "bar");
153      jedis.decrBy("foo", 2);
154    }
155    @Test
156    public void append() {
157      assertEquals(3, jedis.append("foo", "bar"));
158      assertEquals("bar", jedis.get("foo"));
159      assertEquals(6, jedis.append("foo", "bar"));
160      assertEquals("barbar", jedis.get("foo"));
161    }
162    @Test
163    public void substr() {
164      jedis.set("s", "This is a string");
165      assertEquals("This", jedis.substr("s", 0, 3));
166      assertEquals("ing", jedis.substr("s", -3, -1));
167      assertEquals("This is a string", jedis.substr("s", 0, -1));
168      assertEquals(" string", jedis.substr("s", 9, 100000));
169    }
170    @Test
171    public void strlen() {
172      String str = "This is a string";
173      jedis.set("s", str);
174      assertEquals(str.length(), jedis.strlen("s"));
175    }
176    @Test
177    public void incrLargeNumbers() {
178      assertEquals(1, jedis.incr("foo"));
179      assertEquals(1L + Integer.MAX_VALUE, jedis.incrBy("foo", Integer.MAX_VALUE));
180    }
181    @Test(expected = JedisDataException.class)
182    public void incrReallyLargeNumbers() {
183      jedis.set("foo", Long.toString(Long.MAX_VALUE));
184      jedis.incr("foo"); 
185    }
186    @Test
187    public void psetex() {
188      String status = jedis.psetex("foo", 20000, "bar");
189      assertEquals("OK", status);
190      long ttl = jedis.ttl("foo");
191      assertTrue(ttl > 0 && ttl <= 20000);
192    }
193    @Test
194    public void lcs() {
195      jedis.mset("key1", "ohmytext", "key2", "mynewtext");
196      LCSMatchResult stringMatchResult = jedis.lcs("key1", "key2",
197              LCSParams.LCSParams());
198      assertEquals("mytext", stringMatchResult.getMatchString());
199      stringMatchResult = jedis.lcs( "key1", "key2",
200              LCSParams.LCSParams().idx().withMatchLen());
201      assertEquals(stringMatchResult.getLen(), 6);
202      assertEquals(2, stringMatchResult.getMatches().size());
203      stringMatchResult = jedis.lcs( "key1", "key2",
204              LCSParams.LCSParams().idx().minMatchLen(10));
205      assertEquals(0, stringMatchResult.getMatches().size());
206    }
207  }
</span></code></pre>
        </div>
        <div class="column">
            <h3>jedis-MDEwOlJlcG9zaXRvcnk3MTU2MDU=-flat-StringValuesCommandsTest.java</h3>
            <pre><code>1  package redis.clients.jedis.commands.jedis;
2  import static org.junit.Assert.assertEquals;
3  import static org.junit.Assert.assertTrue;
4  import static org.junit.Assert.assertNull;
5  import java.util.ArrayList;
6  import java.util.List;
7  import org.junit.Test;
8  import redis.clients.jedis.params.LCSParams;
9  import redis.clients.jedis.resps.LCSMatchResult;
10  import redis.clients.jedis.exceptions.JedisDataException;
11  import redis.clients.jedis.params.GetExParams;
12  public class StringValuesCommandsTest extends JedisCommandsTestBase {
13    @Test
14    public void setAndGet() {
15      String status = jedis.set("foo", "bar");
16      assertEquals("OK", status);
17      String value = jedis.get("foo");
18      assertEquals("bar", value);
19      assertNull(jedis.get("bar"));
20    }
21    @Test
22    public void getSet() {
23      String value = jedis.getSet("foo", "bar");
24      assertNull(value);
25      value = jedis.get("foo");
26      assertEquals("bar", value);
27    }
28    @Test
29    public void getDel() {
30      String status = jedis.set("foo", "bar");
31      assertEquals("OK", status);
32      String value = jedis.getDel("foo");
33      assertEquals("bar", value);
34      assertNull(jedis.get("foo"));
35    }
36    @Test
37    public void getEx() {
38      assertNull(jedis.getEx("foo", GetExParams.getExParams().ex(1)));
39      jedis.set("foo", "bar");
40      assertEquals("bar", jedis.getEx("foo", GetExParams.getExParams().ex(10)));
41      long ttl = jedis.ttl("foo");
42      assertTrue(ttl > 0 && ttl <= 10);
43      assertEquals("bar", jedis.getEx("foo", GetExParams.getExParams().px(20000l)));
44      ttl = jedis.ttl("foo");
45      assertTrue(ttl > 10 && ttl <= 20);
46      assertEquals("bar", jedis.getEx("foo", GetExParams.getExParams().exAt(System.currentTimeMillis() / 1000 + 30)));
47      ttl = jedis.ttl("foo");
48      assertTrue(ttl > 20 && ttl <= 30);
49      assertEquals("bar", jedis.getEx("foo", GetExParams.getExParams().pxAt(System.currentTimeMillis() + 40000l)));
50      ttl = jedis.ttl("foo");
51      assertTrue(ttl > 30 && ttl <= 40);
52      assertEquals("bar", jedis.getEx("foo", GetExParams.getExParams().persist()));
53      assertEquals(-1, jedis.ttl("foo"));
54    }
55    @Test
56    public void mget() {
57      List<String> values = jedis.mget("foo", "bar");
58      List<String> expected = new ArrayList<String>();
59      expected.add(null);
60      expected.add(null);
61      assertEquals(expected, values);
62      jedis.set("foo", "bar");
63      expected = new ArrayList<String>();
64      expected.add("bar");
65      expected.add(null);
66      values = jedis.mget("foo", "bar");
67      assertEquals(expected, values);
68      jedis.set("bar", "foo");
69      expected = new ArrayList<String>();
70      expected.add("bar");
71      expected.add("foo");
72      values = jedis.mget("foo", "bar");
73      assertEquals(expected, values);
74    }
75    @Test
76    public void setnx() {
77      assertEquals(1, jedis.setnx("foo", "bar"));
78      assertEquals("bar", jedis.get("foo"));
79      assertEquals(0, jedis.setnx("foo", "bar2"));
80      assertEquals("bar", jedis.get("foo"));
81    }
82    @Test
83    public void setex() {
84      String status = jedis.setex("foo", 20, "bar");
85      assertEquals("OK", status);
86      long ttl = jedis.ttl("foo");
87      assertTrue(ttl > 0 && ttl <= 20);
88    }
89    @Test
90    public void mset() {
<span onclick='openModal()' class='match'>91      String status = jedis.mset("foo", "bar", "bar", "foo");
92      assertEquals("OK", status);
93      assertEquals("bar", jedis.get("foo"));
94      assertEquals("foo", jedis.get("bar"));
95    }
96    @Test
97    public void msetnx() {
98      assertEquals(1, jedis.msetnx("foo", "bar", "bar", "foo"));
99      assertEquals("bar", jedis.get("foo"));
100      assertEquals("foo", jedis.get("bar"));
101      assertEquals(0, jedis.msetnx("foo", "bar1", "bar2", "foo2"));
102      assertEquals("bar", jedis.get("foo"));
103      assertEquals("foo", jedis.get("bar"));
104    }
105    @Test
106    public void incr() {
107      assertEquals(1, jedis.incr("foo"));
108      assertEquals(2, jedis.incr("foo"));
109    }
110    @Test(expected = JedisDataException.class)
111    public void incrWrongValue() {
112      jedis.set("foo", "bar");
113      jedis.incr("foo");
114    }
115    @Test
116    public void incrBy() {
117      assertEquals(2, jedis.incrBy("foo", 2));
118      assertEquals(5, jedis.incrBy("foo", 3));
119    }
120    @Test(expected = JedisDataException.class)
121    public void incrByWrongValue() {
122      jedis.set("foo", "bar");
123      jedis.incrBy("foo", 2);
124    }
125    @Test
126    public void incrByFloat() {
127      assertEquals(10.5, jedis.incrByFloat("foo", 10.5), 0.0);
128      assertEquals(10.6, jedis.incrByFloat("foo", 0.1), 0.0);
129    }
130    @Test(expected = JedisDataException.class)
131    public void incrByFloatWrongValue() {
132      jedis.set("foo", "bar");
133      jedis.incrByFloat("foo", 2d);
134    }
135    @Test(expected = JedisDataException.class)
136    public void decrWrongValue() {
137      jedis.set("foo", "bar");
138      jedis.decr("foo");
139    }
140    @Test
141    public void decr() {
142      assertEquals(-1, jedis.decr("foo"));
143      assertEquals(-2, jedis.decr("foo"));
144    }
145    @Test
146    public void decrBy() {
147      assertEquals(-2, jedis.decrBy("foo", 2));
148      assertEquals(-4, jedis.decrBy("foo", 2));
149    }
150    @Test(expected = JedisDataException.class)
151    public void decrByWrongValue() {
152      jedis.set("foo", "bar");
153      jedis.decrBy("foo", 2);
154    }
155    @Test
156    public void append() {
157      assertEquals(3, jedis.append("foo", "bar"));
158      assertEquals("bar", jedis.get("foo"));
159      assertEquals(6, jedis.append("foo", "bar"));
160      assertEquals("barbar", jedis.get("foo"));
161    }
162    @Test
163    public void substr() {
164      jedis.set("s", "This is a string");
165      assertEquals("This", jedis.substr("s", 0, 3));
166      assertEquals("ing", jedis.substr("s", -3, -1));
167      assertEquals("This is a string", jedis.substr("s", 0, -1));
168      assertEquals(" string", jedis.substr("s", 9, 100000));
169    }
170    @Test
171    public void strlen() {
172      String str = "This is a string";
173      jedis.set("s", str);
174      assertEquals(str.length(), jedis.strlen("s"));
175    }
176    @Test
177    public void incrLargeNumbers() {
178      assertEquals(1, jedis.incr("foo"));
179      assertEquals(1L + Integer.MAX_VALUE, jedis.incrBy("foo", Integer.MAX_VALUE));
180    }
181    @Test(expected = JedisDataException.class)
182    public void incrReallyLargeNumbers() {
183      jedis.set("foo", Long.toString(Long.MAX_VALUE));
184      jedis.incr("foo"); 
185    }
186    @Test
187    public void psetex() {
188      String status = jedis.psetex("foo", 20000, "bar");
189      assertEquals("OK", status);
190      long ttl = jedis.ttl("foo");
191      assertTrue(ttl > 0 && ttl <= 20000);
192    }
193    @Test
194    public void lcs() {
195      jedis.mset("key1", "ohmytext", "key2", "mynewtext");
196      LCSMatchResult stringMatchResult = jedis.lcs("key1", "key2",
197          LCSParams.LCSParams());
198      assertEquals("mytext", stringMatchResult.getMatchString());
199      stringMatchResult = jedis.lcs( "key1", "key2",
200              LCSParams.LCSParams().idx().withMatchLen());
201      assertEquals(stringMatchResult.getLen(), 6);
202      assertEquals(2, stringMatchResult.getMatches().size());
203      stringMatchResult = jedis.lcs( "key1", "key2",
204              LCSParams.LCSParams().idx().minMatchLen(10));
205      assertEquals(0, stringMatchResult.getMatches().size());
206    }
207  }
</span></code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from jedis-MDEwOlJlcG9zaXRvcnk3MTU2MDU=-flat-StringValuesCommandsTestBase.java</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from jedis-MDEwOlJlcG9zaXRvcnk3MTU2MDU=-flat-StringValuesCommandsTest.java</div>
                </div>
                <div class="column column_space"><pre><code>91      String status = jedis.mset("foo", "bar", "bar", "foo");
92      assertEquals("OK", status);
93      assertEquals("bar", jedis.get("foo"));
94      assertEquals("foo", jedis.get("bar"));
95    }
96    @Test
97    public void msetnx() {
98      assertEquals(1, jedis.msetnx("foo", "bar", "bar", "foo"));
99      assertEquals("bar", jedis.get("foo"));
100      assertEquals("foo", jedis.get("bar"));
101      assertEquals(0, jedis.msetnx("foo", "bar1", "bar2", "foo2"));
102      assertEquals("bar", jedis.get("foo"));
103      assertEquals("foo", jedis.get("bar"));
104    }
105    @Test
106    public void incr() {
107      assertEquals(1, jedis.incr("foo"));
108      assertEquals(2, jedis.incr("foo"));
109    }
110    @Test(expected = JedisDataException.class)
111    public void incrWrongValue() {
112      jedis.set("foo", "bar");
113      jedis.incr("foo");
114    }
115    @Test
116    public void incrBy() {
117      assertEquals(2, jedis.incrBy("foo", 2));
118      assertEquals(5, jedis.incrBy("foo", 3));
119    }
120    @Test(expected = JedisDataException.class)
121    public void incrByWrongValue() {
122      jedis.set("foo", "bar");
123      jedis.incrBy("foo", 2);
124    }
125    @Test
126    public void incrByFloat() {
127      assertEquals(10.5, jedis.incrByFloat("foo", 10.5), 0.0);
128      assertEquals(10.6, jedis.incrByFloat("foo", 0.1), 0.0);
129    }
130    @Test(expected = JedisDataException.class)
131    public void incrByFloatWrongValue() {
132      jedis.set("foo", "bar");
133      jedis.incrByFloat("foo", 2d);
134    }
135    @Test(expected = JedisDataException.class)
136    public void decrWrongValue() {
137      jedis.set("foo", "bar");
138      jedis.decr("foo");
139    }
140    @Test
141    public void decr() {
142      assertEquals(-1, jedis.decr("foo"));
143      assertEquals(-2, jedis.decr("foo"));
144    }
145    @Test
146    public void decrBy() {
147      assertEquals(-2, jedis.decrBy("foo", 2));
148      assertEquals(-4, jedis.decrBy("foo", 2));
149    }
150    @Test(expected = JedisDataException.class)
151    public void decrByWrongValue() {
152      jedis.set("foo", "bar");
153      jedis.decrBy("foo", 2);
154    }
155    @Test
156    public void append() {
157      assertEquals(3, jedis.append("foo", "bar"));
158      assertEquals("bar", jedis.get("foo"));
159      assertEquals(6, jedis.append("foo", "bar"));
160      assertEquals("barbar", jedis.get("foo"));
161    }
162    @Test
163    public void substr() {
164      jedis.set("s", "This is a string");
165      assertEquals("This", jedis.substr("s", 0, 3));
166      assertEquals("ing", jedis.substr("s", -3, -1));
167      assertEquals("This is a string", jedis.substr("s", 0, -1));
168      assertEquals(" string", jedis.substr("s", 9, 100000));
169    }
170    @Test
171    public void strlen() {
172      String str = "This is a string";
173      jedis.set("s", str);
174      assertEquals(str.length(), jedis.strlen("s"));
175    }
176    @Test
177    public void incrLargeNumbers() {
178      assertEquals(1, jedis.incr("foo"));
179      assertEquals(1L + Integer.MAX_VALUE, jedis.incrBy("foo", Integer.MAX_VALUE));
180    }
181    @Test(expected = JedisDataException.class)
182    public void incrReallyLargeNumbers() {
183      jedis.set("foo", Long.toString(Long.MAX_VALUE));
184      jedis.incr("foo"); 
185    }
186    @Test
187    public void psetex() {
188      String status = jedis.psetex("foo", 20000, "bar");
189      assertEquals("OK", status);
190      long ttl = jedis.ttl("foo");
191      assertTrue(ttl > 0 && ttl <= 20000);
192    }
193    @Test
194    public void lcs() {
195      jedis.mset("key1", "ohmytext", "key2", "mynewtext");
196      LCSMatchResult stringMatchResult = jedis.lcs("key1", "key2",
197              LCSParams.LCSParams());
198      assertEquals("mytext", stringMatchResult.getMatchString());
199      stringMatchResult = jedis.lcs( "key1", "key2",
200              LCSParams.LCSParams().idx().withMatchLen());
201      assertEquals(stringMatchResult.getLen(), 6);
202      assertEquals(2, stringMatchResult.getMatches().size());
203      stringMatchResult = jedis.lcs( "key1", "key2",
204              LCSParams.LCSParams().idx().minMatchLen(10));
205      assertEquals(0, stringMatchResult.getMatches().size());
206    }
207  }
</pre></code></div>
                <div class="column column_space"><pre><code>91      String status = jedis.mset("foo", "bar", "bar", "foo");
92      assertEquals("OK", status);
93      assertEquals("bar", jedis.get("foo"));
94      assertEquals("foo", jedis.get("bar"));
95    }
96    @Test
97    public void msetnx() {
98      assertEquals(1, jedis.msetnx("foo", "bar", "bar", "foo"));
99      assertEquals("bar", jedis.get("foo"));
100      assertEquals("foo", jedis.get("bar"));
101      assertEquals(0, jedis.msetnx("foo", "bar1", "bar2", "foo2"));
102      assertEquals("bar", jedis.get("foo"));
103      assertEquals("foo", jedis.get("bar"));
104    }
105    @Test
106    public void incr() {
107      assertEquals(1, jedis.incr("foo"));
108      assertEquals(2, jedis.incr("foo"));
109    }
110    @Test(expected = JedisDataException.class)
111    public void incrWrongValue() {
112      jedis.set("foo", "bar");
113      jedis.incr("foo");
114    }
115    @Test
116    public void incrBy() {
117      assertEquals(2, jedis.incrBy("foo", 2));
118      assertEquals(5, jedis.incrBy("foo", 3));
119    }
120    @Test(expected = JedisDataException.class)
121    public void incrByWrongValue() {
122      jedis.set("foo", "bar");
123      jedis.incrBy("foo", 2);
124    }
125    @Test
126    public void incrByFloat() {
127      assertEquals(10.5, jedis.incrByFloat("foo", 10.5), 0.0);
128      assertEquals(10.6, jedis.incrByFloat("foo", 0.1), 0.0);
129    }
130    @Test(expected = JedisDataException.class)
131    public void incrByFloatWrongValue() {
132      jedis.set("foo", "bar");
133      jedis.incrByFloat("foo", 2d);
134    }
135    @Test(expected = JedisDataException.class)
136    public void decrWrongValue() {
137      jedis.set("foo", "bar");
138      jedis.decr("foo");
139    }
140    @Test
141    public void decr() {
142      assertEquals(-1, jedis.decr("foo"));
143      assertEquals(-2, jedis.decr("foo"));
144    }
145    @Test
146    public void decrBy() {
147      assertEquals(-2, jedis.decrBy("foo", 2));
148      assertEquals(-4, jedis.decrBy("foo", 2));
149    }
150    @Test(expected = JedisDataException.class)
151    public void decrByWrongValue() {
152      jedis.set("foo", "bar");
153      jedis.decrBy("foo", 2);
154    }
155    @Test
156    public void append() {
157      assertEquals(3, jedis.append("foo", "bar"));
158      assertEquals("bar", jedis.get("foo"));
159      assertEquals(6, jedis.append("foo", "bar"));
160      assertEquals("barbar", jedis.get("foo"));
161    }
162    @Test
163    public void substr() {
164      jedis.set("s", "This is a string");
165      assertEquals("This", jedis.substr("s", 0, 3));
166      assertEquals("ing", jedis.substr("s", -3, -1));
167      assertEquals("This is a string", jedis.substr("s", 0, -1));
168      assertEquals(" string", jedis.substr("s", 9, 100000));
169    }
170    @Test
171    public void strlen() {
172      String str = "This is a string";
173      jedis.set("s", str);
174      assertEquals(str.length(), jedis.strlen("s"));
175    }
176    @Test
177    public void incrLargeNumbers() {
178      assertEquals(1, jedis.incr("foo"));
179      assertEquals(1L + Integer.MAX_VALUE, jedis.incrBy("foo", Integer.MAX_VALUE));
180    }
181    @Test(expected = JedisDataException.class)
182    public void incrReallyLargeNumbers() {
183      jedis.set("foo", Long.toString(Long.MAX_VALUE));
184      jedis.incr("foo"); 
185    }
186    @Test
187    public void psetex() {
188      String status = jedis.psetex("foo", 20000, "bar");
189      assertEquals("OK", status);
190      long ttl = jedis.ttl("foo");
191      assertTrue(ttl > 0 && ttl <= 20000);
192    }
193    @Test
194    public void lcs() {
195      jedis.mset("key1", "ohmytext", "key2", "mynewtext");
196      LCSMatchResult stringMatchResult = jedis.lcs("key1", "key2",
197          LCSParams.LCSParams());
198      assertEquals("mytext", stringMatchResult.getMatchString());
199      stringMatchResult = jedis.lcs( "key1", "key2",
200              LCSParams.LCSParams().idx().withMatchLen());
201      assertEquals(stringMatchResult.getLen(), 6);
202      assertEquals(2, stringMatchResult.getMatches().size());
203      stringMatchResult = jedis.lcs( "key1", "key2",
204              LCSParams.LCSParams().idx().minMatchLen(10));
205      assertEquals(0, stringMatchResult.getMatches().size());
206    }
207  }
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    