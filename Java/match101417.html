<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for MultisetRemoveTester.java &amp; TrustedListenableFutureTaskTest.java</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for MultisetRemoveTester.java &amp; TrustedListenableFutureTaskTest.java
      </h3>
<h1 align="center">
        27.2%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>MultisetRemoveTester.java (29.044117%)<th>TrustedListenableFutureTaskTest.java (25.649351%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(20-44)<td><a href="#" name="0">(19-38)</a><td align="center"><font color="#ff0000">19</font>
<tr onclick='openModal("#f63526")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#f63526"><font color="#f63526">-</font><td><a href="#" name="1">(76-86)<td><a href="#" name="1">(42-50)</a><td align="center"><font color="#c90000">15</font>
<tr onclick='openModal("#980517")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#980517"><font color="#980517">-</font><td><a href="#" name="2">(101-104)<td><a href="#" name="2">(50-56)</a><td align="center"><font color="#ae0000">13</font>
<tr onclick='openModal("#53858b")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#53858b"><font color="#53858b">-</font><td><a href="#" name="3">(50-57)<td><a href="#" name="3">(58-65)</a><td align="center"><font color="#a10000">12</font>
<tr onclick='openModal("#6cc417")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#6cc417"><font color="#6cc417">-</font><td><a href="#" name="4">(89-97)<td><a href="#" name="4">(120-126)</a><td align="center"><font color="#930000">11</font>
<tr onclick='openModal("#151b8d")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#151b8d"><font color="#151b8d">-</font><td><a href="#" name="5">(69-73)<td><a href="#" name="5">(202-208)</a><td align="center"><font color="#780000">9</font>
</td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>MultisetRemoveTester.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 <a name="0"></a>package com.google.common.collect.testing.google;
2 import static com.google.common.collect.testing.Helpers.assertEmpty;
3 <font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>import static com.google.common.collect.testing.features.CollectionFeature.ALLOWS_NULL_QUERIES;
4 import static com.google.common.collect.testing.features.CollectionFeature.ALLOWS_NULL_VALUES;
5 import static com.google.common.collect.testing.features.CollectionFeature.SUPPORTS_REMOVE;
6 import static com.google.common.collect.testing.features.CollectionSize.SEVERAL;
7 import static com.google.common.collect.testing.features.CollectionSize.ZERO;
8 import com.google.common.annotations.GwtCompatible;
9 import com.google.common.annotations.GwtIncompatible;
10 import com.google.common.collect.testing.Helpers;
11 import com.google.common.collect.testing.WrongType;
12 import com.google.common.collect.testing.features.CollectionFeature;
13 import com.google.common.collect.testing.features.CollectionSize;
14 import java.lang.reflect.Method;
15 import java.util.Arrays;
16 import java.util.Collections;
17 import java.util.List;
18 import org.junit.Ignore;
19 @GwtCompatible(e</b></font>mulated = true)
20 @Ignore public class MultisetRemoveTester&lt;E&gt; extends AbstractMultisetTester&lt;E&gt; {
21 <a name="3"></a>  @CollectionFeature.Require(SUPPORTS_REMOVE)
22   public void testRemoveNegative() {
23     try {
24       getMultiset().remove(<font color="#53858b"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>e0(), -1);
25       fail("Expected IllegalArgumentException");
26     } catch (IllegalArgumentException expected) {
27     }
28     expectUnchanged();
29   }
30   @CollectionFeature.Re</b></font>quire(absent = SUPPORTS_REMOVE)
31   public void testRemoveUnsupported() {
32     try {
33       getMultiset().remove(e0(), 2);
34       fail("Expected UnsupportedOperationException");
35     } catch (UnsupportedOperationException expected) {
36     }
37   }
38 <a name="5"></a>  @CollectionFeature.Require(SUPPORTS_REMOVE)
39   public void testRemoveZeroNoOp() {
40     int originalCount = getMultiset().count(e0());
41     <font color="#151b8d"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>assertEquals("old count", originalCount, getMultiset().remove(e0(), 0));
42     expectUnchanged();
43   }
44 <a name="1"></a>  @</b></font>CollectionSize.Require(absent = ZERO)
45   @CollectionFeature.Require(SUPPORTS_REMOVE)
46   public void testRemove_occurrences_present() {
47     <font color="#f63526"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>assertEquals(
48         "multiset.remove(present, 2) didn't return the old count",
49         1,
50         getMultiset().remove(e0(), 2));
51     assertFalse(
52         "multiset contains present after multiset.remove(present, 2)",
53         getMultiset().contains(e0()));
54     assertEquals(0, getMultiset().count(e0()));
55   }
56 <a name="4"></a>  @CollectionSize.Require(SEVERAL)</b></font>
57   @CollectionFeature.Require(SUPPORTS_REMOVE)
58   public void testRemove_some_occurrences_present() {
59     <font color="#6cc417"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>initThreeCopies();
60     assertEquals(
61         "multiset.remove(present, 2) didn't return the old count",
62         3,
63         getMultiset().remove(e0(), 2));
64     assertTrue(
65         "multiset contains present after multiset.remove(present, 2)",
66         getMultiset().contains(e0()));
67     assertEquals(1, getMultiset().count</b></font>(e0()));
68 <a name="2"></a>  }
69   @CollectionFeature.Require(SUPPORTS_REMOVE)
70   public void testRemove_occurrences_absent() <font color="#980517"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>{
71     int distinct = getMultiset().elementSet().size();
72     assertEquals("multiset.remove(absent, 0) didn't return 0", 0, getMultiset().remove(e3(), 2));
73     assertEquals(distinct, getMultiset</b></font>().elementSet().size());
74   }
75   @CollectionFeature.Require(absent = SUPPORTS_REMOVE)
76   public void testRemove_occurrences_unsupported_absent() {
77     try {
78       assertEquals(
79           "multiset.remove(absent, 2) didn't return 0 or throw an exception",
80           0,
81           getMultiset().remove(e3(), 2));
82     } catch (UnsupportedOperationException ok) {
83     }
84   }
85   @CollectionFeature.Require(SUPPORTS_REMOVE)
86   public void testRemove_occurrences_0() {
87     int oldCount = getMultiset().count(e0());
88     assertEquals(
89         "multiset.remove(E, 0) didn't return the old count",
90         oldCount,
91         getMultiset().remove(e0(), 0));
92   }
93   @CollectionFeature.Require(SUPPORTS_REMOVE)
94   public void testRemove_occurrences_negative() {
95     try {
96       getMultiset().remove(e0(), -1);
97       fail("multiset.remove(E, -1) didn't throw an exception");
98     } catch (IllegalArgumentException required) {
99     }
100   }
101   @CollectionFeature.Require(SUPPORTS_REMOVE)
102   public void testRemove_occurrences_wrongType() {
103     assertEquals(
104         "multiset.remove(wrongType, 1) didn't return 0",
105         0,
106         getMultiset().remove(WrongType.VALUE, 1));
107   }
108   @CollectionSize.Require(absent = ZERO)
109   @CollectionFeature.Require({SUPPORTS_REMOVE, ALLOWS_NULL_VALUES})
110   public void testRemove_nullPresent() {
111     initCollectionWithNullElement();
112     assertEquals(1, getMultiset().remove(null, 2));
113     assertFalse(
114         "multiset contains present after multiset.remove(present, 2)",
115         getMultiset().contains(null));
116     assertEquals(0, getMultiset().count(null));
117   }
118   @CollectionFeature.Require({SUPPORTS_REMOVE, ALLOWS_NULL_QUERIES})
119   public void testRemove_nullAbsent() {
120     assertEquals(0, getMultiset().remove(null, 2));
121   }
122   @CollectionFeature.Require(value = SUPPORTS_REMOVE, absent = ALLOWS_NULL_QUERIES)
123   public void testRemove_nullForbidden() {
124     try {
125       getMultiset().remove(null, 2);
126       fail("Expected NullPointerException");
127     } catch (NullPointerException expected) {
128     }
129   }
130   @CollectionSize.Require(SEVERAL)
131   @CollectionFeature.Require(SUPPORTS_REMOVE)
132   public void testRemoveAllIgnoresCount() {
133     initThreeCopies();
134     assertTrue(getMultiset().removeAll(Collections.singleton(e0())));
135     assertEmpty(getMultiset());
136   }
137   @CollectionSize.Require(SEVERAL)
138   @CollectionFeature.Require(SUPPORTS_REMOVE)
139   public void testRetainAllIgnoresCount() {
140     initThreeCopies();
141     List&lt;E&gt; contents = Helpers.copyToList(getMultiset());
142     assertFalse(getMultiset().retainAll(Collections.singleton(e0())));
143     expectContents(contents);
144   }
145   @GwtIncompatible   public static List&lt;Method&gt; getRemoveDuplicateInitializingMethods() {
146     return Arrays.asList(
147         Helpers.getMethod(MultisetRemoveTester.class, "testRemove_some_occurrences_present"));
148   }
149 }
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>TrustedListenableFutureTaskTest.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 /*
2  * Copyright (C) 2014 The Guava Authors
3  *
4  * Licensed under the Apache License, Version 2.0 (the "License");
5  * you may not use this file except in compliance with the License.
6  * You may obtain a copy of the License at
7  *
8  * http://www.apache.org/licenses/LICENSE-2.0
9  *
10  * Unless required by applicable law or agreed to in writing, software
11  * distributed under the License is distributed on an "AS IS" BASIS,
12  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
13  * See the License for the specific language governing permissions and
14  * limitations under the License.
15  */
16 <a name="0"></a>
17 package com.google.common.util.concurrent;
18 <font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>import static com.google.common.truth.Truth.assertThat;
19 import static com.google.common.util.concurrent.Callables.returning;
20 import static com.google.common.util.concurrent.Futures.getDone;
21 import static com.google.common.util.concurrent.TestPlatform.verifyThreadWasNotInterrupted;
22 import com.google.common.annotations.GwtCompatible;
23 import com.google.common.annotations.GwtIncompatible;
24 import java.util.concurrent.Callable;
25 import java.util.concurrent.CancellationException;
26 import java.util.concurrent.CountDownLatch;
27 import java.util.concurrent.CyclicBarrier;
28 import java.util.concurrent.ExecutionException;
29 import java.util.concurrent.ExecutorService;
30 import java.util.concurrent.Executors;
31 import java.util.concurrent.atomic.AtomicBoolean;
32 import java.util.concurrent.atomic.AtomicInteger;
33 import junit.framework.TestCase;
34 @GwtCompatible(e</b></font>mulated = true)
35 <a name="1"></a>public class TrustedListenableFutureTaskTest extends TestCase {
36   public void testSuccessful() throws Exception {
37     TrustedListenableFutureTask&lt;Integer&gt; task = <font color="#f63526"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>TrustedListenableFutureTask.create(returning(2));
38     assertFalse(task.isDone());
39     task.run();
40     assertTrue(task.isDone());
41     assertFalse(task.isCancelled());
42 <a name="2"></a>    assertEquals(2, getDone(task).intValue());
43   }
44   public void t</b></font>estCancelled() throws Exception <font color="#980517"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>{
45     TrustedListenableFutureTask&lt;Integer&gt; task = TrustedListenableFutureTask.create(returning(2));
46     assertFalse(task.isDone());
47     task.cancel(false);
48     assertTrue(task.isDone());
49 <a name="3"></a>    assertTrue(task.isCancelled());
50     assertFalse(task.wasInterrupted</b></font>());
51     try {
52       <font color="#53858b"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>getDone(task);
53       fail();
54     } catch (CancellationException expected) {
55     }
56     verifyThreadWasNotInterrupted();
57   }
58   public voi</b></font>d testFailed() throws Exception {
59     final Exception e = new Exception();
60     TrustedListenableFutureTask&lt;Integer&gt; task =
61         TrustedListenableFutureTask.create(
62             new Callable&lt;Integer&gt;() {
63               @Override
64               public Integer call() throws Exception {
65                 throw e;
66               }
67             });
68     task.run();
69     assertTrue(task.isDone());
70     assertFalse(task.isCancelled());
71     try {
72       getDone(task);
73       fail();
74     } catch (ExecutionException executionException) {
75       assertThat(executionException).hasCauseThat().isEqualTo(e);
76     }
77   }
78   @GwtIncompatible   public void testCancel_interrupted() throws Exception {
79     final AtomicBoolean interruptedExceptionThrown = new AtomicBoolean();
80     final CountDownLatch enterLatch = new CountDownLatch(1);
81     final CountDownLatch exitLatch = new CountDownLatch(1);
82     final TrustedListenableFutureTask&lt;Integer&gt; task =
83         TrustedListenableFutureTask.create(
84             new Callable&lt;Integer&gt;() {
85               @Override
86               public Integer call() throws Exception {
87                 enterLatch.countDown();
88                 try {
89                   new CountDownLatch(1).await();                   throw new AssertionError();
90                 } catch (InterruptedException e) {
91                   interruptedExceptionThrown.set(true);
92                   throw e;
93                 } finally {
94                 }
95               }
96             });
97     assertFalse(task.isDone());
98     Thread thread =
99         new Thread(
100             new Runnable() {
101               @Override
102               public void run() {
103                 try {
104                   task.run();
105                 } finally {
106                   exitLatch.countDown();
107 <a name="4"></a>                }
108               }
109             });
110     <font color="#6cc417"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>thread.start();
111     enterLatch.await();
112     assertFalse(task.isDone());
113     task.cancel(true);
114     assertTrue(task.isDone());
115     assertTrue(task.isCancelled());
116     assertTrue(task.wasInterrupted</b></font>());
117     try {
118       task.get();
119       fail();
120     } catch (CancellationException expected) {
121     }
122     exitLatch.await();
123     assertTrue(interruptedExceptionThrown.get());
124   }
125   @GwtIncompatible   public void testRunIdempotency() throws Exception {
126     final int numThreads = 10;
127     final ExecutorService executor = Executors.newFixedThreadPool(numThreads);
128     for (int i = 0; i &lt; 1000; i++) {
129       final AtomicInteger counter = new AtomicInteger();
130       final TrustedListenableFutureTask&lt;Integer&gt; task =
131           TrustedListenableFutureTask.create(
132               new Callable&lt;Integer&gt;() {
133                 @Override
134                 public Integer call() {
135                   return counter.incrementAndGet();
136                 }
137               });
138       final CyclicBarrier barrier = new CyclicBarrier(numThreads + 1);
139       Runnable wrapper =
140           new Runnable() {
141             @Override
142             public void run() {
143               awaitUnchecked(barrier);
144               task.run();
145               awaitUnchecked(barrier);
146             }
147           };
148       for (int j = 0; j &lt; 10; j++) {
149         executor.execute(wrapper);
150       }
151       barrier.await();       barrier.await();       assertEquals(1, task.get().intValue());
152       assertEquals(1, counter.get());
153     }
154     executor.shutdown();
155   }
156   @GwtIncompatible   public void testToString() throws Exception {
157     final CountDownLatch enterLatch = new CountDownLatch(1);
158     final CountDownLatch exitLatch = new CountDownLatch(1);
159     final TrustedListenableFutureTask&lt;Void&gt; task =
160         TrustedListenableFutureTask.create(
161             new Callable&lt;Void&gt;() {
162               @Override
163               public Void call() throws Exception {
164                 enterLatch.countDown();
165                 new CountDownLatch(1).await();                 return null;
166               }
167             });
168     assertFalse(task.isDone());
169     Thread thread =
170         new Thread(
171             new Runnable() {
172               @Override
173               public void run() {
174                 try {
175                   task.run();
176                 } finally {
177                   exitLatch.countDown();
178                 }
179               }
180             },
181             "Custom thread name");
182 <a name="5"></a>    thread.start();
183     enterLatch.await();
184     assertFalse(task.isDone());
185     String result = <font color="#151b8d"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>task.toString();
186     assertThat(result).contains("Custom thread name");
187     task.cancel(true);
188     exitLatch.await();
189   }
190   @</b></font>GwtIncompatible   private void awaitUnchecked(CyclicBarrier barrier) {
191     try {
192       barrier.await();
193     } catch (Exception e) {
194       throw new RuntimeException(e);
195     }
196   }
197 }
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
