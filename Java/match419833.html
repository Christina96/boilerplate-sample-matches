<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for ObjectArraysTest.java &amp; HashTestUtils_1.java</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for ObjectArraysTest.java &amp; HashTestUtils_1.java
      </h3>
<h1 align="center">
        13.8%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>ObjectArraysTest.java (26.27551%)<th>HashTestUtils_1.java (9.423605%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(149-156)<td><a href="#" name="0">(468-473)</a><td align="center"><font color="#ff0000">13</font>
<tr onclick='openModal("#f63526")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#f63526"><font color="#f63526">-</font><td><a href="#" name="1">(216-228)<td><a href="#" name="1">(599-605)</a><td align="center"><font color="#eb0000">12</font>
<tr onclick='openModal("#980517")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#980517"><font color="#980517">-</font><td><a href="#" name="2">(122-128)<td><a href="#" name="2">(492-498)</a><td align="center"><font color="#eb0000">12</font>
<tr onclick='openModal("#53858b")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#53858b"><font color="#53858b">-</font><td><a href="#" name="3">(51-58)<td><a href="#" name="3">(619-624)</a><td align="center"><font color="#d70000">11</font>
<tr onclick='openModal("#6cc417")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#6cc417"><font color="#6cc417">-</font><td><a href="#" name="4">(59-64)<td><a href="#" name="4">(624-627)</a><td align="center"><font color="#c40000">10</font>
<tr onclick='openModal("#151b8d")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#151b8d"><font color="#151b8d">-</font><td><a href="#" name="5">(145-148)<td><a href="#" name="5">(570-573)</a><td align="center"><font color="#b00000">9</font>
<tr onclick='openModal("#8c8774")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#8c8774"><font color="#8c8774">-</font><td><a href="#" name="6">(111-115)<td><a href="#" name="6">(615-619)</a><td align="center"><font color="#b00000">9</font>
<tr onclick='openModal("#38a4a5")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#38a4a5"><font color="#38a4a5">-</font><td><a href="#" name="7">(103-107)<td><a href="#" name="7">(525-530)</a><td align="center"><font color="#b00000">9</font>
<tr onclick='openModal("#c58917")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#c58917"><font color="#c58917">-</font><td><a href="#" name="8">(96-100)<td><a href="#" name="8">(512-517)</a><td align="center"><font color="#b00000">9</font>
<tr onclick='openModal("#83a33a")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#83a33a"><font color="#83a33a">-</font><td><a href="#" name="9">(17-27)<td><a href="#" name="9">(17-27)</a><td align="center"><font color="#b00000">9</font>
</td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>ObjectArraysTest.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 <font color="#83a33a"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>package com.google.common.collect;
2 import static com.google.common.truth.Truth.assertThat;
3 import com.google.common.annotations.GwtCompatible;
4 import com.google.common.annotations.GwtIncompatible;
5 import com.google.common.testing.NullPointerTester;
6 import java.io.Serializable;
7 import java.util.Arrays;
8 import java.util.List;
9 import</b></font> junit.framework.TestCase;
10 @GwtCompatible(emulated = true)
11 public class ObjectArraysTest extends TestCase {
12   @GwtIncompatible   public void testNullPointerExceptions() {
13     NullPointerTester tester = new NullPointerTester();
14     tester.testAllPublicStaticMethods(ObjectArrays.class);
15   }
16   @GwtIncompatible   public void testNewArray_fromClass_Empty() {
17     String[] empty = ObjectArrays.newArray(String.class, 0);
18     assertEquals(String[].class, empty.getClass());
19     assertThat(empty).isEmpty();
20 <a name="3"></a>  }
21   @GwtIncompatible   public void testNewArray_fromClass_Nonempty() <font color="#53858b"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>{
22     String[] array = ObjectArrays.newArray(String.class, 2);
23     assertEquals(String[].class, array.getClass());
24     assertThat(array).hasLength(2);
25     assertNull(array[0]);
26 <a name="4"></a>  }
27   @GwtIncompatible   public void testNewArray_fromClass_OfArray() <font color="#6cc417"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>{
28     String[][] array = ObjectArrays.newArray(String[].class, 1);
29     assertEquals(String[][].class, array.getClass());
30     assertThat(array).hasLength(1);
31     assertNull(array[0]);
32   }</b></font>
33   public void testNewArray_fromArray_Empty() {
34     String[] in = new String[0];
35     String[] empty = ObjectArrays.newArray(in, 0);
36     assertThat(empty).isEmpty();
37   }
38   public void testNewArray_fromArray_Nonempty() {
39     String[] array = ObjectArrays.newArray(new String[0], 2);
40     assertEquals(String[].class, array.getClass());
41     assertThat(array).hasLength(2);
42     assertNull(array[0]);
43   }
44   public void testNewArray_fromArray_OfArray() {
45     String[][] array = ObjectArrays.newArray(new String[0][0], 1);
46     assertEquals(String[][].class, array.getClass());
47     assertThat(array).hasLength(1);
48     assertNull(array[0]);
49   }
50   @GwtIncompatible   public void testConcatEmptyEmpty() {
51     String[] result = ObjectArrays.concat(new String[0], new String[0], String.class);
52     assertEquals(String[].class, result.getClass());
53     assertThat(result).isEmpty();
54   }
55 <a name="8"></a>  @GwtIncompatible   public void testConcatEmptyNonempty() {
56     String[] result = ObjectArrays.concat(new String[0], new String[] {"a", "b"}, String.class);
57     <font color="#c58917"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>assertEquals(String[].class, result.getClass());
58     assertThat(result).asList().containsExactly("a", "b").inOrder();
59   }
60 <a name="7"></a>  @GwtIncompatible   public void testConcatNonemptyEmpty() {
61     String[] result = ObjectArrays.concat(new String[] {"a", "b"}, new String[0], String.class);
62     <font color="#38a4a5"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>assertEquals(String[].class, result.getClass());
63     assertThat(result).asList().containsExactly("a", "b").inOrder();
64   }
65   @GwtIncompatibl</b></font>e <a name="6"></a>  public void testConcatBasic() {
66     String[] result =
67         ObjectArrays.concat(new String[] {"a", "b"}, new String[] {"c", "d"}, String.class);
68     <font color="#8c8774"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>assertEquals(String[].class, result.getClass());
69     assertThat(result).asList().containsExactly("a", "b", "c", "d").inOrder();
70   }
71   @GwtIncompatible   public void testConcatWithMoreGeneralType() {
72     Serializable[] result = ObjectArrays.concat(new String[0], new String[0], Serializable.class);
73     assertEquals(Serializable[].class, result.getClass());
74 <a name="2"></a>  }
75   public void testToArrayImpl1() {
76     <font color="#980517"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>doTestToArrayImpl1(Lists.&lt;Integer&gt;newArrayList());
77     doTestToArrayImpl1(Lists.newArrayList(1));
78     doTestToArrayImpl1(Lists.newArrayList(1, null, 3));
79   }
80   private void doTestToArrayImpl1(List&lt;Integer&gt; list) {
81     Object[] reference = list.toArray()</b></font>;
82     Object[] target = ObjectArrays.toArrayImpl(list);
83     assertEquals(reference.getClass(), target.getClass());
84     assertTrue(Arrays.equals(reference, target));
85   }
86   public void testToArrayImpl2() {
87     doTestToArrayImpl2(Lists.&lt;Integer&gt;newArrayList(), new Integer[0], false);
88     doTestToArrayImpl2(Lists.&lt;Integer&gt;newArrayList(), new Integer[1], true);
89     doTestToArrayImpl2(Lists.newArrayList(1), new Integer[0], false);
90     doTestToArrayImpl2(Lists.newArrayList(1), new Integer[1], true);
91     doTestToArrayImpl2(Lists.newArrayList(1), new Integer[] {2, 3}, true);
92 <a name="5"></a>    doTestToArrayImpl2(Lists.newArrayList(1, null, 3), new Integer[0], false);
93     doTestToArrayImpl2(Lists.newArrayList(1, null, 3), new Integer[2], false);
94     doTestToArrayImpl2(Lists.newArrayList(1, null, 3), new Integer[3], true);
95   <font color="#151b8d"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>}
96 <a name="0"></a>
97   private void doTestToArrayImpl2(List&lt;Integer&gt; list, Integer[] array1, boolean expectModify) {
98     Integer[] starting = Arrays.copyOf</b></font>(array1, array1.length);
99     <font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>Integer[] array2 = Arrays.copyOf(array1, array1.length);
100     Object[] reference = list.toArray(array1);
101     Object[] target = ObjectArrays.toArrayImpl(list, array2);
102     assertEquals(reference.getClass(), target.getClass());
103     assertTrue(Arrays.equals(reference, target));
104     assertTrue(Arrays.equals</b></font>(reference, target));
105     Object[] expectedArray1 = expectModify ? reference : starting;
106     Object[] expectedArray2 = expectModify ? target : starting;
107     assertTrue(Arrays.equals(expectedArray1, array1));
108     assertTrue(Arrays.equals(expectedArray2, array2));
109   }
110   public void testPrependZeroElements() {
111     String[] result = ObjectArrays.concat("foo", new String[] {});
112     assertThat(result).asList().contains("foo");
113   }
114   public void testPrependOneElement() {
115     String[] result = ObjectArrays.concat("foo", new String[] {"bar"});
116     assertThat(result).asList().containsExactly("foo", "bar").inOrder();
117   }
118   public void testPrependTwoElements() {
119     String[] result = ObjectArrays.concat("foo", new String[] {"bar", "baz"});
120     assertThat(result).asList().containsExactly("foo", "bar", "baz").inOrder();
121   }
122   public void testAppendZeroElements() {
123     String[] result = ObjectArrays.concat(new String[] {}, "foo");
124     assertThat(result).asList().contains("foo");
125   }
126   public void testAppendOneElement() {
127     String[] result = ObjectArrays.concat(new String[] {"foo"}, "bar");
128     assertThat(result).asList().containsExactly("foo", "bar").inOrder();
129   }
130   public void testAppendTwoElements() {
131     String[] result = ObjectArrays.concat(new String[] {"foo", "bar"}, "baz");
132     assertThat(result).asList().containsExactly("foo", "bar", "baz").inOrder();
133   }
134   public void testEmptyArrayToEmpty() {
135     doTestNewArrayEquals(new Object[0], 0);
136   }
137   public void testEmptyArrayToNonEmpty() {
138     checkArrayEquals(new Long[5], ObjectArrays.newArray(new Long[0], 5));
139   }
140   public void testNonEmptyToShorter() {
141     checkArrayEquals(new String[9], ObjectArrays.newArray(new String[10], 9));
142   }
143   public void testNonEmptyToSameLength() {
144     doTestNewArrayEquals(new String[10], 10);
145   }
146   public void testNonEmptyToLonger() {
147     checkArrayEquals(
148         new String[10], ObjectArrays.newArray(new String[] {"a", "b", "c", "d", "e"}, 10));
149 <a name="1"></a>  }
150   private static void checkArrayEquals(Object[] expected, Object[] actual) {
151     <font color="#f63526"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>assertTrue(
152         "expected("
153             + expected.getClass()
154             + "): "
155             + Arrays.toString(expected)
156             + " actual("
157             + actual.getClass()
158             + "): "
159             + Arrays.toString(actual),
160         arrayEquals(expected, actual));
161   }
162   private static boolean arrayEquals(Object[] array1, Object[] array2) {</b></font>
163     assertSame(array1.getClass(), array2.getClass());
164     return Arrays.equals(array1, array2);
165   }
166   private static void doTestNewArrayEquals(Object[] expected, int length) {
167     checkArrayEquals(expected, ObjectArrays.newArray(expected, length));
168   }
169 }
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>HashTestUtils_1.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 <font color="#83a33a"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>package com.google.common.hash;
2 import static org.junit.Assert.assertEquals;
3 import static org.junit.Assert.assertFalse;
4 import com.google.common.base.Charsets;
5 import com.google.common.collect.ImmutableSet;
6 import com.google.common.collect.Sets;
7 import com.google.common.primitives.Ints;
8 import com.google.common.testing.EqualsTester;
9 import</b></font> java.nio.ByteBuffer;
10 import java.nio.ByteOrder;
11 import java.nio.charset.Charset;
12 import java.util.Arrays;
13 import java.util.Random;
14 import java.util.Set;
15 import org.junit.Assert;
16 final class HashTestUtils {
17   private HashTestUtils() {}
18   static byte[] ascii(String string) {
19     byte[] bytes = new byte[string.length()];
20     for (int i = 0; i &lt; string.length(); i++) {
21       bytes[i] = (byte) string.charAt(i);
22     }
23     return bytes;
24   }
25   interface HashFn {
26     byte[] hash(byte[] input, int seed);
27   }
28   static void verifyHashFunction(HashFn hashFunction, int hashbits, int expected) {
29     int hashBytes = hashbits / 8;
30     byte[] key = new byte[256];
31     byte[] hashes = new byte[hashBytes * 256];
32     for (int i = 0; i &lt; 256; i++) {
33       key[i] = (byte) i;
34       int seed = 256 - i;
35       byte[] hash = hashFunction.hash(Arrays.copyOf(key, i), seed);
36       System.arraycopy(hash, 0, hashes, i * hashBytes, hash.length);
37     }
38     byte[] result = hashFunction.hash(hashes, 0);
39     int verification = Integer.reverseBytes(Ints.fromByteArray(result));
40     if (expected != verification) {
41       throw new AssertionError(
42           "Expected: "
43               + Integer.toHexString(expected)
44               + " got: "
45               + Integer.toHexString(verification));
46     }
47   }
48   static final Funnel&lt;Object&gt; BAD_FUNNEL =
49       new Funnel&lt;Object&gt;() {
50         @Override
51         public void funnel(Object object, PrimitiveSink bytePrimitiveSink) {
52           bytePrimitiveSink.putInt(object.hashCode());
53         }
54       };
55   enum RandomHasherAction {
56     PUT_BOOLEAN() {
57       @Override
58       void performAction(Random random, Iterable&lt;? extends PrimitiveSink&gt; sinks) {
59         boolean value = random.nextBoolean();
60         for (PrimitiveSink sink : sinks) {
61           sink.putBoolean(value);
62         }
63       }
64     },
65     PUT_BYTE() {
66       @Override
67       void performAction(Random random, Iterable&lt;? extends PrimitiveSink&gt; sinks) {
68         int value = random.nextInt();
69         for (PrimitiveSink sink : sinks) {
70           sink.putByte((byte) value);
71         }
72       }
73     },
74     PUT_SHORT() {
75       @Override
76       void performAction(Random random, Iterable&lt;? extends PrimitiveSink&gt; sinks) {
77         short value = (short) random.nextInt();
78         for (PrimitiveSink sink : sinks) {
79           sink.putShort(value);
80         }
81       }
82     },
83     PUT_CHAR() {
84       @Override
85       void performAction(Random random, Iterable&lt;? extends PrimitiveSink&gt; sinks) {
86         char value = (char) random.nextInt();
87         for (PrimitiveSink sink : sinks) {
88           sink.putChar(value);
89         }
90       }
91     },
92     PUT_INT() {
93       @Override
94       void performAction(Random random, Iterable&lt;? extends PrimitiveSink&gt; sinks) {
95         int value = random.nextInt();
96         for (PrimitiveSink sink : sinks) {
97           sink.putInt(value);
98         }
99       }
100     },
101     PUT_LONG() {
102       @Override
103       void performAction(Random random, Iterable&lt;? extends PrimitiveSink&gt; sinks) {
104         long value = random.nextLong();
105         for (PrimitiveSink sink : sinks) {
106           sink.putLong(value);
107         }
108       }
109     },
110     PUT_FLOAT() {
111       @Override
112       void performAction(Random random, Iterable&lt;? extends PrimitiveSink&gt; sinks) {
113         float value = random.nextFloat();
114         for (PrimitiveSink sink : sinks) {
115           sink.putFloat(value);
116         }
117       }
118     },
119     PUT_DOUBLE() {
120       @Override
121       void performAction(Random random, Iterable&lt;? extends PrimitiveSink&gt; sinks) {
122         double value = random.nextDouble();
123         for (PrimitiveSink sink : sinks) {
124           sink.putDouble(value);
125         }
126       }
127     },
128     PUT_BYTES() {
129       @Override
130       void performAction(Random random, Iterable&lt;? extends PrimitiveSink&gt; sinks) {
131         byte[] value = new byte[random.nextInt(128)];
132         random.nextBytes(value);
133         for (PrimitiveSink sink : sinks) {
134           sink.putBytes(value);
135         }
136       }
137     },
138     PUT_BYTES_INT_INT() {
139       @Override
140       void performAction(Random random, Iterable&lt;? extends PrimitiveSink&gt; sinks) {
141         byte[] value = new byte[random.nextInt(128)];
142         random.nextBytes(value);
143         int off = random.nextInt(value.length + 1);
144         int len = random.nextInt(value.length - off + 1);
145         for (PrimitiveSink sink : sinks) {
146           sink.putBytes(value, off, len);
147         }
148       }
149     },
150     PUT_BYTE_BUFFER() {
151       @Override
152       void performAction(Random random, Iterable&lt;? extends PrimitiveSink&gt; sinks) {
153         byte[] value = new byte[random.nextInt(128)];
154         random.nextBytes(value);
155         int pos = random.nextInt(value.length + 1);
156         int limit = pos + random.nextInt(value.length - pos + 1);
157         for (PrimitiveSink sink : sinks) {
158           ByteBuffer buffer = ByteBuffer.wrap(value);
159           Java8Compatibility.position(buffer, pos);
160           Java8Compatibility.limit(buffer, limit);
161           sink.putBytes(buffer);
162           assertEquals(limit, buffer.limit());
163           assertEquals(limit, buffer.position());
164         }
165       }
166     },
167     PUT_STRING() {
168       @Override
169       void performAction(Random random, Iterable&lt;? extends PrimitiveSink&gt; sinks) {
170         char[] value = new char[random.nextInt(128)];
171         for (int i = 0; i &lt; value.length; i++) {
172           value[i] = (char) random.nextInt();
173         }
174         String s = new String(value);
175         for (PrimitiveSink sink : sinks) {
176           sink.putUnencodedChars(s);
177         }
178       }
179     },
180     PUT_STRING_LOW_SURROGATE() {
181       @Override
182       void performAction(Random random, Iterable&lt;? extends PrimitiveSink&gt; sinks) {
183         String s = new String(new char[] {randomLowSurrogate(random)});
184         for (PrimitiveSink sink : sinks) {
185           sink.putUnencodedChars(s);
186         }
187       }
188     },
189     PUT_STRING_HIGH_SURROGATE() {
190       @Override
191       void performAction(Random random, Iterable&lt;? extends PrimitiveSink&gt; sinks) {
192         String s = new String(new char[] {randomHighSurrogate(random)});
193         for (PrimitiveSink sink : sinks) {
194           sink.putUnencodedChars(s);
195         }
196       }
197     },
198     PUT_STRING_LOW_HIGH_SURROGATE() {
199       @Override
200       void performAction(Random random, Iterable&lt;? extends PrimitiveSink&gt; sinks) {
201         String s = new String(new char[] {randomLowSurrogate(random), randomHighSurrogate(random)});
202         for (PrimitiveSink sink : sinks) {
203           sink.putUnencodedChars(s);
204         }
205       }
206     },
207     PUT_STRING_HIGH_LOW_SURROGATE() {
208       @Override
209       void performAction(Random random, Iterable&lt;? extends PrimitiveSink&gt; sinks) {
210         String s = new String(new char[] {randomHighSurrogate(random), randomLowSurrogate(random)});
211         for (PrimitiveSink sink : sinks) {
212           sink.putUnencodedChars(s);
213         }
214       }
215     };
216     abstract void performAction(Random random, Iterable&lt;? extends PrimitiveSink&gt; sinks);
217     private static final RandomHasherAction[] actions = values();
218     static RandomHasherAction pickAtRandom(Random random) {
219       return actions[random.nextInt(actions.length)];
220     }
221   }
222   static void checkNoFunnels(HashFunction function) {
223     Random rand = new Random(0);
224     int keyBits = 32;
225     int hashBits = function.bits();
226     for (int i = 0; i &lt; keyBits; i++) {
227       int same = 0x0;       int diff = 0x0;       int count = 0;
228       int maxCount = (int) (4 * Math.log(2 * keyBits * hashBits) + 1);
229       while (same != 0xffffffff || diff != 0xffffffff) {
230         int key1 = rand.nextInt();
231         int key2 = key1 ^ (1 &lt;&lt; i);
232         int hash1 = function.hashInt(key1).asInt();
233         int hash2 = function.hashInt(key2).asInt();
234         same |= ~(hash1 ^ hash2);
235         diff |= (hash1 ^ hash2);
236         count++;
237         if (count &gt; maxCount) {
238           Assert.fail(
239               "input bit("
240                   + i
241                   + ") was found not to affect all "
242                   + hashBits
243                   + " output bits; The unaffected bits are "
244                   + "as follows: "
245                   + ~(same &amp; diff)
246                   + ". This was "
247                   + "determined after "
248                   + count
249                   + " trials.");
250         }
251       }
252     }
253   }
254   static void checkAvalanche(HashFunction function, int trials, double epsilon) {
255     Random rand = new Random(0);
256     int keyBits = 32;
257     int hashBits = function.bits();
258     for (int i = 0; i &lt; keyBits; i++) {
259       int[] same = new int[hashBits];
260       int[] diff = new int[hashBits];
261       for (int j = 0; j &lt; trials; j++) {
262         int key1 = rand.nextInt();
263         int key2 = key1 ^ (1 &lt;&lt; i);
264         int hash1 = function.hashInt(key1).asInt();
265         int hash2 = function.hashInt(key2).asInt();
266         for (int k = 0; k &lt; hashBits; k++) {
267           if ((hash1 &amp; (1 &lt;&lt; k)) == (hash2 &amp; (1 &lt;&lt; k))) {
268             same[k] += 1;
269           } else {
270             diff[k] += 1;
271           }
272         }
273       }
274       for (int j = 0; j &lt; hashBits; j++) {
275         double prob = (double) diff[j] / (double) (diff[j] + same[j]);
276         Assert.assertEquals(0.50d, prob, epsilon);
277       }
278     }
279   }
280   static void checkNo2BitCharacteristics(HashFunction function) {
281     Random rand = new Random(0);
282     int keyBits = 32;
283     for (int i = 0; i &lt; keyBits; i++) {
284       for (int j = 0; j &lt; keyBits; j++) {
285         if (j &lt;= i) continue;
286         int count = 0;
287         int maxCount = 20;         boolean diff = false;
288         while (!diff) {
289           int delta = (1 &lt;&lt; i) | (1 &lt;&lt; j);
290           int key1 = rand.nextInt();
291           int key2 = key1 ^ delta;
292           int hash1 = function.hashInt(key1).asInt();
293           int hash2 = function.hashInt(key2).asInt();
294           if ((hash1 ^ hash2) != delta) {
295             diff = true;
296             continue;
297           }
298           count++;
299           if (count &gt; maxCount) {
300             Assert.fail(
301                 "2-bit delta ("
302                     + i
303                     + ", "
304                     + j
305                     + ") is likely a "
306                     + "characteristic for this hash. This was "
307                     + "determined after "
308                     + count
309                     + " trials");
310           }
311         }
312       }
313     }
314   }
315   static void check2BitAvalanche(HashFunction function, int trials, double epsilon) {
316     Random rand = new Random(0);
317     int keyBits = 32;
318     int hashBits = function.bits();
319     for (int bit1 = 0; bit1 &lt; keyBits; bit1++) {
320       for (int bit2 = 0; bit2 &lt; keyBits; bit2++) {
321         if (bit2 &lt;= bit1) continue;
322         int delta = (1 &lt;&lt; bit1) | (1 &lt;&lt; bit2);
323         int[] same = new int[hashBits];
324         int[] diff = new int[hashBits];
325         for (int j = 0; j &lt; trials; j++) {
326           int key1 = rand.nextInt();
327           int key2 = key1 ^ delta;
328           int hash1 = function.hashInt(key1).asInt();
329           int hash2 = function.hashInt(key2).asInt();
330           for (int k = 0; k &lt; hashBits; k++) {
331             if ((hash1 &amp; (1 &lt;&lt; k)) == (hash2 &amp; (1 &lt;&lt; k))) {
332               same[k] += 1;
333             } else {
334               diff[k] += 1;
335             }
336           }
337         }
338         for (int j = 0; j &lt; hashBits; j++) {
339           double prob = (double) diff[j] / (double) (diff[j] + same[j]);
340           Assert.assertEquals(0.50d, prob, epsilon);
341         }
342       }
343     }
344   }
345   static void assertInvariants(HashFunction hashFunction) {
346     int objects = 100;
347 <a name="0"></a>    Set&lt;HashCode&gt; hashcodes = Sets.newHashSetWithExpectedSize(objects);
348     Random random = new Random(314159);
349     for (int i = 0; i &lt; objects; i++) {
350       <font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>int value = random.nextInt();
351       HashCode hashcode1 = hashFunction.hashInt(value);
352       HashCode hashcode2 = hashFunction.hashInt(value);
353       Assert.assertEquals(hashcode1, hashcode2);       Assert.assertEquals(hashFunction.bits(), hashcode1.bits());
354       Assert.assertEquals(hashFunction.bits(), hashcode1.asBytes</b></font>().length * 8);
355       hashcodes.add(hashcode1);
356     }
357     Assert.assertTrue(hashcodes.size() &gt; objects * 0.95); 
358     assertHashBytesThrowsCorrectExceptions(hashFunction);
359     assertIndependentHashers(hashFunction);
360     assertShortcutsAreEquivalent(hashFunction, 512);
361   }
362   static void assertHashByteBufferInvariants(HashFunction hashFunction) {
363     assertHashByteBufferMatchesBytes(hashFunction);
364     assertHashByteBufferExhaustsBuffer(hashFunction);
365     assertHashByteBufferPreservesByteOrder(hashFunction);
366     assertHasherByteBufferPreservesByteOrder(hashFunction);
367   }
368 <a name="2"></a>
369   static void assertHashByteBufferMatchesBytes(HashFunction hashFunction) {
370     Random rng = new Random(0L);
371     byte[] bytes = new byte[<font color="#980517"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>rng.nextInt(256) + 1];
372     rng.nextBytes(bytes);
373     assertEquals(hashFunction.hashBytes(bytes), hashFunction.hashBytes(ByteBuffer.wrap(bytes)));
374   }
375   static void assertHashByteBufferExhaustsBuffer(HashFunction hashFunction) {
376     Random rng = new Random(0L)</b></font>;
377     byte[] bytes = new byte[rng.nextInt(256) + 1];
378     rng.nextBytes(bytes);
379     ByteBuffer buffer = ByteBuffer.wrap(bytes);
380     HashCode unused = hashFunction.hashBytes(buffer);
381     assertFalse(buffer.hasRemaining());
382   }
383   static void assertHashByteBufferPreservesByteOrder(HashFunction hashFunction) {
384     Random rng = new Random(0L);
385     byte[] bytes = new byte[rng.nextInt(256) + 1];
386 <a name="8"></a>    rng.nextBytes(bytes);
387     ByteBuffer littleEndian = ByteBuffer.wrap(bytes).order(ByteOrder.LITTLE_ENDIAN);
388     ByteBuffer bigEndian = ByteBuffer.wrap(bytes).order(ByteOrder.BIG_ENDIAN);
389     assertEquals(<font color="#c58917"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>hashFunction.hashBytes(littleEndian), hashFunction.hashBytes(bigEndian));
390     assertEquals(ByteOrder.LITTLE_ENDIAN, littleEndian.order());
391     assertEquals(ByteOrder.BIG_ENDIAN, bigEndian.order());
392   }
393   static void assertHasherByteBufferPreser</b></font>vesByteOrder(HashFunction hashFunction) {
394     Random rng = new Random(0L);
395     byte[] bytes = new byte[rng.nextInt(256) + 1];
396     rng.nextBytes(bytes);
397     ByteBuffer littleEndian = ByteBuffer.wrap(bytes).order(ByteOrder.LITTLE_ENDIAN);
398 <a name="7"></a>    ByteBuffer bigEndian = ByteBuffer.wrap(bytes).order(ByteOrder.BIG_ENDIAN);
399     assertEquals(
400         hashFunction.newHasher().putBytes(littleEndian).hash(),
401         <font color="#38a4a5"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>hashFunction.newHasher().putBytes(bigEndian).hash());
402     assertEquals(ByteOrder.LITTLE_ENDIAN, littleEndian.order());
403     assertEquals(ByteOrder.BIG_ENDIAN, bigEndian.order());
404   }
405   static void assertHashBytesThrowsCorre</b></font>ctExceptions(HashFunction hashFunction) {
406     {
407       HashCode unused = hashFunction.hashBytes(new byte[64], 0, 0);
408     }
409     try {
410       hashFunction.hashBytes(new byte[128], -1, 128);
411       Assert.fail();
412     } catch (IndexOutOfBoundsException expected) {
413     }
414     try {
415       hashFunction.hashBytes(new byte[128], 64, 256       Assert.fail();
416     } catch (IndexOutOfBoundsException expected) {
417     }
418     try {
419       hashFunction.hashBytes(new byte[64], 0, -1);
420       Assert.fail();
421     } catch (IndexOutOfBoundsException expected) {
422     }
423   }
424   static void assertIndependentHashers(HashFunction hashFunction) {
425     int numActions = 100;
426     HashCode expected1 = randomHash(hashFunction, new Random(1L), numActions);
427     HashCode expected2 = randomHash(hashFunction, new Random(2L), numActions);
428     Random random1 = new Random(1L);
429     Random random2 = new Random(2L);
430     Hasher hasher1 = hashFunction.newHasher();
431     Hasher hasher2 = hashFunction.newHasher();
432     for (int i = 0; i &lt; numActions; i++) {
433       RandomHasherAction.pickAtRandom(random1).performAction(random1, ImmutableSet.of(hasher1));
434       RandomHasherAction.pickAtRandom(random2).performAction(random2, ImmutableSet.of(hasher2));
435     }
436 <a name="5"></a>
437     Assert.assertEquals(expected1, hasher1.hash());
438     Assert.assertEquals(expected2, hasher2.hash());
439   <font color="#151b8d"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>}
440   static HashCode randomHash(HashFunction hashFunction, Random random, int numActions) {
441     Hasher hasher = hashFunction.newHasher</b></font>();
442     for (int i = 0; i &lt; numActions; i++) {
443       RandomHasherAction.pickAtRandom(random).performAction(random, ImmutableSet.of(hasher));
444     }
445     return hasher.hash();
446   }
447   private static void assertShortcutsAreEquivalent(HashFunction hashFunction, int trials) {
448     Random random = new Random(42085L);
449     for (int i = 0; i &lt; trials; i++) {
450       assertHashBytesEquivalence(hashFunction, random);
451       assertHashByteBufferEquivalence(hashFunction, random);
452       assertHashIntEquivalence(hashFunction, random);
453       assertHashLongEquivalence(hashFunction, random);
454       assertHashStringEquivalence(hashFunction, random);
455       assertHashStringWithSurrogatesEquivalence(hashFunction, random);
456     }
457   }
458   private static void assertHashBytesEquivalence(HashFunction hashFunction, Random random) {
459     int size = random.nextInt(2048);
460     byte[] bytes = new byte[size];
461     random.nextBytes(bytes);
462 <a name="1"></a>    assertEquals(
463         hashFunction.hashBytes(bytes), hashFunction.newHasher(size).putBytes(bytes).hash());
464     int off = random.nextInt(size);
465     int len = <font color="#f63526"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>random.nextInt(size - off);
466     assertEquals(
467         hashFunction.hashBytes(bytes, off, len),
468         hashFunction.newHasher(size).putBytes(bytes, off, len).hash());
469   }
470   private static void assertHashByteBufferEquivalence(HashFunction hashFunction, Random random) {</b></font>
471     int size = random.nextInt(2048);
472     byte[] bytes = new byte[size];
473     random.nextBytes(bytes);
474     assertEquals(
475         hashFunction.hashBytes(ByteBuffer.wrap(bytes)),
476         hashFunction.newHasher(size).putBytes(ByteBuffer.wrap(bytes)).hash());
477 <a name="6"></a>    int off = random.nextInt(size);
478     int len = random.nextInt(size - off);
479     assertEquals(
480         <font color="#8c8774"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>hashFunction.hashBytes(ByteBuffer.wrap(bytes, off, len)),
481 <a name="3"></a>        hashFunction.newHasher(size).putBytes(ByteBuffer.wrap(bytes, off, len)).hash());
482   }
483   private static void asse</b></font>rtHashIntEquivalence(HashFunction hashFunction, Random random) <font color="#53858b"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>{
484     int i = random.nextInt();
485 <a name="4"></a>    assertEquals(hashFunction.hashInt(i), hashFunction.newHasher().putInt(i).hash());
486   }
487   private static void asser</b></font>tHashLongEquivalence(HashFunction hashFunction, Random random) <font color="#6cc417"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>{
488     long l = random.nextLong();
489     assertEquals(hashFunction.hashLong(l), hashFunction.newHasher().putLong(l).hash());
490   }</b></font>
491   private static final ImmutableSet&lt;Charset&gt; CHARSETS =
492       ImmutableSet.of(
493           Charsets.ISO_8859_1,
494           Charsets.US_ASCII,
495           Charsets.UTF_16,
496           Charsets.UTF_16BE,
497           Charsets.UTF_16LE,
498           Charsets.UTF_8);
499   private static void assertHashStringEquivalence(HashFunction hashFunction, Random random) {
500     new EqualsTester()
501         .addEqualityGroup(
502             hashFunction.hashUnencodedChars("abc"),
503             hashFunction.newHasher().putUnencodedChars("abc").hash(),
504             hashFunction.newHasher().putUnencodedChars("ab").putUnencodedChars("c").hash(),
505             hashFunction.newHasher().putUnencodedChars("a").putUnencodedChars("bc").hash(),
506             hashFunction
507                 .newHasher()
508                 .putUnencodedChars("a")
509                 .putUnencodedChars("b")
510                 .putUnencodedChars("c")
511                 .hash(),
512             hashFunction.newHasher().putChar('a').putUnencodedChars("bc").hash(),
513             hashFunction.newHasher().putUnencodedChars("ab").putChar('c').hash(),
514             hashFunction.newHasher().putChar('a').putChar('b').putChar('c').hash())
515         .testEquals();
516     int size = random.nextInt(2048);
517     byte[] bytes = new byte[size];
518     random.nextBytes(bytes);
519     String string = new String(bytes, Charsets.US_ASCII);
520     assertEquals(
521         hashFunction.hashUnencodedChars(string),
522         hashFunction.newHasher().putUnencodedChars(string).hash());
523     for (Charset charset : CHARSETS) {
524       assertEquals(
525           hashFunction.hashString(string, charset),
526           hashFunction.newHasher().putString(string, charset).hash());
527     }
528   }
529   private static void assertHashStringWithSurrogatesEquivalence(
530       HashFunction hashFunction, Random random) {
531     int size = random.nextInt(8) + 1;
532     char[] chars = new char[size];
533     for (int i = 0; i &lt; chars.length; i++) {
534       chars[i] = random.nextBoolean() ? randomLowSurrogate(random) : randomHighSurrogate(random);
535     }
536     String string = new String(chars);
537     assertEquals(
538         hashFunction.hashUnencodedChars(string),
539         hashFunction.newHasher().putUnencodedChars(string).hash());
540   }
541   static char randomLowSurrogate(Random random) {
542     return (char)
543         (Character.MIN_LOW_SURROGATE
544             + random.nextInt(Character.MAX_LOW_SURROGATE - Character.MIN_LOW_SURROGATE + 1));
545   }
546   static char randomHighSurrogate(Random random) {
547     return (char)
548         (Character.MIN_HIGH_SURROGATE
549             + random.nextInt(Character.MAX_HIGH_SURROGATE - Character.MIN_HIGH_SURROGATE + 1));
550   }
551 }
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
