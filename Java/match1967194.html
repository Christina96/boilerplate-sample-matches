<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for AtomicLongMapBasherTest_1.java &amp; ImmutableLongArrayTest.java</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for AtomicLongMapBasherTest_1.java &amp; ImmutableLongArrayTest.java
      </h3>
<h1 align="center">
        1.9%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>AtomicLongMapBasherTest_1.java (9.40171%)<th>ImmutableLongArrayTest.java (1.0848126%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(19-35)<td><a href="#" name="0">(34-45)</a><td align="center"><font color="#ff0000">11</font>
</td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>AtomicLongMapBasherTest_1.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 <a name="0"></a>
2 package com.google.common.util.concurrent;
3 <font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>import static java.util.concurrent.TimeUnit.SECONDS;
4 import com.google.common.annotations.GwtIncompatible;
5 import java.util.ArrayList;
6 import java.util.Random;
7 import java.util.concurrent.Callable;
8 import java.util.concurrent.ExecutorService;
9 import java.util.concurrent.Executors;
10 import java.util.concurrent.Future;
11 import junit.framework.TestCase;
12 @</b></font>GwtIncompatible public class AtomicLongMapBasherTest extends TestCase {
13   private final Random random = new Random(301);
14   public void testModify_basher() throws Exception {
15     int nTasks = 3000;
16     int nThreads = 100;
17     final int getsPerTask = 1000;
18     final int deltaRange = 10000;
19     final String key = "key";
20     final AtomicLongMap&lt;String&gt; map = AtomicLongMap.create();
21     ExecutorService threadPool = Executors.newFixedThreadPool(nThreads);
22     ArrayList&lt;Future&lt;Long&gt;&gt; futures = new ArrayList&lt;&gt;();
23     for (int i = 0; i &lt; nTasks; i++) {
24       futures.add(
25           threadPool.submit(
26               new Callable&lt;Long&gt;() {
27                 @Override
28                 public Long call() {
29                   long threadSum = 0;
30                   for (int j = 0; j &lt; getsPerTask; j++) {
31                     long delta = random.nextInt(deltaRange);
32                     int behavior = random.nextInt(10);
33                     switch (behavior) {
34                       case 0:
35                         map.incrementAndGet(key);
36                         threadSum++;
37                         break;
38                       case 1:
39                         map.decrementAndGet(key);
40                         threadSum--;
41                         break;
42                       case 2:
43                         map.addAndGet(key, delta);
44                         threadSum += delta;
45                         break;
46                       case 3:
47                         map.getAndIncrement(key);
48                         threadSum++;
49                         break;
50                       case 4:
51                         map.getAndDecrement(key);
52                         threadSum--;
53                         break;
54                       case 5:
55                         map.getAndAdd(key, delta);
56                         threadSum += delta;
57                         break;
58                       case 6:
59                         long oldValue = map.put(key, delta);
60                         threadSum += delta - oldValue;
61                         break;
62                       case 7:
63                         oldValue = map.get(key);
64                         if (map.replace(key, oldValue, delta)) {
65                           threadSum += delta - oldValue;
66                         }
67                         break;
68                       case 8:
69                         oldValue = map.remove(key);
70                         threadSum -= oldValue;
71                         break;
72                       case 9:
73                         oldValue = map.get(key);
74                         if (map.remove(key, oldValue)) {
75                           threadSum -= oldValue;
76                         }
77                         break;
78                       default:
79                         throw new AssertionError();
80                     }
81                   }
82                   return threadSum;
83                 }
84               }));
85     }
86     threadPool.shutdown();
87     assertTrue(threadPool.awaitTermination(300, SECONDS));
88     long sum = 0;
89     for (Future&lt;Long&gt; f : futures) {
90       sum += f.get();
91     }
92     assertEquals(sum, map.get(key));
93   }
94 }
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>ImmutableLongArrayTest.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 package com.google.common.primitives;
2 import static com.google.common.primitives.TestPlatform.reduceIterationsIfGwt;
3 import static com.google.common.testing.SerializableTester.reserialize;
4 import static com.google.common.truth.Truth.assertThat;
5 import com.google.common.annotations.GwtCompatible;
6 import com.google.common.annotations.GwtIncompatible;
7 import com.google.common.collect.ImmutableList;
8 import com.google.common.collect.ObjectArrays;
9 import com.google.common.collect.testing.ListTestSuiteBuilder;
10 import com.google.common.collect.testing.SampleElements;
11 import com.google.common.collect.testing.TestListGenerator;
12 import com.google.common.collect.testing.features.CollectionFeature;
13 import com.google.common.collect.testing.features.CollectionSize;
14 import com.google.common.testing.EqualsTester;
15 <a name="0"></a>import java.util.ArrayList;
16 import java.util.Arrays;
17 import java.util.Collection;
18 <font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>import java.util.Collections;
19 import java.util.Iterator;
20 import java.util.List;
21 import java.util.Random;
22 import java.util.concurrent.atomic.AtomicLong;
23 import java.util.stream.LongStream;
24 import junit.framework.Test;
25 import junit.framework.TestCase;
26 import junit.framework.TestSuite;
27 @</b></font>GwtCompatible(emulated = true)
28 public class ImmutableLongArrayTest extends TestCase {
29   public void testOf0() {
30     assertThat(ImmutableLongArray.of().asList()).isEmpty();
31   }
32   public void testOf1() {
33     assertThat(ImmutableLongArray.of(0).asList()).containsExactly(0L);
34   }
35   public void testOf2() {
36     assertThat(ImmutableLongArray.of(0, 1).asList()).containsExactly(0L, 1L).inOrder();
37   }
38   public void testOf3() {
39     assertThat(ImmutableLongArray.of(0, 1, 3).asList()).containsExactly(0L, 1L, 3L).inOrder();
40   }
41   public void testOf4() {
42     assertThat(ImmutableLongArray.of(0, 1, 3, 6).asList())
43         .containsExactly(0L, 1L, 3L, 6L)
44         .inOrder();
45   }
46   public void testOf5() {
47     assertThat(ImmutableLongArray.of(0, 1, 3, 6, 10).asList())
48         .containsExactly(0L, 1L, 3L, 6L, 10L)
49         .inOrder();
50   }
51   public void testOf6() {
52     assertThat(ImmutableLongArray.of(0, 1, 3, 6, 10, 15).asList())
53         .containsExactly(0L, 1L, 3L, 6L, 10L, 15L)
54         .inOrder();
55   }
56   public void testOf7() {
57     assertThat(ImmutableLongArray.of(0, 1, 3, 6, 10, 15, 21).asList())
58         .containsExactly(0L, 1L, 3L, 6L, 10L, 15L, 21L)
59         .inOrder();
60   }
61   public void testCopyOf_array_empty() {
62     assertThat(ImmutableLongArray.copyOf(new long[0])).isSameInstanceAs(ImmutableLongArray.of());
63   }
64   public void testCopyOf_array_nonempty() {
65     long[] array = new long[] {0, 1, 3};
66     ImmutableLongArray iia = ImmutableLongArray.copyOf(array);
67     array[2] = 2;
68     assertThat(iia.asList()).containsExactly(0L, 1L, 3L).inOrder();
69   }
70   public void testCopyOf_iterable_notCollection_empty() {
71     Iterable&lt;Long&gt; iterable = iterable(Collections.&lt;Long&gt;emptySet());
72     assertThat(ImmutableLongArray.copyOf(iterable)).isSameInstanceAs(ImmutableLongArray.of());
73   }
74   public void testCopyOf_iterable_notCollection_nonempty() {
75     List&lt;Long&gt; list = Arrays.asList(0L, 1L, 3L);
76     ImmutableLongArray iia = ImmutableLongArray.copyOf(iterable(list));
77     list.set(2, 2L);
78     assertThat(iia.asList()).containsExactly(0L, 1L, 3L).inOrder();
79   }
80   public void testCopyOf_iterable_collection_empty() {
81     Iterable&lt;Long&gt; iterable = Collections.emptySet();
82     assertThat(ImmutableLongArray.copyOf(iterable)).isSameInstanceAs(ImmutableLongArray.of());
83   }
84   public void testCopyOf_iterable_collection_nonempty() {
85     List&lt;Long&gt; list = Arrays.asList(0L, 1L, 3L);
86     ImmutableLongArray iia = ImmutableLongArray.copyOf((Iterable&lt;Long&gt;) list);
87     list.set(2, 2L);
88     assertThat(iia.asList()).containsExactly(0L, 1L, 3L).inOrder();
89   }
90   public void testCopyOf_collection_empty() {
91     Collection&lt;Long&gt; iterable = Collections.emptySet();
92     assertThat(ImmutableLongArray.copyOf(iterable)).isSameInstanceAs(ImmutableLongArray.of());
93   }
94   public void testCopyOf_collection_nonempty() {
95     List&lt;Long&gt; list = Arrays.asList(0L, 1L, 3L);
96     ImmutableLongArray iia = ImmutableLongArray.copyOf(list);
97     list.set(2, 2L);
98     assertThat(iia.asList()).containsExactly(0L, 1L, 3L).inOrder();
99   }
100   public void testCopyOf_stream() {
101     assertThat(ImmutableLongArray.copyOf(LongStream.empty()))
102         .isSameInstanceAs(ImmutableLongArray.of());
103     assertThat(ImmutableLongArray.copyOf(LongStream.of(0, 1, 3)).asList())
104         .containsExactly(0L, 1L, 3L)
105         .inOrder();
106   }
107   public void testBuilder_presize_zero() {
108     ImmutableLongArray.Builder builder = ImmutableLongArray.builder(0);
109     builder.add(5L);
110     ImmutableLongArray array = builder.build();
111     assertThat(array.asList()).containsExactly(5L);
112   }
113   public void testBuilder_presize_negative() {
114     try {
115       ImmutableLongArray.builder(-1);
116       fail();
117     } catch (IllegalArgumentException expected) {
118     }
119   }
120   public void testBuilder_bruteForce() {
121     for (int i = 0; i &lt; reduceIterationsIfGwt(100); i++) {
122       ImmutableLongArray.Builder builder = ImmutableLongArray.builder(RANDOM.nextInt(20));
123       AtomicLong counter = new AtomicLong(0);
124       while (counter.get() &lt; 1000) {
125         BuilderOp op = BuilderOp.randomOp();
126         op.doIt(builder, counter);
127       }
128       ImmutableLongArray iia = builder.build();
129       for (int j = 0; j &lt; iia.length(); j++) {
130         assertThat(iia.get(j)).isEqualTo((long) j);
131       }
132     }
133   }
134   private enum BuilderOp {
135     ADD_ONE {
136       @Override
137       void doIt(ImmutableLongArray.Builder builder, AtomicLong counter) {
138         builder.add(counter.getAndIncrement());
139       }
140     },
141     ADD_ARRAY {
142       @Override
143       void doIt(ImmutableLongArray.Builder builder, AtomicLong counter) {
144         long[] array = new long[RANDOM.nextInt(10)];
145         for (int i = 0; i &lt; array.length; i++) {
146           array[i] = counter.getAndIncrement();
147         }
148         builder.addAll(array);
149       }
150     },
151     ADD_COLLECTION {
152       @Override
153       void doIt(ImmutableLongArray.Builder builder, AtomicLong counter) {
154         List&lt;Long&gt; list = new ArrayList&lt;&gt;();
155         long num = RANDOM.nextInt(10);
156         for (int i = 0; i &lt; num; i++) {
157           list.add(counter.getAndIncrement());
158         }
159         builder.addAll(list);
160       }
161     },
162     ADD_ITERABLE {
163       @Override
164       void doIt(ImmutableLongArray.Builder builder, AtomicLong counter) {
165         List&lt;Long&gt; list = new ArrayList&lt;&gt;();
166         long num = RANDOM.nextInt(10);
167         for (int i = 0; i &lt; num; i++) {
168           list.add(counter.getAndIncrement());
169         }
170         builder.addAll(iterable(list));
171       }
172     },
173     ADD_STREAM {
174       @Override
175       void doIt(ImmutableLongArray.Builder builder, AtomicLong counter) {
176         long[] array = new long[RANDOM.nextInt(10)];
177         for (int i = 0; i &lt; array.length; i++) {
178           array[i] = counter.getAndIncrement();
179         }
180         builder.addAll(Arrays.stream(array));
181       }
182     },
183     ADD_IIA {
184       @Override
185       void doIt(ImmutableLongArray.Builder builder, AtomicLong counter) {
186         long[] array = new long[RANDOM.nextInt(10)];
187         for (int i = 0; i &lt; array.length; i++) {
188           array[i] = counter.getAndIncrement();
189         }
190         builder.addAll(ImmutableLongArray.copyOf(array));
191       }
192     },
193     ADD_LARGER_ARRAY {
194       @Override
195       void doIt(ImmutableLongArray.Builder builder, AtomicLong counter) {
196         long[] array = new long[RANDOM.nextInt(200) + 200];
197         for (int i = 0; i &lt; array.length; i++) {
198           array[i] = counter.getAndIncrement();
199         }
200         builder.addAll(array);
201       }
202     },
203     ;
204     static final BuilderOp[] values = values();
205     static BuilderOp randomOp() {
206       return values[RANDOM.nextInt(values.length)];
207     }
208     abstract void doIt(ImmutableLongArray.Builder builder, AtomicLong counter);
209   }
210   private static final Random RANDOM = new Random(42);
211   public void testLength() {
212     assertThat(ImmutableLongArray.of().length()).isEqualTo(0);
213     assertThat(ImmutableLongArray.of(0).length()).isEqualTo(1);
214     assertThat(ImmutableLongArray.of(0, 1, 3).length()).isEqualTo(3);
215     assertThat(ImmutableLongArray.of(0, 1, 3).subArray(1, 1).length()).isEqualTo(0);
216     assertThat(ImmutableLongArray.of(0, 1, 3).subArray(1, 2).length()).isEqualTo(1);
217   }
218   public void testIsEmpty() {
219     assertThat(ImmutableLongArray.of().isEmpty()).isTrue();
220     assertThat(ImmutableLongArray.of(0).isEmpty()).isFalse();
221     assertThat(ImmutableLongArray.of(0, 1, 3).isEmpty()).isFalse();
222     assertThat(ImmutableLongArray.of(0, 1, 3).subArray(1, 1).isEmpty()).isTrue();
223     assertThat(ImmutableLongArray.of(0, 1, 3).subArray(1, 2).isEmpty()).isFalse();
224   }
225   public void testGet_good() {
226     ImmutableLongArray iia = ImmutableLongArray.of(0, 1, 3);
227     assertThat(iia.get(0)).isEqualTo(0L);
228     assertThat(iia.get(2)).isEqualTo(3L);
229     assertThat(iia.subArray(1, 3).get(1)).isEqualTo(3L);
230   }
231   public void testGet_bad() {
232     ImmutableLongArray iia = ImmutableLongArray.of(0, 1, 3);
233     try {
234       iia.get(-1);
235       fail();
236     } catch (IndexOutOfBoundsException expected) {
237     }
238     try {
239       iia.get(3);
240       fail();
241     } catch (IndexOutOfBoundsException expected) {
242     }
243     iia = iia.subArray(1, 2);
244     try {
245       iia.get(-1);
246       fail();
247     } catch (IndexOutOfBoundsException expected) {
248     }
249   }
250   public void testIndexOf() {
251     ImmutableLongArray iia = ImmutableLongArray.of(1, 1, 2, 3, 5, 8);
252     assertThat(iia.indexOf(1)).isEqualTo(0);
253     assertThat(iia.indexOf(8)).isEqualTo(5);
254     assertThat(iia.indexOf(4)).isEqualTo(-1);
255     assertThat(ImmutableLongArray.of(13).indexOf(13)).isEqualTo(0);
256     assertThat(ImmutableLongArray.of().indexOf(21)).isEqualTo(-1);
257     assertThat(iia.subArray(1, 5).indexOf(1)).isEqualTo(0);
258   }
259   public void testLastIndexOf() {
260     ImmutableLongArray iia = ImmutableLongArray.of(1, 1, 2, 3, 5, 8);
261     assertThat(iia.lastIndexOf(1)).isEqualTo(1);
262     assertThat(iia.lastIndexOf(8)).isEqualTo(5);
263     assertThat(iia.lastIndexOf(4)).isEqualTo(-1);
264     assertThat(ImmutableLongArray.of(13).lastIndexOf(13)).isEqualTo(0);
265     assertThat(ImmutableLongArray.of().lastIndexOf(21)).isEqualTo(-1);
266     assertThat(iia.subArray(1, 5).lastIndexOf(1)).isEqualTo(0);
267   }
268   public void testContains() {
269     ImmutableLongArray iia = ImmutableLongArray.of(1, 1, 2, 3, 5, 8);
270     assertThat(iia.contains(1)).isTrue();
271     assertThat(iia.contains(8)).isTrue();
272     assertThat(iia.contains(4)).isFalse();
273     assertThat(ImmutableLongArray.of(13).contains(13)).isTrue();
274     assertThat(ImmutableLongArray.of().contains(21)).isFalse();
275     assertThat(iia.subArray(1, 5).contains(1)).isTrue();
276   }
277   public void testForEach() {
278     ImmutableLongArray.of().forEach(i -&gt; fail());
279     ImmutableLongArray.of(0, 1, 3).subArray(1, 1).forEach(i -&gt; fail());
280     AtomicLong count = new AtomicLong(0);
281     ImmutableLongArray.of(0, 1, 2, 3)
282         .forEach(i -&gt; assertThat(i).isEqualTo(count.getAndIncrement()));
283     assertEquals(4, count.get());
284   }
285   public void testStream() {
286     ImmutableLongArray.of().stream().forEach(i -&gt; fail());
287     ImmutableLongArray.of(0, 1, 3).subArray(1, 1).stream().forEach(i -&gt; fail());
288     assertThat(ImmutableLongArray.of(0, 1, 3).stream().toArray()).isEqualTo(new long[] {0, 1, 3});
289   }
290   public void testSubArray() {
291     ImmutableLongArray iia0 = ImmutableLongArray.of();
292     ImmutableLongArray iia1 = ImmutableLongArray.of(5);
293     ImmutableLongArray iia3 = ImmutableLongArray.of(5, 25, 125);
294     assertThat(iia0.subArray(0, 0)).isSameInstanceAs(ImmutableLongArray.of());
295     assertThat(iia1.subArray(0, 0)).isSameInstanceAs(ImmutableLongArray.of());
296     assertThat(iia1.subArray(1, 1)).isSameInstanceAs(ImmutableLongArray.of());
297     assertThat(iia1.subArray(0, 1).asList()).containsExactly(5L);
298     assertThat(iia3.subArray(0, 2).asList()).containsExactly(5L, 25L).inOrder();
299     assertThat(iia3.subArray(1, 3).asList()).containsExactly(25L, 125L).inOrder();
300     try {
301       iia3.subArray(-1, 1);
302       fail();
303     } catch (IndexOutOfBoundsException expected) {
304     }
305     try {
306       iia3.subArray(1, 4);
307       fail();
308     } catch (IndexOutOfBoundsException expected) {
309     }
310   }
311   private static &lt;T&gt; Iterable&lt;T&gt; iterable(final Collection&lt;T&gt; collection) {
312     return new Iterable&lt;T&gt;() {
313       @Override
314       public Iterator&lt;T&gt; iterator() {
315         return collection.iterator();
316       }
317     };
318   }
319   public void testEquals() {
320     new EqualsTester()
321         .addEqualityGroup(ImmutableLongArray.of())
322         .addEqualityGroup(
323             ImmutableLongArray.of(1, 2),
324             reserialize(ImmutableLongArray.of(1, 2)),
325             ImmutableLongArray.of(0, 1, 2, 3).subArray(1, 3))
326         .addEqualityGroup(ImmutableLongArray.of(1, 3))
327         .addEqualityGroup(ImmutableLongArray.of(1, 2, 3))
328         .testEquals();
329   }
330   public void testTrimmed() {
331     ImmutableLongArray iia = ImmutableLongArray.of(0, 1, 3);
332     assertDoesntActuallyTrim(iia);
333     assertDoesntActuallyTrim(iia.subArray(0, 3));
334     assertActuallyTrims(iia.subArray(0, 2));
335     assertActuallyTrims(iia.subArray(1, 3));
336     ImmutableLongArray rightSized = ImmutableLongArray.builder(3).add(0).add(1).add(3).build();
337     assertDoesntActuallyTrim(rightSized);
338     ImmutableLongArray overSized = ImmutableLongArray.builder(3).add(0).add(1).build();
339     assertActuallyTrims(overSized);
340     ImmutableLongArray underSized = ImmutableLongArray.builder(2).add(0).add(1).add(3).build();
341     assertActuallyTrims(underSized);
342   }
343   @GwtIncompatible   public void testSerialization() {
344     assertThat(reserialize(ImmutableLongArray.of())).isSameInstanceAs(ImmutableLongArray.of());
345     assertThat(reserialize(ImmutableLongArray.of(0, 1).subArray(1, 1)))
346         .isSameInstanceAs(ImmutableLongArray.of());
347     ImmutableLongArray iia = ImmutableLongArray.of(0, 1, 3, 6).subArray(1, 3);
348     ImmutableLongArray iia2 = reserialize(iia);
349     assertThat(iia2).isEqualTo(iia);
350     assertDoesntActuallyTrim(iia2);
351   }
352   private static void assertActuallyTrims(ImmutableLongArray iia) {
353     ImmutableLongArray trimmed = iia.trimmed();
354     assertThat(trimmed).isNotSameInstanceAs(iia);
355     assertThat(trimmed.toArray()).isEqualTo(iia.toArray());
356   }
357   private static void assertDoesntActuallyTrim(ImmutableLongArray iia) {
358     assertThat(iia.trimmed()).isSameInstanceAs(iia);
359   }
360   @GwtIncompatible   public static Test suite() {
361     List&lt;ListTestSuiteBuilder&lt;Long&gt;&gt; builders =
362         ImmutableList.of(
363             ListTestSuiteBuilder.using(new ImmutableLongArrayAsListGenerator())
364                 .named("ImmutableLongArray.asList"),
365             ListTestSuiteBuilder.using(new ImmutableLongArrayHeadSubListAsListGenerator())
366                 .named("ImmutableLongArray.asList, head subList"),
367             ListTestSuiteBuilder.using(new ImmutableLongArrayTailSubListAsListGenerator())
368                 .named("ImmutableLongArray.asList, tail subList"),
369             ListTestSuiteBuilder.using(new ImmutableLongArrayMiddleSubListAsListGenerator())
370                 .named("ImmutableLongArray.asList, middle subList"));
371     TestSuite suite = new TestSuite();
372     for (ListTestSuiteBuilder&lt;Long&gt; builder : builders) {
373       suite.addTest(
374           builder
375               .withFeatures(
376                   CollectionSize.ZERO,
377                   CollectionSize.ONE,
378                   CollectionSize.SEVERAL,
379                   CollectionFeature.ALLOWS_NULL_QUERIES,
380                   CollectionFeature.RESTRICTS_ELEMENTS,
381                   CollectionFeature.KNOWN_ORDER,
382                   CollectionFeature.SERIALIZABLE_INCLUDING_VIEWS)
383               .createTestSuite());
384     }
385     suite.addTestSuite(ImmutableLongArrayTest.class);
386     return suite;
387   }
388   @GwtIncompatible   private static ImmutableLongArray makeArray(Long[] values) {
389     return ImmutableLongArray.copyOf(Arrays.asList(values));
390   }
391   @GwtIncompatible   public static final class ImmutableLongArrayAsListGenerator extends TestLongListGenerator {
392     @Override
393     protected List&lt;Long&gt; create(Long[] elements) {
394       return makeArray(elements).asList();
395     }
396   }
397   @GwtIncompatible   public static final class ImmutableLongArrayHeadSubListAsListGenerator
398       extends TestLongListGenerator {
399     @Override
400     protected List&lt;Long&gt; create(Long[] elements) {
401       Long[] suffix = {Long.MIN_VALUE, Long.MAX_VALUE};
402       Long[] all = concat(elements, suffix);
403       return makeArray(all).subArray(0, elements.length).asList();
404     }
405   }
406   @GwtIncompatible   public static final class ImmutableLongArrayTailSubListAsListGenerator
407       extends TestLongListGenerator {
408     @Override
409     protected List&lt;Long&gt; create(Long[] elements) {
410       Long[] prefix = {86L, 99L};
411       Long[] all = concat(prefix, elements);
412       return makeArray(all).subArray(2, elements.length + 2).asList();
413     }
414   }
415   @GwtIncompatible   public static final class ImmutableLongArrayMiddleSubListAsListGenerator
416       extends TestLongListGenerator {
417     @Override
418     protected List&lt;Long&gt; create(Long[] elements) {
419       Long[] prefix = {Long.MIN_VALUE, Long.MAX_VALUE};
420       Long[] suffix = {86L, 99L};
421       Long[] all = concat(concat(prefix, elements), suffix);
422       return makeArray(all).subArray(2, elements.length + 2).asList();
423     }
424   }
425   @GwtIncompatible   private static Long[] concat(Long[] a, Long[] b) {
426     return ObjectArrays.concat(a, b, Long.class);
427   }
428   @GwtIncompatible   public abstract static class TestLongListGenerator implements TestListGenerator&lt;Long&gt; {
429     @Override
430     public SampleElements&lt;Long&gt; samples() {
431       return new SampleLongs();
432     }
433     @Override
434     public List&lt;Long&gt; create(Object... elements) {
435       Long[] array = new Long[elements.length];
436       int i = 0;
437       for (Object e : elements) {
438         array[i++] = (Long) e;
439       }
440       return create(array);
441     }
442     protected abstract List&lt;Long&gt; create(Long[] elements);
443     @Override
444     public Long[] createArray(int length) {
445       return new Long[length];
446     }
447     @Override
448     public List&lt;Long&gt; order(List&lt;Long&gt; insertionOrder) {
449       return insertionOrder;
450     }
451   }
452   @GwtIncompatible   public static class SampleLongs extends SampleElements&lt;Long&gt; {
453     public SampleLongs() {
454       super(1L &lt;&lt; 31, 1L &lt;&lt; 33, 1L &lt;&lt; 36, 1L &lt;&lt; 40, 1L &lt;&lt; 45);
455     }
456   }
457 }
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
