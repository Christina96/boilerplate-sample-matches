
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 5.172413793103448%, Tokens: 12</h2>
        <div class="column">
            <h3>Essentials-MDEwOlJlcG9zaXRvcnkxNzczNzU0-flat-Commandtempban.java</h3>
            <pre><code><span onclick='openModal()' class='match'>1  package com.earth2me.essentials.commands;
2  import com.earth2me.essentials.CommandSource;
3  import com.earth2me.essentials.Console;
4  import static com.earth2me.essentials.I18n.tl;
5  import com.earth2me.essentials.User;
6  import com.earth2me.essentials.utils.DateUtil;
7  import java.util.Date;
8  import java.util.GregorianCalendar;
9  import java.util.logging.Level;
10  import org.bukkit.BanList;
11  import org.bukkit.Server;
12  public class Commandtempban extends EssentialsCommand
</span>13  {
14  	public Commandtempban()
15  	{
16  		super("tempban");
17  	}
18  	@Override
19  	public void run(final Server server, final CommandSource sender, final String commandLabel, final String[] args) throws Exception
20  	{
21  		if (args.length < 2)
22  		{
23  			throw new NotEnoughArgumentsException();
24  		}
25  		final User user = getPlayer(server, args, 0, true, true);
26  		if (!user.getBase().isOnline())
27  		{
28  			if (sender.isPlayer()
29  				&& !ess.getUser(sender.getPlayer()).isAuthorized("essentials.tempban.offline"))
30  			{
31  				sender.sendMessage(tl("tempbanExemptOffline"));
32  				return;
33  			}
34  		}
35  		else
36  		{
37  			if (user.isAuthorized("essentials.tempban.exempt") && sender.isPlayer())
38  			{
39  				sender.sendMessage(tl("tempbanExempt"));
40  				return;
41  			}
42  		}
43  		final String time = getFinalArg(args, 1);
44  		final long banTimestamp = DateUtil.parseDateDiff(time, true);
45  		String banReason = DateUtil.removeTimePattern(time);
46  		final long maxBanLength = ess.getSettings().getMaxTempban() * 1000;
47  		if (maxBanLength > 0 && ((banTimestamp - GregorianCalendar.getInstance().getTimeInMillis()) > maxBanLength)
48  			&& sender.isPlayer() && !(ess.getUser(sender.getPlayer()).isAuthorized("essentials.tempban.unlimited")))
49  		{
50  			sender.sendMessage(tl("oversizedTempban"));
51  			throw new NoChargeException();
52  		}
53  		if (banReason.length() < 2)
54  		{
55  			banReason = tl("defaultBanReason");
56  		}
57  		final String senderName = sender.isPlayer() ? sender.getPlayer().getDisplayName() : Console.NAME;
58  		ess.getServer().getBanList(BanList.Type.NAME).addBan(user.getName(), banReason, new Date(banTimestamp), senderName);
59  		final String expiry = DateUtil.formatDateDiff(banTimestamp);
60  		final String banDisplay = tl("tempBanned", expiry, senderName, banReason);
61  		user.getBase().kickPlayer(banDisplay);
62  		final String message = tl("playerTempBanned", senderName, user.getName(), expiry, banReason);
63  		server.getLogger().log(Level.INFO, message);
64  		ess.broadcastMessage("essentials.ban.notify", message);
65  	}
66  }
</code></pre>
        </div>
        <div class="column">
            <h3>BungeeCord-MDEwOlJlcG9zaXRvcnk2MDg0MjEw-flat-EntityMap.java</h3>
            <pre><code><span onclick='openModal()' class='match'>1  package net.md_5.bungee.entitymap;
2  import edu.umd.cs.findbugs.annotations.SuppressFBWarnings;
3  import io.netty.buffer.ByteBuf;
4  import io.netty.buffer.ByteBufInputStream;
5  import java.io.DataInputStream;
6  import lombok.AccessLevel;
7  import lombok.NoArgsConstructor;
8  import net.md_5.bungee.protocol.DefinedPacket;
9  import net.md_5.bungee.protocol.ProtocolConstants;
10  import se.llbit.nbt.NamedTag;
11  import se.llbit.nbt.Tag;
12  @NoArgsConstructor(access = AccessLevel.PACKAGE)
</span>13  public abstract class EntityMap
14  {
15      private final boolean[] clientboundInts = new boolean[ 256 ];
16      private final boolean[] clientboundVarInts = new boolean[ 256 ];
17      private final boolean[] serverboundInts = new boolean[ 256 ];
18      private final boolean[] serverboundVarInts = new boolean[ 256 ];
19      public static EntityMap getEntityMap(int version)
20      {
21          switch ( version )
22          {
23              case ProtocolConstants.MINECRAFT_1_8:
24                  return EntityMap_1_8.INSTANCE;
25              case ProtocolConstants.MINECRAFT_1_9:
26              case ProtocolConstants.MINECRAFT_1_9_1:
27              case ProtocolConstants.MINECRAFT_1_9_2:
28                  return EntityMap_1_9.INSTANCE;
29              case ProtocolConstants.MINECRAFT_1_9_4:
30                  return EntityMap_1_9_4.INSTANCE;
31              case ProtocolConstants.MINECRAFT_1_10:
32                  return EntityMap_1_10.INSTANCE;
33              case ProtocolConstants.MINECRAFT_1_11:
34              case ProtocolConstants.MINECRAFT_1_11_1:
35                  return EntityMap_1_11.INSTANCE;
36              case ProtocolConstants.MINECRAFT_1_12:
37                  return EntityMap_1_12.INSTANCE;
38              case ProtocolConstants.MINECRAFT_1_12_1:
39              case ProtocolConstants.MINECRAFT_1_12_2:
40                  return EntityMap_1_12_1.INSTANCE;
41              case ProtocolConstants.MINECRAFT_1_13:
42              case ProtocolConstants.MINECRAFT_1_13_1:
43              case ProtocolConstants.MINECRAFT_1_13_2:
44                  return EntityMap_1_13.INSTANCE;
45              case ProtocolConstants.MINECRAFT_1_14:
46              case ProtocolConstants.MINECRAFT_1_14_1:
47              case ProtocolConstants.MINECRAFT_1_14_2:
48              case ProtocolConstants.MINECRAFT_1_14_3:
49              case ProtocolConstants.MINECRAFT_1_14_4:
50                  return EntityMap_1_14.INSTANCE;
51              case ProtocolConstants.MINECRAFT_1_15:
52              case ProtocolConstants.MINECRAFT_1_15_1:
53              case ProtocolConstants.MINECRAFT_1_15_2:
54                  return EntityMap_1_15.INSTANCE;
55              case ProtocolConstants.MINECRAFT_1_16:
56              case ProtocolConstants.MINECRAFT_1_16_1:
57                  return EntityMap_1_16.INSTANCE;
58              case ProtocolConstants.MINECRAFT_1_16_2:
59              case ProtocolConstants.MINECRAFT_1_16_3:
60              case ProtocolConstants.MINECRAFT_1_16_4:
61                  return EntityMap_1_16_2.INSTANCE_1_16_2;
62              case ProtocolConstants.MINECRAFT_1_17:
63              case ProtocolConstants.MINECRAFT_1_17_1:
64                  return EntityMap_1_16_2.INSTANCE_1_17;
65              case ProtocolConstants.MINECRAFT_1_18:
66              case ProtocolConstants.MINECRAFT_1_18_2:
67                  return EntityMap_1_16_2.INSTANCE_1_18;
68              case ProtocolConstants.MINECRAFT_1_19:
69                  return EntityMap_1_16_2.INSTANCE_1_19;
70              case ProtocolConstants.MINECRAFT_1_19_1:
71              case ProtocolConstants.MINECRAFT_1_19_3:
72                  return EntityMap_1_16_2.INSTANCE_1_19_1;
73              case ProtocolConstants.MINECRAFT_1_19_4:
74                  return EntityMap_1_16_2.INSTANCE_1_19_4;
75          }
76          throw new RuntimeException( "Version " + version + " has no entity map" );
77      }
78      protected void addRewrite(int id, ProtocolConstants.Direction direction, boolean varint)
79      {
80          if ( direction == ProtocolConstants.Direction.TO_CLIENT )
81          {
82              if ( varint )
83              {
84                  clientboundVarInts[id] = true;
85              } else
86              {
87                  clientboundInts[id] = true;
88              }
89          } else if ( varint )
90          {
91              serverboundVarInts[id] = true;
92          } else
93          {
94              serverboundInts[id] = true;
95          }
96      }
97      public void rewriteServerbound(ByteBuf packet, int oldId, int newId)
98      {
99          rewrite( packet, oldId, newId, serverboundInts, serverboundVarInts );
100      }
101      public void rewriteServerbound(ByteBuf packet, int oldId, int newId, int protocolVersion)
102      {
103          rewriteServerbound( packet, oldId, newId );
104      }
105      public void rewriteClientbound(ByteBuf packet, int oldId, int newId)
106      {
107          rewrite( packet, oldId, newId, clientboundInts, clientboundVarInts );
108      }
109      public void rewriteClientbound(ByteBuf packet, int oldId, int newId, int protocolVersion)
110      {
111          rewriteClientbound( packet, oldId, newId );
112      }
113      protected static void rewriteInt(ByteBuf packet, int oldId, int newId, int offset)
114      {
115          int readId = packet.getInt( offset );
116          if ( readId == oldId )
117          {
118              packet.setInt( offset, newId );
119          } else if ( readId == newId )
120          {
121              packet.setInt( offset, oldId );
122          }
123      }
124      @SuppressFBWarnings("DLS_DEAD_LOCAL_STORE")
125      protected static void rewriteVarInt(ByteBuf packet, int oldId, int newId, int offset)
126      {
127          int readId = DefinedPacket.readVarInt( packet );
128          int readIdLength = packet.readerIndex() - offset;
129          if ( readId == oldId || readId == newId )
130          {
131              ByteBuf data = packet.copy();
132              packet.readerIndex( offset );
133              packet.writerIndex( offset );
134              DefinedPacket.writeVarInt( readId == oldId ? newId : oldId, packet );
135              packet.writeBytes( data );
136              data.release();
137          }
138      }
139      protected static void rewriteMetaVarInt(ByteBuf packet, int oldId, int newId, int metaIndex)
140      {
141          rewriteMetaVarInt( packet, oldId, newId, metaIndex, -1 );
142      }
143      protected static void rewriteMetaVarInt(ByteBuf packet, int oldId, int newId, int metaIndex, int protocolVersion)
144      {
145          int readerIndex = packet.readerIndex();
146          short index;
147          while ( ( index = packet.readUnsignedByte() ) != 0xFF )
148          {
149              int type = DefinedPacket.readVarInt( packet );
150              if ( protocolVersion >= ProtocolConstants.MINECRAFT_1_13 )
151              {
152                  switch ( type )
153                  {
154                      case 5: 
155                          if ( packet.readBoolean() )
156                          {
157                              DefinedPacket.readString( packet );
158                          }
159                          continue;
160                      case 15: 
161                          int particleId = DefinedPacket.readVarInt( packet );
162                          if ( protocolVersion >= ProtocolConstants.MINECRAFT_1_14 )
163                          {
164                              switch ( particleId )
165                              {
166                                  case 3: 
167                                  case 23: 
168                                      DefinedPacket.readVarInt( packet ); 
169                                      break;
170                                  case 14: 
171                                      packet.skipBytes( 16 ); 
172                                      break;
173                                  case 32: 
174                                      readSkipSlot( packet, protocolVersion );
175                                      break;
176                              }
177                          } else
178                          {
179                              switch ( particleId )
180                              {
181                                  case 3: 
182                                  case 20: 
183                                      DefinedPacket.readVarInt( packet ); 
184                                      break;
185                                  case 11: 
186                                      packet.skipBytes( 16 ); 
187                                      break;
188                                  case 27: 
189                                      readSkipSlot( packet, protocolVersion );
190                                      break;
191                              }
192                          }
193                          continue;
194                      default:
195                          if ( type >= 6 )
196                          {
197                              type--;
198                          }
199                          break;
200                  }
201              }
202              switch ( type )
203              {
204                  case 0:
205                      packet.skipBytes( 1 ); 
206                      break;
207                  case 1:
208                      if ( index == metaIndex )
209                      {
210                          int position = packet.readerIndex();
211                          rewriteVarInt( packet, oldId, newId, position );
212                          packet.readerIndex( position );
213                      }
214                      DefinedPacket.readVarInt( packet );
215                      break;
216                  case 2:
217                      packet.skipBytes( 4 ); 
218                      break;
219                  case 3:
220                  case 4:
221                      DefinedPacket.readString( packet );
222                      break;
223                  case 5:
224                      readSkipSlot( packet, protocolVersion );
225                      break;
226                  case 6:
227                      packet.skipBytes( 1 ); 
228                      break;
229                  case 7:
230                      packet.skipBytes( 12 ); 
231                      break;
232                  case 8:
233                      packet.readLong();
234                      break;
235                  case 9:
236                      if ( packet.readBoolean() )
237                      {
238                          packet.skipBytes( 8 ); 
239                      }
240                      break;
241                  case 10:
242                      DefinedPacket.readVarInt( packet );
243                      break;
244                  case 11:
245                      if ( packet.readBoolean() )
246                      {
247                          packet.skipBytes( 16 ); 
248                      }
249                      break;
250                  case 12:
251                      DefinedPacket.readVarInt( packet );
252                      break;
253                  case 13:
254                      Tag tag = NamedTag.read( new DataInputStream( new ByteBufInputStream( packet ) ) );
255                      if ( tag.isError() )
256                      {
257                          throw new RuntimeException( tag.error() );
258                      }
259                      break;
260                  case 15:
261                      DefinedPacket.readVarInt( packet );
262                      DefinedPacket.readVarInt( packet );
263                      DefinedPacket.readVarInt( packet );
264                      break;
265                  case 16:
266                      if ( index == metaIndex )
267                      {
268                          int position = packet.readerIndex();
269                          rewriteVarInt( packet, oldId + 1, newId + 1, position );
270                          packet.readerIndex( position );
271                      }
272                      DefinedPacket.readVarInt( packet );
273                      break;
274                  case 17:
275                      DefinedPacket.readVarInt( packet );
276                      break;
277                  default:
278                      throw new IllegalArgumentException( "Unknown meta type " + type );
279              }
280          }
281          packet.readerIndex( readerIndex );
282      }
283      private static void readSkipSlot(ByteBuf packet, int protocolVersion)
284      {
285          if ( ( protocolVersion >= ProtocolConstants.MINECRAFT_1_13_2 ) ? packet.readBoolean() : packet.readShort() != -1 )
286          {
287              if ( protocolVersion >= ProtocolConstants.MINECRAFT_1_13_2 )
288              {
289                  DefinedPacket.readVarInt( packet );
290              }
291              packet.skipBytes( ( protocolVersion >= ProtocolConstants.MINECRAFT_1_13 ) ? 1 : 3 ); 
292              int position = packet.readerIndex();
293              if ( packet.readByte() != 0 )
294              {
295                  packet.readerIndex( position );
296                  Tag tag = NamedTag.read( new DataInputStream( new ByteBufInputStream( packet ) ) );
297                  if ( tag.isError() )
298                  {
299                      throw new RuntimeException( tag.error() );
300                  }
301              }
302          }
303      }
304      private static void rewrite(ByteBuf packet, int oldId, int newId, boolean[] ints, boolean[] varints)
305      {
306          int readerIndex = packet.readerIndex();
307          int packetId = DefinedPacket.readVarInt( packet );
308          int packetIdLength = packet.readerIndex() - readerIndex;
309          if ( ints[packetId] )
310          {
311              rewriteInt( packet, oldId, newId, readerIndex + packetIdLength );
312          } else if ( varints[packetId] )
313          {
314              rewriteVarInt( packet, oldId, newId, readerIndex + packetIdLength );
315          }
316          packet.readerIndex( readerIndex );
317      }
318  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from Essentials-MDEwOlJlcG9zaXRvcnkxNzczNzU0-flat-Commandtempban.java</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from BungeeCord-MDEwOlJlcG9zaXRvcnk2MDg0MjEw-flat-EntityMap.java</div>
                </div>
                <div class="column column_space"><pre><code>1  package com.earth2me.essentials.commands;
2  import com.earth2me.essentials.CommandSource;
3  import com.earth2me.essentials.Console;
4  import static com.earth2me.essentials.I18n.tl;
5  import com.earth2me.essentials.User;
6  import com.earth2me.essentials.utils.DateUtil;
7  import java.util.Date;
8  import java.util.GregorianCalendar;
9  import java.util.logging.Level;
10  import org.bukkit.BanList;
11  import org.bukkit.Server;
12  public class Commandtempban extends EssentialsCommand
</pre></code></div>
                <div class="column column_space"><pre><code>1  package net.md_5.bungee.entitymap;
2  import edu.umd.cs.findbugs.annotations.SuppressFBWarnings;
3  import io.netty.buffer.ByteBuf;
4  import io.netty.buffer.ByteBufInputStream;
5  import java.io.DataInputStream;
6  import lombok.AccessLevel;
7  import lombok.NoArgsConstructor;
8  import net.md_5.bungee.protocol.DefinedPacket;
9  import net.md_5.bungee.protocol.ProtocolConstants;
10  import se.llbit.nbt.NamedTag;
11  import se.llbit.nbt.Tag;
12  @NoArgsConstructor(access = AccessLevel.PACKAGE)
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    