
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 9.210526315789473%, Tokens: 10</h2>
        <div class="column">
            <h3>VitamioBundle-MDEwOlJlcG9zaXRvcnk2MjkyMDI5-flat-OutlineTextView.java</h3>
            <pre><code><span onclick='openModal()' class='match'>1  package io.vov.vitamio.widget;
2  import android.content.Context;
3  import android.graphics.Canvas;
4  import android.graphics.Paint;
5  import android.graphics.Typeface;
6  import android.text.Layout;
7  import android.text.StaticLayout;
8  import android.text.TextPaint;
9  import android.util.AttributeSet;
10  import android.widget.TextView;
</span>11  public class OutlineTextView extends TextView {
12    private TextPaint mTextPaint;
13    private TextPaint mTextPaintOutline;
14    private String mText = "";
15    private int mAscent = 0;
16    private float mBorderSize;
17    private int mBorderColor;
18    private int mColor;
19    private float mSpacingMult = 1.0f;
20    private float mSpacingAdd = 0;
21    private boolean mIncludePad = true;
22    public OutlineTextView(Context context) {
23      super(context);
24      initPaint();
25    }
26    public OutlineTextView(Context context, AttributeSet attrs) {
27      super(context, attrs);
28      initPaint();
29    }
30    public OutlineTextView(Context context, AttributeSet attrs, int defStyle) {
31      super(context, attrs, defStyle);
32      initPaint();
33    }
34    private void initPaint() {
35      mTextPaint = new TextPaint();
36      mTextPaint.setAntiAlias(true);
37      mTextPaint.setTextSize(getTextSize());
38      mTextPaint.setColor(mColor);
39      mTextPaint.setStyle(Paint.Style.FILL);
40      mTextPaint.setTypeface(getTypeface());
41      mTextPaintOutline = new TextPaint();
42      mTextPaintOutline.setAntiAlias(true);
43      mTextPaintOutline.setTextSize(getTextSize());
44      mTextPaintOutline.setColor(mBorderColor);
45      mTextPaintOutline.setStyle(Paint.Style.STROKE);
46      mTextPaintOutline.setTypeface(getTypeface());
47      mTextPaintOutline.setStrokeWidth(mBorderSize);
48    }
49    public void setText(String text) {
50      super.setText(text);
51      mText = text.toString();
52      requestLayout();
53      invalidate();
54    }
55    public void setTextSize(float size) {
56      super.setTextSize(size);
57      requestLayout();
58      invalidate();
59      initPaint();
60    }
61    public void setTextColor(int color) {
62      super.setTextColor(color);
63      mColor = color;
64      invalidate();
65      initPaint();
66    }
67    public void setShadowLayer(float radius, float dx, float dy, int color) {
68      super.setShadowLayer(radius, dx, dy, color);
69      mBorderSize = radius;
70      mBorderColor = color;
71      requestLayout();
72      invalidate();
73      initPaint();
74    }
75    public void setTypeface(Typeface tf, int style) {
76      super.setTypeface(tf, style);
77      requestLayout();
78      invalidate();
79      initPaint();
80    }
81    public void setTypeface(Typeface tf) {
82      super.setTypeface(tf);
83      requestLayout();
84      invalidate();
85      initPaint();
86    }
87    @Override
88    protected void onDraw(Canvas canvas) {
89      Layout layout = new StaticLayout(getText(), mTextPaintOutline, getWidth(), Layout.Alignment.ALIGN_CENTER, mSpacingMult, mSpacingAdd, mIncludePad);
90      layout.draw(canvas);
91      layout = new StaticLayout(getText(), mTextPaint, getWidth(), Layout.Alignment.ALIGN_CENTER, mSpacingMult, mSpacingAdd, mIncludePad);
92      layout.draw(canvas);
93    }
94    @Override
95    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
96      Layout layout = new StaticLayout(getText(), mTextPaintOutline, measureWidth(widthMeasureSpec), Layout.Alignment.ALIGN_CENTER, mSpacingMult, mSpacingAdd, mIncludePad);
97      int ex = (int) (mBorderSize * 2 + 1);
98      setMeasuredDimension(measureWidth(widthMeasureSpec) + ex, measureHeight(heightMeasureSpec) * layout.getLineCount() + ex);
99    }
100    private int measureWidth(int measureSpec) {
101      int result = 0;
102      int specMode = MeasureSpec.getMode(measureSpec);
103      int specSize = MeasureSpec.getSize(measureSpec);
104      if (specMode == MeasureSpec.EXACTLY) {
105        result = specSize;
106      } else {
107        result = (int) mTextPaintOutline.measureText(mText) + getPaddingLeft() + getPaddingRight();
108        if (specMode == MeasureSpec.AT_MOST) {
109          result = Math.min(result, specSize);
110        }
111      }
112      return result;
113    }
114    private int measureHeight(int measureSpec) {
115      int result = 0;
116      int specMode = MeasureSpec.getMode(measureSpec);
117      int specSize = MeasureSpec.getSize(measureSpec);
118      mAscent = (int) mTextPaintOutline.ascent();
119      if (specMode == MeasureSpec.EXACTLY) {
120        result = specSize;
121      } else {
122        result = (int) (-mAscent + mTextPaintOutline.descent()) + getPaddingTop() + getPaddingBottom();
123        if (specMode == MeasureSpec.AT_MOST) {
124          result = Math.min(result, specSize);
125        }
126      }
127      return result;
128    }
129  }
</code></pre>
        </div>
        <div class="column">
            <h3>SpringPetClinic-MDEwOlJlcG9zaXRvcnkzMDkzNDMzNTE=-flat-OwnerControllerTests.java</h3>
            <pre><code><span onclick='openModal()' class='match'>1  package org.springframework.samples.petclinic.owner;
2  import static org.hamcrest.Matchers.hasProperty;
3  import static org.hamcrest.Matchers.is;
4  import static org.mockito.BDDMockito.given;
5  import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;
6  import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;
7  import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.model;
8  import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;
9  import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.view;
10  import org.assertj.core.util.Lists;
</span>11  import org.junit.Before;
12  import org.junit.Test;
13  import org.junit.runner.RunWith;
14  import org.springframework.beans.factory.annotation.Autowired;
15  import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;
16  import org.springframework.boot.test.mock.mockito.MockBean;
17  import org.springframework.samples.petclinic.owner.Owner;
18  import org.springframework.samples.petclinic.owner.OwnerController;
19  import org.springframework.samples.petclinic.owner.OwnerRepository;
20  import org.springframework.test.context.junit4.SpringRunner;
21  import org.springframework.test.web.servlet.MockMvc;
22  @RunWith(SpringRunner.class)
23  @WebMvcTest(OwnerController.class)
24  public class OwnerControllerTests {
25      private static final int TEST_OWNER_ID = 1;
26      @Autowired
27      private MockMvc mockMvc;
28      @MockBean
29      private OwnerRepository owners;
30      private Owner george;
31      @Before
32      public void setup() {
33          george = new Owner();
34          george.setId(TEST_OWNER_ID);
35          george.setFirstName("George");
36          george.setLastName("Franklin");
37          george.setAddress("110 W. Liberty St.");
38          george.setCity("Madison");
39          george.setTelephone("6085551023");
40          given(this.owners.findById(TEST_OWNER_ID)).willReturn(george);
41      }
42      @Test
43      public void testInitCreationForm() throws Exception {
44          mockMvc.perform(get("/owners/new"))
45              .andExpect(status().isOk())
46              .andExpect(model().attributeExists("owner"))
47              .andExpect(view().name("owners/createOrUpdateOwnerForm"));
48      }
49      @Test
50      public void testProcessCreationFormSuccess() throws Exception {
51          mockMvc.perform(post("/owners/new")
52              .param("firstName", "Joe")
53              .param("lastName", "Bloggs")
54              .param("address", "123 Caramel Street")
55              .param("city", "London")
56              .param("telephone", "01316761638")
57          )
58              .andExpect(status().is3xxRedirection());
59      }
60      @Test
61      public void testProcessCreationFormHasErrors() throws Exception {
62          mockMvc.perform(post("/owners/new")
63              .param("firstName", "Joe")
64              .param("lastName", "Bloggs")
65              .param("city", "London")
66          )
67              .andExpect(status().isOk())
68              .andExpect(model().attributeHasErrors("owner"))
69              .andExpect(model().attributeHasFieldErrors("owner", "address"))
70              .andExpect(model().attributeHasFieldErrors("owner", "telephone"))
71              .andExpect(view().name("owners/createOrUpdateOwnerForm"));
72      }
73      @Test
74      public void testInitFindForm() throws Exception {
75          mockMvc.perform(get("/owners/find"))
76              .andExpect(status().isOk())
77              .andExpect(model().attributeExists("owner"))
78              .andExpect(view().name("owners/findOwners"));
79      }
80      @Test
81      public void testProcessFindFormSuccess() throws Exception {
82          given(this.owners.findByLastName("")).willReturn(Lists.newArrayList(george, new Owner()));
83          mockMvc.perform(get("/owners"))
84              .andExpect(status().isOk())
85              .andExpect(view().name("owners/ownersList"));
86      }
87      @Test
88      public void testProcessFindFormByLastName() throws Exception {
89          given(this.owners.findByLastName(george.getLastName())).willReturn(Lists.newArrayList(george));
90          mockMvc.perform(get("/owners")
91              .param("lastName", "Franklin")
92          )
93              .andExpect(status().is3xxRedirection())
94              .andExpect(view().name("redirect:/owners/" + TEST_OWNER_ID));
95      }
96      @Test
97      public void testProcessFindFormNoOwnersFound() throws Exception {
98          mockMvc.perform(get("/owners")
99              .param("lastName", "Unknown Surname")
100          )
101              .andExpect(status().isOk())
102              .andExpect(model().attributeHasFieldErrors("owner", "lastName"))
103              .andExpect(model().attributeHasFieldErrorCode("owner", "lastName", "notFound"))
104              .andExpect(view().name("owners/findOwners"));
105      }
106      @Test
107      public void testInitUpdateOwnerForm() throws Exception {
108          mockMvc.perform(get("/owners/{ownerId}/edit", TEST_OWNER_ID))
109              .andExpect(status().isOk())
110              .andExpect(model().attributeExists("owner"))
111              .andExpect(model().attribute("owner", hasProperty("lastName", is("Franklin"))))
112              .andExpect(model().attribute("owner", hasProperty("firstName", is("George"))))
113              .andExpect(model().attribute("owner", hasProperty("address", is("110 W. Liberty St."))))
114              .andExpect(model().attribute("owner", hasProperty("city", is("Madison"))))
115              .andExpect(model().attribute("owner", hasProperty("telephone", is("6085551023"))))
116              .andExpect(view().name("owners/createOrUpdateOwnerForm"));
117      }
118      @Test
119      public void testProcessUpdateOwnerFormSuccess() throws Exception {
120          mockMvc.perform(post("/owners/{ownerId}/edit", TEST_OWNER_ID)
121              .param("firstName", "Joe")
122              .param("lastName", "Bloggs")
123              .param("address", "123 Caramel Street")
124              .param("city", "London")
125              .param("telephone", "01616291589")
126          )
127              .andExpect(status().is3xxRedirection())
128              .andExpect(view().name("redirect:/owners/{ownerId}"));
129      }
130      @Test
131      public void testProcessUpdateOwnerFormHasErrors() throws Exception {
132          mockMvc.perform(post("/owners/{ownerId}/edit", TEST_OWNER_ID)
133              .param("firstName", "Joe")
134              .param("lastName", "Bloggs")
135              .param("city", "London")
136          )
137              .andExpect(status().isOk())
138              .andExpect(model().attributeHasErrors("owner"))
139              .andExpect(model().attributeHasFieldErrors("owner", "address"))
140              .andExpect(model().attributeHasFieldErrors("owner", "telephone"))
141              .andExpect(view().name("owners/createOrUpdateOwnerForm"));
142      }
143      @Test
144      public void testShowOwner() throws Exception {
145          mockMvc.perform(get("/owners/{ownerId}", TEST_OWNER_ID))
146              .andExpect(status().isOk())
147              .andExpect(model().attribute("owner", hasProperty("lastName", is("Franklin"))))
148              .andExpect(model().attribute("owner", hasProperty("firstName", is("George"))))
149              .andExpect(model().attribute("owner", hasProperty("address", is("110 W. Liberty St."))))
150              .andExpect(model().attribute("owner", hasProperty("city", is("Madison"))))
151              .andExpect(model().attribute("owner", hasProperty("telephone", is("6085551023"))))
152              .andExpect(view().name("owners/ownerDetails"));
153      }
154  }
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from VitamioBundle-MDEwOlJlcG9zaXRvcnk2MjkyMDI5-flat-OutlineTextView.java</div>
                <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from SpringPetClinic-MDEwOlJlcG9zaXRvcnkzMDkzNDMzNTE=-flat-OwnerControllerTests.java</div>
                <div class="column column_space"><pre><code>1  package io.vov.vitamio.widget;
2  import android.content.Context;
3  import android.graphics.Canvas;
4  import android.graphics.Paint;
5  import android.graphics.Typeface;
6  import android.text.Layout;
7  import android.text.StaticLayout;
8  import android.text.TextPaint;
9  import android.util.AttributeSet;
10  import android.widget.TextView;
</pre></code></div>
                <div class="column column_space"><pre><code>1  package org.springframework.samples.petclinic.owner;
2  import static org.hamcrest.Matchers.hasProperty;
3  import static org.hamcrest.Matchers.is;
4  import static org.mockito.BDDMockito.given;
5  import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;
6  import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;
7  import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.model;
8  import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;
9  import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.view;
10  import org.assertj.core.util.Lists;
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    