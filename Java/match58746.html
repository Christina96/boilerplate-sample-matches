<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Matches for ImmutableMultisetTest_1.java & IntsTest_1.java</TITLE>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</HEAD>
<body>
  <div style="align-items: center; display: flex; justify-content: space-around;">
    <div>
      <h3 align="center">
Matches for ImmutableMultisetTest_1.java & IntsTest_1.java
      </h3>
      <h1 align="center">
        32.8%
      </h1>
      <center>
        <a href="index.html" target="_top">
          INDEX
        </a>
        <span>-</span>
        <a href="help-en.html" target="_top">
          HELP
        </a>
      </center>
    </div>
    <div>
<TABLE BORDER="1" CELLSPACING="0" BGCOLOR="#d0d0d0">
<TR><TH><TH>ImmutableMultisetTest_1.java (37.5419%)<TH>IntsTest_1.java (29.192007%)<TH>Tokens
<TR><TD BGCOLOR="#0000ff"><FONT COLOR="#0000ff">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#0',2,'match58746-1.html#0',3)" NAME="0">(508-516)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#0',2,'match58746-1.html#0',3)" NAME="0">(490-498)</A><TD ALIGN=center><FONT COLOR="#ff0000">21</FONT>
<TR><TD BGCOLOR="#f63526"><FONT COLOR="#f63526">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#1',2,'match58746-1.html#1',3)" NAME="1">(233-245)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#1',2,'match58746-1.html#1',3)" NAME="1">(402-414)</A><TD ALIGN=center><FONT COLOR="#ff0000">21</FONT>
<TR><TD BGCOLOR="#980517"><FONT COLOR="#980517">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#2',2,'match58746-1.html#2',3)" NAME="2">(554-559)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#2',2,'match58746-1.html#2',3)" NAME="2">(420-427)</A><TD ALIGN=center><FONT COLOR="#ce0000">17</FONT>
<TR><TD BGCOLOR="#53858b"><FONT COLOR="#53858b">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#3',2,'match58746-1.html#3',3)" NAME="3">(531-541)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#3',2,'match58746-1.html#3',3)" NAME="3">(299-310)</A><TD ALIGN=center><FONT COLOR="#c20000">16</FONT>
<TR><TD BGCOLOR="#6cc417"><FONT COLOR="#6cc417">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#4',2,'match58746-1.html#4',3)" NAME="4">(263-271)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#4',2,'match58746-1.html#4',3)" NAME="4">(193-201)</A><TD ALIGN=center><FONT COLOR="#c20000">16</FONT>
<TR><TD BGCOLOR="#151b8d"><FONT COLOR="#151b8d">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#5',2,'match58746-1.html#5',3)" NAME="5">(189-196)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#5',2,'match58746-1.html#5',3)" NAME="5">(428-435)</A><TD ALIGN=center><FONT COLOR="#c20000">16</FONT>
<TR><TD BGCOLOR="#8c8774"><FONT COLOR="#8c8774">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#6',2,'match58746-1.html#6',3)" NAME="6">(34-53)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#6',2,'match58746-1.html#6',3)" NAME="6">(19-38)</A><TD ALIGN=center><FONT COLOR="#c20000">16</FONT>
<TR><TD BGCOLOR="#38a4a5"><FONT COLOR="#38a4a5">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#7',2,'match58746-1.html#7',3)" NAME="7">(542-550)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#7',2,'match58746-1.html#7',3)" NAME="7">(280-288)</A><TD ALIGN=center><FONT COLOR="#aa0000">14</FONT>
<TR><TD BGCOLOR="#c58917"><FONT COLOR="#c58917">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#8',2,'match58746-1.html#8',3)" NAME="8">(448-455)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#8',2,'match58746-1.html#8',3)" NAME="8">(574-581)</A><TD ALIGN=center><FONT COLOR="#aa0000">14</FONT>
<TR><TD BGCOLOR="#83a33a"><FONT COLOR="#83a33a">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#9',2,'match58746-1.html#9',3)" NAME="9">(439-446)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#9',2,'match58746-1.html#9',3)" NAME="9">(566-573)</A><TD ALIGN=center><FONT COLOR="#aa0000">14</FONT>
<TR><TD BGCOLOR="#ad5910"><FONT COLOR="#ad5910">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#10',2,'match58746-1.html#10',3)" NAME="10">(430-437)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#10',2,'match58746-1.html#10',3)" NAME="10">(271-279)</A><TD ALIGN=center><FONT COLOR="#aa0000">14</FONT>
<TR><TD BGCOLOR="#b041ff"><FONT COLOR="#b041ff">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#11',2,'match58746-1.html#11',3)" NAME="11">(405-412)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#11',2,'match58746-1.html#11',3)" NAME="11">(175-182)</A><TD ALIGN=center><FONT COLOR="#aa0000">14</FONT>
<TR><TD BGCOLOR="#571b7e"><FONT COLOR="#571b7e">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#12',2,'match58746-1.html#12',3)" NAME="12">(290-296)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#12',2,'match58746-1.html#12',3)" NAME="12">(582-588)</A><TD ALIGN=center><FONT COLOR="#aa0000">14</FONT>
<TR><TD BGCOLOR="#3b9c9c"><FONT COLOR="#3b9c9c">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#13',2,'match58746-1.html#13',3)" NAME="13">(209-216)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#13',2,'match58746-1.html#13',3)" NAME="13">(160-167)</A><TD ALIGN=center><FONT COLOR="#aa0000">14</FONT>
<TR><TD BGCOLOR="#842dce"><FONT COLOR="#842dce">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#14',2,'match58746-1.html#14',3)" NAME="14">(197-204)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#14',2,'match58746-1.html#14',3)" NAME="14">(438-447)</A><TD ALIGN=center><FONT COLOR="#aa0000">14</FONT>
<TR><TD BGCOLOR="#f52887"><FONT COLOR="#f52887">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#15',2,'match58746-1.html#15',3)" NAME="15">(458-464)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#15',2,'match58746-1.html#15',3)" NAME="15">(483-489)</A><TD ALIGN=center><FONT COLOR="#910000">12</FONT>
<TR><TD BGCOLOR="#2981b2"><FONT COLOR="#2981b2">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#16',2,'match58746-1.html#16',3)" NAME="16">(495-501)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#16',2,'match58746-1.html#16',3)" NAME="16">(501-507)</A><TD ALIGN=center><FONT COLOR="#850000">11</FONT>
<TR><TD BGCOLOR="#3090c7"><FONT COLOR="#3090c7">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#17',2,'match58746-1.html#17',3)" NAME="17">(149-154)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#17',2,'match58746-1.html#17',3)" NAME="17">(370-376)</A><TD ALIGN=center><FONT COLOR="#850000">11</FONT>
<TR><TD BGCOLOR="#800517"><FONT COLOR="#800517">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#18',2,'match58746-1.html#18',3)" NAME="18">(468-473)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#18',2,'match58746-1.html#18',3)" NAME="18">(233-238)</A><TD ALIGN=center><FONT COLOR="#790000">10</FONT>
<TR><TD BGCOLOR="#f62817"><FONT COLOR="#f62817">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#19',2,'match58746-1.html#19',3)" NAME="19">(414-418)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#19',2,'match58746-1.html#19',3)" NAME="19">(266-270)</A><TD ALIGN=center><FONT COLOR="#790000">10</FONT>
<TR><TD BGCOLOR="#4e9258"><FONT COLOR="#4e9258">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#20',2,'match58746-1.html#20',3)" NAME="20">(356-360)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#20',2,'match58746-1.html#20',3)" NAME="20">(391-396)</A><TD ALIGN=center><FONT COLOR="#790000">10</FONT>
<TR><TD BGCOLOR="#947010"><FONT COLOR="#947010">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#21',2,'match58746-1.html#21',3)" NAME="21">(340-344)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#21',2,'match58746-1.html#21',3)" NAME="21">(467-472)</A><TD ALIGN=center><FONT COLOR="#790000">10</FONT>
<TR><TD BGCOLOR="#4cc417"><FONT COLOR="#4cc417">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#22',2,'match58746-1.html#22',3)" NAME="22">(488-493)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#22',2,'match58746-1.html#22',3)" NAME="22">(169-174)</A><TD ALIGN=center><FONT COLOR="#6d0000">9</FONT>
<TR><TD BGCOLOR="#f660ab"><FONT COLOR="#f660ab">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#23',2,'match58746-1.html#23',3)" NAME="23">(310-315)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#23',2,'match58746-1.html#23',3)" NAME="23">(101-106)</A><TD ALIGN=center><FONT COLOR="#6d0000">9</FONT>
<TR><TD BGCOLOR="#79764d"><FONT COLOR="#79764d">-</FONT><TD><A HREF="javascript:ZweiFrames('match58746-0.html#24',2,'match58746-1.html#24',3)" NAME="24">(158-163)<TD><A HREF="javascript:ZweiFrames('match58746-0.html#24',2,'match58746-1.html#24',3)" NAME="24">(239-244)</A><TD ALIGN=center><FONT COLOR="#6d0000">9</FONT>
</TABLE>
    </div>
  </div>
  <hr>
  <div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>ImmutableMultisetTest_1.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<HR>
<PRE>
/*
 * Copyright (C) 2008 The Guava Authors
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package com.google.common.collect;

import static com.google.common.base.Preconditions.checkArgument;
import static com.google.common.truth.Truth.assertThat;
import static java.util.Arrays.asList;

import com.google.common.annotations.GwtCompatible;
import com.google.common.annotations.GwtIncompatible;
import com.google.common.collect.testing.ListTestSuiteBuilder;
import com.google.common.collect.testing.MinimalCollection;
import com.google.common.collect.testing.SetTestSuiteBuilder;
import com.google.common.collect.testing.TestStringListGenerator;
import com.google.common.collect.testing.TestStringSetGenerator;
import com.google.common.collect.testing.features.CollectionFeature;
<A NAME="6"></A>import com.google.common.collect.testing.features.CollectionSize;
import com.google.common.collect.testing.google.MultisetTestSuiteBuilder;
import com.google.common.collect.testing.google.TestStringMultisetGenerator;
<FONT color="#8c8774"><A HREF="javascript:ZweiFrames('match58746-1.html#6',3,'match58746-top.html#6',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>import com.google.common.collect.testing.google.UnmodifiableCollectionTests;
import com.google.common.testing.EqualsTester;
import com.google.common.testing.NullPointerTester;
import com.google.common.testing.SerializableTester;
import java.util.ArrayList;
import java.util.Collection;
import java.util.HashSet;
import java.util.Iterator;
import java.util.List;
import java.util.Set;
import junit.framework.Test;
import junit.framework.TestCase;
import junit.framework.TestSuite;

/**
 * Tests for {@link ImmutableMultiset}.
 *
 * @author Jared Levy
 */
@GwtCompatible(e</B></FONT>mulated = true)
public class ImmutableMultisetTest extends TestCase {

  @GwtIncompatible // suite // TODO(cpovirk): add to collect/gwt/suites
  public static Test suite() {
    TestSuite suite = new TestSuite();
    suite.addTestSuite(ImmutableMultisetTest.class);

    suite.addTest(
        MultisetTestSuiteBuilder.using(
                new TestStringMultisetGenerator() {
                  @Override
                  protected Multiset&lt;String&gt; create(String[] elements) {
                    return ImmutableMultiset.copyOf(elements);
                  }
                })
            .named(&quot;ImmutableMultiset&quot;)
            .withFeatures(
                CollectionSize.ANY,
                CollectionFeature.SERIALIZABLE_INCLUDING_VIEWS,
                CollectionFeature.ALLOWS_NULL_QUERIES)
            .createTestSuite());

    suite.addTest(
        SetTestSuiteBuilder.using(
                new TestStringSetGenerator() {
                  @Override
                  protected Set&lt;String&gt; create(String[] elements) {
                    return ImmutableMultiset.copyOf(elements).elementSet();
                  }
                })
            .named(&quot;ImmutableMultiset, element set&quot;)
            .withFeatures(
                CollectionSize.ANY,
                CollectionFeature.SERIALIZABLE,
                CollectionFeature.ALLOWS_NULL_QUERIES)
            .createTestSuite());

    suite.addTest(
        ListTestSuiteBuilder.using(
                new TestStringListGenerator() {
                  @Override
                  protected List&lt;String&gt; create(String[] elements) {
                    return ImmutableMultiset.copyOf(elements).asList();
                  }

                  @Override
                  public List&lt;String&gt; order(List&lt;String&gt; insertionOrder) {
                    List&lt;String&gt; order = new ArrayList&lt;&gt;();
                    for (String s : insertionOrder) {
                      int index = order.indexOf(s);
                      if (index == -1) {
                        order.add(s);
                      } else {
                        order.add(index, s);
                      }
                    }
                    return order;
                  }
                })
            .named(&quot;ImmutableMultiset.asList&quot;)
            .withFeatures(
                CollectionSize.ANY,
                CollectionFeature.SERIALIZABLE,
                CollectionFeature.ALLOWS_NULL_QUERIES)
            .createTestSuite());

    suite.addTest(
        ListTestSuiteBuilder.using(
                new TestStringListGenerator() {
                  @Override
                  protected List&lt;String&gt; create(String[] elements) {
                    Set&lt;String&gt; set = new HashSet&lt;&gt;();
                    ImmutableMultiset.Builder&lt;String&gt; builder = ImmutableMultiset.builder();
                    for (String s : elements) {
                      checkArgument(set.add(s));
                      builder.addCopies(s, 2);
                    }
                    ImmutableSet&lt;String&gt; elementSet =
                        (ImmutableSet&lt;String&gt;) builder.build().elementSet();
                    return elementSet.asList();
                  }
                })
            .named(&quot;ImmutableMultiset.elementSet.asList&quot;)
            .withFeatures(
                CollectionSize.ANY,
                CollectionFeature.REJECTS_DUPLICATES_AT_CREATION,
                CollectionFeature.SERIALIZABLE,
                CollectionFeature.ALLOWS_NULL_QUERIES)
            .createTestSuite());

    return suite;
  }
<A NAME="17"></A>
  public void testCreation_noArgs() {
    Multiset&lt;String&gt; multiset = ImmutableMultiset.of();
    <FONT color="#3090c7"><A HREF="javascript:ZweiFrames('match58746-1.html#17',3,'match58746-top.html#17',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>assertTrue(multiset.isEmpty());
  }

  public void testCreation_oneElement() {
    Multiset&lt;String&gt; multiset = ImmutableMultiset.of(&quot;a&quot;);
    assertEquals(HashMultiset.create(asList</B></FONT>(&quot;a&quot;)), multiset);
<A NAME="24"></A>  }

  public void testCreation_twoElements() {
    Multiset&lt;String&gt; multiset = <FONT color="#79764d"><A HREF="javascript:ZweiFrames('match58746-1.html#24',3,'match58746-top.html#24',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>ImmutableMultiset.of(&quot;a&quot;, &quot;b&quot;);
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;)), multiset);
  }

  public void testCreation_threeElements() {
    Multiset&lt;String&gt; multiset = ImmutableMultiset.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)</B></FONT>;
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)), multiset);
  }

  public void testCreation_fourElements() {
    Multiset&lt;String&gt; multiset = ImmutableMultiset.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;)), multiset);
  }

  public void testCreation_fiveElements() {
    Multiset&lt;String&gt; multiset = ImmutableMultiset.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;)), multiset);
  }

  public void testCreation_sixElements() {
    Multiset&lt;String&gt; multiset = ImmutableMultiset.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;);
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;)), multiset);
  }

  public void testCreation_sevenElements() {
    Multiset&lt;String&gt; multiset = ImmutableMultiset.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;);
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;)), multiset);
  }
<A NAME="5"></A>
  public void testCreation_emptyArray() {
    String[] array = new String[0];
    Multiset&lt;String&gt; multiset = <FONT color="#151b8d"><A HREF="javascript:ZweiFrames('match58746-1.html#5',3,'match58746-top.html#5',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>ImmutableMultiset.copyOf(array);
    assertTrue(multiset.isEmpty());
  }

  public void testCreation_arrayOfOneElement() {
<A NAME="14"></A>    String[] array = new String[] {&quot;a&quot;};
    Multiset&lt;String&gt; multiset = ImmutableMultiset.copyOf(array);
    assertEquals(HashMultiset.create(asList</B></FONT>(&quot;a&quot;)), multiset);
  <FONT color="#842dce"><A HREF="javascript:ZweiFrames('match58746-1.html#14',3,'match58746-top.html#14',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}

  public void testCreation_arrayOfArray() {
    String[] array = new String[] {&quot;a&quot;};
    Multiset&lt;String[]&gt; multiset = ImmutableMultiset.&lt;String[]&gt;of(array);
    Multiset&lt;String[]&gt; expected = HashMultiset.create();
    expected.add(array);
    assertEquals</B></FONT>(expected, multiset);
  }
<A NAME="13"></A>
  public void testCreation_arrayContainingOnlyNull() {
    String[] array = new String[] {null};
    <FONT color="#3b9c9c"><A HREF="javascript:ZweiFrames('match58746-1.html#13',3,'match58746-top.html#13',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>try {
      ImmutableMultiset.copyOf(array);
      fail();
    } catch (NullPointerException expected) {
    }
  }

  public void testCopyOf_collection_empty() {</B></FONT>
    // &quot;&lt;String&gt;&quot; is required to work around a javac 1.5 bug.
    Collection&lt;String&gt; c = MinimalCollection.&lt;String&gt;of();
    Multiset&lt;String&gt; multiset = ImmutableMultiset.copyOf(c);
    assertTrue(multiset.isEmpty());
  }

  public void testCopyOf_collection_oneElement() {
    Collection&lt;String&gt; c = MinimalCollection.of(&quot;a&quot;);
    Multiset&lt;String&gt; multiset = ImmutableMultiset.copyOf(c);
    assertEquals(HashMultiset.create(asList(&quot;a&quot;)), multiset);
  }

  public void testCopyOf_collection_general() {
<A NAME="1"></A>    Collection&lt;String&gt; c = MinimalCollection.of(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;);
    Multiset&lt;String&gt; multiset = ImmutableMultiset.copyOf(c);
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;)), multiset);
  <FONT color="#f63526"><A HREF="javascript:ZweiFrames('match58746-1.html#1',3,'match58746-top.html#1',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}

  public void testCopyOf_collectionContainingNull() {
    Collection&lt;String&gt; c = MinimalCollection.of(&quot;a&quot;, null, &quot;b&quot;);
    try {
      ImmutableMultiset.copyOf(c);
      fail();
    } catch (NullPointerException expected) {
    }
  }

  public void testCopyOf_multiset_empty() {
    Multiset&lt;String&gt; c = HashMultiset.create()</B></FONT>;
    Multiset&lt;String&gt; multiset = ImmutableMultiset.copyOf(c);
    assertTrue(multiset.isEmpty());
  }

  public void testCopyOf_multiset_oneElement() {
    Multiset&lt;String&gt; c = HashMultiset.create(asList(&quot;a&quot;));
    Multiset&lt;String&gt; multiset = ImmutableMultiset.copyOf(c);
    assertEquals(HashMultiset.create(asList(&quot;a&quot;)), multiset);
  }

  public void testCopyOf_multiset_general() {
    Multiset&lt;String&gt; c = HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;));
    Multiset&lt;String&gt; multiset = ImmutableMultiset.copyOf(c);
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;)), multiset);
<A NAME="4"></A>  }

  public void testCopyOf_multisetContainingNull() {
    Multiset&lt;String&gt; c = <FONT color="#6cc417"><A HREF="javascript:ZweiFrames('match58746-1.html#4',3,'match58746-top.html#4',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>HashMultiset.create(asList(&quot;a&quot;, null, &quot;b&quot;));
    try {
      ImmutableMultiset.copyOf(c);
      fail();
    } catch (NullPointerException expected) {
    }
  }

  public void testCopyOf_iterator_empty() {</B></FONT>
    Iterator&lt;String&gt; iterator = Iterators.emptyIterator();
    Multiset&lt;String&gt; multiset = ImmutableMultiset.copyOf(iterator);
    assertTrue(multiset.isEmpty());
  }

  public void testCopyOf_iterator_oneElement() {
    Iterator&lt;String&gt; iterator = Iterators.singletonIterator(&quot;a&quot;);
    Multiset&lt;String&gt; multiset = ImmutableMultiset.copyOf(iterator);
    assertEquals(HashMultiset.create(asList(&quot;a&quot;)), multiset);
  }

  public void testCopyOf_iterator_general() {
    Iterator&lt;String&gt; iterator = asList(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;).iterator();
    Multiset&lt;String&gt; multiset = ImmutableMultiset.copyOf(iterator);
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;)), multiset);
<A NAME="12"></A>  }

  public void testCopyOf_iteratorContainingNull() {
    Iterator&lt;String&gt; iterator = <FONT color="#571b7e"><A HREF="javascript:ZweiFrames('match58746-1.html#12',3,'match58746-top.html#12',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>asList(&quot;a&quot;, null, &quot;b&quot;).iterator();
    try {
      ImmutableMultiset.copyOf(iterator);
      fail();
    } catch (NullPointerException expected) {
    }
  }</B></FONT>

  private static class CountingIterable implements Iterable&lt;String&gt; {
    int count = 0;

    @Override
    public Iterator&lt;String&gt; iterator() {
      count++;
      return asList(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;).iterator();
    }
  }
<A NAME="23"></A>
  public void testCopyOf_plainIterable() {
    CountingIterable iterable = new CountingIterable();
    Multiset&lt;String&gt; multiset = <FONT color="#f660ab"><A HREF="javascript:ZweiFrames('match58746-1.html#23',3,'match58746-top.html#23',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>ImmutableMultiset.copyOf(iterable);
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;)), multiset);
    assertEquals(1, iterable.count);
  }

  public void testCopyOf_hashMultiset() {</B></FONT>
    Multiset&lt;String&gt; iterable = HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;));
    Multiset&lt;String&gt; multiset = ImmutableMultiset.copyOf(iterable);
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;)), multiset);
  }

  public void testCopyOf_treeMultiset() {
    Multiset&lt;String&gt; iterable = TreeMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;));
    Multiset&lt;String&gt; multiset = ImmutableMultiset.copyOf(iterable);
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;)), multiset);
  }

  public void testCopyOf_shortcut_empty() {
    Collection&lt;String&gt; c = ImmutableMultiset.of();
    assertSame(c, ImmutableMultiset.copyOf(c));
  }

  public void testCopyOf_shortcut_singleton() {
    Collection&lt;String&gt; c = ImmutableMultiset.of(&quot;a&quot;);
    assertSame(c, ImmutableMultiset.copyOf(c));
  }

<A NAME="21"></A>  public void testCopyOf_shortcut_immutableMultiset() {
    Collection&lt;String&gt; c = ImmutableMultiset.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);
    assertSame(c, ImmutableMultiset.copyOf(c));
  <FONT color="#947010"><A HREF="javascript:ZweiFrames('match58746-1.html#21',3,'match58746-top.html#21',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>}

  public void testBuilderAdd() {
    ImmutableMultiset&lt;String&gt; multiset =
        new ImmutableMultiset.Builder&lt;String&gt;().add</B></FONT>(&quot;a&quot;).add(&quot;b&quot;).add(&quot;a&quot;).add(&quot;c&quot;).build();
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;, &quot;c&quot;)), multiset);
  }

  public void testBuilderAddAll() {
    List&lt;String&gt; a = asList(&quot;a&quot;, &quot;b&quot;);
    List&lt;String&gt; b = asList(&quot;c&quot;, &quot;d&quot;);
    ImmutableMultiset&lt;String&gt; multiset =
        new ImmutableMultiset.Builder&lt;String&gt;().addAll(a).addAll(b).build();
<A NAME="20"></A>    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;)), multiset);
  }

  public void testBuilderAddAllHashMultiset() <FONT color="#4e9258"><A HREF="javascript:ZweiFrames('match58746-1.html#20',3,'match58746-top.html#20',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>{
    Multiset&lt;String&gt; a = HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;b&quot;));
    Multiset&lt;String&gt; b = HashMultiset.create(asList(&quot;c&quot;, &quot;b&quot;));
    ImmutableMultiset&lt;String&gt; multiset =
        new ImmutableMultiset.Builder&lt;String&gt;().addAll(a).addAll</B></FONT>(b).build();
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;c&quot;)), multiset);
  }

  public void testBuilderAddAllImmutableMultiset() {
    Multiset&lt;String&gt; a = ImmutableMultiset.of(&quot;a&quot;, &quot;b&quot;, &quot;b&quot;);
    Multiset&lt;String&gt; b = ImmutableMultiset.of(&quot;c&quot;, &quot;b&quot;);
    ImmutableMultiset&lt;String&gt; multiset =
        new ImmutableMultiset.Builder&lt;String&gt;().addAll(a).addAll(b).build();
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;c&quot;)), multiset);
  }

  public void testBuilderAddAllTreeMultiset() {
    Multiset&lt;String&gt; a = TreeMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;b&quot;));
    Multiset&lt;String&gt; b = TreeMultiset.create(asList(&quot;c&quot;, &quot;b&quot;));
    ImmutableMultiset&lt;String&gt; multiset =
        new ImmutableMultiset.Builder&lt;String&gt;().addAll(a).addAll(b).build();
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;c&quot;)), multiset);
  }

  public void testBuilderAddAllIterator() {
    Iterator&lt;String&gt; iterator = asList(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;, &quot;c&quot;).iterator();
    ImmutableMultiset&lt;String&gt; multiset =
        new ImmutableMultiset.Builder&lt;String&gt;().addAll(iterator).build();
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;, &quot;c&quot;)), multiset);
  }

  public void testBuilderAddCopies() {
    ImmutableMultiset&lt;String&gt; multiset =
        new ImmutableMultiset.Builder&lt;String&gt;()
            .addCopies(&quot;a&quot;, 2)
            .addCopies(&quot;b&quot;, 3)
            .addCopies(&quot;c&quot;, 0)
            .build();
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;)), multiset);
  }

  public void testBuilderSetCount() {
    ImmutableMultiset&lt;String&gt; multiset =
        new ImmutableMultiset.Builder&lt;String&gt;().add(&quot;a&quot;).setCount(&quot;a&quot;, 2).setCount(&quot;b&quot;, 3).build();
    assertEquals(HashMultiset.create(asList(&quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;)), multiset);
  }
<A NAME="11"></A>
  public void testBuilderAddHandlesNullsCorrectly() {
    ImmutableMultiset.Builder&lt;String&gt; builder = ImmutableMultiset.builder();
    <FONT color="#b041ff"><A HREF="javascript:ZweiFrames('match58746-1.html#11',3,'match58746-top.html#11',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>try {
      builder.add((String) null);
      fail(&quot;expected NullPointerException&quot;);
    } catch (NullPointerException expected) {
    }
  }
<A NAME="19"></A>
  public void testBuilderAddAllHandlesNullsCorrectly() {</B></FONT>
    ImmutableMultiset.Builder&lt;String&gt; builder = ImmutableMultiset.builder();
    <FONT color="#f62817"><A HREF="javascript:ZweiFrames('match58746-1.html#19',3,'match58746-top.html#19',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>try {
      builder.addAll((Collection&lt;String&gt;) null);
      fail(&quot;expected NullPointerException&quot;);
    } catch (NullPointerException expected) {
    }</B></FONT>

    builder = ImmutableMultiset.builder();
    List&lt;String&gt; listWithNulls = asList(&quot;a&quot;, null, &quot;b&quot;);
    try {
      builder.addAll(listWithNulls);
      fail(&quot;expected NullPointerException&quot;);
    } catch (NullPointerException expected) {
    }
<A NAME="10"></A>
    builder = ImmutableMultiset.builder();
    Multiset&lt;String&gt; multisetWithNull = LinkedHashMultiset.create(asList(&quot;a&quot;, null, &quot;b&quot;));
    <FONT color="#ad5910"><A HREF="javascript:ZweiFrames('match58746-1.html#10',3,'match58746-top.html#10',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>try {
      builder.addAll(multisetWithNull);
      fail(&quot;expected NullPointerException&quot;);
    } catch (NullPointerException expected) {
    }
  }
<A NAME="9"></A>
  public void testBuilderAddCopiesHandlesNullsCorrectly() {</B></FONT>
    ImmutableMultiset.Builder&lt;String&gt; builder = ImmutableMultiset.builder();
    <FONT color="#83a33a"><A HREF="javascript:ZweiFrames('match58746-1.html#9',3,'match58746-top.html#9',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>try {
      builder.addCopies(null, 2);
      fail(&quot;expected NullPointerException&quot;);
    } catch (NullPointerException expected) {
    }
  }
<A NAME="8"></A>
  public void testBuilderAddCopiesIllegal() {</B></FONT>
    ImmutableMultiset.Builder&lt;String&gt; builder = ImmutableMultiset.builder();
    <FONT color="#c58917"><A HREF="javascript:ZweiFrames('match58746-1.html#8',3,'match58746-top.html#8',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>try {
      builder.addCopies(&quot;a&quot;, -2);
      fail(&quot;expected IllegalArgumentException&quot;);
    } catch (IllegalArgumentException expected) {
    }
  }

<A NAME="15"></A>  public void testBuilderSetCountHandlesNullsCorrectly() {</B></FONT>
    ImmutableMultiset.Builder&lt;String&gt; builder = ImmutableMultiset.builder();
    try {
      <FONT color="#f52887"><A HREF="javascript:ZweiFrames('match58746-1.html#15',3,'match58746-top.html#15',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>builder.setCount(null, 2);
      fail(&quot;expected NullPointerException&quot;);
    } catch (NullPointerException expected) {
    }
  }

  public void testBuilderSetCountIllegal() {</B></FONT>
<A NAME="18"></A>    ImmutableMultiset.Builder&lt;String&gt; builder = ImmutableMultiset.builder();
    try {
      builder.setCount(&quot;a&quot;, -2);
      <FONT color="#800517"><A HREF="javascript:ZweiFrames('match58746-1.html#18',3,'match58746-top.html#18',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>fail(&quot;expected IllegalArgumentException&quot;);
    } catch (IllegalArgumentException expected) {
    }
  }

  @GwtIncompatible</B></FONT> // NullPointerTester
  public void testNullPointers() {
    NullPointerTester tester = new NullPointerTester();
    tester.testAllPublicStaticMethods(ImmutableMultiset.class);
  }

  @GwtIncompatible // SerializableTester
  public void testSerialization_empty() {
    Collection&lt;String&gt; c = ImmutableMultiset.of();
    assertSame(c, SerializableTester.reserialize(c));
  }

<A NAME="22"></A>  @GwtIncompatible // SerializableTester
  public void testSerialization_multiple() {
    Collection&lt;String&gt; c = ImmutableMultiset.of(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;);
    Collection&lt;String&gt; copy = <FONT color="#4cc417"><A HREF="javascript:ZweiFrames('match58746-1.html#22',3,'match58746-top.html#22',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>SerializableTester.reserializeAndAssert(c);
    assertThat(copy).containsExactly(&quot;a&quot;, &quot;a&quot;, &quot;b&quot;).inOrder();
  }

<A NAME="16"></A>  @GwtIncompatible // SerializableTester
  public void testSerialization_elementSet() {</B></FONT>
    Multiset&lt;String&gt; c = ImmutableMultiset.of(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;);
    Collection&lt;String&gt; copy = <FONT color="#2981b2"><A HREF="javascript:ZweiFrames('match58746-1.html#16',3,'match58746-top.html#16',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>LenientSerializableTester.reserializeAndAssertLenient(c.elementSet());
    assertThat(copy).containsExactly(&quot;a&quot;, &quot;b&quot;).inOrder();
  }

  @GwtIncompatible // SerializableTester
  public void testSerialization_entrySet() {
    Multiset&lt;String&gt; c = ImmutableMultiset.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)</B></FONT>;
    SerializableTester.reserializeAndAssert(c.entrySet());
  }

<A NAME="0"></A>  public void testEquals_immutableMultiset() {
    Collection&lt;String&gt; c = ImmutableMultiset.of(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;);
    assertEquals(c, ImmutableMultiset.of(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;));
    assertEquals(c, <FONT color="#0000ff"><A HREF="javascript:ZweiFrames('match58746-1.html#0',3,'match58746-top.html#0',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>ImmutableMultiset.of(&quot;a&quot;, &quot;a&quot;, &quot;b&quot;));
    assertThat(c).isNotEqualTo(ImmutableMultiset.of(&quot;a&quot;, &quot;b&quot;));
    assertThat(c).isNotEqualTo(ImmutableMultiset.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;));
  }

  public void testIterationOrder() {
    Collection&lt;String&gt; c = ImmutableMultiset.of(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;);
    assertThat(c).containsExactly(&quot;a&quot;, &quot;a&quot;, &quot;b&quot;).inOrder();
    assertThat(ImmutableMultiset.of</B></FONT>(&quot;c&quot;, &quot;b&quot;, &quot;a&quot;, &quot;c&quot;).elementSet())
        .containsExactly(&quot;c&quot;, &quot;b&quot;, &quot;a&quot;)
        .inOrder();
  }

  public void testMultisetWrites() {
    Multiset&lt;String&gt; multiset = ImmutableMultiset.of(&quot;a&quot;, &quot;b&quot;, &quot;a&quot;);
    UnmodifiableCollectionTests.assertMultisetIsUnmodifiable(multiset, &quot;test&quot;);
  }

  public void testAsList() {
    ImmutableMultiset&lt;String&gt; multiset = ImmutableMultiset.of(&quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;);
<A NAME="3"></A>    ImmutableList&lt;String&gt; list = multiset.asList();
    assertEquals(ImmutableList.of(&quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;), list);
    assertEquals(2, list.indexOf(&quot;b&quot;));
    <FONT color="#53858b"><A HREF="javascript:ZweiFrames('match58746-1.html#3',3,'match58746-top.html#3',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>assertEquals(4, list.lastIndexOf(&quot;b&quot;));
  }

  @GwtIncompatible // SerializableTester
  public void testSerialization_asList() {
    ImmutableMultiset&lt;String&gt; multiset = ImmutableMultiset.of(&quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;);
    SerializableTester.reserializeAndAssert(multiset.asList());
  }
<A NAME="7"></A>
  public void testEquals() {
    new EqualsTester()</B></FONT>
        .addEqualityGroup(<FONT color="#38a4a5"><A HREF="javascript:ZweiFrames('match58746-1.html#7',3,'match58746-top.html#7',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>ImmutableMultiset.of(), ImmutableMultiset.of())
        .addEqualityGroup(ImmutableMultiset.of(1), ImmutableMultiset.of(1))
        .addEqualityGroup(ImmutableMultiset.of(1, 1), ImmutableMultiset.of(1, 1))
        .addEqualityGroup(ImmutableMultiset.of(1, 2, 1), ImmutableMultiset.of(2, 1, 1))
        .testEquals();
  }

  public void testIterationOrderThroughBuilderRemovals() {
    ImmutableMultiset.Builder&lt;String&gt; builder = ImmutableMultiset.builder</B></FONT>();
<A NAME="2"></A>    builder.addCopies(&quot;a&quot;, 2);
    builder.add(&quot;b&quot;);
    builder.add(&quot;c&quot;);
    <FONT color="#980517"><A HREF="javascript:ZweiFrames('match58746-1.html#2',3,'match58746-top.html#2',1)"><IMG SRC="forward.gif" ALT="other" BORDER="0" ALIGN="right"></A><B>builder.setCount(&quot;b&quot;, 0);
    ImmutableMultiset&lt;String&gt; multiset = builder.build();
    assertThat(multiset.elementSet()).containsExactly(&quot;a&quot;, &quot;c&quot;).inOrder();
    builder.add(&quot;b&quot;);
    assertThat(builder.build().elementSet()).containsExactly(&quot;a&quot;, &quot;c&quot;, &quot;b&quot;).inOrder();
    assertThat(multiset.elementSet</B></FONT>()).containsExactly(&quot;a&quot;, &quot;c&quot;).inOrder();
  }
}
</PRE>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>IntsTest_1.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<HR>
<PRE>
/*
 * Copyright (C) 2008 The Guava Authors
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
<A NAME="6"></A>
package com.google.common.primitives;

<FONT color="#8c8774"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#6',2,'match58746-top.html#6',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>import com.google.common.annotations.GwtCompatible;
import com.google.common.annotations.GwtIncompatible;
import com.google.common.base.Converter;
import com.google.common.collect.testing.Helpers;
import com.google.common.testing.NullPointerTester;
import com.google.common.testing.SerializableTester;
import java.util.Arrays;
import java.util.Collection;
import java.util.Collections;
import java.util.Comparator;
import java.util.List;
import java.util.Random;
import junit.framework.TestCase;

/**
 * Unit test for {@link Ints}.
 *
 * @author Kevin Bourrillion
 */
@GwtCompatible(e</B></FONT>mulated = true)
@SuppressWarnings(&quot;cast&quot;) // redundant casts are intentional and harmless
public class IntsTest extends TestCase {
  private static final int[] EMPTY = {};
  private static final int[] ARRAY1 = {(int) 1};
  private static final int[] ARRAY234 = {(int) 2, (int) 3, (int) 4};

  private static final int LEAST = Integer.MIN_VALUE;
  private static final int GREATEST = Integer.MAX_VALUE;

  private static final int[] VALUES = {LEAST, (int) -1, (int) 0, (int) 1, GREATEST};

  public void testHashCode() {
    for (int value : VALUES) {
      assertEquals(((Integer) value).hashCode(), Ints.hashCode(value));
    }
  }

  public void testCheckedCast() {
    for (int value : VALUES) {
      assertEquals(value, Ints.checkedCast((long) value));
    }
    assertCastFails(GREATEST + 1L);
    assertCastFails(LEAST - 1L);
    assertCastFails(Long.MAX_VALUE);
    assertCastFails(Long.MIN_VALUE);
  }

  public void testSaturatedCast() {
    for (int value : VALUES) {
      assertEquals(value, Ints.saturatedCast((long) value));
    }
    assertEquals(GREATEST, Ints.saturatedCast(GREATEST + 1L));
    assertEquals(LEAST, Ints.saturatedCast(LEAST - 1L));
    assertEquals(GREATEST, Ints.saturatedCast(Long.MAX_VALUE));
    assertEquals(LEAST, Ints.saturatedCast(Long.MIN_VALUE));
  }

  private static void assertCastFails(long value) {
    try {
      Ints.checkedCast(value);
      fail(&quot;Cast to int should have failed: &quot; + value);
    } catch (IllegalArgumentException ex) {
      assertTrue(
          value + &quot; not found in exception text: &quot; + ex.getMessage(),
          ex.getMessage().contains(String.valueOf(value)));
    }
  }

  public void testCompare() {
    for (int x : VALUES) {
      for (int y : VALUES) {
        // note: spec requires only that the sign is the same
        assertEquals(x + &quot;, &quot; + y, Integer.valueOf(x).compareTo(y), Ints.compare(x, y));
      }
    }
  }

  public void testContains() {
    assertFalse(Ints.contains(EMPTY, (int) 1));
<A NAME="23"></A>    assertFalse(Ints.contains(ARRAY1, (int) 2));
    assertFalse(Ints.contains(ARRAY234, (int) 1));
    assertTrue(Ints.contains(new int[] {(int) -1}, (int) -1));
    assertTrue(<FONT color="#f660ab"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#23',2,'match58746-top.html#23',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>Ints.contains(ARRAY234, (int) 2));
    assertTrue(Ints.contains(ARRAY234, (int) 3));
    assertTrue(Ints.contains(ARRAY234, (int) 4));
  }

  public void testIndexOf() {</B></FONT>
    assertEquals(-1, Ints.indexOf(EMPTY, (int) 1));
    assertEquals(-1, Ints.indexOf(ARRAY1, (int) 2));
    assertEquals(-1, Ints.indexOf(ARRAY234, (int) 1));
    assertEquals(0, Ints.indexOf(new int[] {(int) -1}, (int) -1));
    assertEquals(0, Ints.indexOf(ARRAY234, (int) 2));
    assertEquals(1, Ints.indexOf(ARRAY234, (int) 3));
    assertEquals(2, Ints.indexOf(ARRAY234, (int) 4));
    assertEquals(1, Ints.indexOf(new int[] {(int) 2, (int) 3, (int) 2, (int) 3}, (int) 3));
  }

  public void testIndexOf_arrayTarget() {
    assertEquals(0, Ints.indexOf(EMPTY, EMPTY));
    assertEquals(0, Ints.indexOf(ARRAY234, EMPTY));
    assertEquals(-1, Ints.indexOf(EMPTY, ARRAY234));
    assertEquals(-1, Ints.indexOf(ARRAY234, ARRAY1));
    assertEquals(-1, Ints.indexOf(ARRAY1, ARRAY234));
    assertEquals(0, Ints.indexOf(ARRAY1, ARRAY1));
    assertEquals(0, Ints.indexOf(ARRAY234, ARRAY234));
    assertEquals(0, Ints.indexOf(ARRAY234, new int[] {(int) 2, (int) 3}));
    assertEquals(1, Ints.indexOf(ARRAY234, new int[] {(int) 3, (int) 4}));
    assertEquals(1, Ints.indexOf(ARRAY234, new int[] {(int) 3}));
    assertEquals(2, Ints.indexOf(ARRAY234, new int[] {(int) 4}));
    assertEquals(
        1,
        Ints.indexOf(new int[] {(int) 2, (int) 3, (int) 3, (int) 3, (int) 3}, new int[] {(int) 3}));
    assertEquals(
        2,
        Ints.indexOf(
            new int[] {(int) 2, (int) 3, (int) 2, (int) 3, (int) 4, (int) 2, (int) 3},
            new int[] {(int) 2, (int) 3, (int) 4}));
    assertEquals(
        1,
        Ints.indexOf(
            new int[] {(int) 2, (int) 2, (int) 3, (int) 4, (int) 2, (int) 3, (int) 4},
            new int[] {(int) 2, (int) 3, (int) 4}));
    assertEquals(
        -1,
        Ints.indexOf(new int[] {(int) 4, (int) 3, (int) 2}, new int[] {(int) 2, (int) 3, (int) 4}));
  }

  public void testLastIndexOf() {
    assertEquals(-1, Ints.lastIndexOf(EMPTY, (int) 1));
    assertEquals(-1, Ints.lastIndexOf(ARRAY1, (int) 2));
    assertEquals(-1, Ints.lastIndexOf(ARRAY234, (int) 1));
    assertEquals(0, Ints.lastIndexOf(new int[] {(int) -1}, (int) -1));
    assertEquals(0, Ints.lastIndexOf(ARRAY234, (int) 2));
    assertEquals(1, Ints.lastIndexOf(ARRAY234, (int) 3));
    assertEquals(2, Ints.lastIndexOf(ARRAY234, (int) 4));
    assertEquals(3, Ints.lastIndexOf(new int[] {(int) 2, (int) 3, (int) 2, (int) 3}, (int) 3));
  }
<A NAME="13"></A>
  @GwtIncompatible
  public void testMax_noArgs() {
    <FONT color="#3b9c9c"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#13',2,'match58746-top.html#13',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>try {
      Ints.max();
      fail();
    } catch (IllegalArgumentException expected) {
    }
  }
<A NAME="22"></A>
  public void testMax() {</B></FONT>
    assertEquals(LEAST, Ints.max(LEAST));
    <FONT color="#4cc417"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#22',2,'match58746-top.html#22',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>assertEquals(GREATEST, Ints.max(GREATEST));
    assertEquals((int) 9, Ints.max((int) 8, (int) 6, (int) 7, (int) 5, (int) 3, (int) 0, (int) 9));
  }
<A NAME="11"></A>
  @GwtIncompatible
  public void testMin_noArgs() {</B></FONT>
    <FONT color="#b041ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#11',2,'match58746-top.html#11',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>try {
      Ints.min();
      fail();
    } catch (IllegalArgumentException expected) {
    }
  }

  public void testMin() {</B></FONT>
    assertEquals(LEAST, Ints.min(LEAST));
    assertEquals(GREATEST, Ints.min(GREATEST));
    assertEquals((int) 0, Ints.min((int) 8, (int) 6, (int) 7, (int) 5, (int) 3, (int) 0, (int) 9));
  }

  public void testConstrainToRange() {
    assertEquals((int) 1, Ints.constrainToRange((int) 1, (int) 0, (int) 5));
<A NAME="4"></A>    assertEquals((int) 1, Ints.constrainToRange((int) 1, (int) 1, (int) 5));
    assertEquals((int) 3, Ints.constrainToRange((int) 1, (int) 3, (int) 5));
    assertEquals((int) -1, Ints.constrainToRange((int) 0, (int) -5, (int) -1));
    <FONT color="#6cc417"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#4',2,'match58746-top.html#4',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>assertEquals((int) 2, Ints.constrainToRange((int) 5, (int) 2, (int) 2));
    try {
      Ints.constrainToRange((int) 1, (int) 3, (int) 2);
      fail();
    } catch (IllegalArgumentException expected) {
    }
  }

  public void testConcat() {</B></FONT>
    assertTrue(Arrays.equals(EMPTY, Ints.concat()));
    assertTrue(Arrays.equals(EMPTY, Ints.concat(EMPTY)));
    assertTrue(Arrays.equals(EMPTY, Ints.concat(EMPTY, EMPTY, EMPTY)));
    assertTrue(Arrays.equals(ARRAY1, Ints.concat(ARRAY1)));
    assertNotSame(ARRAY1, Ints.concat(ARRAY1));
    assertTrue(Arrays.equals(ARRAY1, Ints.concat(EMPTY, ARRAY1, EMPTY)));
    assertTrue(
        Arrays.equals(new int[] {(int) 1, (int) 1, (int) 1}, Ints.concat(ARRAY1, ARRAY1, ARRAY1)));
    assertTrue(
        Arrays.equals(
            new int[] {(int) 1, (int) 2, (int) 3, (int) 4}, Ints.concat(ARRAY1, ARRAY234)));
  }

  public void testToByteArray() {
    assertTrue(Arrays.equals(new byte[] {0x12, 0x13, 0x14, 0x15}, Ints.toByteArray(0x12131415)));
    assertTrue(
        Arrays.equals(
            new byte[] {(byte) 0xFF, (byte) 0xEE, (byte) 0xDD, (byte) 0xCC},
            Ints.toByteArray(0xFFEEDDCC)));
  }

  public void testFromByteArray() {
    assertEquals(0x12131415, Ints.fromByteArray(new byte[] {0x12, 0x13, 0x14, 0x15, 0x33}));
    assertEquals(
        0xFFEEDDCC,
        Ints.fromByteArray(new byte[] {(byte) 0xFF, (byte) 0xEE, (byte) 0xDD, (byte) 0xCC}));
  }

<A NAME="18"></A>  public void testFromByteArrayFails() {
    try {
      Ints.fromByteArray(new byte[Ints.BYTES - 1]);
      <FONT color="#800517"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#18',2,'match58746-top.html#18',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>fail();
    } catch (IllegalArgumentException expected) {
    }
<A NAME="24"></A>  }

  public void t</B></FONT>estFromBytes() {
    <FONT color="#79764d"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#24',2,'match58746-top.html#24',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>assertEquals(0x12131415, Ints.fromBytes((byte) 0x12, (byte) 0x13, (byte) 0x14, (byte) 0x15));
    assertEquals(0xFFEEDDCC, Ints.fromBytes((byte) 0xFF, (byte) 0xEE, (byte) 0xDD, (byte) 0xCC));
  }

  public void testByteArrayRoundTrips() {
    Random r = new Random(5)</B></FONT>;
    byte[] b = new byte[Ints.BYTES];

    // total overkill, but, it takes 0.1 sec so why not...
    for (int i = 0; i &lt; 10000; i++) {
      int num = r.nextInt();
      assertEquals(num, Ints.fromByteArray(Ints.toByteArray(num)));

      r.nextBytes(b);
      assertTrue(Arrays.equals(b, Ints.toByteArray(Ints.fromByteArray(b))));
    }
  }

  public void testEnsureCapacity() {
    assertSame(EMPTY, Ints.ensureCapacity(EMPTY, 0, 1));
    assertSame(ARRAY1, Ints.ensureCapacity(ARRAY1, 0, 1));
    assertSame(ARRAY1, Ints.ensureCapacity(ARRAY1, 1, 1));
    assertTrue(
        Arrays.equals(new int[] {(int) 1, (int) 0, (int) 0}, Ints.ensureCapacity(ARRAY1, 2, 1)));
<A NAME="19"></A>  }

  public void testEnsureCapacity_fail() {
    <FONT color="#f62817"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#19',2,'match58746-top.html#19',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>try {
      Ints.ensureCapacity(ARRAY1, -1, 1);
<A NAME="10"></A>      fail();
    } catch (IllegalArgumentException expected) {
    }</B></FONT>
    <FONT color="#ad5910"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#10',2,'match58746-top.html#10',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>try {
      // notice that this should even fail when no growth was needed
      Ints.ensureCapacity(ARRAY1, 1, -1);
      fail();
    } catch (IllegalArgumentException expected) {
    }
<A NAME="7"></A>  }

  public void testJoin() {</B></FONT>
    <FONT color="#38a4a5"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#7',2,'match58746-top.html#7',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>assertEquals(&quot;&quot;, Ints.join(&quot;,&quot;, EMPTY));
    assertEquals(&quot;1&quot;, Ints.join(&quot;,&quot;, ARRAY1));
    assertEquals(&quot;1,2&quot;, Ints.join(&quot;,&quot;, (int) 1, (int) 2));
    assertEquals(&quot;123&quot;, Ints.join(&quot;&quot;, (int) 1, (int) 2, (int) 3));
  }

  public void testLexicographicalComparator() {
    List&lt;int[]&gt; ordered =
        Arrays.asList</B></FONT>(
            new int[] {},
            new int[] {LEAST},
            new int[] {LEAST, LEAST},
            new int[] {LEAST, (int) 1},
            new int[] {(int) 1},
            new int[] {(int) 1, LEAST},
            new int[] {GREATEST, GREATEST - (int) 1},
<A NAME="3"></A>            new int[] {GREATEST, GREATEST},
            new int[] {GREATEST, GREATEST, GREATEST});

    Comparator&lt;int[]&gt; comparator = <FONT color="#53858b"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#3',2,'match58746-top.html#3',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>Ints.lexicographicalComparator();
    Helpers.testComparator(comparator, ordered);
  }

  @GwtIncompatible // SerializableTester
  public void testLexicographicalComparatorSerializable() {
    Comparator&lt;int[]&gt; comparator = Ints.lexicographicalComparator();
    assertSame(comparator, SerializableTester.reserialize(comparator));
  }

  public void testReverse() {
    testReverse</B></FONT>(new int[] {}, new int[] {});
    testReverse(new int[] {1}, new int[] {1});
    testReverse(new int[] {1, 2}, new int[] {2, 1});
    testReverse(new int[] {3, 1, 1}, new int[] {1, 1, 3});
    testReverse(new int[] {-1, 1, -2, 2}, new int[] {2, -2, 1, -1});
  }

  private static void testReverse(int[] input, int[] expectedOutput) {
    input = Arrays.copyOf(input, input.length);
    Ints.reverse(input);
    assertTrue(Arrays.equals(expectedOutput, input));
  }

  private static void testReverse(int[] input, int fromIndex, int toIndex, int[] expectedOutput) {
    input = Arrays.copyOf(input, input.length);
    Ints.reverse(input, fromIndex, toIndex);
    assertTrue(Arrays.equals(expectedOutput, input));
  }

  public void testReverseIndexed() {
    testReverse(new int[] {}, 0, 0, new int[] {});
    testReverse(new int[] {1}, 0, 1, new int[] {1});
    testReverse(new int[] {1, 2}, 0, 2, new int[] {2, 1});
    testReverse(new int[] {3, 1, 1}, 0, 2, new int[] {1, 3, 1});
    testReverse(new int[] {3, 1, 1}, 0, 1, new int[] {3, 1, 1});
    testReverse(new int[] {-1, 1, -2, 2}, 1, 3, new int[] {-1, -2, 1, 2});
  }

  public void testSortDescending() {
    testSortDescending(new int[] {}, new int[] {});
    testSortDescending(new int[] {1}, new int[] {1});
    testSortDescending(new int[] {1, 2}, new int[] {2, 1});
    testSortDescending(new int[] {1, 3, 1}, new int[] {3, 1, 1});
    testSortDescending(new int[] {-1, 1, -2, 2}, new int[] {2, 1, -1, -2});
  }

  private static void testSortDescending(int[] input, int[] expectedOutput) {
    input = Arrays.copyOf(input, input.length);
    Ints.sortDescending(input);
    assertTrue(Arrays.equals(expectedOutput, input));
  }

  private static void testSortDescending(
      int[] input, int fromIndex, int toIndex, int[] expectedOutput) {
    input = Arrays.copyOf(input, input.length);
    Ints.sortDescending(input, fromIndex, toIndex);
    assertTrue(Arrays.equals(expectedOutput, input));
  }

  public void testSortDescendingIndexed() {
    testSortDescending(new int[] {}, 0, 0, new int[] {});
    testSortDescending(new int[] {1}, 0, 1, new int[] {1});
    testSortDescending(new int[] {1, 2}, 0, 2, new int[] {2, 1});
    testSortDescending(new int[] {1, 3, 1}, 0, 2, new int[] {3, 1, 1});
    testSortDescending(new int[] {1, 3, 1}, 0, 1, new int[] {1, 3, 1});
    testSortDescending(new int[] {-1, -2, 1, 2}, 1, 3, new int[] {-1, 1, -2, 2});
  }
<A NAME="17"></A>
  @GwtIncompatible // SerializableTester
  public void testStringConverterSerialization() {
    <FONT color="#3090c7"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#17',2,'match58746-top.html#17',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>SerializableTester.reserializeAndAssert(Ints.stringConverter());
  }

  public void testToArray() {
    // need explicit type parameter to avoid javac warning!?
    List&lt;Integer&gt; none = Arrays.&lt;Integer&gt;asList();
    assertTrue(Arrays.equals(EMPTY, Ints.toArray</B></FONT>(none)));

    List&lt;Integer&gt; one = Arrays.asList((int) 1);
    assertTrue(Arrays.equals(ARRAY1, Ints.toArray(one)));

    int[] array = {(int) 0, (int) 1, (int) 0xdeadbeef};

    List&lt;Integer&gt; three = Arrays.asList((int) 0, (int) 1, (int) 0xdeadbeef);
    assertTrue(Arrays.equals(array, Ints.toArray(three)));

    assertTrue(Arrays.equals(array, Ints.toArray(Ints.asList(array))));
  }
<A NAME="20"></A>
  public void testToArray_threadSafe() {
    for (int delta : new int[] {+1, 0, -1}) {
      for (int i = 0; i &lt; VALUES.length; i++) <FONT color="#4e9258"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#20',2,'match58746-top.html#20',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>{
        List&lt;Integer&gt; list = Ints.asList(VALUES).subList(0, i);
        Collection&lt;Integer&gt; misleadingSize = Helpers.misleadingSizeCollection(delta);
        misleadingSize.addAll(list);
        int[] arr = Ints.toArray(misleadingSize);
        assertEquals</B></FONT>(i, arr.length);
        for (int j = 0; j &lt; i; j++) {
          assertEquals(VALUES[j], arr[j]);
<A NAME="1"></A>        }
      }
    }
  <FONT color="#f63526"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#1',2,'match58746-top.html#1',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>}

  public void testToArray_withNull() {
    List&lt;Integer&gt; list = Arrays.asList((int) 0, (int) 1, null);
    try {
      Ints.toArray(list);
      fail();
    } catch (NullPointerException expected) {
    }
  }

  public void testToArray_withConversion() {
    int[] array = {0, 1, 2}</B></FONT>;

    List&lt;Byte&gt; bytes = Arrays.asList((byte) 0, (byte) 1, (byte) 2);
<A NAME="2"></A>    List&lt;Short&gt; shorts = Arrays.asList((short) 0, (short) 1, (short) 2);
    List&lt;Integer&gt; ints = Arrays.asList(0, 1, 2);
    List&lt;Float&gt; floats = Arrays.asList((float) 0, (float) 1, (float) 2);
    List&lt;Long&gt; longs = <FONT color="#980517"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#2',2,'match58746-top.html#2',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>Arrays.asList((long) 0, (long) 1, (long) 2);
    List&lt;Double&gt; doubles = Arrays.asList((double) 0, (double) 1, (double) 2);

    assertTrue(Arrays.equals(array, Ints.toArray(bytes)));
    assertTrue(Arrays.equals(array, Ints.toArray(shorts)));
<A NAME="5"></A>    assertTrue(Arrays.equals(array, Ints.toArray(ints)));
    assertTrue(Arrays.equals(array, Ints.toArray(floats)));
    assertTrue(Arrays.equals</B></FONT>(array, Ints.toArray(longs)));
    <FONT color="#151b8d"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#5',2,'match58746-top.html#5',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>assertTrue(Arrays.equals(array, Ints.toArray(doubles)));
  }

  public void testAsList_isAView() {
    int[] array = {(int) 0, (int) 1};
    List&lt;Integer&gt; list = Ints.asList(array);
    list.set(0, (int) 2);
<A NAME="14"></A>    assertTrue(Arrays.equals</B></FONT>(new int[] {(int) 2, (int) 1}, array));
    array[1] = (int) 3;
    assertEquals(Arrays.asList((int) 2, (int) 3), list);
  <FONT color="#842dce"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#14',2,'match58746-top.html#14',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>}

  public void testAsList_toArray_roundTrip() {
    int[] array = {(int) 0, (int) 1, (int) 2};
    List&lt;Integer&gt; list = Ints.asList(array);
    int[] newArray = Ints.toArray(list);

    // Make sure it returned a copy
    list.set(0, (int) 4);
    assertTrue</B></FONT>(Arrays.equals(new int[] {(int) 0, (int) 1, (int) 2}, newArray));
    newArray[1] = (int) 5;
    assertEquals((int) 1, (int) list.get(1));
  }

  // This test stems from a real bug found by andrewk
  public void testAsList_subList_toArray_roundTrip() {
    int[] array = {(int) 0, (int) 1, (int) 2, (int) 3};
    List&lt;Integer&gt; list = Ints.asList(array);
    assertTrue(Arrays.equals(new int[] {(int) 1, (int) 2}, Ints.toArray(list.subList(1, 3))));
    assertTrue(Arrays.equals(new int[] {}, Ints.toArray(list.subList(2, 2))));
  }

  public void testAsListEmpty() {
    assertSame(Collections.emptyList(), Ints.asList(EMPTY));
  }

<A NAME="21"></A>  @GwtIncompatible // NullPointerTester
  public void testNulls() {
    new NullPointerTester().testAllPublicStaticMethods(Ints.class);
  <FONT color="#947010"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#21',2,'match58746-top.html#21',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>}

  public void testStringConverter_convert() {
    Converter&lt;String, Integer&gt; converter = Ints.stringConverter();
    assertEquals((Integer) 1, converter.convert(&quot;1&quot;));
    assertEquals((Integer) 0, converter.convert</B></FONT>(&quot;0&quot;));
    assertEquals((Integer) (-1), converter.convert(&quot;-1&quot;));
    assertEquals((Integer) 255, converter.convert(&quot;0xff&quot;));
    assertEquals((Integer) 255, converter.convert(&quot;0xFF&quot;));
    assertEquals((Integer) (-255), converter.convert(&quot;-0xFF&quot;));
    assertEquals((Integer) 255, converter.convert(&quot;#0000FF&quot;));
    assertEquals((Integer) 438, converter.convert(&quot;0666&quot;));
  }
<A NAME="15"></A>
  public void testStringConverter_convertError() {
    try {
      <FONT color="#f52887"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#15',2,'match58746-top.html#15',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>Ints.stringConverter().convert(&quot;notanumber&quot;);
      fail();
    } catch (NumberFormatException expected) {
    }
<A NAME="0"></A>  }

  public void testStringConverter_nullConversions() {</B></FONT>
    <FONT color="#0000ff"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#0',2,'match58746-top.html#0',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>assertNull(Ints.stringConverter().convert(null));
    assertNull(Ints.stringConverter().reverse().convert(null));
  }

  public void testStringConverter_reverse() {
    Converter&lt;String, Integer&gt; converter = Ints.stringConverter();
    assertEquals(&quot;1&quot;, converter.reverse().convert(1));
    assertEquals(&quot;0&quot;, converter.reverse().convert(0));
<A NAME="16"></A>    assertEquals(&quot;-1&quot;, converter.reverse().convert</B></FONT>(-1));
    assertEquals(&quot;255&quot;, converter.reverse().convert(0xff));
    assertEquals(&quot;255&quot;, converter.reverse().convert(0xFF));
    assertEquals(&quot;-255&quot;, <FONT color="#2981b2"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#16',2,'match58746-top.html#16',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>converter.reverse().convert(-0xFF));
    assertEquals(&quot;438&quot;, converter.reverse().convert(0666));
  }

  @GwtIncompatible // NullPointerTester
  public void testStringConverter_nullPointerTester() throws Exception {
    NullPointerTester tester = new NullPointerTester()</B></FONT>;
    tester.testAllPublicInstanceMethods(Ints.stringConverter());
  }

  public void testTryParse() {
    tryParseAndAssertEquals(0, &quot;0&quot;);
    tryParseAndAssertEquals(0, &quot;-0&quot;);
    tryParseAndAssertEquals(1, &quot;1&quot;);
    tryParseAndAssertEquals(-1, &quot;-1&quot;);
    tryParseAndAssertEquals(8900, &quot;8900&quot;);
    tryParseAndAssertEquals(-8900, &quot;-8900&quot;);
    tryParseAndAssertEquals(GREATEST, Integer.toString(GREATEST));
    tryParseAndAssertEquals(LEAST, Integer.toString(LEAST));
    assertNull(Ints.tryParse(&quot;&quot;));
    assertNull(Ints.tryParse(&quot;-&quot;));
    assertNull(Ints.tryParse(&quot;+1&quot;));
    assertNull(Ints.tryParse(&quot;9999999999999999&quot;));
    assertNull(&quot;Max integer + 1&quot;, Ints.tryParse(Long.toString(((long) GREATEST) + 1)));
    assertNull(&quot;Max integer * 10&quot;, Ints.tryParse(Long.toString(((long) GREATEST) * 10)));
    assertNull(&quot;Min integer - 1&quot;, Ints.tryParse(Long.toString(((long) LEAST) - 1)));
    assertNull(&quot;Min integer * 10&quot;, Ints.tryParse(Long.toString(((long) LEAST) * 10)));
    assertNull(&quot;Max long&quot;, Ints.tryParse(Long.toString(Long.MAX_VALUE)));
    assertNull(&quot;Min long&quot;, Ints.tryParse(Long.toString(Long.MIN_VALUE)));
    assertNull(Ints.tryParse(&quot;\u0662\u06f3&quot;));
  }

  /**
   * Applies {@link Ints#tryParse(String)} to the given string and asserts that the result is as
   * expected.
   */
  private static void tryParseAndAssertEquals(Integer expected, String value) {
    assertEquals(expected, Ints.tryParse(value));
  }

  public void testTryParse_radix() {
    for (int radix = Character.MIN_RADIX; radix &lt;= Character.MAX_RADIX; radix++) {
      radixEncodeParseAndAssertEquals(0, radix);
      radixEncodeParseAndAssertEquals(8000, radix);
      radixEncodeParseAndAssertEquals(-8000, radix);
      radixEncodeParseAndAssertEquals(GREATEST, radix);
      radixEncodeParseAndAssertEquals(LEAST, radix);
      assertNull(&quot;Radix: &quot; + radix, Ints.tryParse(&quot;9999999999999999&quot;, radix));
      assertNull(
          &quot;Radix: &quot; + radix, Ints.tryParse(Long.toString((long) GREATEST + 1, radix), radix));
      assertNull(&quot;Radix: &quot; + radix, Ints.tryParse(Long.toString((long) LEAST - 1, radix), radix));
    }
    assertNull(&quot;Hex string and dec parm&quot;, Ints.tryParse(&quot;FFFF&quot;, 10));
    assertEquals(&quot;Mixed hex case&quot;, 65535, (int) Ints.tryParse(&quot;ffFF&quot;, 16));
  }

  /**
   * Encodes the an integer as a string with given radix, then uses {@link Ints#tryParse(String,
   * int)} to parse the result. Asserts the result is the same as what we started with.
   */
  private static void radixEncodeParseAndAssertEquals(Integer value, int radix) {
    assertEquals(&quot;Radix: &quot; + radix, value, Ints.tryParse(Integer.toString(value, radix), radix));
<A NAME="9"></A>  }

  public void testTryParse_radixTooBig() {
    <FONT color="#83a33a"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#9',2,'match58746-top.html#9',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>try {
      Ints.tryParse(&quot;0&quot;, Character.MAX_RADIX + 1);
      fail();
    } catch (IllegalArgumentException expected) {
    }
<A NAME="8"></A>  }

  public void testTryParse_radixTooSmall() {</B></FONT>
    <FONT color="#c58917"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#8',2,'match58746-top.html#8',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>try {
      Ints.tryParse(&quot;0&quot;, Character.MIN_RADIX - 1);
      fail();
    } catch (IllegalArgumentException expected) {
    }
<A NAME="12"></A>  }

  public void testTryParse_withNullGwt() {</B></FONT>
    <FONT color="#571b7e"><div style="position:absolute;left:0"><A HREF="javascript:ZweiFrames('match58746-0.html#12',2,'match58746-top.html#12',1)"><IMG SRC="back.gif" ALT="other" BORDER="0" ALIGN="left"></A></div><B>assertNull(Ints.tryParse(&quot;null&quot;));
    try {
      Ints.tryParse(null);
      fail(&quot;Expected NPE&quot;);
    } catch (NullPointerException expected) {
    }
  }</B></FONT>
}
</PRE>
</div>
  </div>
</body>
</html>
