<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for CompactLinkedHashMapTest.java &amp; ImmutableSortedMultisetTest.java</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for CompactLinkedHashMapTest.java &amp; ImmutableSortedMultisetTest.java
      </h3>
<h1 align="center">
        32.1%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>CompactLinkedHashMapTest.java (76.447876%)<th>ImmutableSortedMultisetTest.java (20.39135%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(173-185)<td><a href="#" name="0">(459-481)</a><td align="center"><font color="#ff0000">23</font>
<tr onclick='openModal("#f63526")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#f63526"><font color="#f63526">-</font><td><a href="#" name="1">(17-40)<td><a href="#" name="1">(36-60)</a><td align="center"><font color="#f30000">22</font>
<tr onclick='openModal("#980517")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#980517"><font color="#980517">-</font><td><a href="#" name="2">(128-145)<td><a href="#" name="2">(327-339)</a><td align="center"><font color="#e80000">21</font>
<tr onclick='openModal("#53858b")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#53858b"><font color="#53858b">-</font><td><a href="#" name="3">(89-104)<td><a href="#" name="3">(360-372)</a><td align="center"><font color="#d20000">19</font>
<tr onclick='openModal("#6cc417")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#6cc417"><font color="#6cc417">-</font><td><a href="#" name="4">(108-121)<td><a href="#" name="4">(535-542)</a><td align="center"><font color="#b10000">16</font>
<tr onclick='openModal("#151b8d")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#151b8d"><font color="#151b8d">-</font><td><a href="#" name="5">(49-66)<td><a href="#" name="5">(90-104)</a><td align="center"><font color="#b10000">16</font>
<tr onclick='openModal("#8c8774")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#8c8774"><font color="#8c8774">-</font><td><a href="#" name="6">(152-158)<td><a href="#" name="6">(350-355)</a><td align="center"><font color="#a60000">15</font>
<tr onclick='openModal("#38a4a5")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#38a4a5"><font color="#38a4a5">-</font><td><a href="#" name="7">(187-194)<td><a href="#" name="7">(483-488)</a><td align="center"><font color="#9b0000">14</font>
<tr onclick='openModal("#c58917")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#c58917"><font color="#c58917">-</font><td><a href="#" name="8">(167-172)<td><a href="#" name="8">(321-325)</a><td align="center"><font color="#790000">11</font>
<tr onclick='openModal("#83a33a")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#83a33a"><font color="#83a33a">-</font><td><a href="#" name="9">(145-152)<td><a href="#" name="9">(377-385)</a><td align="center"><font color="#790000">11</font>
<tr onclick='openModal("#ad5910")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#ad5910"><font color="#ad5910">-</font><td><a href="#" name="10">(44-48)<td><a href="#" name="10">(105-111)</a><td align="center"><font color="#790000">11</font>
<tr onclick='openModal("#b041ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#b041ff"><font color="#b041ff">-</font><td><a href="#" name="11">(195-200)<td><a href="#" name="11">(551-556)</a><td align="center"><font color="#6e0000">10</font>
<tr onclick='openModal("#571b7e")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#571b7e"><font color="#571b7e">-</font><td><a href="#" name="12">(162-166)<td><a href="#" name="12">(345-348)</a><td align="center"><font color="#630000">9</font>
</td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>CompactLinkedHashMapTest.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 <a name="1"></a>
2 package com.google.common.collect;
3 <font color="#f63526"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>import static com.google.common.truth.Truth.assertThat;
4 import com.google.common.collect.testing.MapTestSuiteBuilder;
5 import com.google.common.collect.testing.TestStringMapGenerator;
6 import com.google.common.collect.testing.features.CollectionFeature;
7 import com.google.common.collect.testing.features.CollectionSize;
8 import com.google.common.collect.testing.features.MapFeature;
9 import java.util.List;
10 import java.util.Map;
11 import java.util.Map.Entry;
12 import junit.framework.Test;
13 import junit.framework.TestCase;
14 import junit.framework.TestSuite;
15 public class CompactLinkedHashMapTest extends TestCase {
16   public static Test suite() {
17     TestSuite suite = new TestSuite();
18     suite.addTest(
19         MapTestSuiteBuilder.using</b></font>(
20 <a name="10"></a>                new TestStringMapGenerator() {
21                   @Override
22                   protected Map&lt;String, String&gt; create(Entry&lt;String, String&gt;[] entries) {
23                     <font color="#ad5910"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>Map&lt;String, String&gt; map = CompactLinkedHashMap.create();
24                     for (Entry&lt;String, String&gt; entry : entries) {
25 <a name="5"></a>                      map.put(entry.getKey(), entry.getValue());
26                     }
27                     return</b></font> map;
28                   <font color="#151b8d"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>}
29                 })
30             .named("CompactLinkedHashMap")
31             .withFeatures(
32                 CollectionSize.ANY,
33                 CollectionFeature.SUPPORTS_ITERATOR_REMOVE,
34                 MapFeature.GENERAL_PURPOSE,
35                 MapFeature.ALLOWS_NULL_KEYS,
36                 MapFeature.ALLOWS_NULL_VALUES,
37                 CollectionFeature.SERIALIZABLE,
38                 CollectionFeature.KNOWN_ORDER)
39             .createTestSuite());
40     suite.addTest(
41         MapTestSuiteBuilder.using(
42                 new TestStringMapGenerator() {
43                   @Override
44                   protected Map&lt;String, String&gt; create(Entry&lt;String, String&gt;[] entries) {
45                     CompactLinkedHashMap&lt;String, String&gt; map = CompactLinkedHashMap.create</b></font>();
46                     map.convertToHashFloodingResistantImplementation();
47                     for (Entry&lt;String, String&gt; entry : entries) {
48                       map.put(entry.getKey(), entry.getValue());
49                     }
50                     return map;
51                   }
52                 })
53             .named("CompactLinkedHashMap with flooding resistance")
54             .withFeatures(
55                 CollectionSize.ANY,
56                 CollectionFeature.SUPPORTS_ITERATOR_REMOVE,
57                 MapFeature.GENERAL_PURPOSE,
58                 MapFeature.ALLOWS_NULL_KEYS,
59                 MapFeature.ALLOWS_NULL_VALUES,
60                 CollectionFeature.SERIALIZABLE,
61                 CollectionFeature.KNOWN_ORDER)
62             .createTestSuite());
63     suite.addTestSuite(CompactLinkedHashMapTest.class);
64     return suite;
65 <a name="3"></a>  }
66   public void testInsertionOrder() {
67     <font color="#53858b"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>Map&lt;Integer, String&gt; map = CompactLinkedHashMap.create();
68     map.put(1, "a");
69     map.put(4, "b");
70     map.put(3, "d");
71     map.put(2, "c");
72     testHasMapEntriesInOrder(map, 1, "a", 4, "b", 3, "d", 2, "c");
73   }
74   public void testInsertionOrderAfterPutKeyTwice() {
75     Map&lt;Integer, String&gt; map = CompactLinkedHashMap.create();
76     map.put(1, "a");
77     map.put(4, "b");
78     map.put(3, "d");
79     map.put(2, "c");
80     map.put(1, "e");
81     testHasMapEntriesInOrder</b></font>(map, 1, "e", 4, "b", 3, "d", 2, "c");
82 <a name="4"></a>  }
83   public void testInsertionOrderAfterRemoveFirstEntry() {
84     Map&lt;Integer, String&gt; map = <font color="#6cc417"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>CompactLinkedHashMap.create();
85     map.put(1, "a");
86     map.put(4, "b");
87     map.put(3, "d");
88     map.put(2, "c");
89     map.remove(1);
90     testHasMapEntriesInOrder(map, 4, "b", 3, "d", 2, "c");
91   }
92   public void testInsertionOrderAfterRemoveMiddleEntry() {
93     Map&lt;Integer, String&gt; map = CompactLinkedHashMap.create();
94     map.put(1, "a");
95     map.put(4, "b");
96     map.put</b></font>(3, "d");
97     map.put(2, "c");
98     map.remove(4);
99     testHasMapEntriesInOrder(map, 1, "a", 3, "d", 2, "c");
100 <a name="2"></a>  }
101   public void testInsertionOrderAfterRemoveLastEntry() {
102     Map&lt;Integer, String&gt; map = <font color="#980517"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>CompactLinkedHashMap.create();
103     map.put(1, "a");
104     map.put(4, "b");
105     map.put(3, "d");
106     map.put(2, "c");
107     map.remove(2);
108     testHasMapEntriesInOrder(map, 1, "a", 4, "b", 3, "d");
109   }
110   public void testTrimToSize() {
111     CompactLinkedHashMap&lt;Integer, String&gt; map = CompactLinkedHashMap.createWithExpectedSize(100);
112     map.put(1, "a");
113     map.put(4, "b");
114     map.put(3, "d");
115 <a name="9"></a>    map.put(2, "c");
116     map.trimToSize();
117     assertThat(map.entries).hasLength(4);
118     <font color="#83a33a"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>assertThat(map.keys).hasLength</b></font>(4);
119     assertThat(map.values).hasLength(4);
120     assertThat(map.links).hasLength(4);
121     assertEquals(4, map.size());
122 <a name="6"></a>    testHasMapEntriesInOrder(map, 1, "a", 4, "b", 3, "d", 2, "c");
123   }
124   private void testHasMapE</b></font>ntriesInOrder(Map&lt;?, ?&gt; map, Object... alternatingKeysAndValues) <font color="#8c8774"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>{
125     List&lt;? extends Entry&lt;?, ?&gt;&gt; entries = Lists.newArrayList(map.entrySet());
126     List&lt;Object&gt; keys = Lists.newArrayList(map.keySet());
127     List&lt;Object&gt; values = Lists.newArrayList(map.values());
128     assertEquals(2 * entries.size(), alternatingKeysAndValues.length);
129     assertEquals(2 * keys.size(), alternatingKeysAndValues.length);
130     assertEquals</b></font>(2 * values.size(), alternatingKeysAndValues.length);
131 <a name="12"></a>    for (int i = 0; i &lt; map.size(); i++) {
132       Object expectedKey = alternatingKeysAndValues[2 * i];
133       Object expectedValue = alternatingKeysAndValues[2 * i + 1];
134       <font color="#571b7e"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>Entry&lt;Object, Object&gt; expectedEntry = Maps.immutableEntry(expectedKey, expectedValue);
135       assertEquals(expectedEntry, entries.get(i));
136 <a name="8"></a>      assertEquals(expectedKey, keys.get(i));
137       assertEquals(expectedValue, values.get(i));
138     }</b></font>
139   <font color="#c58917"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>}
140   public void testAllocArraysDefault() {
141 <a name="0"></a>    CompactLinkedHashMap&lt;Integer, String&gt; map = CompactLinkedHashMap.create();
142     assertThat(map.needsAllocArrays()).isTrue();
143     assertThat</b></font>(map.entries).isNull();
144     <font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>assertThat(map.keys).isNull();
145     assertThat(map.values).isNull();
146     assertThat(map.links).isNull();
147     map.put(1, Integer.toString(1));
148     assertThat(map.needsAllocArrays()).isFalse();
149     assertThat(map.entries).hasLength(CompactHashing.DEFAULT_SIZE);
150     assertThat(map.keys).hasLength(CompactHashing.DEFAULT_SIZE);
151     assertThat(map.values).hasLength(CompactHashing.DEFAULT_SIZE);
152     assertThat(map.links).hasLength(CompactHashing.DEFAULT_SIZE);
153   }
154 <a name="7"></a>
155   public void testAllocArraysExpectedSize() {</b></font>
156     for (int i = 0; i &lt;= CompactHashing.DEFAULT_SIZE; i++) {
157       <font color="#38a4a5"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>CompactLinkedHashMap&lt;Integer, String&gt; map = CompactLinkedHashMap.createWithExpectedSize(i);
158       assertThat(map.needsAllocArrays()).isTrue();
159       assertThat(map.entries).isNull();
160       assertThat(map.keys).isNull();
161       assertThat(map.values).isNull();
162 <a name="11"></a>      assertThat(map.links).isNull();
163       map.put</b></font>(1, Integer.toString(1));
164       assertThat(<font color="#b041ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>map.needsAllocArrays()).isFalse();
165       int expectedSize = Math.max(1, i);
166       assertThat(map.entries).hasLength(expectedSize);
167       assertThat(map.keys).hasLength(expectedSize);
168       assertThat(map.values).hasLength(expectedSize);
169       assertThat(map.links).hasLength</b></font>(expectedSize);
170     }
171   }
172 }
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>ImmutableSortedMultisetTest.java</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 package com.google.common.collect;
2 import static com.google.common.base.Preconditions.checkArgument;
3 import static com.google.common.truth.Truth.assertThat;
4 import static java.util.Arrays.asList;
5 import static org.mockito.Mockito.mock;
6 import static org.mockito.Mockito.when;
7 import com.google.common.base.Function;
8 import com.google.common.collect.Multiset.Entry;
9 import com.google.common.collect.testing.ListTestSuiteBuilder;
10 import com.google.common.collect.testing.MinimalCollection;
11 import com.google.common.collect.testing.TestStringListGenerator;
12 import com.google.common.collect.testing.features.CollectionFeature;
13 import com.google.common.collect.testing.features.CollectionSize;
14 import com.google.common.collect.testing.google.SortedMultisetTestSuiteBuilder;
15 import com.google.common.collect.testing.google.TestStringMultisetGenerator;
16 import com.google.common.collect.testing.google.UnmodifiableCollectionTests;
17 <a name="1"></a>import com.google.common.testing.CollectorTester;
18 import com.google.common.testing.NullPointerTester;
19 import com.google.common.testing.SerializableTester;
20 <font color="#f63526"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>import java.util.ArrayList;
21 import java.util.Arrays;
22 import java.util.Collection;
23 import java.util.Comparator;
24 import java.util.HashSet;
25 import java.util.Iterator;
26 import java.util.List;
27 import java.util.Set;
28 import java.util.function.BiPredicate;
29 import junit.framework.Test;
30 import junit.framework.TestCase;
31 import junit.framework.TestSuite;
32 public class ImmutableSortedMultisetTest extends TestCase {
33   public static Test suite() {
34     TestSuite suite = new TestSuite();
35     suite.addTestSuite(ImmutableSortedMultisetTest.class);
36     suite.addTest(
37         SortedMultisetTestSuiteBuilder.using(</b></font>
38                 new TestStringMultisetGenerator() {
39                   @Override
40                   protected Multiset&lt;String&gt; create(String[] elements) {
41                     return ImmutableSortedMultiset.copyOf(elements);
42                   }
43                   @Override
44                   public List&lt;String&gt; order(List&lt;String&gt; insertionOrder) {
45                     return Ordering.natural().sortedCopy(insertionOrder);
46                   }
47                 })
48             .named("ImmutableSortedMultiset")
49             .withFeatures(
50                 CollectionSize.ANY,
51                 CollectionFeature.SERIALIZABLE_INCLUDING_VIEWS,
52                 CollectionFeature.ALLOWS_NULL_QUERIES)
53             .createTestSuite());
54     suite.addTest(
55         ListTestSuiteBuilder.using(
56                 new TestStringListGenerator() {
57                   @Override
58                   protected List&lt;String&gt; create(String[] elements) {
59                     return ImmutableSortedMultiset.copyOf(elements).asList();
60                   }
61 <a name="5"></a>                  @Override
62                   public List&lt;String&gt; order(List&lt;String&gt; insertionOrder) {
63                     return Ordering.natural().sortedCopy(insertionOrder);
64                   <font color="#151b8d"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>}
65                 })
66             .named("ImmutableSortedMultiset.asList")
67             .withFeatures(
68                 CollectionSize.ANY,
69                 CollectionFeature.SERIALIZABLE,
70                 CollectionFeature.ALLOWS_NULL_QUERIES)
71             .createTestSuite());
72     suite.addTest(
73         ListTestSuiteBuilder.using(
74                 new TestStringListGenerator() {
75 <a name="10"></a>                  @Override
76                   protected List&lt;String&gt; create(String[] elements) {
77                     Set&lt;String&gt; set = Sets.newHashSet</b></font>();
78                     <font color="#ad5910"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>ImmutableSortedMultiset.Builder&lt;String&gt; builder =
79                         ImmutableSortedMultiset.naturalOrder();
80                     for (String s : elements) {
81                       checkArgument(set.add(s));
82                       builder.addCopies(s, 2);
83                     }
84                     return</b></font> builder.build().elementSet().asList();
85                   }
86                   @Override
87                   public List&lt;String&gt; order(List&lt;String&gt; insertionOrder) {
88                     return Ordering.natural().sortedCopy(insertionOrder);
89                   }
90                 })
91             .named("ImmutableSortedMultiset.elementSet.asList")
92             .withFeatures(
93                 CollectionSize.ANY,
94                 CollectionFeature.REJECTS_DUPLICATES_AT_CREATION,
95                 CollectionFeature.SERIALIZABLE,
96                 CollectionFeature.ALLOWS_NULL_QUERIES)
97             .createTestSuite());
98     return suite;
99   }
100   public void testCreation_noArgs() {
101     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.of();
102     assertTrue(multiset.isEmpty());
103   }
104   public void testCreation_oneElement() {
105     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.of("a");
106     assertEquals(HashMultiset.create(asList("a")), multiset);
107   }
108   public void testCreation_twoElements() {
109     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.of("a", "b");
110     assertEquals(HashMultiset.create(asList("a", "b")), multiset);
111   }
112   public void testCreation_threeElements() {
113     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.of("a", "b", "c");
114     assertEquals(HashMultiset.create(asList("a", "b", "c")), multiset);
115   }
116   public void testCreation_fourElements() {
117     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.of("a", "b", "c", "d");
118     assertEquals(HashMultiset.create(asList("a", "b", "c", "d")), multiset);
119   }
120   public void testCreation_fiveElements() {
121     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.of("a", "b", "c", "d", "e");
122     assertEquals(HashMultiset.create(asList("a", "b", "c", "d", "e")), multiset);
123   }
124   public void testCreation_sixElements() {
125     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.of("a", "b", "c", "d", "e", "f");
126     assertEquals(HashMultiset.create(asList("a", "b", "c", "d", "e", "f")), multiset);
127   }
128   public void testCreation_sevenElements() {
129     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.of("a", "b", "c", "d", "e", "f", "g");
130     assertEquals(HashMultiset.create(asList("a", "b", "c", "d", "e", "f", "g")), multiset);
131   }
132   public void testCreation_emptyArray() {
133     String[] array = new String[0];
134     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.copyOf(array);
135     assertTrue(multiset.isEmpty());
136   }
137   public void testCreation_arrayOfOneElement() {
138     String[] array = new String[] {"a"};
139     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.copyOf(array);
140     assertEquals(HashMultiset.create(asList("a")), multiset);
141   }
142   public void testCreation_arrayOfArray() {
143     Comparator&lt;String[]&gt; comparator =
144         Ordering.natural()
145             .lexicographical()
146             .onResultOf(
147                 new Function&lt;String[], Iterable&lt;Comparable&gt;&gt;() {
148                   @Override
149                   public Iterable&lt;Comparable&gt; apply(String[] input) {
150                     return Arrays.&lt;Comparable&gt;asList(input);
151                   }
152                 });
153     String[] array = new String[] {"a"};
154     Multiset&lt;String[]&gt; multiset = ImmutableSortedMultiset.orderedBy(comparator).add(array).build();
155     Multiset&lt;String[]&gt; expected = HashMultiset.create();
156     expected.add(array);
157     assertEquals(expected, multiset);
158   }
159   public void testCreation_arrayContainingOnlyNull() {
160     String[] array = new String[] {null};
161     try {
162       ImmutableSortedMultiset.copyOf(array);
163       fail();
164     } catch (NullPointerException expected) {
165     }
166   }
167   public void testCopyOf_collection_empty() {
168     Collection&lt;String&gt; c = MinimalCollection.&lt;String&gt;of();
169     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.copyOf(c);
170     assertTrue(multiset.isEmpty());
171   }
172   public void testCopyOf_collection_oneElement() {
173     Collection&lt;String&gt; c = MinimalCollection.of("a");
174     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.copyOf(c);
175     assertEquals(HashMultiset.create(asList("a")), multiset);
176   }
177   public void testCopyOf_collection_general() {
178     Collection&lt;String&gt; c = MinimalCollection.of("a", "b", "a");
179     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.copyOf(c);
180     assertEquals(HashMultiset.create(asList("a", "b", "a")), multiset);
181   }
182   public void testCopyOf_collectionContainingNull() {
183     Collection&lt;String&gt; c = MinimalCollection.of("a", null, "b");
184     try {
185       ImmutableSortedMultiset.copyOf(c);
186       fail();
187     } catch (NullPointerException expected) {
188     }
189   }
190   public void testCopyOf_multiset_empty() {
191     Multiset&lt;String&gt; c = HashMultiset.create();
192     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.copyOf(c);
193     assertTrue(multiset.isEmpty());
194   }
195   public void testCopyOf_multiset_oneElement() {
196     Multiset&lt;String&gt; c = HashMultiset.create(asList("a"));
197     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.copyOf(c);
198     assertEquals(HashMultiset.create(asList("a")), multiset);
199   }
200   public void testCopyOf_multiset_general() {
201     Multiset&lt;String&gt; c = HashMultiset.create(asList("a", "b", "a"));
202     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.copyOf(c);
203     assertEquals(HashMultiset.create(asList("a", "b", "a")), multiset);
204   }
205   public void testCopyOf_multisetContainingNull() {
206     Multiset&lt;String&gt; c = HashMultiset.create(asList("a", null, "b"));
207     try {
208       ImmutableSortedMultiset.copyOf(c);
209       fail();
210     } catch (NullPointerException expected) {
211     }
212   }
213   public void testCopyOf_iterator_empty() {
214     Iterator&lt;String&gt; iterator = Iterators.emptyIterator();
215     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.copyOf(iterator);
216     assertTrue(multiset.isEmpty());
217   }
218   public void testCopyOf_iterator_oneElement() {
219     Iterator&lt;String&gt; iterator = Iterators.singletonIterator("a");
220     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.copyOf(iterator);
221     assertEquals(HashMultiset.create(asList("a")), multiset);
222   }
223   public void testCopyOf_iterator_general() {
224     Iterator&lt;String&gt; iterator = asList("a", "b", "a").iterator();
225     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.copyOf(iterator);
226     assertEquals(HashMultiset.create(asList("a", "b", "a")), multiset);
227   }
228   public void testCopyOf_iteratorContainingNull() {
229     Iterator&lt;String&gt; iterator = asList("a", null, "b").iterator();
230     try {
231       ImmutableSortedMultiset.copyOf(iterator);
232       fail();
233     } catch (NullPointerException expected) {
234     }
235   }
236   private static class CountingIterable implements Iterable&lt;String&gt; {
237     int count = 0;
238     @Override
239     public Iterator&lt;String&gt; iterator() {
240       count++;
241       return asList("a", "b", "a").iterator();
242     }
243   }
244   public void testCopyOf_plainIterable() {
245     CountingIterable iterable = new CountingIterable();
246     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.copyOf(iterable);
247     assertEquals(HashMultiset.create(asList("a", "b", "a")), multiset);
248     assertEquals(1, iterable.count);
249   }
250   public void testCopyOf_shortcut_empty() {
251     Collection&lt;String&gt; c = ImmutableSortedMultiset.of();
252     assertSame(c, ImmutableSortedMultiset.copyOf(c));
253   }
254   public void testCopyOf_shortcut_singleton() {
255     Collection&lt;String&gt; c = ImmutableSortedMultiset.of("a");
256     assertSame(c, ImmutableSortedMultiset.copyOf(c));
257   }
258 <a name="8"></a>  public void testCopyOf_shortcut_immutableMultiset() {
259     Collection&lt;String&gt; c = ImmutableSortedMultiset.of("a", "b", "c");
260     assertSame(c, ImmutableSortedMultiset.copyOf(c));
261   <font color="#c58917"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>}
262   public void testForEachEntry() {
263 <a name="2"></a>    ImmutableSortedMultiset&lt;String&gt; multiset =
264         ImmutableSortedMultiset.&lt;String&gt;naturalOrder</b></font>().add("a").add("b").add("a").add("c").build();
265     List&lt;Multiset.Entry&lt;String&gt;&gt; entries = new ArrayList&lt;&gt;();
266     multiset.forEachEntry((e, c) -&gt; entries.add(<font color="#980517"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>Multisets.immutableEntry(e, c)));
267     assertThat(entries)
268         .containsExactly(
269             Multisets.immutableEntry("a", 2),
270             Multisets.immutableEntry("b", 1),
271             Multisets.immutableEntry("c", 1))
272         .inOrder();
273   }
274   public void testBuilderAdd() {
275     ImmutableSortedMultiset&lt;String&gt; multiset =
276         ImmutableSortedMultiset.&lt;String&gt;naturalOrder().add("a").add("b").add("a").add("c").build();
277     assertEquals(HashMultiset.create(asList</b></font>("a", "b", "a", "c")), multiset);
278   }
279 <a name="12"></a>  public void testBuilderAddAll() {
280     List&lt;String&gt; a = asList("a", "b");
281     List&lt;String&gt; b = asList("c", "d");
282     <font color="#571b7e"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>ImmutableSortedMultiset&lt;String&gt; multiset =
283         ImmutableSortedMultiset.&lt;String&gt;naturalOrder().addAll(a).addAll(b).build();
284 <a name="6"></a>    assertEquals(HashMultiset.create(asList("a", "b", "c", "d")), multiset);
285   }</b></font>
286   public void testBuilderAddAllMultiset() <font color="#8c8774"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>{
287     Multiset&lt;String&gt; a = HashMultiset.create(asList("a", "b", "b"));
288     Multiset&lt;String&gt; b = HashMultiset.create(asList("c", "b"));
289     ImmutableSortedMultiset&lt;String&gt; multiset =
290         ImmutableSortedMultiset.&lt;String&gt;naturalOrder().addAll(a).addAll(b).build();
291     assertEquals(HashMultiset.create(asList</b></font>("a", "b", "b", "b", "c")), multiset);
292   }
293 <a name="3"></a>
294   public void testBuilderAddAllIterator() {
295     Iterator&lt;String&gt; iterator = asList("a", "b", "a", "c").iterator();
296     <font color="#53858b"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>ImmutableSortedMultiset&lt;String&gt; multiset =
297         ImmutableSortedMultiset.&lt;String&gt;naturalOrder().addAll(iterator).build();
298     assertEquals(HashMultiset.create(asList("a", "b", "a", "c")), multiset);
299   }
300   public void testBuilderAddCopies() {
301     ImmutableSortedMultiset&lt;String&gt; multiset =
302         ImmutableSortedMultiset.&lt;String&gt;naturalOrder()
303             .addCopies("a", 2)
304             .addCopies("b", 3)
305             .addCopies("c", 0)
306             .build();
307     assertEquals(HashMultiset.create</b></font>(asList("a", "a", "b", "b", "b")), multiset);
308   }
309 <a name="9"></a>
310   public void testBuilderSetCount() {
311     ImmutableSortedMultiset&lt;String&gt; multiset =
312         <font color="#83a33a"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>ImmutableSortedMultiset.&lt;String&gt;naturalOrder()
313             .add("a")
314             .setCount("a", 2)
315             .setCount("b", 3)
316             .build();
317     assertEquals(HashMultiset.create(asList("a", "a", "b", "b", "b")), multiset);
318   }
319   public void testBuilderAddHandlesNu</b></font>llsCorrectly() {
320     ImmutableSortedMultiset.Builder&lt;String&gt; builder = ImmutableSortedMultiset.naturalOrder();
321     try {
322       builder.add((String) null);
323       fail("expected NullPointerException");
324     } catch (NullPointerException expected) {
325     }
326   }
327   public void testBuilderAddAllHandlesNullsCorrectly() {
328     ImmutableSortedMultiset.Builder&lt;String&gt; builder = ImmutableSortedMultiset.naturalOrder();
329     try {
330       builder.addAll((Collection&lt;String&gt;) null);
331       fail("expected NullPointerException");
332     } catch (NullPointerException expected) {
333     }
334     builder = ImmutableSortedMultiset.naturalOrder();
335     List&lt;String&gt; listWithNulls = asList("a", null, "b");
336     try {
337       builder.addAll(listWithNulls);
338       fail("expected NullPointerException");
339     } catch (NullPointerException expected) {
340     }
341     builder = ImmutableSortedMultiset.naturalOrder();
342     Multiset&lt;String&gt; multisetWithNull = LinkedHashMultiset.create(asList("a", null, "b"));
343     try {
344       builder.addAll(multisetWithNull);
345       fail("expected NullPointerException");
346     } catch (NullPointerException expected) {
347     }
348   }
349   public void testBuilderAddCopiesHandlesNullsCorrectly() {
350     ImmutableSortedMultiset.Builder&lt;String&gt; builder = ImmutableSortedMultiset.naturalOrder();
351     try {
352       builder.addCopies(null, 2);
353       fail("expected NullPointerException");
354     } catch (NullPointerException expected) {
355     }
356   }
357   public void testBuilderAddCopiesIllegal() {
358     ImmutableSortedMultiset.Builder&lt;String&gt; builder = ImmutableSortedMultiset.naturalOrder();
359     try {
360       builder.addCopies("a", -2);
361       fail("expected IllegalArgumentException");
362     } catch (IllegalArgumentException expected) {
363     }
364   }
365   public void testBuilderSetCountHandlesNullsCorrectly() {
366     ImmutableSortedMultiset.Builder&lt;String&gt; builder =
367         new ImmutableSortedMultiset.Builder&lt;&gt;(Ordering.natural().nullsFirst());
368     try {
369       builder.setCount(null, 2);
370       fail("expected NullPointerException");
371     } catch (NullPointerException expected) {
372     }
373   }
374   public void testBuilderSetCountIllegal() {
375     ImmutableSortedMultiset.Builder&lt;String&gt; builder = ImmutableSortedMultiset.naturalOrder();
376     try {
377       builder.setCount("a", -2);
378       fail("expected IllegalArgumentException");
379     } catch (IllegalArgumentException expected) {
380     }
381   }
382 <a name="0"></a>  public void testToImmutableSortedMultiset() {
383     BiPredicate&lt;ImmutableSortedMultiset&lt;String&gt;, ImmutableSortedMultiset&lt;String&gt;&gt; equivalence =
384         (ms1, ms2) -&gt;
385             <font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>ms1.equals(ms2)
386                 &amp;&amp; ms1.entrySet().asList().equals(ms2.entrySet().asList())
387                 &amp;&amp; ms1.comparator().equals(ms2.comparator());
388     CollectorTester.of(
389             ImmutableSortedMultiset.&lt;String&gt;toImmutableSortedMultiset(
390                 String.CASE_INSENSITIVE_ORDER),
391             equivalence)
392         .expectCollects(ImmutableSortedMultiset.emptyMultiset(String.CASE_INSENSITIVE_ORDER))
393         .expectCollects(
394             ImmutableSortedMultiset.orderedBy(String.CASE_INSENSITIVE_ORDER)
395                 .addCopies("a", 2)
396                 .addCopies("b", 1)
397                 .addCopies("c", 3)
398                 .build(),
399             "a",
400             "c",
401             "b",
402             "c",
403             "A",
404             "C");
405   }
406 <a name="7"></a>
407   public void testToImmutableSortedMultisetCountFunction() {</b></font>
408     BiPredicate&lt;ImmutableSortedMultiset&lt;String&gt;, ImmutableSortedMultiset&lt;String&gt;&gt; equivalence =
409         (ms1, <font color="#38a4a5"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>ms2) -&gt;
410             ms1.equals(ms2)
411                 &amp;&amp; ms1.entrySet().asList().equals(ms2.entrySet().asList())
412                 &amp;&amp; ms1.comparator().equals(ms2.comparator());
413     CollectorTester.of(
414             ImmutableSortedMultiset.&lt;String, String&gt;toImmutableSortedMultiset</b></font>(
415                 String.CASE_INSENSITIVE_ORDER, e -&gt; e, e -&gt; 1),
416             equivalence)
417         .expectCollects(ImmutableSortedMultiset.emptyMultiset(String.CASE_INSENSITIVE_ORDER))
418         .expectCollects(
419             ImmutableSortedMultiset.orderedBy(String.CASE_INSENSITIVE_ORDER)
420                 .addCopies("a", 2)
421                 .addCopies("b", 1)
422                 .addCopies("c", 3)
423                 .build(),
424             "a",
425             "c",
426             "b",
427             "c",
428             "A",
429             "C");
430   }
431   public void testNullPointers() {
432     new NullPointerTester().testAllPublicStaticMethods(ImmutableSortedMultiset.class);
433   }
434   public void testSerialization_empty() {
435     Collection&lt;String&gt; c = ImmutableSortedMultiset.of();
436     assertSame(c, SerializableTester.reserialize(c));
437   }
438   public void testSerialization_multiple() {
439     Collection&lt;String&gt; c = ImmutableSortedMultiset.of("a", "b", "a");
440     Collection&lt;String&gt; copy = SerializableTester.reserializeAndAssert(c);
441     assertThat(copy).containsExactly("a", "a", "b").inOrder();
442   }
443   public void testSerialization_elementSet() {
444     Multiset&lt;String&gt; c = ImmutableSortedMultiset.of("a", "b", "a");
445     Collection&lt;String&gt; copy = SerializableTester.reserializeAndAssert(c.elementSet());
446     assertThat(copy).containsExactly("a", "b").inOrder();
447   }
448   public void testSerialization_entrySet() {
449     Multiset&lt;String&gt; c = ImmutableSortedMultiset.of("a", "b", "c");
450     SerializableTester.reserializeAndAssert(c.entrySet());
451   }
452 <a name="4"></a>  public void testEquals_immutableMultiset() {
453     Collection&lt;String&gt; c = ImmutableSortedMultiset.of("a", "b", "a");
454     assertEquals(c, ImmutableSortedMultiset.of("a", "b", "a"));
455     assertEquals(c, <font color="#6cc417"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>ImmutableSortedMultiset.of("a", "a", "b"));
456     assertThat(c).isNotEqualTo(ImmutableSortedMultiset.of("a", "b"));
457     assertThat(c).isNotEqualTo(ImmutableSortedMultiset.of("a", "b", "c", "d"));
458   }
459   public void testIterationOrder() {
460     Collection&lt;String&gt; c = ImmutableSortedMultiset.of("a", "b", "a");
461     assertThat</b></font>(c).containsExactly("a", "a", "b").inOrder();
462   }
463   public void testMultisetWrites() {
464     Multiset&lt;String&gt; multiset = ImmutableSortedMultiset.of("a", "b", "a");
465     UnmodifiableCollectionTests.assertMultisetIsUnmodifiable(multiset, "test");
466 <a name="11"></a>  }
467   public void testAsList() {
468     ImmutableSortedMultiset&lt;String&gt; multiset = <font color="#b041ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>ImmutableSortedMultiset.of("a", "a", "b", "b", "b");
469     ImmutableList&lt;String&gt; list = multiset.asList();
470     assertEquals(ImmutableList.of("a", "a", "b", "b", "b"), list);
471     SerializableTester.reserializeAndAssert(list);
472     assertEquals(2, list.indexOf("b"));
473     assertEquals(4, list.lastIndexOf</b></font>("b"));
474   }
475   public void testCopyOfDefensiveCopy() {
476     class TestArrayList&lt;E&gt; extends ArrayList&lt;E&gt; {
477       boolean toArrayCalled = false;
478       @Override
479       public Object[] toArray() {
480         toArrayCalled = true;
481         return super.toArray();
482       }
483       @Override
484       public &lt;T&gt; T[] toArray(T[] a) {
485         toArrayCalled = true;
486         return super.toArray(a);
487       }
488     }
489     TestArrayList&lt;String&gt; toCopy = new TestArrayList&lt;&gt;();
490     ImmutableSortedMultiset&lt;String&gt; unused =
491         ImmutableSortedMultiset.copyOf(Ordering.natural(), toCopy);
492     assertTrue(toCopy.toArrayCalled);
493   }
494   @SuppressWarnings("unchecked")
495   public void testCopyOfSortedDefensiveCopy() {
496     class TestHashSet&lt;E&gt; extends HashSet&lt;E&gt; {
497       boolean toArrayCalled = false;
498       @Override
499       public Object[] toArray() {
500         toArrayCalled = true;
501         return super.toArray();
502       }
503       @Override
504       public &lt;T&gt; T[] toArray(T[] a) {
505         toArrayCalled = true;
506         return super.toArray(a);
507       }
508     }
509     SortedMultiset&lt;String&gt; toCopy = mock(SortedMultiset.class);
510     TestHashSet&lt;Entry&lt;String&gt;&gt; entrySet = new TestHashSet&lt;&gt;();
511     when((Comparator&lt;Comparable&lt;String&gt;&gt;) toCopy.comparator())
512         .thenReturn(Ordering.&lt;Comparable&lt;String&gt;&gt;natural());
513     when(toCopy.entrySet()).thenReturn(entrySet);
514     ImmutableSortedMultiset&lt;String&gt; unused = ImmutableSortedMultiset.copyOfSorted(toCopy);
515     assertTrue(entrySet.toArrayCalled);
516   }
517   private static class IntegerDiv10 implements Comparable&lt;IntegerDiv10&gt; {
518     final int value;
519     IntegerDiv10(int value) {
520       this.value = value;
521     }
522     @Override
523     public int compareTo(IntegerDiv10 o) {
524       return value / 10 - o.value / 10;
525     }
526     @Override
527     public String toString() {
528       return Integer.toString(value);
529     }
530   }
531   public void testCopyOfDuplicateInconsistentWithEquals() {
532     IntegerDiv10 three = new IntegerDiv10(3);
533     IntegerDiv10 eleven = new IntegerDiv10(11);
534     IntegerDiv10 twelve = new IntegerDiv10(12);
535     IntegerDiv10 twenty = new IntegerDiv10(20);
536     List&lt;IntegerDiv10&gt; original = ImmutableList.of(three, eleven, twelve, twenty);
537     Multiset&lt;IntegerDiv10&gt; copy = ImmutableSortedMultiset.copyOf(original);
538     assertTrue(copy.contains(eleven));
539     assertTrue(copy.contains(twelve));
540   }
541 }
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
