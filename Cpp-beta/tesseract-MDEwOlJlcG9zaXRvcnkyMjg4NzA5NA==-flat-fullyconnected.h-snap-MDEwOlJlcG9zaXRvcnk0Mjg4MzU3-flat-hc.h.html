
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 12.322274881516588%, Tokens: 12, <button onclick='openModal()' class='match'></button></h2>
        <div class="column">
            <h3>tesseract-MDEwOlJlcG9zaXRvcnkyMjg4NzA5NA==-flat-fullyconnected.h</h3>
            <pre><code>1  #ifndef TESSERACT_LSTM_FULLYCONNECTED_H_
2  #define TESSERACT_LSTM_FULLYCONNECTED_H_
3  #include "network.h"
4  #include "networkscratch.h"
5  #include "tesstypes.h"
6  namespace tesseract {
7  class FullyConnected : public Network {
8  public:
9    TESS_API
10    FullyConnected(const std::string &name, int ni, int no, NetworkType type);
11    ~FullyConnected() override = default;
12    StaticShape OutputShape(const StaticShape &input_shape) const override;
13    std::string spec() const override {
14      std::string spec;
15      if (type_ == NT_TANH) {
16        spec += "Ft" + std::to_string(no_);
17      } else if (type_ == NT_LOGISTIC) {
18        spec += "Fs" + std::to_string(no_);
19      } else if (type_ == NT_RELU) {
20        spec += "Fr" + std::to_string(no_);
21      } else if (type_ == NT_LINEAR) {
22        spec += "Fl" + std::to_string(no_);
23      } else if (type_ == NT_POSCLIP) {
24        spec += "Fp" + std::to_string(no_);
25      } else if (type_ == NT_SYMCLIP) {
26        spec += "Fn" + std::to_string(no_);
27      } else if (type_ == NT_SOFTMAX) {
28        spec += "Fc" + std::to_string(no_);
29      } else {
30        spec += "Fm" + std::to_string(no_);
31      }
32      return spec;
33    }
34    void ChangeType(NetworkType type) {
35      type_ = type;
36    }
37    void SetEnableTraining(TrainingState state) override;
38    int InitWeights(float range, TRand *randomizer) override;
39    int RemapOutputs(int old_no, const std::vector<int> &code_map) override;
40    void ConvertToInt() override;
41    void DebugWeights() override;
42    bool Serialize(TFile *fp) const override;
43    bool DeSerialize(TFile *fp) override;
44    void Forward(bool debug, const NetworkIO &input, const TransposedArray *input_transpose,
45                 NetworkScratch *scratch, NetworkIO *output) override;
46    void SetupForward(const NetworkIO &input, const TransposedArray *input_transpose);
47    void ForwardTimeStep(int t, TFloat *output_line);
48    void ForwardTimeStep(const TFloat *d_input, int t, TFloat *output_line);
49    void ForwardTimeStep(const int8_t *i_input, int t, TFloat *output_line);
50    bool Backward(bool debug, const NetworkIO &fwd_deltas, NetworkScratch *scratch,
51                  NetworkIO *back_deltas) override;
52    void BackwardTimeStep(const NetworkIO &fwd_deltas, int t, TFloat *curr_errors,
53                          TransposedArray *errors_t, TFloat *backprop);
54    void FinishBackward(const TransposedArray &errors_t);
55    void Update(float learning_rate, float momentum, float adam_beta, int num_samples) override;
<span onclick='openModal()' class='match'>56    void CountAlternators(const Network &other, TFloat *same, TFloat *changed) const override;
57  protected:
58    WeightMatrix weights_;
59    TransposedArray source_t_;
60    const TransposedArray *external_source_;
61    NetworkIO acts_;
62    bool int_mode_;
63  };
</span>64  } 
65  #endif 
</code></pre>
        </div>
        <div class="column">
            <h3>snap-MDEwOlJlcG9zaXRvcnk0Mjg4MzU3-flat-hc.h</h3>
            <pre><code>1  #ifndef Hc_h
2  #define Hc_h
3  #include "base.h"
4  class THcWord{
5  private:
6    TB32Set FSet;
7    TInt WordId;
8  public:
9    THcWord(): FSet(), WordId(-1){}
10    THcWord(const THcWord& HcWord): FSet(HcWord.FSet), WordId(HcWord.WordId){}
11    THcWord(const TB32Set& _FSet, const int& _WordId):
12      FSet(_FSet), WordId(_WordId){}
13    THcWord(const THcWord& HcWord, int _WordId):
14      FSet(HcWord.FSet), WordId(_WordId){}
15    THcWord(TSIn& SIn): FSet(SIn), WordId(SIn){}
16    void Save(TSOut& SOut){FSet.Save(SOut); WordId.Save(SOut);}
17    THcWord& operator=(const THcWord& HcWord){
18      if (this!=&HcWord){FSet=HcWord.FSet; WordId=HcWord.WordId;} return *this;}
19    bool operator==(const THcWord& HcWord) const {
20      return (FSet==HcWord.FSet)&&(WordId==HcWord.WordId);}
21    bool IsFlag(const int& FN){return FSet.GetBit(FN)==1;}
22    void SetFlag(const int& FN, const bool& Val){FSet.SetBit(FN, Val);}
23    bool GetFlag(const int& FN){return FSet.GetBit(FN);}
24    TInt GetWordId(){return WordId;}
25  };
26  class THcDoc{
27  private:
28    TCRef CRef;
29  private:
30    TVec<THcWord> WordV;
31  public:
32    THcDoc(): WordV(100, 0){}
33    THcDoc(const THcDoc& HcDoc): WordV(HcDoc.WordV){Fail;}
34    static TPt<THcDoc> Load(TSIn& SIn){return new THcDoc(SIn);}
35    THcDoc(TSIn& SIn): WordV(SIn){}
36    void Save(TSOut& SOut){WordV.Save(SOut);}
37    THcDoc& operator=(const THcDoc& HcDoc){
38      if (this!=&HcDoc){WordV=HcDoc.WordV;} return *this;}
39    bool operator==(const THcDoc& HcDoc) const {return this==&HcDoc;}
40    void Add(const THcWord& HcWord){WordV.Add(HcWord);}
41    void Add(const TVec<THcWord>& HcWordV){WordV.AddV(HcWordV);}
42    THcWord& Get(const int& WordN){return WordV[WordN];}
43    int Len(){return WordV.Len();}
44    friend TPt<THcDoc>;
45  };
46  typedef TPt<THcDoc> PHcDoc;
47  class THcBase{
48  private:
49    TCRef CRef;
50  private:
51    THash<TStr, TIntPr> WordH;
52    THash<TStr, PHcDoc> DocH;
53    THash<TInt, TVoid> StopStrH, FlagTagH, ContTagH, SkipTagH, BreakTagH;
54    TInt StrFN, DStrFN, BTagFN, ETagFN, UrlFN, AnchFN;
55    TInt TitleTagId, AnchTagId;
56    TInt H1TagId, H2TagId, H3TagId, H4TagId, H5TagId, H6TagId;
57    TInt FxWordIds;
58    void GenStopStr(const TStr& Str){StopStrH.AddKey(TInt(WordH.AddKey(Str)));}
59    void GenFlagTag(const TStr& Str){FlagTagH.AddKey(TInt(WordH.AddKey(Str)));}
60    void GenContTag(const TStr& Str){ContTagH.AddKey(TInt(WordH.AddKey(Str)));}
61    void GenSkipTag(const TStr& Str){SkipTagH.AddKey(TInt(WordH.AddKey(Str)));}
62    void GenBreakTag(const TStr& Str){BreakTagH.AddKey(TInt(WordH.AddKey(Str)));}
63    int AddDStrKey(const int& WordId1, const int& WordId2){
64      return WordH.AddKey(WordH.GetKey(WordId1)+" "+WordH.GetKey(WordId2));}
65    void ClrAnchFlag(const TVec<THcWord>& HcWordV);
66  public:
67    THcBase();
68    THcBase(TSIn& SIn);
69    static TPt<THcBase> Load(TSIn& SIn){return new THcBase(SIn);}
70    void Save(TSOut& SOut);
71    int GetWords(){return WordH.Len();}
72    int GetMxWordIds(){return WordH.GetMxKeyIds();}
73    TStr GetWordStr(const int& WordId){return WordH.GetKey(WordId);}
74    int GetWordId(const TStr& WordStr){return WordH.GetKeyId(WordStr);}
75    int FFirstWordId(){return WordH.FFirstKeyId();}
76    bool FNextWordId(int& WordId){return WordH.FNextKeyId(WordId);}
77    void AddDoc(const TStr& FNm, const TStr& _Nm=TStr());
78    PHcDoc GetDoc(const TStr& Nm){return DocH.GetDat(Nm);}
79    PHcDoc GetDoc(const int& DocId){return DocH[DocId];}
80    void DelDoc(const TStr& Nm);
81    void DelDocs();
82    int GetDocs(){return DocH.Len();}
83    int GetMxDocIds(){return DocH.GetMxKeyIds();}
84    TStr GetDocNm(const int& DocId){return DocH.GetKey(DocId);}
85    int GetDocId(const TStr& Nm){return DocH.GetKeyId(Nm);}
86    int FFirstDocId(){return DocH.FFirstKeyId();}
87    bool FNextDocId(int& DocId){return DocH.FNextKeyId(DocId);}
<span onclick='openModal()' class='match'>88    TVec<PHcDoc> GetHLDocV(const int& DocId);
89    void Wr();
90    void WrDoc(const TStr& UrlStr, const PHcDoc& Doc);
91    friend TPt<THcBase>;
92  };
</span>93  typedef TPt<THcBase> PHcBase;
94  #endif
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from tesseract-MDEwOlJlcG9zaXRvcnkyMjg4NzA5NA==-flat-fullyconnected.h</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from snap-MDEwOlJlcG9zaXRvcnk0Mjg4MzU3-flat-hc.h</div>
                </div>
                <div class="column column_space"><pre><code>56    void CountAlternators(const Network &other, TFloat *same, TFloat *changed) const override;
57  protected:
58    WeightMatrix weights_;
59    TransposedArray source_t_;
60    const TransposedArray *external_source_;
61    NetworkIO acts_;
62    bool int_mode_;
63  };
</pre></code></div>
                <div class="column column_space"><pre><code>88    TVec<PHcDoc> GetHLDocV(const int& DocId);
89    void Wr();
90    void WrDoc(const TStr& UrlStr, const PHcDoc& Doc);
91    friend TPt<THcBase>;
92  };
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    