
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Tokens: 24, <button onclick='openModal()' class='match'>CODE CLONE</button></h2>
        <div class="column">
            <h3>Ultroid-MDEwOlJlcG9zaXRvcnkzNDEwMzg2MDI=-flat-devtools.py</h3>
            <pre><code>1  from . import get_help
2  __doc__ = get_help(&quot;help_devtools&quot;)
3  import inspect
4  import sys
5  import traceback
6  from io import BytesIO, StringIO
7  from os import remove
8  from pprint import pprint
9  from telethon.utils import get_display_name
10  from pyUltroid import _ignore_eval
11  from . import *
12  try:
13      import black
14  except ImportError:
15      black = None
16  from random import choice
17  try:
18      from yaml import safe_load
19  except ImportError:
20      from pyUltroid.fns.tools import safe_load
21  try:
22      from telegraph import upload_file as uf
23  except ImportError:
24      uf = None
25  from telethon.tl import functions
26  fn = functions
27  @ultroid_cmd(
28      pattern=&quot;sysinfo$&quot;,
29  )
30  async def _(e):
31      xx = await e.eor(get_string(&quot;com_1&quot;))
32      x, y = await bash(&quot;neofetch|sed &#x27;s/\x1B\\[[0-9;\\?]*[a-zA-Z]//g&#x27; &gt;&gt; neo.txt&quot;)
33      if y and y.endswith(&quot;NOT_FOUND&quot;):
34          return await xx.edit(f&quot;Error: `{y}`&quot;)
35      with open(&quot;neo.txt&quot;, &quot;r&quot;, encoding=&quot;utf-8&quot;) as neo:
36          p = (neo.read()).replace(&quot;\n\n&quot;, &quot;&quot;)
37      haa = await Carbon(code=p, file_name=&quot;neofetch&quot;, backgroundColor=choice(ATRA_COL))
38      if isinstance(haa, dict):
39          await xx.edit(f&quot;`{haa}`&quot;)
40      else:
41          await e.reply(file=haa)
42          await xx.delete()
43      remove(&quot;neo.txt&quot;)
44  @ultroid_cmd(pattern=&quot;bash&quot;, fullsudo=True, only_devs=True)
45  async def _(event):
46      carb, rayso, yamlf = None, None, False
47      try:
48          cmd = event.text.split(&quot; &quot;, maxsplit=1)[1]
49          if cmd.split()[0] in [&quot;-c&quot;, &quot;--carbon&quot;]:
50              cmd = cmd.split(maxsplit=1)[1]
51              carb = True
52          if cmd.split()[0] in [&quot;-r&quot;, &quot;--rayso&quot;]:
53              cmd = cmd.split(maxsplit=1)[1]
54              rayso = True
55      except IndexError:
56          return await event.eor(get_string(&quot;devs_1&quot;), time=10)
57      xx = await event.eor(get_string(&quot;com_1&quot;))
58      reply_to_id = event.reply_to_msg_id or event.id
59      stdout, stderr = await bash(cmd, run_code=1)
60      OUT = f&quot;**‚òû BASH\n\n‚Ä¢ COMMAND:**\n`{cmd}` \n\n&quot;
61      err, out = &quot;&quot;, &quot;&quot;
62      if stderr:
63          err = f&quot;**‚Ä¢ ERROR:** \n`{stderr}`\n\n&quot;
64      if stdout:
65          if (carb or udB.get_key(&quot;CARBON_ON_BASH&quot;)) and (
66              event.is_private
67              or event.chat.admin_rights
68              or event.chat.creator
69              or event.chat.default_banned_rights.embed_links
70          ):
71              li = await Carbon(
72                  code=stdout,
73                  file_name=&quot;bash&quot;,
74                  download=True,
<span onclick='openModal()' class='match'>75                  backgroundColor=choice(ATRA_COL),
76              )
77              if isinstance(li, dict):
78                  await xx.edit(
79                      f&quot;Unknown Response from Carbon: `{li}`\n\nstdout`:{stdout}`\nstderr: `{stderr}`&quot;
80                  )
81                  return
82              url = f&quot;https://graph.org{uf(li)[-1]}&quot;
</span>83              OUT = f&quot;[\xad]({url}){OUT}&quot;
84              out = &quot;**‚Ä¢ OUTPUT:**&quot;
85              remove(li)
86          elif (rayso or udB.get_key(&quot;RAYSO_ON_BASH&quot;)) and (
87              event.is_private
88              or event.chat.admin_rights
89              or event.chat.creator
90              or event.chat.default_banned_rights.embed_links
91          ):
92              li = await Carbon(
93                  code=stdout,
94                  file_name=&quot;bash&quot;,
95                  download=True,
96                  backgroundColor=choice(ATRA_COL),
97                  rayso=True,
98              )
99              if isinstance(li, dict):
100                  await xx.edit(
101                      f&quot;Unknown Response from Carbon: `{li}`\n\nstdout`:{stdout}`\nstderr: `{stderr}`&quot;
102                  )
103                  return
104              url = f&quot;https://graph.org{uf(li)[-1]}&quot;
105              OUT = f&quot;[\xad]({url}){OUT}&quot;
106              out = &quot;**‚Ä¢ OUTPUT:**&quot;
107              remove(li)
108          else:
109              if &quot;pip&quot; in cmd and all(&quot;:&quot; in line for line in stdout.split(&quot;\n&quot;)):
110                  try:
111                      load = safe_load(stdout)
112                      stdout = &quot;&quot;
113                      for data in list(load.keys()):
114                          res = load[data] or &quot;&quot;
115                          if res and &quot;http&quot; not in str(res):
116                              res = f&quot;`{res}`&quot;
117                          stdout += f&quot;**{data}**  :  {res}\n&quot;
118                      yamlf = True
119                  except Exception as er:
120                      stdout = f&quot;`{stdout}`&quot;
121                      LOGS.exception(er)
122              else:
123                  stdout = f&quot;`{stdout}`&quot;
124              out = f&quot;**‚Ä¢ OUTPUT:**\n{stdout}&quot;
125      if not stderr and not stdout:
126          out = &quot;**‚Ä¢ OUTPUT:**\n`Success`&quot;
127      OUT += err + out
128      if len(OUT) &gt; 4096:
129          ultd = err + out
130          with BytesIO(str.encode(ultd)) as out_file:
131              out_file.name = &quot;bash.txt&quot;
132              await event.client.send_file(
133                  event.chat_id,
134                  out_file,
135                  force_document=True,
136                  thumb=ULTConfig.thumb,
137                  allow_cache=False,
138                  caption=f&quot;`{cmd}`&quot; if len(cmd) &lt; 998 else None,
139                  reply_to=reply_to_id,
140              )
141              await xx.delete()
142      else:
143          await xx.edit(OUT, link_preview=not yamlf)
144  pp = pprint  # ignore: pylint
145  bot = ultroid = ultroid_bot
146  class u:
147      _ = &quot;&quot;
148  def _parse_eval(value=None):
149      if not value:
150          return value
151      if hasattr(value, &quot;stringify&quot;):
152          try:
153              return value.stringify()
154          except TypeError:
155              pass
156      elif isinstance(value, dict):
157          try:
158              return json_parser(value, indent=1)
159          except BaseException:
160              pass
161      elif isinstance(value, list):
162          newlist = &quot;[&quot;
163          for index, child in enumerate(value):
164              newlist += &quot;\n  &quot; + str(_parse_eval(child))
165              if index &lt; len(value) - 1:
166                  newlist += &quot;,&quot;
167          newlist += &quot;\n]&quot;
168          return newlist
169      return str(value)
170  @ultroid_cmd(pattern=&quot;eval&quot;, fullsudo=True, only_devs=True)
171  async def _(event):
172      try:
173          cmd = event.text.split(maxsplit=1)[1]
174      except IndexError:
175          return await event.eor(get_string(&quot;devs_2&quot;), time=5)
176      xx = None
177      mode = &quot;&quot;
178      spli = cmd.split()
179      async def get_():
180          try:
181              cm = cmd.split(maxsplit=1)[1]
182          except IndexError:
183              await event.eor(&quot;-&gt;&gt; Wrong Format &lt;&lt;-&quot;)
184              cm = None
185          return cm
186      if spli[0] in [&quot;-s&quot;, &quot;--silent&quot;]:
187          await event.delete()
188          mode = &quot;silent&quot;
189      elif spli[0] in [&quot;-n&quot;, &quot;-noedit&quot;]:
190          mode = &quot;no-edit&quot;
191          xx = await event.reply(get_string(&quot;com_1&quot;))
192      elif spli[0] in [&quot;-gs&quot;, &quot;--source&quot;]:
193          mode = &quot;gsource&quot;
194      elif spli[0] in [&quot;-ga&quot;, &quot;--args&quot;]:
195          mode = &quot;g-args&quot;
196      if mode:
197          cmd = await get_()
198      if not cmd:
199          return
200      if not mode == &quot;silent&quot; and not xx:
201          xx = await event.eor(get_string(&quot;com_1&quot;))
202      if black:
203          try:
204              cmd = black.format_str(cmd, mode=black.Mode())
205          except BaseException:
206              pass
207      reply_to_id = event.reply_to_msg_id or event
208      if any(item in cmd for item in KEEP_SAFE().All) and (
209          not (event.out or event.sender_id == ultroid_bot.uid)
210      ):
211          warning = await event.forward_to(udB.get_key(&quot;LOG_CHANNEL&quot;))
212          await warning.reply(
213              f&quot;Malicious Activities suspected by {inline_mention(await event.get_sender())}&quot;
214          )
215          _ignore_eval.append(event.sender_id)
216          return await xx.edit(
217              &quot;`Malicious Activities suspected‚ö†Ô∏è!\nReported to owner. Aborted this request!`&quot;
218          )
219      old_stderr = sys.stderr
220      old_stdout = sys.stdout
221      redirected_output = sys.stdout = StringIO()
222      redirected_error = sys.stderr = StringIO()
223      stdout, stderr, exc, timeg = None, None, None, None
224      tima = time.time()
225      try:
226          value = await aexec(cmd, event)
227      except Exception:
228          value = None
229          exc = traceback.format_exc()
230      tima = time.time() - tima
231      stdout = redirected_output.getvalue()
232      stderr = redirected_error.getvalue()
233      sys.stdout = old_stdout
234      sys.stderr = old_stderr
235      if value:
236          try:
237              if mode == &quot;gsource&quot;:
238                  exc = inspect.getsource(value)
239              elif mode == &quot;g-args&quot;:
240                  args = inspect.signature(value).parameters.values()
241                  name = &quot;&quot;
242                  if hasattr(value, &quot;__name__&quot;):
243                      name = value.__name__
244                  exc = f&quot;**{name}**\n\n&quot; + &quot;\n &quot;.join([str(arg) for arg in args])
245          except Exception:
246              exc = traceback.format_exc()
247      evaluation = exc or stderr or stdout or _parse_eval(value) or get_string(&quot;instu_4&quot;)
248      if mode == &quot;silent&quot;:
249          if exc:
250              msg = f&quot;‚Ä¢ &lt;b&gt;EVAL ERROR\n\n‚Ä¢ CHAT:&lt;/b&gt; &lt;code&gt;{get_display_name(event.chat)}&lt;/code&gt; [&lt;code&gt;{event.chat_id}&lt;/code&gt;]&quot;
251              msg += f&quot;\n\n‚àÜ &lt;b&gt;CODE:&lt;/b&gt;\n&lt;code&gt;{cmd}&lt;/code&gt;\n\n‚àÜ &lt;b&gt;ERROR:&lt;/b&gt;\n&lt;code&gt;{exc}&lt;/code&gt;&quot;
252              log_chat = udB.get_key(&quot;LOG_CHANNEL&quot;)
253              if len(msg) &gt; 4000:
254                  with BytesIO(msg.encode()) as out_file:
255                      out_file.name = &quot;Eval-Error.txt&quot;
256                  return await event.client.send_message(
257                      log_chat, f&quot;`{cmd}`&quot;, file=out_file
258                  )
259              await event.client.send_message(log_chat, msg, parse_mode=&quot;html&quot;)
260          return
261      tmt = tima * 1000
262      timef = time_formatter(tmt)
263      timeform = timef if not timef == &quot;0s&quot; else f&quot;{tmt:.3f}ms&quot;
264      final_output = &quot;__‚ñ∫__ **EVAL** (__in {}__)\n```{}``` \n\n __‚ñ∫__ **OUTPUT**: \n```{}``` \n&quot;.format(
265          timeform,
266          cmd,
267          evaluation,
268      )
269      if len(final_output) &gt; 4096:
270          final_output = evaluation
271          with BytesIO(str.encode(final_output)) as out_file:
272              out_file.name = &quot;eval.txt&quot;
273              await event.client.send_file(
274                  event.chat_id,
275                  out_file,
276                  force_document=True,
277                  thumb=ULTConfig.thumb,
278                  allow_cache=False,
279                  caption=f&quot;```{cmd}```&quot; if len(cmd) &lt; 998 else None,
280                  reply_to=reply_to_id,
281              )
282          return await xx.delete()
283      await xx.edit(final_output)
284  def _stringify(text=None, *args, **kwargs):
285      if text:
286          u._ = text
287          text = _parse_eval(text)
288      return print(text, *args, **kwargs)
289  async def aexec(code, event):
290      exec(
291          (
292              &quot;async def __aexec(e, client): &quot;
293              + &quot;\n print = p = _stringify&quot;
294              + &quot;\n message = event = e&quot;
295              + &quot;\n u.r = reply = await event.get_reply_message()&quot;
296              + &quot;\n chat = event.chat_id&quot;
297              + &quot;\n u.lr = locals()&quot;
298          )
299          + &quot;&quot;.join(f&quot;\n {l}&quot; for l in code.split(&quot;\n&quot;))
300      )
301      return await locals()[&quot;__aexec&quot;](event, event.client)
302  DUMMY_CPP = 
303  @ultroid_cmd(pattern=&quot;cpp&quot;, only_devs=True)
304  async def doie(e):
305      match = e.text.split(&quot; &quot;, maxsplit=1)
306      try:
307          match = match[1]
308      except IndexError:
309          return await e.eor(get_string(&quot;devs_3&quot;))
310      msg = await e.eor(get_string(&quot;com_1&quot;))
311      if &quot;main(&quot; not in match:
312          new_m = &quot;&quot;.join(&quot; &quot; * 4 + i + &quot;\n&quot; for i in match.split(&quot;\n&quot;))
313          match = DUMMY_CPP.replace(&quot;!code&quot;, new_m)
314      open(&quot;cpp-ultroid.cpp&quot;, &quot;w&quot;).write(match)
315      m = await bash(&quot;g++ -o CppUltroid cpp-ultroid.cpp&quot;)
316      o_cpp = f&quot;‚Ä¢ **Eval-Cpp**\n`{match}`&quot;
317      if m[1]:
318          o_cpp += f&quot;\n\n**‚Ä¢ Error :**\n`{m[1]}`&quot;
319          if len(o_cpp) &gt; 3000:
320              os.remove(&quot;cpp-ultroid.cpp&quot;)
321              if os.path.exists(&quot;CppUltroid&quot;):
322                  os.remove(&quot;CppUltroid&quot;)
323              with BytesIO(str.encode(o_cpp)) as out_file:
324                  out_file.name = &quot;error.txt&quot;
325                  return await msg.reply(f&quot;`{match}`&quot;, file=out_file)
326          return await eor(msg, o_cpp)
327      m = await bash(&quot;./CppUltroid&quot;)
328      if m[0] != &quot;&quot;:
329          o_cpp += f&quot;\n\n**‚Ä¢ Output :**\n`{m[0]}`&quot;
330      if m[1]:
331          o_cpp += f&quot;\n\n**‚Ä¢ Error :**\n`{m[1]}`&quot;
332      if len(o_cpp) &gt; 3000:
333          with BytesIO(str.encode(o_cpp)) as out_file:
334              out_file.name = &quot;eval.txt&quot;
335              await msg.reply(f&quot;`{match}`&quot;, file=out_file)
336      else:
337          await eor(msg, o_cpp)
338      os.remove(&quot;CppUltroid&quot;)
339      os.remove(&quot;cpp-ultroid.cpp&quot;)
</code></pre>
        </div>
        <div class="column">
            <h3>Ultroid-MDEwOlJlcG9zaXRvcnkzNDEwMzg2MDI=-flat-bot.py</h3>
            <pre><code>1  from . import get_help
2  __doc__ = get_help(&quot;help_bot&quot;)
3  import os
4  import sys
5  import time
6  from platform import python_version as pyver
7  from random import choice
8  from telethon import __version__
9  from telethon.errors.rpcerrorlist import (
10      BotMethodInvalidError,
11      ChatSendMediaForbiddenError,
12  )
13  from pyUltroid.version import __version__ as UltVer
14  from . import HOSTED_ON, LOGS
15  try:
16      from git import Repo
17  except ImportError:
18      LOGS.error(&quot;bot: &#x27;gitpython&#x27; module not found!&quot;)
19      Repo = None
20  from telethon.utils import resolve_bot_file_id
21  from . import (
22      ATRA_COL,
23      LOGS,
24      OWNER_NAME,
25      ULTROID_IMAGES,
26      Button,
27      Carbon,
28      Telegraph,
29      Var,
30      allcmds,
31      asst,
32      bash,
33      call_back,
34      callback,
35      def_logs,
36      eor,
37      get_string,
38      heroku_logs,
39      in_pattern,
40      inline_pic,
41      restart,
42      shutdown,
43      start_time,
44      time_formatter,
45      udB,
46      ultroid_cmd,
47      ultroid_version,
48      updater,
49  )
50  def ULTPIC():
51      return inline_pic() or choice(ULTROID_IMAGES)
52  buttons = [
53      [
54          Button.url(get_string(&quot;bot_3&quot;), &quot;https://github.com/TeamUltroid/Ultroid&quot;),
55          Button.url(get_string(&quot;bot_4&quot;), &quot;t.me/UltroidSupportChat&quot;),
56      ]
57  ]
58  alive_txt = 
59  in_alive = &quot;{}\n\nüåÄ &lt;b&gt;Ultroid Version -&gt;&lt;b&gt; &lt;code&gt;{}&lt;/code&gt;\nüåÄ &lt;b&gt;PyUltroid -&gt;&lt;/b&gt; &lt;code&gt;{}&lt;/code&gt;\nüåÄ &lt;b&gt;Python -&gt;&lt;/b&gt; &lt;code&gt;{}&lt;/code&gt;\nüåÄ &lt;b&gt;Uptime -&gt;&lt;/b&gt; &lt;code&gt;{}&lt;/code&gt;\nüåÄ &lt;b&gt;Branch -&gt;&lt;/b&gt;[ {} ]\n\n‚Ä¢ &lt;b&gt;Join @TeamUltroid&lt;/b&gt;&quot;
60  @callback(&quot;alive&quot;)
61  async def alive(event):
62      text = alive_txt.format(ultroid_version, UltVer, __version__)
63      await event.answer(text, alert=True)
64  @ultroid_cmd(
65      pattern=&quot;alive( (.*)|$)&quot;,
66  )
67  async def lol(ult):
68      match = ult.pattern_match.group(1).strip()
69      inline = None
70      if match in [&quot;inline&quot;, &quot;i&quot;]:
71          try:
72              res = await ult.client.inline_query(asst.me.username, &quot;alive&quot;)
73              return await res[0].click(ult.chat_id)
74          except BotMethodInvalidError:
75              pass
76          except BaseException as er:
77              LOGS.exception(er)
78          inline = True
79      pic = udB.get_key(&quot;ALIVE_PIC&quot;)
80      if isinstance(pic, list):
81          pic = choice(pic)
82      uptime = time_formatter((time.time() - start_time) * 1000)
83      header = udB.get_key(&quot;ALIVE_TEXT&quot;) or get_string(&quot;bot_1&quot;)
84      y = Repo().active_branch
85      xx = Repo().remotes[0].config_reader.get(&quot;url&quot;)
86      rep = xx.replace(&quot;.git&quot;, f&quot;/tree/{y}&quot;)
87      kk = f&quot; `[{y}]({rep})` &quot;
88      if inline:
89          kk = f&quot;&lt;a href={rep}&gt;{y}&lt;/a&gt;&quot;
90          parse = &quot;html&quot;
91          als = in_alive.format(
92              header,
93              f&quot;{ultroid_version} [{HOSTED_ON}]&quot;,
94              UltVer,
95              pyver(),
96              uptime,
97              kk,
98          )
99          if _e := udB.get_key(&quot;ALIVE_EMOJI&quot;):
100              als = als.replace(&quot;üåÄ&quot;, _e)
101      else:
102          parse = &quot;md&quot;
103          als = (get_string(&quot;alive_1&quot;)).format(
104              header,
105              OWNER_NAME,
106              f&quot;{ultroid_version} [{HOSTED_ON}]&quot;,
107              UltVer,
108              uptime,
109              pyver(),
110              __version__,
111              kk,
112          )
113          if a := udB.get_key(&quot;ALIVE_EMOJI&quot;):
114              als = als.replace(&quot;‚úµ&quot;, a)
115      if pic:
116          try:
117              await ult.reply(
118                  als,
119                  file=pic,
120                  parse_mode=parse,
121                  link_preview=False,
122                  buttons=buttons if inline else None,
123              )
124              return await ult.try_delete()
125          except ChatSendMediaForbiddenError:
126              pass
127          except BaseException as er:
128              LOGS.exception(er)
129              try:
130                  await ult.reply(file=pic)
131                  await ult.reply(
132                      als,
133                      parse_mode=parse,
134                      buttons=buttons if inline else None,
135                      link_preview=False,
136                  )
137                  return await ult.try_delete()
138              except BaseException as er:
139                  LOGS.exception(er)
140      await eor(
141          ult,
142          als,
143          parse_mode=parse,
144          link_preview=False,
145          buttons=buttons if inline else None,
146      )
147  @ultroid_cmd(pattern=&quot;ping$&quot;, chats=[], type=[&quot;official&quot;, &quot;assistant&quot;])
148  async def _(event):
149      start = time.time()
150      x = await event.eor(&quot;Pong !&quot;)
151      end = round((time.time() - start) * 1000)
152      uptime = time_formatter((time.time() - start_time) * 1000)
153      await x.edit(get_string(&quot;ping&quot;).format(end, uptime))
154  @ultroid_cmd(
155      pattern=&quot;cmds$&quot;,
156  )
157  async def cmds(event):
158      await allcmds(event, Telegraph)
159  heroku_api = Var.HEROKU_API
160  @ultroid_cmd(
161      pattern=&quot;restart$&quot;,
162      fullsudo=True,
163  )
164  async def restartbt(ult):
165      ok = await ult.eor(get_string(&quot;bot_5&quot;))
166      call_back()
167      who = &quot;bot&quot; if ult.client._bot else &quot;user&quot;
168      udB.set_key(&quot;_RESTART&quot;, f&quot;{who}_{ult.chat_id}_{ok.id}&quot;)
169      if heroku_api:
170          return await restart(ok)
171      await bash(&quot;git pull &amp;&amp; pip3 install -r requirements.txt&quot;)
172      if len(sys.argv) &gt; 1:
173          os.execl(sys.executable, sys.executable, &quot;main.py&quot;)
174      else:
175          os.execl(sys.executable, sys.executable, &quot;-m&quot;, &quot;pyUltroid&quot;)
176  @ultroid_cmd(
177      pattern=&quot;shutdown$&quot;,
178      fullsudo=True,
179  )
180  async def shutdownbot(ult):
181      await shutdown(ult)
182  @ultroid_cmd(
183      pattern=&quot;logs( (.*)|$)&quot;,
184      chats=[],
185  )
186  async def _(event):
187      opt = event.pattern_match.group(1).strip()
188      file = f&quot;ultroid{sys.argv[-1]}.log&quot; if len(sys.argv) &gt; 1 else &quot;ultroid.log&quot;
189      if opt == &quot;heroku&quot;:
190          await heroku_logs(event)
191      elif opt == &quot;carbon&quot; and Carbon:
192          event = await event.eor(get_string(&quot;com_1&quot;))
193          with open(file, &quot;r&quot;) as f:
194              code = f.read()[-2500:]
195          file = await Carbon(
196              file_name=&quot;ultroid-logs&quot;,
197              code=code,
<span onclick='openModal()' class='match'>198              backgroundColor=choice(ATRA_COL),
199          )
200          if isinstance(file, dict):
201              await event.eor(f&quot;`{file}`&quot;)
202              return
203          await event.reply(&quot;**Ultroid Logs.**&quot;, file=file)
</span>204      elif opt == &quot;open&quot;:
205          with open(&quot;ultroid.log&quot;, &quot;r&quot;) as f:
206              file = f.read()[-4000:]
207          return await event.eor(f&quot;`{file}`&quot;)
208      else:
209          await def_logs(event, file)
210      await event.try_delete()
211  @in_pattern(&quot;alive&quot;, owner=True)
212  async def inline_alive(ult):
213      pic = udB.get_key(&quot;ALIVE_PIC&quot;)
214      if isinstance(pic, list):
215          pic = choice(pic)
216      uptime = time_formatter((time.time() - start_time) * 1000)
217      header = udB.get_key(&quot;ALIVE_TEXT&quot;) or get_string(&quot;bot_1&quot;)
218      y = Repo().active_branch
219      xx = Repo().remotes[0].config_reader.get(&quot;url&quot;)
220      rep = xx.replace(&quot;.git&quot;, f&quot;/tree/{y}&quot;)
221      kk = f&quot;&lt;a href={rep}&gt;{y}&lt;/a&gt;&quot;
222      als = in_alive.format(
223          header, f&quot;{ultroid_version} [{HOSTED_ON}]&quot;, UltVer, pyver(), uptime, kk
224      )
225      if _e := udB.get_key(&quot;ALIVE_EMOJI&quot;):
226          als = als.replace(&quot;üåÄ&quot;, _e)
227      builder = ult.builder
228      if pic:
229          try:
230              if &quot;.jpg&quot; in pic:
231                  results = [
232                      await builder.photo(
233                          pic, text=als, parse_mode=&quot;html&quot;, buttons=buttons
234                      )
235                  ]
236              else:
237                  if _pic := resolve_bot_file_id(pic):
238                      pic = _pic
239                      buttons.insert(
240                          0, [Button.inline(get_string(&quot;bot_2&quot;), data=&quot;alive&quot;)]
241                      )
242                  results = [
243                      await builder.document(
244                          pic,
245                          title=&quot;Inline Alive&quot;,
246                          description=&quot;@TeamUltroid&quot;,
247                          parse_mode=&quot;html&quot;,
248                          buttons=buttons,
249                      )
250                  ]
251              return await ult.answer(results)
252          except BaseException as er:
253              LOGS.exception(er)
254      result = [
255          await builder.article(
256              &quot;Alive&quot;, text=als, parse_mode=&quot;html&quot;, link_preview=False, buttons=buttons
257          )
258      ]
259      await ult.answer(result)
260  @ultroid_cmd(pattern=&quot;update( (.*)|$)&quot;)
261  async def _(e):
262      xx = await e.eor(get_string(&quot;upd_1&quot;))
263      if e.pattern_match.group(1).strip() and (
264          &quot;fast&quot; in e.pattern_match.group(1).strip()
265          or &quot;soft&quot; in e.pattern_match.group(1).strip()
266      ):
267          await bash(&quot;git pull -f &amp;&amp; pip3 install -r requirements.txt&quot;)
268          call_back()
269          await xx.edit(get_string(&quot;upd_7&quot;))
270          os.execl(sys.executable, &quot;python3&quot;, &quot;-m&quot;, &quot;pyUltroid&quot;)
271      m = await updater()
272      branch = (Repo.init()).active_branch
273      if m:
274          x = await asst.send_file(
275              udB.get_key(&quot;LOG_CHANNEL&quot;),
276              ULTPIC(),
277              caption=&quot;‚Ä¢ **Update Available** ‚Ä¢&quot;,
278              force_document=False,
279              buttons=Button.inline(&quot;Changelogs&quot;, data=&quot;changes&quot;),
280          )
281          Link = x.message_link
282          await xx.edit(
283              f&#x27;&lt;strong&gt;&lt;a href=&quot;{Link}&quot;&gt;[ChangeLogs]&lt;/a&gt;&lt;/strong&gt;&#x27;,
284              parse_mode=&quot;html&quot;,
285              link_preview=False,
286          )
287      else:
288          await xx.edit(
289              f&#x27;&lt;code&gt;Your BOT is &lt;/code&gt;&lt;strong&gt;up-to-date&lt;/strong&gt;&lt;code&gt; with &lt;/code&gt;&lt;strong&gt;&lt;a href=&quot;https://github.com/TeamUltroid/Ultroid/tree/{branch}&quot;&gt;[{branch}]&lt;/a&gt;&lt;/strong&gt;&#x27;,
290              parse_mode=&quot;html&quot;,
291              link_preview=False,
292          )
293  @callback(&quot;updtavail&quot;, owner=True)
294  async def updava(event):
295      await event.delete()
296      await asst.send_file(
297          udB.get_key(&quot;LOG_CHANNEL&quot;),
298          ULTPIC(),
299          caption=&quot;‚Ä¢ **Update Available** ‚Ä¢&quot;,
300          force_document=False,
301          buttons=Button.inline(&quot;Changelogs&quot;, data=&quot;changes&quot;),
302      )
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from Ultroid-MDEwOlJlcG9zaXRvcnkzNDEwMzg2MDI=-flat-devtools.py</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from Ultroid-MDEwOlJlcG9zaXRvcnkzNDEwMzg2MDI=-flat-bot.py</div>
                </div>
                <div class="column column_space"><pre><code>75                  backgroundColor=choice(ATRA_COL),
76              )
77              if isinstance(li, dict):
78                  await xx.edit(
79                      f&quot;Unknown Response from Carbon: `{li}`\n\nstdout`:{stdout}`\nstderr: `{stderr}`&quot;
80                  )
81                  return
82              url = f&quot;https://graph.org{uf(li)[-1]}&quot;
</pre></code></div>
                <div class="column column_space"><pre><code>198              backgroundColor=choice(ATRA_COL),
199          )
200          if isinstance(file, dict):
201              await event.eor(f&quot;`{file}`&quot;)
202              return
203          await event.reply(&quot;**Ultroid Logs.**&quot;, file=file)
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    