
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 6.256517205422315%, Tokens: 9, <button onclick='openModal()' class='match'></button></h2>
        <div class="column">
            <h3>Ultroid-MDEwOlJlcG9zaXRvcnkzNDEwMzg2MDI=-flat-channelhacks.py</h3>
            <pre><code>1  from . import get_help
2  __doc__ = get_help("help_channelhacks")
3  import asyncio
4  import io
5  from telethon.errors.rpcerrorlist import FloodWaitError
6  from telethon.utils import get_display_name, get_peer_id
7  from pyUltroid.dB.base import KeyManager
8  from . import LOGS, asst, eor, events, get_string, udB, ultroid_bot, ultroid_cmd
9  ERROR = {}
10  SourceM = KeyManager("CH_SOURCE", cast=list)
11  DestiM = KeyManager("CH_DESTINATIONS", cast=list)
12  async def autopost_func(e):
13      if not udB.get_key("AUTOPOST"):
14          return
15      x = SourceM.get()
16      th = await e.get_chat()
17      if get_peer_id(th) not in x:
18          return
19      y = DestiM.get()
20      for ys in y:
21          try:
22              await e.client.send_message(int(ys), e.message)
23          except Exception as ex:
24              try:
25                  ERROR[str(ex)]
26              except KeyError:
27                  ERROR.update({str(ex): ex})
28                  Error = f"**Error on AUTOPOST**\n\n`{ex}`"
29                  await asst.send_message(udB.get_key("LOG_CHANNEL"), Error)
30  @ultroid_cmd(pattern="shift (.*)")
31  async def _(e):
32      x = e.pattern_match.group(1).strip()
33      z = await e.eor(get_string("com_1"))
34      a, b = x.split("|")
35      try:
36          c = await e.client.parse_id(a)
37      except Exception:
38          await z.edit(get_string("cha_1"))
39          return
40      try:
41          d = await e.client.parse_id(b)
42      except Exception as er:
43          LOGS.exception(er)
44          await z.edit(get_string("cha_1"))
45          return
46      async for msg in e.client.iter_messages(int(c), reverse=True):
47          try:
48              await asyncio.sleep(2)
49              await e.client.send_message(int(d), msg)
50          except FloodWaitError as er:
51              await asyncio.sleep(er.seconds + 5)
52              await e.client.send_message(int(d), msg)
53          except BaseException as er:
54              LOGS.exception(er)
55      await z.edit("Done")
56  @ultroid_cmd(pattern="asource (.*)")
57  async def source(e):
58      if x := e.pattern_match.group(1).strip():
59          try:
60              y = await e.client.parse_id(x)
61          except Exception as er:
62              LOGS.exception(er)
63              return
64      else:
65          y = e.chat_id
66      if not SourceM.contains(y):
67          SourceM.add(y)
68          await e.eor(get_string("cha_2"))
69          ultroid_bot.add_handler(autopost_func, events.NewMessage())
70      else:
71          await e.eor(get_string("cha_3"))
72  @ultroid_cmd(pattern="dsource( (.*)|$)")
73  async def dd(event):
74      chat_id = event.pattern_match.group(1).strip()
75      x = await event.eor(get_string("com_1"))
76      if chat_id == "all":
77          await x.edit(get_string("bd_8"))
78          udB.del_key("CH_SOURCE")
79          await x.edit(get_string("cha_4"))
80          return
81      if chat_id:
82          try:
83              y = await event.client.parse_id(chat_id)
84          except Exception as er:
85              LOGS.exception(er)
86              return
87      else:
88          y = event.chat_id
89      if SourceM.contains(y):
90          SourceM.remove(y)
91          await eor(x, get_string("cha_5"), time=5)
92      else:
93          await eor(x, "Source channel is already removed from database. ", time=3)
94  @ultroid_cmd(pattern="listsource")
95  async def list_all(event):
96      x = await event.eor(get_string("com_1"))
97      num = SourceM.count()
98      if not num:
99          return await eor(x, "No chats were added.", time=5)
100      msg = get_string("cha_8")
101      channels = SourceM.get()
102      for channel in channels:
103          name = ""
104          try:
105              name = get_display_name(await event.client.get_entity(int(channel)))
106          except BaseException:
107              name = ""
108          msg += f"\n=> **{name}** [`{channel}`]"
109      msg += f"\nTotal {num} channels."
110      if len(msg) > 4096:
111          MSG = msg.replace("*", "").replace("`", "")
112          with io.BytesIO(str.encode(MSG)) as out_file:
113              out_file.name = "channels.txt"
114              await event.reply(
115                  "Channels in database",
116                  file=out_file,
117                  force_document=True,
118                  allow_cache=False,
119              )
120              await x.delete()
121      else:
122          await x.edit(msg)
123  @ultroid_cmd(pattern="adest (.*)")
124  async def destination(e):
125      if x := e.pattern_match.group(1).strip():
126          try:
127              y = await e.client.parse_id(x)
128          except Exception as er:
129              LOGS.exception(er)
130              return
131      else:
132          y = e.chat_id
133      if not DestiM.contains(y):
134          DestiM.add(y)
135          await e.eor("Destination added succesfully")
136      else:
137          await e.eor("Destination channel already added")
138  @ultroid_cmd(pattern="ddest( (.*)|$)")
139  async def dd(event):
<span onclick='openModal()' class='match'>140      chat_id = event.pattern_match.group(1).strip()
141      x = await event.eor(get_string("com_1"))
142      if chat_id == "all":
143          await x.edit(get_string("bd_8"))
</span>144          udB.del_key("CH_DESTINATION")
145          await x.edit("Destinations database cleared.")
146          return
147      if chat_id:
148          try:
149              y = await event.client.parse_id(chat_id)
150          except Exception as er:
151              LOGS.exception(er)
152              return
153      else:
154          y = event.chat_id
155      if DestiM.contains(y):
156          DestiM.remove(y)
157          await eor(x, "Destination removed from database")
158      else:
159          await eor(x, "Destination channel is already removed from database. ", time=5)
160  @ultroid_cmd(pattern="listdest")
161  async def list_all(event):
162      ultroid_bot = event.client
163      x = await event.eor(get_string("com_1"))
164      channels = DestiM.get()
165      num = len(channels)
166      if not num:
167          return await eor(x, "No chats were added.", time=5)
168      msg = get_string("cha_7")
169      for channel in channels:
170          name = ""
171          try:
172              name = get_display_name(await ultroid_bot.get_entity(int(channel)))
173          except BaseException:
174              name = ""
175          msg += f"\n=> **{name}** [`{channel}`]"
176      msg += f"\nTotal {num} channels."
177      if len(msg) > 4096:
178          MSG = msg.replace("*", "").replace("`", "")
179          with io.BytesIO(str.encode(MSG)) as out_file:
180              out_file.name = "channels.txt"
181              await ultroid_bot.send_file(
182                  event.chat_id,
183                  out_file,
184                  force_document=True,
185                  allow_cache=False,
186                  caption="Destination channels in database",
187                  reply_to=event,
188              )
189              await x.delete()
190      else:
191          await x.edit(msg)
192  if udB.get_key("AUTOPOST"):
193      ultroid_bot.add_handler(autopost_func, events.NewMessage())
</code></pre>
        </div>
        <div class="column">
            <h3>google-api-python-client-MDEwOlJlcG9zaXRvcnkxNTc0OTI2OQ==-flat-management_v3_reference.py</h3>
            <pre><code>1  #!/usr/bin/python
2  from __future__ import print_function
3  __author__ = "api.nickm@gmail.com (Nick Mihailovski)"
4  import sys
5  from googleapiclient.errors import HttpError
6  from googleapiclient import sample_tools
7  from oauth2client.client import AccessTokenRefreshError
8  def main(argv):
9      service, flags = sample_tools.init(
10          argv,
11          "analytics",
12          "v3",
13          __doc__,
14          __file__,
15          scope="https://www.googleapis.com/auth/analytics.readonly",
16      )
17      try:
18          traverse_hierarchy(service)
19      except TypeError as error:
20          print(("There was an error in constructing your query : %s" % error))
21      except HttpError as error:
22          print(
23              (
24                  "Arg, there was an API error : %s : %s"
25                  % (error.resp.status, error._get_reason())
26              )
27          )
28      except AccessTokenRefreshError:
29          print(
30              "The credentials have been revoked or expired, please re-run"
31              "the application to re-authorize"
32          )
33  def traverse_hierarchy(service):
34      accounts = service.management().accounts().list().execute()
35      print_accounts(accounts)
36      if accounts.get("items"):
37          firstAccountId = accounts.get("items")[0].get("id")
38          webproperties = (
39              service.management()
40              .webproperties()
41              .list(accountId=firstAccountId)
42              .execute()
43          )
44          print_webproperties(webproperties)
45          if webproperties.get("items"):
46              firstWebpropertyId = webproperties.get("items")[0].get("id")
47              profiles = (
48                  service.management()
49                  .profiles()
50                  .list(accountId=firstAccountId, webPropertyId=firstWebpropertyId)
51                  .execute()
52              )
53              print_profiles(profiles)
54              if profiles.get("items"):
55                  firstProfileId = profiles.get("items")[0].get("id")
56                  goals = (
57                      service.management()
58                      .goals()
59                      .list(
60                          accountId=firstAccountId,
61                          webPropertyId=firstWebpropertyId,
62                          profileId=firstProfileId,
63                      )
64                      .execute()
65                  )
66                  print_goals(goals)
67      print_segments(service.management().segments().list().execute())
68  def print_accounts(accounts_response):
69      print("------ Account Collection -------")
70      print_pagination_info(accounts_response)
71      print()
72      for account in accounts_response.get("items", []):
73          print("Account ID      = %s" % account.get("id"))
74          print("Kind            = %s" % account.get("kind"))
75          print("Self Link       = %s" % account.get("selfLink"))
76          print("Account Name    = %s" % account.get("name"))
77          print("Created         = %s" % account.get("created"))
78          print("Updated         = %s" % account.get("updated"))
79          child_link = account.get("childLink")
80          print("Child link href = %s" % child_link.get("href"))
81          print("Child link type = %s" % child_link.get("type"))
82          print()
83      if not accounts_response.get("items"):
84          print("No accounts found.\n")
85  def print_webproperties(webproperties_response):
86      print("------ Web Properties Collection -------")
87      print_pagination_info(webproperties_response)
88      print()
89      for webproperty in webproperties_response.get("items", []):
90          print("Kind               = %s" % webproperty.get("kind"))
91          print("Account ID         = %s" % webproperty.get("accountId"))
92          print("Web Property ID    = %s" % webproperty.get("id"))
93          print(
94              ("Internal Web Property ID = %s" % webproperty.get("internalWebPropertyId"))
95          )
96          print("Website URL        = %s" % webproperty.get("websiteUrl"))
97          print("Created            = %s" % webproperty.get("created"))
98          print("Updated            = %s" % webproperty.get("updated"))
99          print("Self Link          = %s" % webproperty.get("selfLink"))
100          parent_link = webproperty.get("parentLink")
101          print("Parent link href   = %s" % parent_link.get("href"))
102          print("Parent link type   = %s" % parent_link.get("type"))
103          child_link = webproperty.get("childLink")
104          print("Child link href    = %s" % child_link.get("href"))
105          print("Child link type    = %s" % child_link.get("type"))
106          print()
107      if not webproperties_response.get("items"):
108          print("No webproperties found.\n")
109  def print_profiles(profiles_response):
110      print("------ Profiles Collection -------")
111      print_pagination_info(profiles_response)
112      print()
113      for profile in profiles_response.get("items", []):
114          print("Kind                      = %s" % profile.get("kind"))
115          print("Account ID                = %s" % profile.get("accountId"))
116          print("Web Property ID           = %s" % profile.get("webPropertyId"))
117          print(("Internal Web Property ID = %s" % profile.get("internalWebPropertyId")))
118          print("Profile ID                = %s" % profile.get("id"))
119          print("Profile Name              = %s" % profile.get("name"))
120          print("Currency         = %s" % profile.get("currency"))
121          print("Timezone         = %s" % profile.get("timezone"))
122          print("Default Page     = %s" % profile.get("defaultPage"))
123          print(
124              (
125                  "Exclude Query Parameters        = %s"
126                  % profile.get("excludeQueryParameters")
127              )
128          )
129          print(
130              (
131                  "Site Search Category Parameters = %s"
132                  % profile.get("siteSearchCategoryParameters")
133              )
134          )
135          print(
136              (
137                  "Site Search Query Parameters    = %s"
138                  % profile.get("siteSearchQueryParameters")
139              )
140          )
141          print("Created          = %s" % profile.get("created"))
142          print("Updated          = %s" % profile.get("updated"))
143          print("Self Link        = %s" % profile.get("selfLink"))
144          parent_link = profile.get("parentLink")
145          print("Parent link href = %s" % parent_link.get("href"))
146          print("Parent link type = %s" % parent_link.get("type"))
147          child_link = profile.get("childLink")
148          print("Child link href  = %s" % child_link.get("href"))
149          print("Child link type  = %s" % child_link.get("type"))
150          print()
151      if not profiles_response.get("items"):
152          print("No profiles found.\n")
153  def print_goals(goals_response):
154      print("------ Goals Collection -------")
155      print_pagination_info(goals_response)
156      print()
157      for goal in goals_response.get("items", []):
158          print("Goal ID     = %s" % goal.get("id"))
159          print("Kind        = %s" % goal.get("kind"))
160          print("Self Link        = %s" % goal.get("selfLink"))
161          print("Account ID               = %s" % goal.get("accountId"))
162          print("Web Property ID          = %s" % goal.get("webPropertyId"))
163          print(("Internal Web Property ID = %s" % goal.get("internalWebPropertyId")))
164          print("Profile ID               = %s" % goal.get("profileId"))
165          print("Goal Name   = %s" % goal.get("name"))
166          print("Goal Value  = %s" % goal.get("value"))
167          print("Goal Active = %s" % goal.get("active"))
168          print("Goal Type   = %s" % goal.get("type"))
169          print("Created     = %s" % goal.get("created"))
170          print("Updated     = %s" % goal.get("updated"))
171          parent_link = goal.get("parentLink")
172          print("Parent link href = %s" % parent_link.get("href"))
173          print("Parent link type = %s" % parent_link.get("type"))
174          if goal.get("urlDestinationDetails"):
175              print_url_destination_goal_details(goal.get("urlDestinationDetails"))
176          elif goal.get("visitTimeOnSiteDetails"):
177              print_visit_time_on_site_goal_details(goal.get("visitTimeOnSiteDetails"))
178          elif goal.get("visitNumPagesDetails"):
179              print_visit_num_pages_goal_details(goal.get("visitNumPagesDetails"))
180          elif goal.get("eventDetails"):
181              print_event_goal_details(goal.get("eventDetails"))
182          print()
183      if not goals_response.get("items"):
184          print("No goals found.\n")
185  def print_url_destination_goal_details(goal_details):
186      print("------ Url Destination Goal -------")
187      print("Goal URL            = %s" % goal_details.get("url"))
188      print("Case Sensitive      = %s" % goal_details.get("caseSensitive"))
189      print("Match Type          = %s" % goal_details.get("matchType"))
190      print("First Step Required = %s" % goal_details.get("firstStepRequired"))
191      print("------ Url Destination Goal Steps -------")
192      for goal_step in goal_details.get("steps", []):
193          print("Step Number  = %s" % goal_step.get("number"))
194          print("Step Name    = %s" % goal_step.get("name"))
195          print("Step URL     = %s" % goal_step.get("url"))
196      if not goal_details.get("steps"):
197          print("No Steps Configured")
198  def print_visit_time_on_site_goal_details(goal_details):
199      print("------ Visit Time On Site Goal -------")
200      print("Comparison Type  = %s" % goal_details.get("comparisonType"))
201      print("comparison Value = %s" % goal_details.get("comparisonValue"))
202  def print_visit_num_pages_goal_details(goal_details):
203      print("------ Visit Num Pages Goal -------")
204      print("Comparison Type  = %s" % goal_details.get("comparisonType"))
205      print("comparison Value = %s" % goal_details.get("comparisonValue"))
206  def print_event_goal_details(goal_details):
207      print("------ Event Goal -------")
208      print("Use Event Value  = %s" % goal_details.get("useEventValue"))
<span onclick='openModal()' class='match'>209      for event_condition in goal_details.get("eventConditions", []):
210          event_type = event_condition.get("type")
211          print("Type             = %s" % event_type)
212          if event_type in ("CATEGORY", "ACTION", "LABEL"):
213              print("Match Type       = %s" % event_condition.get("matchType"))
</span>214              print("Expression       = %s" % event_condition.get("expression"))
215          else:  # VALUE type.
216              print("Comparison Type  = %s" % event_condition.get("comparisonType"))
217              print("Comparison Value = %s" % event_condition.get("comparisonValue"))
218  def print_segments(segments_response):
219      print("------ Segments Collection -------")
220      print_pagination_info(segments_response)
221      print()
222      for segment in segments_response.get("items", []):
223          print("Segment ID = %s" % segment.get("id"))
224          print("Kind       = %s" % segment.get("kind"))
225          print("Self Link  = %s" % segment.get("selfLink"))
226          print("Name       = %s" % segment.get("name"))
227          print("Definition = %s" % segment.get("definition"))
228          print("Created    = %s" % segment.get("created"))
229          print("Updated    = %s" % segment.get("updated"))
230          print()
231  def print_pagination_info(management_response):
232      print("Items per page = %s" % management_response.get("itemsPerPage"))
233      print("Total Results  = %s" % management_response.get("totalResults"))
234      print("Start Index    = %s" % management_response.get("startIndex"))
235      if management_response.get("previousLink"):
236          print("Previous Link  = %s" % management_response.get("previousLink"))
237      if management_response.get("nextLink"):
238          print("Next Link      = %s" % management_response.get("nextLink"))
239  if __name__ == "__main__":
240      main(sys.argv)
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from Ultroid-MDEwOlJlcG9zaXRvcnkzNDEwMzg2MDI=-flat-channelhacks.py</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from google-api-python-client-MDEwOlJlcG9zaXRvcnkxNTc0OTI2OQ==-flat-management_v3_reference.py</div>
                </div>
                <div class="column column_space"><pre><code>140      chat_id = event.pattern_match.group(1).strip()
141      x = await event.eor(get_string("com_1"))
142      if chat_id == "all":
143          await x.edit(get_string("bd_8"))
</pre></code></div>
                <div class="column column_space"><pre><code>209      for event_condition in goal_details.get("eventConditions", []):
210          event_type = event_condition.get("type")
211          print("Type             = %s" % event_type)
212          if event_type in ("CATEGORY", "ACTION", "LABEL"):
213              print("Match Type       = %s" % event_condition.get("matchType"))
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    