<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for test_vpc.py &amp; test_group.py</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for test_vpc.py &amp; test_group.py
      </h3>
<h1 align="center">
        18.7%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>test_vpc.py (32.112675%)<th>test_group.py (13.255814%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(39-66)<td><a href="#" name="0">(237-267)</a><td align="center"><font color="#ff0000">22</font>
<tr onclick='openModal("#f63526")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#f63526"><font color="#f63526">-</font><td><a href="#" name="1">(140-174)<td><a href="#" name="1">(267-314)</a><td align="center"><font color="#d00000">18</font>
<tr onclick='openModal("#980517")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#980517"><font color="#980517">-</font><td><a href="#" name="2">(101-120)<td><a href="#" name="2">(169-221)</a><td align="center"><font color="#d00000">18</font>
<tr onclick='openModal("#53858b")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#53858b"><font color="#53858b">-</font><td><a href="#" name="3">(84-98)<td><a href="#" name="3">(706-723)</a><td align="center"><font color="#b90000">16</font>
<tr onclick='openModal("#6cc417")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#6cc417"><font color="#6cc417">-</font><td><a href="#" name="4">(73-77)<td><a href="#" name="4">(224-228)</a><td align="center"><font color="#ad0000">15</font>
<tr onclick='openModal("#151b8d")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#151b8d"><font color="#151b8d">-</font><td><a href="#" name="5">(29-36)<td><a href="#" name="5">(733-758)</a><td align="center"><font color="#960000">13</font>
<tr onclick='openModal("#8c8774")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#8c8774"><font color="#8c8774">-</font><td><a href="#" name="6">(266-279)<td><a href="#" name="6">(333-338)</a><td align="center"><font color="#8b0000">12</font>
</td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>test_vpc.py</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 from tests.unit import unittest
2 from tests.unit import AWSMockServiceTestCase
3 from boto.vpc import VPCConnection, VPC
4 from boto.ec2.securitygroup import SecurityGroup
5 DESCRIBE_VPCS = b'''&lt;?xml version="1.0" encoding="UTF-8"?&gt;
6 &lt;DescribeVpcsResponse xmlns="http://ec2.amazonaws.com/doc/2013-02-01/"&gt;
7     &lt;requestId&gt;623040d1-b51c-40bc-8080-93486f38d03d&lt;/requestId&gt;
8     &lt;vpcSet&gt;
9         &lt;item&gt;
10             &lt;vpcId&gt;vpc-12345678&lt;/vpcId&gt;
11             &lt;state&gt;available&lt;/state&gt;
12             &lt;cidrBlock&gt;172.16.0.0/16&lt;/cidrBlock&gt;
13             &lt;dhcpOptionsId&gt;dopt-12345678&lt;/dhcpOptionsId&gt;
14             &lt;instanceTenancy&gt;default&lt;/instanceTenancy&gt;
15             &lt;isDefault&gt;false&lt;/isDefault&gt;
16         &lt;/item&gt;
17     &lt;/vpcSet&gt;
18 &lt;/DescribeVpcsResponse&gt;'''
19 class TestDescribeVPCs(AWSMockServiceTestCase):
20 <a name="5"></a>
21     connection_class = VPCConnection
22     <font color="#151b8d"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>def default_body(self):
23         return DESCRIBE_VPCS
24     def test_get_vpcs(self):
25         self.set_http_response(status_code=200)
26         api_response = self.service_connection.get_all_vpcs()
27 <a name="0"></a>        self.assertEqual(</b></font>len(api_response), 1)
28         vpc = api_response[0]
29         self.assertFalse(vpc<font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>.is_default)
30         self.assertEqual(vpc.instance_tenancy, 'default')
31 class TestCreateVpc(AWSMockServiceTestCase):
32     connection_class = VPCConnection
33     def default_body(self):
34         return b"""
35             &lt;CreateVpcResponse xmlns="http://ec2.amazonaws.com/doc/2013-10-01/"&gt;
36                &lt;requestId&gt;7a62c49f-347e-4fc4-9331-6e8eEXAMPLE&lt;/requestId&gt;
37                &lt;vpc&gt;
38                   &lt;vpcId&gt;vpc-1a2b3c4d&lt;/vpcId&gt;
39                   &lt;state&gt;pending&lt;/state&gt;
40                   &lt;cidrBlock&gt;10.0.0.0/16&lt;/cidrBlock&gt;
41                   &lt;dhcpOptionsId&gt;dopt-1a2b3c4d2&lt;/dhcpOptionsId&gt;
42                   &lt;instanceTenancy&gt;default&lt;/instanceTenancy&gt;
43                   &lt;tagSet/&gt;
44                &lt;/vpc&gt;
45             &lt;/CreateVpcResponse&gt;
46         """
47     def test_create_vpc(self):
48         self.set_http_response(status_code=200)
49         api_response = self.service_connection.create_vpc('10.0.0.0/16', 'default')
50         self.assert_request_parameters({
51             'Action'</b></font>: 'CreateVpc',
52             'InstanceTenancy': 'default',
53             'CidrBlock': '10.0.0.0/16'},
54             ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
55 <a name="4"></a>                                  'SignatureVersion', 'Timestamp',
56                                   'Version'])
57         self.assertIsInstance(api_response, VPC)
58         self<font color="#6cc417"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>.assertEquals(api_response.id, 'vpc-1a2b3c4d')
59         self.assertEquals(api_response.state, 'pending')
60         self.assertEquals(api_response.cidr_block, '10.0.0.0/16')
61         self.assertEquals(api_response.dhcp_options_id, 'dopt-1a2b3c4d2')
62         self.assertEquals(api_response.</b></font>instance_tenancy, 'default')
63 class TestDeleteVpc(AWSMockServiceTestCase):
64 <a name="3"></a>
65     connection_class = VPCConnection
66     <font color="#53858b"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>def default_body(self):
67         return b"""
68             &lt;DeleteVpcResponse xmlns="http://ec2.amazonaws.com/doc/2013-10-01/"&gt;
69                &lt;requestId&gt;7a62c49f-347e-4fc4-9331-6e8eEXAMPLE&lt;/requestId&gt;
70                &lt;return&gt;true&lt;/return&gt;
71             &lt;/DeleteVpcResponse&gt;
72         """
73     def test_delete_vpc(self):
74         self.set_http_response(status_code=200)
75         api_response = self.service_connection.delete_vpc('vpc-1a2b3c4d')
76         self.assert_request_parameters({
77             'Action': 'DeleteVpc',
78             'VpcId': 'vpc-1a2b3c4d'},
79 <a name="2"></a>            ignore_params_values=['AWSAccessKeyId'</b></font>, 'SignatureMethod',
80                                   'SignatureVersion', 'Timestamp',
81                                   'Version'])
82         self.assertEquals(<font color="#980517"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>api_response, True)
83 class TestModifyVpcAttribute(AWSMockServiceTestCase):
84     connection_class = VPCConnection
85     def default_body(self):
86         return b"""
87             &lt;ModifyVpcAttributeResponse xmlns="http://ec2.amazonaws.com/doc/2013-10-01/"&gt;
88                &lt;requestId&gt;7a62c49f-347e-4fc4-9331-6e8eEXAMPLE&lt;/requestId&gt;
89                &lt;return&gt;true&lt;/return&gt;
90             &lt;/ModifyVpcAttributeResponse&gt;
91         """
92     def test_modify_vpc_attribute_dns_support(self):
93         self.set_http_response(status_code=200)
94         api_response = self.service_connection.modify_vpc_attribute(
95             'vpc-1a2b3c4d', enable_dns_support=True)
96         self.assert_request_parameters(</b></font>{
97             'Action': 'ModifyVpcAttribute',
98             'VpcId': 'vpc-1a2b3c4d',
99             'EnableDnsSupport.Value': 'true'},
100             ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
101                                   'SignatureVersion', 'Timestamp',
102                                   'Version'])
103         self.assertEquals(api_response, True)
104     def test_modify_vpc_attribute_dns_hostnames(self):
105         self.set_http_response(status_code=200)
106         api_response = self.service_connection.modify_vpc_attribute(
107             'vpc-1a2b3c4d', enable_dns_hostnames=True)
108         self.assert_request_parameters({
109             'Action': 'ModifyVpcAttribute',
110             'VpcId': 'vpc-1a2b3c4d',
111             'EnableDnsHostnames.Value': 'true'},
112 <a name="1"></a>            ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
113                                   'SignatureVersion', 'Timestamp',
114                                   'Version'])
115         self.assertEquals(<font color="#f63526"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>api_response, True)
116 class TestGetAllClassicLinkVpc(AWSMockServiceTestCase):
117     connection_class = VPCConnection
118     def default_body(self):
119         return b"""
120             &lt;DescribeVpcClassicLinkResponse xmlns="http://ec2.amazonaws.com/doc/2014-09-01/"&gt;
121                 &lt;requestId&gt;2484655d-d669-4950-bf55-7ba559805d36&lt;/requestId&gt;
122                 &lt;vpcSet&gt;
123                     &lt;item&gt;
124                         &lt;vpcId&gt;vpc-6226ab07&lt;/vpcId&gt;
125                         &lt;classicLinkEnabled&gt;false&lt;/classicLinkEnabled&gt;
126                         &lt;tagSet&gt;
127                             &lt;item&gt;
128                                 &lt;key&gt;Name&lt;/key&gt;
129                                 &lt;value&gt;hello&lt;/value&gt;[
130                             &lt;/item&gt;
131                         &lt;/tagSet&gt;
132                     &lt;/item&gt;
133                     &lt;item&gt;
134                         &lt;vpcId&gt;vpc-9d24f8f8&lt;/vpcId&gt;
135                         &lt;classicLinkEnabled&gt;true&lt;/classicLinkEnabled&gt;
136                         &lt;tagSet/&gt;
137                     &lt;/item&gt;
138                 &lt;/vpcSet&gt;
139             &lt;/DescribeVpcClassicLinkResponse&gt;
140         """
141     def test_get_all_classic_link_vpcs(self):
142         self.set_http_response(status_code=200)
143         response = self.service_connection.get_all_classic_link_vpcs()
144         self.assertEqual(len(</b></font>response), 2)
145         vpc = response[0]
146         self.assertEqual(vpc.id, 'vpc-6226ab07')
147         self.assertEqual(vpc.classic_link_enabled, 'false')
148         self.assertEqual(vpc.tags, {'Name': 'hello'})
149     def test_get_all_classic_link_vpcs_params(self):
150         self.set_http_response(status_code=200)
151         self.service_connection.get_all_classic_link_vpcs(
152             vpc_ids=['id1', 'id2'],
153             filters={'GroupId': 'sg-9b4343fe'},
154             dry_run=True,
155         )
156         self.assert_request_parameters({
157             'Action': 'DescribeVpcClassicLink',
158             'VpcId.1': 'id1',
159             'VpcId.2': 'id2',
160             'Filter.1.Name': 'GroupId',
161             'Filter.1.Value.1': 'sg-9b4343fe',
162             'DryRun': 'true'},
163             ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
164                                   'SignatureVersion', 'Timestamp', 'Version'])
165 class TestVpcClassicLink(AWSMockServiceTestCase):
166     connection_class = VPCConnection
167     def setUp(self):
168         super(TestVpcClassicLink, self).setUp()
169         self.vpc = VPC(self.service_connection)
170         self.vpc_id = 'myid'
171         self.vpc.id = self.vpc_id
172 class TestAttachClassicLinkVpc(TestVpcClassicLink):
173     def default_body(self):
174         return b"""
175             &lt;AttachClassicLinkVpcResponse xmlns="http://ec2.amazonaws.com/doc/2014-09-01/"&gt;
176                 &lt;requestId&gt;88673bdf-cd16-40bf-87a1-6132fec47257&lt;/requestId&gt;
177                 &lt;return&gt;true&lt;/return&gt;
178             &lt;/AttachClassicLinkVpcResponse&gt;
179         """
180     def test_attach_classic_link_instance_string_groups(self):
181         groups = ['sg-foo', 'sg-bar']
182         self.set_http_response(status_code=200)
183         response = self.vpc.attach_classic_instance(
184             instance_id='my_instance_id',
185             groups=groups,
186             dry_run=True
187         )
188         self.assertTrue(response)
189         self.assert_request_parameters({
190             'Action': 'AttachClassicLinkVpc',
191             'VpcId': self.vpc_id,
192             'InstanceId': 'my_instance_id',
193             'SecurityGroupId.1': 'sg-foo',
194             'SecurityGroupId.2': 'sg-bar',
195             'DryRun': 'true'},
196             ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
197                                   'SignatureVersion', 'Timestamp', 'Version'])
198     def test_attach_classic_link_instance_object_groups(self):
199         sec_group_1 = SecurityGroup()
200         sec_group_1.id = 'sg-foo'
201         sec_group_2 = SecurityGroup()
202         sec_group_2.id = 'sg-bar'
203         groups = [sec_group_1, sec_group_2]
204         self.set_http_response(status_code=200)
205         response = self.vpc.attach_classic_instance(
206             instance_id='my_instance_id',
207             groups=groups,
208             dry_run=True
209         )
210         self.assertTrue(response)
211         self.assert_request_parameters({
212             'Action': 'AttachClassicLinkVpc',
213             'VpcId': self.vpc_id,
214             'InstanceId': 'my_instance_id',
215             'SecurityGroupId.1': 'sg-foo',
216             'SecurityGroupId.2': 'sg-bar',
217             'DryRun': 'true'},
218             ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
219                                   'SignatureVersion', 'Timestamp', 'Version'])
220 <a name="6"></a>
221 class TestDetachClassicLinkVpc(TestVpcClassicLink):
222     def default_body(self):
223         r<font color="#8c8774"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>eturn b"""
224             &lt;DetachClassicLinkVpcResponse xmlns="http://ec2.amazonaws.com/doc/2014-09-01/"&gt;
225                 &lt;requestId&gt;5565033d-1321-4eef-b121-6aa46f152ed7&lt;/requestId&gt;
226                 &lt;return&gt;true&lt;/return&gt;
227             &lt;/DetachClassicLinkVpcResponse&gt;
228         """
229     def test_detach_classic_link_instance(self):
230         self.set_http_response(status_code=200)
231         response = self.vpc.detach_classic_instance(
232             instance_id='my_instance_id',
233             dry_run=True
234         )
235         self.</b></font>assertTrue(response)
236         self.assert_request_parameters({
237             'Action': 'DetachClassicLinkVpc',
238             'VpcId': self.vpc_id,
239             'InstanceId': 'my_instance_id',
240             'DryRun': 'true'},
241             ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
242                                   'SignatureVersion', 'Timestamp', 'Version'])
243 class TestEnableClassicLinkVpc(TestVpcClassicLink):
244     def default_body(self):
245         return b"""
246             &lt;EnableVpcClassicLinkResponse xmlns="http://ec2.amazonaws.com/doc/2014-09-01/"&gt; 
247                 &lt;requestId&gt;4ab2b2b3-a267-4366-a070-bab853b5927d&lt;/requestId&gt;
248                 &lt;return&gt;true&lt;/return&gt;
249             &lt;/EnableVpcClassicLinkResponse&gt;
250         """
251     def test_enable_classic_link(self):
252         self.set_http_response(status_code=200)
253         response = self.vpc.enable_classic_link(
254             dry_run=True
255         )
256         self.assertTrue(response)
257         self.assert_request_parameters({
258             'Action': 'EnableVpcClassicLink',
259             'VpcId': self.vpc_id,
260             'DryRun': 'true'},
261             ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
262                                   'SignatureVersion', 'Timestamp', 'Version'])
263 class TestDisableClassicLinkVpc(TestVpcClassicLink):
264     def default_body(self):
265         return b"""
266             &lt;DisableVpcClassicLinkResponse xmlns="http://ec2.amazonaws.com/doc/2014-09-01/"&gt;
267                 &lt;requestId&gt;4ab2b2b3-a267-4366-a070-bab853b5927d&lt;/requestId&gt;
268                 &lt;return&gt;true&lt;/return&gt;
269             &lt;/DisableVpcClassicLinkResponse&gt;
270         """
271     def test_enable_classic_link(self):
272         self.set_http_response(status_code=200)
273         response = self.vpc.disable_classic_link(
274             dry_run=True
275         )
276         self.assertTrue(response)
277         self.assert_request_parameters({
278             'Action': 'DisableVpcClassicLink',
279             'VpcId': self.vpc_id,
280             'DryRun': 'true'},
281             ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
282                                   'SignatureVersion', 'Timestamp', 'Version'])
283 class TestUpdateClassicLinkVpc(TestVpcClassicLink):
284     def default_body(self):
285         return b"""
286             &lt;DescribeVpcClassicLinkResponse xmlns="http://ec2.amazonaws.com/doc/2014-09-01/"&gt;
287                 &lt;requestId&gt;2484655d-d669-4950-bf55-7ba559805d36&lt;/requestId&gt;
288                 &lt;vpcSet&gt;
289                     &lt;item&gt;
290                         &lt;vpcId&gt;myid&lt;/vpcId&gt;
291                         &lt;classicLinkEnabled&gt;true&lt;/classicLinkEnabled&gt;
292                          &lt;tagSet/&gt;
293                     &lt;/item&gt;
294                 &lt;/vpcSet&gt;
295             &lt;/DescribeVpcClassicLinkResponse&gt;
296         """
297     def test_vpc_update_classic_link_enabled(self):
298         self.vpc.classic_link_enabled = False
299         self.set_http_response(status_code=200)
300         self.vpc.update_classic_link_enabled(
301             dry_run=True,
302             validate=True
303         )
304         self.assert_request_parameters({
305             'Action': 'DescribeVpcClassicLink',
306             'VpcId.1': self.vpc_id,
307             'DryRun': 'true'},
308             ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
309                                   'SignatureVersion', 'Timestamp', 'Version'])
310         self.assertEqual(self.vpc.classic_link_enabled, 'true')
311 if __name__ == '__main__':
312     unittest.main()
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>test_group.py</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 import base64
2 from datetime import datetime
3 from tests.unit import unittest
4 from tests.unit import AWSMockServiceTestCase
5 from boto.ec2.autoscale import AutoScaleConnection
6 from boto.ec2.autoscale.group import AutoScalingGroup
7 from boto.ec2.autoscale.policy import ScalingPolicy
8 from boto.ec2.autoscale.tag import Tag
9 from boto.ec2.blockdevicemapping import EBSBlockDeviceType, BlockDeviceMapping
10 from boto.ec2.autoscale import launchconfig, LaunchConfiguration
11 class TestAutoScaleGroup(AWSMockServiceTestCase):
12     connection_class = AutoScaleConnection
13     def setUp(self):
14         super(TestAutoScaleGroup, self).setUp()
15     def default_body(self):
16         return b"""
17             &lt;CreateLaunchConfigurationResponse&gt;
18               &lt;ResponseMetadata&gt;
19                 &lt;RequestId&gt;requestid&lt;/RequestId&gt;
20               &lt;/ResponseMetadata&gt;
21             &lt;/CreateLaunchConfigurationResponse&gt;
22         """
23     def test_autoscaling_group_with_termination_policies(self):
24         self.set_http_response(status_code=200)
25         autoscale = AutoScalingGroup(
26             name='foo', launch_config='lauch_config',
27             min_size=1, max_size=2,
28             termination_policies=['OldestInstance', 'OldestLaunchConfiguration'],
29             instance_id='test-id')
30         self.service_connection.create_auto_scaling_group(autoscale)
31         self.assert_request_parameters({
32             'Action': 'CreateAutoScalingGroup',
33             'AutoScalingGroupName': 'foo',
34             'LaunchConfigurationName': 'lauch_config',
35             'MaxSize': 2,
36             'MinSize': 1,
37             'TerminationPolicies.member.1': 'OldestInstance',
38             'TerminationPolicies.member.2': 'OldestLaunchConfiguration',
39             'InstanceId': 'test-id',
40         }, ignore_params_values=['Version'])
41     def test_autoscaling_group_single_vpc_zone_identifier(self):
42         self.set_http_response(status_code=200)
43         autoscale = AutoScalingGroup(
44             name='foo',
45             vpc_zone_identifier='vpc_zone_1')
46         self.service_connection.create_auto_scaling_group(autoscale)
47         self.assert_request_parameters({
48             'Action': 'CreateAutoScalingGroup',
49             'AutoScalingGroupName': 'foo',
50             'VPCZoneIdentifier': 'vpc_zone_1',
51         }, ignore_params_values=['MaxSize', 'MinSize', 'LaunchConfigurationName', 'Version'])
52     def test_autoscaling_group_vpc_zone_identifier_list(self):
53         self.set_http_response(status_code=200)
54         autoscale = AutoScalingGroup(
55             name='foo',
56             vpc_zone_identifier=['vpc_zone_1', 'vpc_zone_2'])
57         self.service_connection.create_auto_scaling_group(autoscale)
58         self.assert_request_parameters({
59             'Action': 'CreateAutoScalingGroup',
60             'AutoScalingGroupName': 'foo',
61             'VPCZoneIdentifier': 'vpc_zone_1,vpc_zone_2',
62         }, ignore_params_values=['MaxSize', 'MinSize', 'LaunchConfigurationName', 'Version'])
63     def test_autoscaling_group_vpc_zone_identifier_multi(self):
64         self.set_http_response(status_code=200)
65         autoscale = AutoScalingGroup(
66             name='foo',
67             vpc_zone_identifier='vpc_zone_1,vpc_zone_2')
68         self.service_connection.create_auto_scaling_group(autoscale)
69         self.assert_request_parameters({
70             'Action': 'CreateAutoScalingGroup',
71             'AutoScalingGroupName': 'foo',
72             'VPCZoneIdentifier': 'vpc_zone_1,vpc_zone_2',
73         }, ignore_params_values=['MaxSize', 'MinSize', 'LaunchConfigurationName', 'Version'])
74 class TestAutoScaleGroupHonorCooldown(AWSMockServiceTestCase):
75     connection_class = AutoScaleConnection
76     def default_body(self):
77         return b"""
78             &lt;SetDesiredCapacityResponse&gt;
79               &lt;ResponseMetadata&gt;
80                 &lt;RequestId&gt;9fb7e2db-6998-11e2-a985-57c82EXAMPLE&lt;/RequestId&gt;
81               &lt;/ResponseMetadata&gt;
82             &lt;/SetDesiredCapacityResponse&gt;
83         """
84     def test_honor_cooldown(self):
85         self.set_http_response(status_code=200)
86         self.service_connection.set_desired_capacity('foo', 10, True)
87         self.assert_request_parameters({
88             'Action': 'SetDesiredCapacity',
89             'AutoScalingGroupName': 'foo',
90             'DesiredCapacity': 10,
91             'HonorCooldown': 'true',
92         }, ignore_params_values=['Version'])
93 class TestScheduledGroup(AWSMockServiceTestCase):
94     connection_class = AutoScaleConnection
95     def setUp(self):
96         super(TestScheduledGroup, self).setUp()
97     def default_body(self):
98         return b"""
99             &lt;PutScheduledUpdateGroupActionResponse&gt;
100                 &lt;ResponseMetadata&gt;
101                   &lt;RequestId&gt;requestid&lt;/RequestId&gt;
102                 &lt;/ResponseMetadata&gt;
103             &lt;/PutScheduledUpdateGroupActionResponse&gt;
104         """
105     def test_scheduled_group_creation(self):
106         self.set_http_response(status_code=200)
107         self.service_connection.create_scheduled_group_action('foo',
108                                                               'scheduled-foo',
109                                                               desired_capacity=1,
110                                                               start_time=datetime(2013, 1, 1, 22, 55, 31),
111                                                               end_time=datetime(2013, 2, 1, 22, 55, 31),
112                                                               min_size=1,
113                                                               max_size=2,
114                                                               recurrence='0 10 * * *')
115         self.assert_request_parameters({
116             'Action': 'PutScheduledUpdateGroupAction',
117             'AutoScalingGroupName': 'foo',
118             'ScheduledActionName': 'scheduled-foo',
119             'MaxSize': 2,
120             'MinSize': 1,
121             'DesiredCapacity': 1,
122 <a name="2"></a>            'EndTime': '2013-02-01T22:55:31',
123             'StartTime': '2013-01-01T22:55:31',
124             'Recurrence': '0 10 * * *',
125         }, ignore_params_values=<font color="#980517"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>['Version'])
126 class TestParseAutoScaleGroupResponse(AWSMockServiceTestCase):
127     connection_class = AutoScaleConnection
128     def default_body(self):
129         return b"""
130           &lt;DescribeAutoScalingGroupsResult&gt;
131              &lt;AutoScalingGroups&gt;
132                &lt;member&gt;
133                  &lt;Tags/&gt;
134                  &lt;SuspendedProcesses/&gt;
135                  &lt;AutoScalingGroupName&gt;test_group&lt;/AutoScalingGroupName&gt;
136                  &lt;HealthCheckType&gt;EC2&lt;/HealthCheckType&gt;
137                  &lt;CreatedTime&gt;2012-09-27T20:19:47.082Z&lt;/CreatedTime&gt;
138                  &lt;EnabledMetrics/&gt;
139                  &lt;LaunchConfigurationName&gt;test_launchconfig&lt;/LaunchConfigurationName&gt;
140                  &lt;Instances&gt;
141                    &lt;member&gt;
142                      &lt;HealthStatus&gt;Healthy&lt;/HealthStatus&gt;
143                      &lt;AvailabilityZone&gt;us-east-1a&lt;/AvailabilityZone&gt;
144                      &lt;InstanceId&gt;i-z118d054&lt;/InstanceId&gt;
145                      &lt;LaunchConfigurationName&gt;test_launchconfig&lt;/LaunchConfigurationName&gt;
146                      &lt;LifecycleState&gt;InService&lt;/LifecycleState&gt;
147                    &lt;/member&gt;
148                  &lt;/Instances&gt;
149                  &lt;DesiredCapacity&gt;1&lt;/DesiredCapacity&gt;
150                  &lt;AvailabilityZones&gt;
151                    &lt;member&gt;us-east-1c&lt;/member&gt;
152                    &lt;member&gt;us-east-1a&lt;/member&gt;
153                  &lt;/AvailabilityZones&gt;
154                  &lt;LoadBalancerNames/&gt;
155                  &lt;MinSize&gt;1&lt;/MinSize&gt;
156                  &lt;VPCZoneIdentifier/&gt;
157                  &lt;HealthCheckGracePeriod&gt;0&lt;/HealthCheckGracePeriod&gt;
158                  &lt;DefaultCooldown&gt;300&lt;/DefaultCooldown&gt;
159                  &lt;AutoScalingGroupARN&gt;myarn&lt;/AutoScalingGroupARN&gt;
160                  &lt;TerminationPolicies&gt;
161                    &lt;member&gt;OldestInstance&lt;/member&gt;
162                    &lt;member&gt;OldestLaunchConfiguration&lt;/member&gt;
163                  &lt;/TerminationPolicies&gt;
164                  &lt;MaxSize&gt;2&lt;/MaxSize&gt;
165                  &lt;InstanceId&gt;Something&lt;/InstanceId&gt;
166                &lt;/member&gt;
167              &lt;/AutoScalingGroups&gt;
168           &lt;/DescribeAutoScalingGroupsResult&gt;
169         """
170     def test_get_all_groups_is_parsed_correctly(self):
171         self.set_http_response(status_code=200)
172         response = self.service_connection.get_all_groups(names=['test_group'])
173 <a name="4"></a>        self.assertEqual(</b></font>len(response), 1, response)
174         as_group = response[0]
175         self.assertEqual(as_group.availability_zones, ['us-east-1c', 'us-east-1a'])
176         self<font color="#6cc417"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>.assertEqual(as_group.default_cooldown, 300)
177         self.assertEqual(as_group.desired_capacity, 1)
178         self.assertEqual(as_group.enabled_metrics, [])
179         self.assertEqual(as_group.health_check_period, 0)
180         self.assertEqual(as_group.</b></font>health_check_type, 'EC2')
181         self.assertEqual(as_group.launch_config_name, 'test_launchconfig')
182         self.assertEqual(as_group.load_balancers, [])
183         self.assertEqual(as_group.min_size, 1)
184         self.assertEqual(as_group.max_size, 2)
185         self.assertEqual(as_group.name, 'test_group')
186 <a name="0"></a>        self.assertEqual(as_group.suspended_processes, [])
187         self.assertEqual(as_group.tags, [])
188         self.assertEqual(as_group.termination_policies,
189                          [<font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>'OldestInstance', 'OldestLaunchConfiguration'])
190         self.assertEqual(as_group.instance_id, 'Something')
191 class TestDescribeTerminationPolicies(AWSMockServiceTestCase):
192     connection_class = AutoScaleConnection
193     def default_body(self):
194         return b"""
195           &lt;DescribeTerminationPolicyTypesResponse&gt;
196             &lt;DescribeTerminationPolicyTypesResult&gt;
197               &lt;TerminationPolicyTypes&gt;
198                 &lt;member&gt;ClosestToNextInstanceHour&lt;/member&gt;
199                 &lt;member&gt;Default&lt;/member&gt;
200                 &lt;member&gt;NewestInstance&lt;/member&gt;
201                 &lt;member&gt;OldestInstance&lt;/member&gt;
202                 &lt;member&gt;OldestLaunchConfiguration&lt;/member&gt;
203               &lt;/TerminationPolicyTypes&gt;
204             &lt;/DescribeTerminationPolicyTypesResult&gt;
205             &lt;ResponseMetadata&gt;
206               &lt;RequestId&gt;requestid&lt;/RequestId&gt;
207             &lt;/ResponseMetadata&gt;
208           &lt;/DescribeTerminationPolicyTypesResponse&gt;
209         """
210     def test_autoscaling_group_with_termination_policies(self):
211         self.set_http_response(status_code=200)
212 <a name="1"></a>        response = self.service_connection.get_termination_policies()
213         self.assertListEqual(
214             response,
215             ['<font color="#f63526"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>ClosestToNextInstanceHour'</b></font>, 'Default',
216              'NewestInstance', 'OldestInstance', 'OldestLaunchConfiguration'])
217 class TestLaunchConfigurationDescribe(AWSMockServiceTestCase):
218     connection_class = AutoScaleConnection
219     def default_body(self):
220         return b"""
221         &lt;DescribeLaunchConfigurationsResponse&gt;
222           &lt;DescribeLaunchConfigurationsResult&gt;
223             &lt;LaunchConfigurations&gt;
224               &lt;member&gt;
225                 &lt;AssociatePublicIpAddress&gt;true&lt;/AssociatePublicIpAddress&gt;
226                 &lt;SecurityGroups/&gt;
227                 &lt;CreatedTime&gt;2013-01-21T23:04:42.200Z&lt;/CreatedTime&gt;
228                 &lt;KernelId/&gt;
229                 &lt;LaunchConfigurationName&gt;my-test-lc&lt;/LaunchConfigurationName&gt;
230                 &lt;UserData/&gt;
231                 &lt;InstanceType&gt;m1.small&lt;/InstanceType&gt;
232                 &lt;LaunchConfigurationARN&gt;arn:aws:autoscaling:us-east-1:803981987763:launchConfiguration:9dbbbf87-6141-428a-a409-0752edbe6cad:launchConfigurationName/my-test-lc&lt;/LaunchConfigurationARN&gt;
233                 &lt;BlockDeviceMappings/&gt;
234                 &lt;ImageId&gt;ami-514ac838&lt;/ImageId&gt;
235                 &lt;KeyName/&gt;
236                 &lt;RamdiskId/&gt;
237                 &lt;InstanceMonitoring&gt;
238                   &lt;Enabled&gt;true&lt;/Enabled&gt;
239                 &lt;/InstanceMonitoring&gt;
240                 &lt;EbsOptimized&gt;false&lt;/EbsOptimized&gt;
241                 &lt;ClassicLinkVPCId&gt;vpc-12345&lt;/ClassicLinkVPCId&gt;
242                 &lt;ClassicLinkVPCSecurityGroups&gt;
243                     &lt;member&gt;sg-1234&lt;/member&gt;
244                 &lt;/ClassicLinkVPCSecurityGroups&gt;
245               &lt;/member&gt;
246             &lt;/LaunchConfigurations&gt;
247           &lt;/DescribeLaunchConfigurationsResult&gt;
248           &lt;ResponseMetadata&gt;
249             &lt;RequestId&gt;d05a22f8-b690-11e2-bf8e-2113fEXAMPLE&lt;/RequestId&gt;
250           &lt;/ResponseMetadata&gt;
251         &lt;/DescribeLaunchConfigurationsResponse&gt;
252         """
253     def test_get_all_launch_configurations(self):
254         self.set_http_response(status_code=200)
255         response = self.service_connection.get_all_launch_configurations()
256         self.assertTrue(isinstance(</b></font>response, list))
257         self.assertEqual(len(response), 1)
258         self.assertTrue(isinstance(response[0], LaunchConfiguration))
259         self.assertEqual(response[0].associate_public_ip_address, True)
260         self.assertEqual(response[0].name, "my-test-lc")
261         self.assertEqual(response[0].instance_type, "m1.small")
262         self.assertEqual(response[0].launch_configuration_arn, "arn:aws:autoscaling:us-east-1:803981987763:launchConfiguration:9dbbbf87-6141-428a-a409-0752edbe6cad:launchConfigurationName/my-test-lc")
263         self.assertEqual(response[0].image_id, "ami-514ac838")
264         self.assertTrue(isinstance(response[0].instance_monitoring, launchconfig.InstanceMonitoring))
265         self.assertEqual(response[0].instance_monitoring.enabled, 'true')
266         self.assertEqual(response[0].ebs_optimized, False)
267         self.assertEqual(response[0].block_device_mappings, [])
268         self.assertEqual(response[0].classic_link_vpc_id, 'vpc-12345')
269         self.assertEqual(response[0].classic_link_vpc_security_groups,
270                          ['sg-1234'])
271 <a name="6"></a>
272         self.assert_request_parameters({
273             'Action': 'DescribeLaunchConfigurations',
274         }, ignore_params_values=<font color="#8c8774"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>['Version'])
275     def test_get_all_configuration_limited(self):
276         self.set_http_response(status_code=200)
277         response = self.service_connection.get_all_launch_configurations(max_records=10, names=["my-test1"</b></font>, "my-test2"])
278         self.assert_request_parameters({
279             'Action': 'DescribeLaunchConfigurations',
280             'MaxRecords': 10,
281             'LaunchConfigurationNames.member.1': 'my-test1',
282             'LaunchConfigurationNames.member.2': 'my-test2'
283         }, ignore_params_values=['Version'])
284 class TestLaunchConfiguration(AWSMockServiceTestCase):
285     connection_class = AutoScaleConnection
286     def default_body(self):
287         return b"""
288         &lt;DescribeLaunchConfigurationsResponse&gt;
289         &lt;/DescribeLaunchConfigurationsResponse&gt;
290         """
291     def test_launch_config(self):
292         self.set_http_response(status_code=200)
293         dev_sdf = EBSBlockDeviceType(snapshot_id='snap-12345')
294         bdm = BlockDeviceMapping()
295         bdm['/dev/sdf'] = dev_sdf
296         lc = launchconfig.LaunchConfiguration(
297             connection=self.service_connection,
298             name='launch_config',
299             image_id='123456',
300             instance_type='m1.large',
301             user_data='#!/bin/bash',
302             security_groups=['group1'],
303             spot_price='price',
304             block_device_mappings=[bdm],
305             associate_public_ip_address=True,
306             volume_type='atype',
307             delete_on_termination=False,
308             iops=3000,
309             classic_link_vpc_id='vpc-1234',
310             classic_link_vpc_security_groups=['classic_link_group']
311         )
312         response = self.service_connection.create_launch_configuration(lc)
313         self.assert_request_parameters({
314             'Action': 'CreateLaunchConfiguration',
315             'BlockDeviceMappings.member.1.DeviceName': '/dev/sdf',
316             'BlockDeviceMappings.member.1.Ebs.DeleteOnTermination': 'false',
317             'BlockDeviceMappings.member.1.Ebs.SnapshotId': 'snap-12345',
318             'EbsOptimized': 'false',
319             'LaunchConfigurationName': 'launch_config',
320             'ImageId': '123456',
321             'UserData': base64.b64encode(b'#!/bin/bash').decode('utf-8'),
322             'InstanceMonitoring.Enabled': 'false',
323             'InstanceType': 'm1.large',
324             'SecurityGroups.member.1': 'group1',
325             'SpotPrice': 'price',
326             'AssociatePublicIpAddress': 'true',
327             'VolumeType': 'atype',
328             'DeleteOnTermination': 'false',
329             'Iops': 3000,
330             'ClassicLinkVPCId': 'vpc-1234',
331             'ClassicLinkVPCSecurityGroups.member.1': 'classic_link_group'
332         }, ignore_params_values=['Version'])
333 class TestCreateAutoScalePolicy(AWSMockServiceTestCase):
334     connection_class = AutoScaleConnection
335     def setUp(self):
336         super(TestCreateAutoScalePolicy, self).setUp()
337     def default_body(self):
338         return b"""
339             &lt;PutScalingPolicyResponse xmlns="http://autoscaling.amazonaws.com\
340             /doc/2011-01-01/"&gt;
341               &lt;PutScalingPolicyResult&gt;
342                 &lt;PolicyARN&gt;arn:aws:autoscaling:us-east-1:803981987763:scaling\
343                 Policy:b0dcf5e8
344             -02e6-4e31-9719-0675d0dc31ae:autoScalingGroupName/my-test-asg:\
345             policyName/my-scal
346             eout-policy&lt;/PolicyARN&gt;
347               &lt;/PutScalingPolicyResult&gt;
348               &lt;ResponseMetadata&gt;
349                 &lt;RequestId&gt;3cfc6fef-c08b-11e2-a697-2922EXAMPLE&lt;/RequestId&gt;
350               &lt;/ResponseMetadata&gt;
351             &lt;/PutScalingPolicyResponse&gt;
352         """
353     def test_scaling_policy_with_min_adjustment_step(self):
354         self.set_http_response(status_code=200)
355         policy = ScalingPolicy(
356             name='foo', as_name='bar',
357             adjustment_type='PercentChangeInCapacity', scaling_adjustment=50,
358             min_adjustment_step=30)
359         self.service_connection.create_scaling_policy(policy)
360         self.assert_request_parameters({
361             'Action': 'PutScalingPolicy',
362             'PolicyName': 'foo',
363             'AutoScalingGroupName': 'bar',
364             'AdjustmentType': 'PercentChangeInCapacity',
365             'ScalingAdjustment': 50,
366             'MinAdjustmentStep': 30
367         }, ignore_params_values=['Version'])
368     def test_scaling_policy_with_wrong_adjustment_type(self):
369         self.set_http_response(status_code=200)
370         policy = ScalingPolicy(
371             name='foo', as_name='bar',
372             adjustment_type='ChangeInCapacity', scaling_adjustment=50,
373             min_adjustment_step=30)
374         self.service_connection.create_scaling_policy(policy)
375         self.assert_request_parameters({
376             'Action': 'PutScalingPolicy',
377             'PolicyName': 'foo',
378             'AutoScalingGroupName': 'bar',
379             'AdjustmentType': 'ChangeInCapacity',
380             'ScalingAdjustment': 50
381         }, ignore_params_values=['Version'])
382     def test_scaling_policy_without_min_adjustment_step(self):
383         self.set_http_response(status_code=200)
384         policy = ScalingPolicy(
385             name='foo', as_name='bar',
386             adjustment_type='PercentChangeInCapacity', scaling_adjustment=50)
387         self.service_connection.create_scaling_policy(policy)
388         self.assert_request_parameters({
389             'Action': 'PutScalingPolicy',
390             'PolicyName': 'foo',
391             'AutoScalingGroupName': 'bar',
392             'AdjustmentType': 'PercentChangeInCapacity',
393             'ScalingAdjustment': 50
394         }, ignore_params_values=['Version'])
395 class TestPutNotificationConfiguration(AWSMockServiceTestCase):
396     connection_class = AutoScaleConnection
397     def setUp(self):
398         super(TestPutNotificationConfiguration, self).setUp()
399     def default_body(self):
400         return b"""
401             &lt;PutNotificationConfigurationResponse&gt;
402               &lt;ResponseMetadata&gt;
403                 &lt;RequestId&gt;requestid&lt;/RequestId&gt;
404               &lt;/ResponseMetadata&gt;
405             &lt;/PutNotificationConfigurationResponse&gt;
406         """
407     def test_autoscaling_group_put_notification_configuration(self):
408         self.set_http_response(status_code=200)
409         autoscale = AutoScalingGroup(
410             name='ana', launch_config='lauch_config',
411             min_size=1, max_size=2,
412             termination_policies=['OldestInstance', 'OldestLaunchConfiguration'])
413         self.service_connection.put_notification_configuration(autoscale, 'arn:aws:sns:us-east-1:19890506:AutoScaling-Up', ['autoscaling:EC2_INSTANCE_LAUNCH'])
414         self.assert_request_parameters({
415             'Action': 'PutNotificationConfiguration',
416             'AutoScalingGroupName': 'ana',
417             'NotificationTypes.member.1': 'autoscaling:EC2_INSTANCE_LAUNCH',
418             'TopicARN': 'arn:aws:sns:us-east-1:19890506:AutoScaling-Up',
419         }, ignore_params_values=['Version'])
420 class TestDeleteNotificationConfiguration(AWSMockServiceTestCase):
421     connection_class = AutoScaleConnection
422     def setUp(self):
423         super(TestDeleteNotificationConfiguration, self).setUp()
424     def default_body(self):
425         return b"""
426             &lt;DeleteNotificationConfigurationResponse&gt;
427               &lt;ResponseMetadata&gt;
428                 &lt;RequestId&gt;requestid&lt;/RequestId&gt;
429               &lt;/ResponseMetadata&gt;
430             &lt;/DeleteNotificationConfigurationResponse&gt;
431         """
432     def test_autoscaling_group_put_notification_configuration(self):
433         self.set_http_response(status_code=200)
434         autoscale = AutoScalingGroup(
435             name='ana', launch_config='lauch_config',
436             min_size=1, max_size=2,
437             termination_policies=['OldestInstance', 'OldestLaunchConfiguration'])
438         self.service_connection.delete_notification_configuration(autoscale, 'arn:aws:sns:us-east-1:19890506:AutoScaling-Up')
439         self.assert_request_parameters({
440             'Action': 'DeleteNotificationConfiguration',
441             'AutoScalingGroupName': 'ana',
442             'TopicARN': 'arn:aws:sns:us-east-1:19890506:AutoScaling-Up',
443         }, ignore_params_values=['Version'])
444 class TestAutoScalingTag(AWSMockServiceTestCase):
445     connection_class = AutoScaleConnection
446     def default_body(self):
447         return b"""
448         &lt;CreateOrUpdateTagsResponse&gt;
449             &lt;ResponseMetadata&gt;
450                 &lt;RequestId&gt;requestId&lt;/RequestId&gt;
451             &lt;/ResponseMetadata&gt;
452         &lt;/CreateOrUpdateTagsResponse&gt;
453         """
454     def test_create_or_update_tags(self):
455         self.set_http_response(status_code=200)
456         tags = [
457             Tag(
458                 connection=self.service_connection,
459                 key='alpha',
460                 value='tango',
461                 resource_id='sg-00000000',
462                 resource_type='auto-scaling-group',
463                 propagate_at_launch=True
464             ),
465             Tag(
466                 connection=self.service_connection,
467                 key='bravo',
468                 value='sierra',
469                 resource_id='sg-00000000',
470                 resource_type='auto-scaling-group',
471                 propagate_at_launch=False
472             )]
473         response = self.service_connection.create_or_update_tags(tags)
474         self.assert_request_parameters({
475             'Action': 'CreateOrUpdateTags',
476             'Tags.member.1.ResourceType': 'auto-scaling-group',
477             'Tags.member.1.ResourceId': 'sg-00000000',
478             'Tags.member.1.Key': 'alpha',
479             'Tags.member.1.Value': 'tango',
480             'Tags.member.1.PropagateAtLaunch': 'true',
481             'Tags.member.2.ResourceType': 'auto-scaling-group',
482             'Tags.member.2.ResourceId': 'sg-00000000',
483             'Tags.member.2.Key': 'bravo',
484             'Tags.member.2.Value': 'sierra',
485             'Tags.member.2.PropagateAtLaunch': 'false'
486         }, ignore_params_values=['Version'])
487     def test_endElement(self):
488         for i in [
489             ('Key', 'mykey', 'key'),
490             ('Value', 'myvalue', 'value'),
491             ('ResourceType', 'auto-scaling-group', 'resource_type'),
492             ('ResourceId', 'sg-01234567', 'resource_id'),
493             ('PropagateAtLaunch', 'true', 'propagate_at_launch')]:
494                 self.check_tag_attributes_set(i[0], i[1], i[2])
495     def check_tag_attributes_set(self, name, value, attr):
496         tag = Tag()
497         tag.endElement(name, value, None)
498         if value == 'true':
499             self.assertEqual(getattr(tag, attr), True)
500         else:
501             self.assertEqual(getattr(tag, attr), value)
502 class TestAttachInstances(AWSMockServiceTestCase):
503     connection_class = AutoScaleConnection
504     def setUp(self):
505         super(TestAttachInstances, self).setUp()
506     def default_body(self):
507         return b"""
508             &lt;AttachInstancesResponse&gt;
509               &lt;ResponseMetadata&gt;
510                 &lt;RequestId&gt;requestid&lt;/RequestId&gt;
511               &lt;/ResponseMetadata&gt;
512             &lt;/AttachInstancesResponse&gt;
513         """
514     def test_attach_instances(self):
515         self.set_http_response(status_code=200)
516         self.service_connection.attach_instances(
517             'autoscale',
518             ['inst2', 'inst1', 'inst4']
519         )
520         self.assert_request_parameters({
521             'Action': 'AttachInstances',
522             'AutoScalingGroupName': 'autoscale',
523             'InstanceIds.member.1': 'inst2',
524             'InstanceIds.member.2': 'inst1',
525             'InstanceIds.member.3': 'inst4',
526         }, ignore_params_values=['Version'])
527 class TestDetachInstances(AWSMockServiceTestCase):
528     connection_class = AutoScaleConnection
529     def setUp(self):
530         super(TestDetachInstances, self).setUp()
531     def default_body(self):
532         return b"""
533             &lt;DetachInstancesResponse&gt;
534               &lt;ResponseMetadata&gt;
535                 &lt;RequestId&gt;requestid&lt;/RequestId&gt;
536               &lt;/ResponseMetadata&gt;
537             &lt;/DetachInstancesResponse&gt;
538         """
539     def test_detach_instances(self):
540         self.set_http_response(status_code=200)
541         self.service_connection.detach_instances(
542             'autoscale',
543             ['inst2', 'inst1', 'inst4']
544         )
545         self.assert_request_parameters({
546             'Action': 'DetachInstances',
547             'AutoScalingGroupName': 'autoscale',
548             'InstanceIds.member.1': 'inst2',
549             'InstanceIds.member.2': 'inst1',
550             'InstanceIds.member.3': 'inst4',
551             'ShouldDecrementDesiredCapacity': 'true',
552         }, ignore_params_values=['Version'])
553     def test_detach_instances_with_decrement_desired_capacity(self):
554         self.set_http_response(status_code=200)
555         self.service_connection.detach_instances(
556             'autoscale',
557             ['inst2', 'inst1', 'inst4'],
558             True
559         )
560         self.assert_request_parameters({
561             'Action': 'DetachInstances',
562             'AutoScalingGroupName': 'autoscale',
563             'InstanceIds.member.1': 'inst2',
564             'InstanceIds.member.2': 'inst1',
565             'InstanceIds.member.3': 'inst4',
566             'ShouldDecrementDesiredCapacity': 'true',
567         }, ignore_params_values=['Version'])
568     def test_detach_instances_without_decrement_desired_capacity(self):
569         self.set_http_response(status_code=200)
570         self.service_connection.detach_instances(
571             'autoscale',
572             ['inst2', 'inst1', 'inst4'],
573             False
574         )
575         self.assert_request_parameters({
576             'Action': 'DetachInstances',
577             'AutoScalingGroupName': 'autoscale',
578             'InstanceIds.member.1': 'inst2',
579             'InstanceIds.member.2': 'inst1',
580             'InstanceIds.member.3': 'inst4',
581             'ShouldDecrementDesiredCapacity': 'false',
582         }, ignore_params_values=['Version'])
583 class TestGetAccountLimits(AWSMockServiceTestCase):
584     connection_class = AutoScaleConnection
585 <a name="3"></a>    def setUp(self):
586         super(TestGetAccountLimits, self).setUp()
587     <font color="#53858b"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>def default_body(self):
588         return b"""
589             &lt;DescribeAccountLimitsAnswer&gt;
590               &lt;MaxNumberOfAutoScalingGroups&gt;6&lt;/MaxNumberOfAutoScalingGroups&gt;
591               &lt;MaxNumberOfLaunchConfigurations&gt;3&lt;/MaxNumberOfLaunchConfigurations&gt;
592               &lt;ResponseMetadata&gt;
593                 &lt;RequestId&gt;requestid&lt;/RequestId&gt;
594               &lt;/ResponseMetadata&gt;
595             &lt;/DescribeAccountLimitsAnswer&gt;
596         """
597     def test_autoscaling_group_put_notification_configuration(self):
598         self.set_http_response(status_code=200)
599         limits = self.service_connection.get_account_limits()
600         self.assert_request_parameters({
601             'Action': 'DescribeAccountLimits',
602         }, ignore_params_values=['Version'])
603         self.</b></font>assertEqual(limits.max_autoscaling_groups, 6)
604         self.assertEqual(limits.max_launch_configurations, 3)
605 class TestGetAdjustmentTypes(AWSMockServiceTestCase):
606     connection_class = AutoScaleConnection
607 <a name="5"></a>    def setUp(self):
608         super(TestGetAdjustmentTypes, self).setUp()
609     <font color="#151b8d"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>def default_body(self):
610         return b"""
611             &lt;DescribeAdjustmentTypesResponse xmlns="http://autoscaling.amazonaws.com/doc/201-01-01/"&gt;
612               &lt;DescribeAdjustmentTypesResult&gt;
613                 &lt;AdjustmentTypes&gt;
614                   &lt;member&gt;
615                     &lt;AdjustmentType&gt;ChangeInCapacity&lt;/AdjustmentType&gt;
616                   &lt;/member&gt;
617                   &lt;member&gt;
618                     &lt;AdjustmentType&gt;ExactCapacity&lt;/AdjustmentType&gt;
619                   &lt;/member&gt;
620                   &lt;member&gt;
621                     &lt;AdjustmentType&gt;PercentChangeInCapacity&lt;/AdjustmentType&gt;
622                   &lt;/member&gt;
623                 &lt;/AdjustmentTypes&gt;
624               &lt;/DescribeAdjustmentTypesResult&gt;
625               &lt;ResponseMetadata&gt;
626                 &lt;RequestId&gt;requestId&lt;/RequestId&gt;
627               &lt;/ResponseMetadata&gt;
628             &lt;/DescribeAdjustmentTypesResponse&gt;
629         """
630     def test_autoscaling_adjustment_types(self):
631         self.set_http_response(status_code=200)
632         response = self.service_connection.get_all_adjustment_types()
633         self.assert_request_parameters(</b></font>{
634             'Action': 'DescribeAdjustmentTypes'
635         }, ignore_params_values=['Version'])
636         self.assertTrue(isinstance(response, list))
637         self.assertEqual(response[0].adjustment_type, "ChangeInCapacity")
638         self.assertEqual(response[1].adjustment_type, "ExactCapacity")
639         self.assertEqual(response[2].adjustment_type, "PercentChangeInCapacity")
640 class TestLaunchConfigurationDescribeWithBlockDeviceTypes(AWSMockServiceTestCase):
641     connection_class = AutoScaleConnection
642     def default_body(self):
643         return b"""
644         &lt;DescribeLaunchConfigurationsResponse&gt;
645           &lt;DescribeLaunchConfigurationsResult&gt;
646             &lt;LaunchConfigurations&gt;
647               &lt;member&gt;
648                 &lt;AssociatePublicIpAddress&gt;true&lt;/AssociatePublicIpAddress&gt;
649                 &lt;SecurityGroups/&gt;
650                 &lt;CreatedTime&gt;2013-01-21T23:04:42.200Z&lt;/CreatedTime&gt;
651                 &lt;KernelId/&gt;
652                 &lt;LaunchConfigurationName&gt;my-test-lc&lt;/LaunchConfigurationName&gt;
653                 &lt;UserData/&gt;
654                 &lt;InstanceType&gt;m1.small&lt;/InstanceType&gt;
655                 &lt;LaunchConfigurationARN&gt;arn:aws:autoscaling:us-east-1:803981987763:launchConfiguration:9dbbbf87-6141-428a-a409-0752edbe6cad:launchConfigurationName/my-test-lc&lt;/LaunchConfigurationARN&gt;
656                 &lt;BlockDeviceMappings&gt;
657                   &lt;member&gt;
658                     &lt;DeviceName&gt;/dev/xvdp&lt;/DeviceName&gt;
659                     &lt;Ebs&gt;
660                       &lt;SnapshotId&gt;snap-1234abcd&lt;/SnapshotId&gt;
661                       &lt;Iops&gt;1000&lt;/Iops&gt;
662                       &lt;DeleteOnTermination&gt;true&lt;/DeleteOnTermination&gt;
663                       &lt;VolumeType&gt;io1&lt;/VolumeType&gt;
664                       &lt;VolumeSize&gt;100&lt;/VolumeSize&gt;
665                     &lt;/Ebs&gt;
666                   &lt;/member&gt;
667                   &lt;member&gt;
668                     &lt;VirtualName&gt;ephemeral1&lt;/VirtualName&gt;
669                     &lt;DeviceName&gt;/dev/xvdc&lt;/DeviceName&gt;
670                   &lt;/member&gt;
671                   &lt;member&gt;
672                     &lt;VirtualName&gt;ephemeral0&lt;/VirtualName&gt;
673                     &lt;DeviceName&gt;/dev/xvdb&lt;/DeviceName&gt;
674                   &lt;/member&gt;
675                   &lt;member&gt;
676                     &lt;DeviceName&gt;/dev/xvdh&lt;/DeviceName&gt;
677                     &lt;Ebs&gt;
678                       &lt;Iops&gt;2000&lt;/Iops&gt;
679                       &lt;DeleteOnTermination&gt;false&lt;/DeleteOnTermination&gt;
680                       &lt;VolumeType&gt;io1&lt;/VolumeType&gt;
681                       &lt;VolumeSize&gt;200&lt;/VolumeSize&gt;
682                     &lt;/Ebs&gt;
683                   &lt;/member&gt;
684                 &lt;/BlockDeviceMappings&gt;
685                 &lt;ImageId&gt;ami-514ac838&lt;/ImageId&gt;
686                 &lt;KeyName/&gt;
687                 &lt;RamdiskId/&gt;
688                 &lt;InstanceMonitoring&gt;
689                   &lt;Enabled&gt;true&lt;/Enabled&gt;
690                 &lt;/InstanceMonitoring&gt;
691                 &lt;EbsOptimized&gt;false&lt;/EbsOptimized&gt;
692               &lt;/member&gt;
693             &lt;/LaunchConfigurations&gt;
694           &lt;/DescribeLaunchConfigurationsResult&gt;
695           &lt;ResponseMetadata&gt;
696             &lt;RequestId&gt;d05a22f8-b690-11e2-bf8e-2113fEXAMPLE&lt;/RequestId&gt;
697           &lt;/ResponseMetadata&gt;
698         &lt;/DescribeLaunchConfigurationsResponse&gt;
699         """
700     def test_get_all_launch_configurations_with_block_device_types(self):
701         self.set_http_response(status_code=200)
702         self.service_connection.use_block_device_types = True
703         response = self.service_connection.get_all_launch_configurations()
704         self.assertTrue(isinstance(response, list))
705         self.assertEqual(len(response), 1)
706         self.assertTrue(isinstance(response[0], LaunchConfiguration))
707         self.assertEqual(response[0].associate_public_ip_address, True)
708         self.assertEqual(response[0].name, "my-test-lc")
709         self.assertEqual(response[0].instance_type, "m1.small")
710         self.assertEqual(response[0].launch_configuration_arn, "arn:aws:autoscaling:us-east-1:803981987763:launchConfiguration:9dbbbf87-6141-428a-a409-0752edbe6cad:launchConfigurationName/my-test-lc")
711         self.assertEqual(response[0].image_id, "ami-514ac838")
712         self.assertTrue(isinstance(response[0].instance_monitoring, launchconfig.InstanceMonitoring))
713         self.assertEqual(response[0].instance_monitoring.enabled, 'true')
714         self.assertEqual(response[0].ebs_optimized, False)
715         self.assertEqual(response[0].block_device_mappings['/dev/xvdb'].ephemeral_name, 'ephemeral0')
716         self.assertEqual(response[0].block_device_mappings['/dev/xvdc'].ephemeral_name, 'ephemeral1')
717         self.assertEqual(response[0].block_device_mappings['/dev/xvdp'].snapshot_id, 'snap-1234abcd')
718         self.assertEqual(response[0].block_device_mappings['/dev/xvdp'].delete_on_termination, True)
719         self.assertEqual(response[0].block_device_mappings['/dev/xvdp'].iops, 1000)
720         self.assertEqual(response[0].block_device_mappings['/dev/xvdp'].size, 100)
721         self.assertEqual(response[0].block_device_mappings['/dev/xvdp'].volume_type, 'io1')
722         self.assertEqual(response[0].block_device_mappings['/dev/xvdh'].delete_on_termination, False)
723         self.assertEqual(response[0].block_device_mappings['/dev/xvdh'].iops, 2000)
724         self.assertEqual(response[0].block_device_mappings['/dev/xvdh'].size, 200)
725         self.assertEqual(response[0].block_device_mappings['/dev/xvdh'].volume_type, 'io1')
726         self.assert_request_parameters({
727             'Action': 'DescribeLaunchConfigurations',
728         }, ignore_params_values=['Version'])
729     def test_get_all_configuration_limited(self):
730         self.set_http_response(status_code=200)
731         response = self.service_connection.get_all_launch_configurations(max_records=10, names=["my-test1", "my-test2"])
732         self.assert_request_parameters({
733             'Action': 'DescribeLaunchConfigurations',
734             'MaxRecords': 10,
735             'LaunchConfigurationNames.member.1': 'my-test1',
736             'LaunchConfigurationNames.member.2': 'my-test2'
737         }, ignore_params_values=['Version'])
738 if __name__ == '__main__':
739     unittest.main()
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
