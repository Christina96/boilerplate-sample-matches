<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for test_vpc.py &amp; test_group.py</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for test_vpc.py &amp; test_group.py
      </h3>
<h1 align="center">
        18.7%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>test_vpc.py (32.112675%)<th>test_group.py (13.255814%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(39-66)<td><a href="#" name="0">(237-267)</a><td align="center"><font color="#ff0000">22</font>
<tr onclick='openModal("#f63526")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#f63526"><font color="#f63526">-</font><td><a href="#" name="1">(140-174)<td><a href="#" name="1">(267-314)</a><td align="center"><font color="#d00000">18</font>
<tr onclick='openModal("#980517")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#980517"><font color="#980517">-</font><td><a href="#" name="2">(101-120)<td><a href="#" name="2">(169-221)</a><td align="center"><font color="#d00000">18</font>
<tr onclick='openModal("#53858b")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#53858b"><font color="#53858b">-</font><td><a href="#" name="3">(84-98)<td><a href="#" name="3">(706-723)</a><td align="center"><font color="#b90000">16</font>
<tr onclick='openModal("#6cc417")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#6cc417"><font color="#6cc417">-</font><td><a href="#" name="4">(73-77)<td><a href="#" name="4">(224-228)</a><td align="center"><font color="#ad0000">15</font>
<tr onclick='openModal("#151b8d")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#151b8d"><font color="#151b8d">-</font><td><a href="#" name="5">(29-36)<td><a href="#" name="5">(733-758)</a><td align="center"><font color="#960000">13</font>
<tr onclick='openModal("#8c8774")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#8c8774"><font color="#8c8774">-</font><td><a href="#" name="6">(266-279)<td><a href="#" name="6">(333-338)</a><td align="center"><font color="#8b0000">12</font>
</td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>test_vpc.py</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 from tests.unit import unittest
2 from tests.unit import AWSMockServiceTestCase
3 from boto.vpc import VPCConnection, VPC
4 from boto.ec2.securitygroup import SecurityGroup
5 DESCRIBE_VPCS = b'''&lt;?xml version="1.0" encoding="UTF-8"?&gt;
6 &lt;DescribeVpcsResponse xmlns="http://ec2.amazonaws.com/doc/2013-02-01/"&gt;
7     &lt;requestId&gt;623040d1-b51c-40bc-8080-93486f38d03d&lt;/requestId&gt;
8     &lt;vpcSet&gt;
9         &lt;item&gt;
10             &lt;vpcId&gt;vpc-12345678&lt;/vpcId&gt;
11             &lt;state&gt;available&lt;/state&gt;
12             &lt;cidrBlock&gt;172.16.0.0/16&lt;/cidrBlock&gt;
13             &lt;dhcpOptionsId&gt;dopt-12345678&lt;/dhcpOptionsId&gt;
14             &lt;instanceTenancy&gt;default&lt;/instanceTenancy&gt;
15             &lt;isDefault&gt;false&lt;/isDefault&gt;
16         &lt;/item&gt;
17     &lt;/vpcSet&gt;
18 &lt;/DescribeVpcsResponse&gt;'''
19 class TestDescribeVPCs(AWSMockServiceTestCase):
20     connection_class = VPCConnection
21     <font color="#151b8d"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>def default_body(self):
22         return DESCRIBE_VPCS
23     def test_get_vpcs(self):
24         self.set_http_response(status_code=200)
25         api_response = self.service_connection.get_all_vpcs()
26         vpc = api_response[0]
27         self.assertFalse(vpc<font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>.is_default)
28         self.assertEqual(vpc.instance_tenancy, 'default')
29 class TestCreateVpc(AWSMockServiceTestCase):
30     connection_class = VPCConnection
31     def default_body(self):
32         return b"""
33             &lt;CreateVpcResponse xmlns="http://ec2.amazonaws.com/doc/2013-10-01/"&gt;
34                &lt;requestId&gt;7a62c49f-347e-4fc4-9331-6e8eEXAMPLE&lt;/requestId&gt;
35                &lt;vpc&gt;
36                   &lt;vpcId&gt;vpc-1a2b3c4d&lt;/vpcId&gt;
37                   &lt;state&gt;pending&lt;/state&gt;
38                   &lt;cidrBlock&gt;10.0.0.0/16&lt;/cidrBlock&gt;
39                   &lt;dhcpOptionsId&gt;dopt-1a2b3c4d2&lt;/dhcpOptionsId&gt;
40                   &lt;instanceTenancy&gt;default&lt;/instanceTenancy&gt;
41                   &lt;tagSet/&gt;
42                &lt;/vpc&gt;
43             &lt;/CreateVpcResponse&gt;
44         """
45     def test_create_vpc(self):
46         self.set_http_response(status_code=200)
47         api_response = self.service_connection.create_vpc('10.0.0.0/16', 'default')
48         self.assert_request_parameters({
49             'Action'</b></font>: 'CreateVpc',
50             'InstanceTenancy': 'default',
51             'CidrBlock': '10.0.0.0/16'},
52             ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
53                                   'Version'])
54         self.assertIsInstance(api_response, VPC)
55         self<font color="#6cc417"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>.assertEquals(api_response.id, 'vpc-1a2b3c4d')
56         self.assertEquals(api_response.state, 'pending')
57         self.assertEquals(api_response.cidr_block, '10.0.0.0/16')
58         self.assertEquals(api_response.dhcp_options_id, 'dopt-1a2b3c4d2')
59         self.assertEquals(api_response.</b></font>instance_tenancy, 'default')
60 class TestDeleteVpc(AWSMockServiceTestCase):
61     connection_class = VPCConnection
62     <font color="#53858b"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>def default_body(self):
63         return b"""
64             &lt;DeleteVpcResponse xmlns="http://ec2.amazonaws.com/doc/2013-10-01/"&gt;
65                &lt;requestId&gt;7a62c49f-347e-4fc4-9331-6e8eEXAMPLE&lt;/requestId&gt;
66                &lt;return&gt;true&lt;/return&gt;
67             &lt;/DeleteVpcResponse&gt;
68         """
69     def test_delete_vpc(self):
70         self.set_http_response(status_code=200)
71         api_response = self.service_connection.delete_vpc('vpc-1a2b3c4d')
72         self.assert_request_parameters({
73             'Action': 'DeleteVpc',
74             'VpcId': 'vpc-1a2b3c4d'},
75                                   'SignatureVersion', 'Timestamp',
76                                   'Version'])
77         self.assertEquals(<font color="#980517"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>api_response, True)
78 class TestModifyVpcAttribute(AWSMockServiceTestCase):
79     connection_class = VPCConnection
80     def default_body(self):
81         return b"""
82             &lt;ModifyVpcAttributeResponse xmlns="http://ec2.amazonaws.com/doc/2013-10-01/"&gt;
83                &lt;requestId&gt;7a62c49f-347e-4fc4-9331-6e8eEXAMPLE&lt;/requestId&gt;
84                &lt;return&gt;true&lt;/return&gt;
85             &lt;/ModifyVpcAttributeResponse&gt;
86         """
87     def test_modify_vpc_attribute_dns_support(self):
88         self.set_http_response(status_code=200)
89         api_response = self.service_connection.modify_vpc_attribute(
90             'vpc-1a2b3c4d', enable_dns_support=True)
91         self.assert_request_parameters(</b></font>{
92             'Action': 'ModifyVpcAttribute',
93             'VpcId': 'vpc-1a2b3c4d',
94             'EnableDnsSupport.Value': 'true'},
95             ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
96                                   'SignatureVersion', 'Timestamp',
97                                   'Version'])
98         self.assertEquals(api_response, True)
99     def test_modify_vpc_attribute_dns_hostnames(self):
100         self.set_http_response(status_code=200)
101         api_response = self.service_connection.modify_vpc_attribute(
102             'vpc-1a2b3c4d', enable_dns_hostnames=True)
103         self.assert_request_parameters({
104             'Action': 'ModifyVpcAttribute',
105             'VpcId': 'vpc-1a2b3c4d',
106             'EnableDnsHostnames.Value': 'true'},
107                                   'SignatureVersion', 'Timestamp',
108                                   'Version'])
109         self.assertEquals(<font color="#f63526"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>api_response, True)
110 class TestGetAllClassicLinkVpc(AWSMockServiceTestCase):
111     connection_class = VPCConnection
112     def default_body(self):
113         return b"""
114             &lt;DescribeVpcClassicLinkResponse xmlns="http://ec2.amazonaws.com/doc/2014-09-01/"&gt;
115                 &lt;requestId&gt;2484655d-d669-4950-bf55-7ba559805d36&lt;/requestId&gt;
116                 &lt;vpcSet&gt;
117                     &lt;item&gt;
118                         &lt;vpcId&gt;vpc-6226ab07&lt;/vpcId&gt;
119                         &lt;classicLinkEnabled&gt;false&lt;/classicLinkEnabled&gt;
120                         &lt;tagSet&gt;
121                             &lt;item&gt;
122                                 &lt;key&gt;Name&lt;/key&gt;
123                                 &lt;value&gt;hello&lt;/value&gt;[
124                             &lt;/item&gt;
125                         &lt;/tagSet&gt;
126                     &lt;/item&gt;
127                     &lt;item&gt;
128                         &lt;vpcId&gt;vpc-9d24f8f8&lt;/vpcId&gt;
129                         &lt;classicLinkEnabled&gt;true&lt;/classicLinkEnabled&gt;
130                         &lt;tagSet/&gt;
131                     &lt;/item&gt;
132                 &lt;/vpcSet&gt;
133             &lt;/DescribeVpcClassicLinkResponse&gt;
134         """
135     def test_get_all_classic_link_vpcs(self):
136         self.set_http_response(status_code=200)
137         response = self.service_connection.get_all_classic_link_vpcs()
138         self.assertEqual(len(</b></font>response), 2)
139         vpc = response[0]
140         self.assertEqual(vpc.id, 'vpc-6226ab07')
141         self.assertEqual(vpc.classic_link_enabled, 'false')
142         self.assertEqual(vpc.tags, {'Name': 'hello'})
143     def test_get_all_classic_link_vpcs_params(self):
144         self.set_http_response(status_code=200)
145         self.service_connection.get_all_classic_link_vpcs(
146             vpc_ids=['id1', 'id2'],
147             filters={'GroupId': 'sg-9b4343fe'},
148             dry_run=True,
149         )
150         self.assert_request_parameters({
151             'Action': 'DescribeVpcClassicLink',
152             'VpcId.1': 'id1',
153             'VpcId.2': 'id2',
154             'Filter.1.Name': 'GroupId',
155             'Filter.1.Value.1': 'sg-9b4343fe',
156             'DryRun': 'true'},
157             ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
158                                   'SignatureVersion', 'Timestamp', 'Version'])
159 class TestVpcClassicLink(AWSMockServiceTestCase):
160     connection_class = VPCConnection
161     def setUp(self):
162         super(TestVpcClassicLink, self).setUp()
163         self.vpc = VPC(self.service_connection)
164         self.vpc_id = 'myid'
165         self.vpc.id = self.vpc_id
166 class TestAttachClassicLinkVpc(TestVpcClassicLink):
167     def default_body(self):
168         return b"""
169             &lt;AttachClassicLinkVpcResponse xmlns="http://ec2.amazonaws.com/doc/2014-09-01/"&gt;
170                 &lt;requestId&gt;88673bdf-cd16-40bf-87a1-6132fec47257&lt;/requestId&gt;
171                 &lt;return&gt;true&lt;/return&gt;
172             &lt;/AttachClassicLinkVpcResponse&gt;
173         """
174     def test_attach_classic_link_instance_string_groups(self):
175         groups = ['sg-foo', 'sg-bar']
176         self.set_http_response(status_code=200)
177         response = self.vpc.attach_classic_instance(
178             instance_id='my_instance_id',
179             groups=groups,
180             dry_run=True
181         )
182         self.assertTrue(response)
183         self.assert_request_parameters({
184             'Action': 'AttachClassicLinkVpc',
185             'VpcId': self.vpc_id,
186             'InstanceId': 'my_instance_id',
187             'SecurityGroupId.1': 'sg-foo',
188             'SecurityGroupId.2': 'sg-bar',
189             'DryRun': 'true'},
190             ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
191                                   'SignatureVersion', 'Timestamp', 'Version'])
192     def test_attach_classic_link_instance_object_groups(self):
193         sec_group_1 = SecurityGroup()
194         sec_group_1.id = 'sg-foo'
195         sec_group_2 = SecurityGroup()
196         sec_group_2.id = 'sg-bar'
197         groups = [sec_group_1, sec_group_2]
198         self.set_http_response(status_code=200)
199         response = self.vpc.attach_classic_instance(
200             instance_id='my_instance_id',
201             groups=groups,
202             dry_run=True
203         )
204         self.assertTrue(response)
205         self.assert_request_parameters({
206             'Action': 'AttachClassicLinkVpc',
207             'VpcId': self.vpc_id,
208             'InstanceId': 'my_instance_id',
209             'SecurityGroupId.1': 'sg-foo',
210             'SecurityGroupId.2': 'sg-bar',
211             'DryRun': 'true'},
212             ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
213                                   'SignatureVersion', 'Timestamp', 'Version'])
214 class TestDetachClassicLinkVpc(TestVpcClassicLink):
215     def default_body(self):
216         r<font color="#8c8774"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>eturn b"""
217             &lt;DetachClassicLinkVpcResponse xmlns="http://ec2.amazonaws.com/doc/2014-09-01/"&gt;
218                 &lt;requestId&gt;5565033d-1321-4eef-b121-6aa46f152ed7&lt;/requestId&gt;
219                 &lt;return&gt;true&lt;/return&gt;
220             &lt;/DetachClassicLinkVpcResponse&gt;
221         """
222     def test_detach_classic_link_instance(self):
223         self.set_http_response(status_code=200)
224         response = self.vpc.detach_classic_instance(
225             instance_id='my_instance_id',
226             dry_run=True
227         )
228         self.</b></font>assertTrue(response)
229         self.assert_request_parameters({
230             'Action': 'DetachClassicLinkVpc',
231             'VpcId': self.vpc_id,
232             'InstanceId': 'my_instance_id',
233             'DryRun': 'true'},
234             ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
235                                   'SignatureVersion', 'Timestamp', 'Version'])
236 class TestEnableClassicLinkVpc(TestVpcClassicLink):
237     def default_body(self):
238         return b"""
239             &lt;EnableVpcClassicLinkResponse xmlns="http://ec2.amazonaws.com/doc/2014-09-01/"&gt; 
240                 &lt;requestId&gt;4ab2b2b3-a267-4366-a070-bab853b5927d&lt;/requestId&gt;
241                 &lt;return&gt;true&lt;/return&gt;
242             &lt;/EnableVpcClassicLinkResponse&gt;
243         """
244     def test_enable_classic_link(self):
245         self.set_http_response(status_code=200)
246         response = self.vpc.enable_classic_link(
247             dry_run=True
248         )
249         self.assertTrue(response)
250         self.assert_request_parameters({
251             'Action': 'EnableVpcClassicLink',
252             'VpcId': self.vpc_id,
253             'DryRun': 'true'},
254             ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
255                                   'SignatureVersion', 'Timestamp', 'Version'])
256 class TestDisableClassicLinkVpc(TestVpcClassicLink):
257     def default_body(self):
258         return b"""
259             &lt;DisableVpcClassicLinkResponse xmlns="http://ec2.amazonaws.com/doc/2014-09-01/"&gt;
260                 &lt;requestId&gt;4ab2b2b3-a267-4366-a070-bab853b5927d&lt;/requestId&gt;
261                 &lt;return&gt;true&lt;/return&gt;
262             &lt;/DisableVpcClassicLinkResponse&gt;
263         """
264     def test_enable_classic_link(self):
265         self.set_http_response(status_code=200)
266         response = self.vpc.disable_classic_link(
267             dry_run=True
268         )
269         self.assertTrue(response)
270         self.assert_request_parameters({
271             'Action': 'DisableVpcClassicLink',
272             'VpcId': self.vpc_id,
273             'DryRun': 'true'},
274             ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
275                                   'SignatureVersion', 'Timestamp', 'Version'])
276 class TestUpdateClassicLinkVpc(TestVpcClassicLink):
277     def default_body(self):
278         return b"""
279             &lt;DescribeVpcClassicLinkResponse xmlns="http://ec2.amazonaws.com/doc/2014-09-01/"&gt;
280                 &lt;requestId&gt;2484655d-d669-4950-bf55-7ba559805d36&lt;/requestId&gt;
281                 &lt;vpcSet&gt;
282                     &lt;item&gt;
283                         &lt;vpcId&gt;myid&lt;/vpcId&gt;
284                         &lt;classicLinkEnabled&gt;true&lt;/classicLinkEnabled&gt;
285                          &lt;tagSet/&gt;
286                     &lt;/item&gt;
287                 &lt;/vpcSet&gt;
288             &lt;/DescribeVpcClassicLinkResponse&gt;
289         """
290     def test_vpc_update_classic_link_enabled(self):
291         self.vpc.classic_link_enabled = False
292         self.set_http_response(status_code=200)
293         self.vpc.update_classic_link_enabled(
294             dry_run=True,
295             validate=True
296         )
297         self.assert_request_parameters({
298             'Action': 'DescribeVpcClassicLink',
299             'VpcId.1': self.vpc_id,
300             'DryRun': 'true'},
301             ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
302                                   'SignatureVersion', 'Timestamp', 'Version'])
303         self.assertEqual(self.vpc.classic_link_enabled, 'true')
304 if __name__ == '__main__':
305     unittest.main()
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>test_group.py</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 import base64
2 from datetime import datetime
3 from tests.unit import unittest
4 from tests.unit import AWSMockServiceTestCase
5 from boto.ec2.autoscale import AutoScaleConnection
6 from boto.ec2.autoscale.group import AutoScalingGroup
7 from boto.ec2.autoscale.policy import ScalingPolicy
8 from boto.ec2.autoscale.tag import Tag
9 from boto.ec2.blockdevicemapping import EBSBlockDeviceType, BlockDeviceMapping
10 from boto.ec2.autoscale import launchconfig, LaunchConfiguration
11 class TestAutoScaleGroup(AWSMockServiceTestCase):
12     connection_class = AutoScaleConnection
13     def setUp(self):
14         super(TestAutoScaleGroup, self).setUp()
15     def default_body(self):
16         return b"""
17             &lt;CreateLaunchConfigurationResponse&gt;
18               &lt;ResponseMetadata&gt;
19                 &lt;RequestId&gt;requestid&lt;/RequestId&gt;
20               &lt;/ResponseMetadata&gt;
21             &lt;/CreateLaunchConfigurationResponse&gt;
22         """
23     def test_autoscaling_group_with_termination_policies(self):
24         self.set_http_response(status_code=200)
25         autoscale = AutoScalingGroup(
26             name='foo', launch_config='lauch_config',
27             min_size=1, max_size=2,
28             termination_policies=['OldestInstance', 'OldestLaunchConfiguration'],
29             instance_id='test-id')
30         self.service_connection.create_auto_scaling_group(autoscale)
31         self.assert_request_parameters({
32             'Action': 'CreateAutoScalingGroup',
33             'AutoScalingGroupName': 'foo',
34             'LaunchConfigurationName': 'lauch_config',
35             'MaxSize': 2,
36             'MinSize': 1,
37             'TerminationPolicies.member.1': 'OldestInstance',
38             'TerminationPolicies.member.2': 'OldestLaunchConfiguration',
39             'InstanceId': 'test-id',
40         }, ignore_params_values=['Version'])
41     def test_autoscaling_group_single_vpc_zone_identifier(self):
42         self.set_http_response(status_code=200)
43         autoscale = AutoScalingGroup(
44             name='foo',
45             vpc_zone_identifier='vpc_zone_1')
46         self.service_connection.create_auto_scaling_group(autoscale)
47         self.assert_request_parameters({
48             'Action': 'CreateAutoScalingGroup',
49             'AutoScalingGroupName': 'foo',
50             'VPCZoneIdentifier': 'vpc_zone_1',
51         }, ignore_params_values=['MaxSize', 'MinSize', 'LaunchConfigurationName', 'Version'])
52     def test_autoscaling_group_vpc_zone_identifier_list(self):
53         self.set_http_response(status_code=200)
54         autoscale = AutoScalingGroup(
55             name='foo',
56             vpc_zone_identifier=['vpc_zone_1', 'vpc_zone_2'])
57         self.service_connection.create_auto_scaling_group(autoscale)
58         self.assert_request_parameters({
59             'Action': 'CreateAutoScalingGroup',
60             'AutoScalingGroupName': 'foo',
61             'VPCZoneIdentifier': 'vpc_zone_1,vpc_zone_2',
62         }, ignore_params_values=['MaxSize', 'MinSize', 'LaunchConfigurationName', 'Version'])
63     def test_autoscaling_group_vpc_zone_identifier_multi(self):
64         self.set_http_response(status_code=200)
65         autoscale = AutoScalingGroup(
66             name='foo',
67             vpc_zone_identifier='vpc_zone_1,vpc_zone_2')
68         self.service_connection.create_auto_scaling_group(autoscale)
69         self.assert_request_parameters({
70             'Action': 'CreateAutoScalingGroup',
71             'AutoScalingGroupName': 'foo',
72             'VPCZoneIdentifier': 'vpc_zone_1,vpc_zone_2',
73         }, ignore_params_values=['MaxSize', 'MinSize', 'LaunchConfigurationName', 'Version'])
74 class TestAutoScaleGroupHonorCooldown(AWSMockServiceTestCase):
75     connection_class = AutoScaleConnection
76     def default_body(self):
77         return b"""
78             &lt;SetDesiredCapacityResponse&gt;
79               &lt;ResponseMetadata&gt;
80                 &lt;RequestId&gt;9fb7e2db-6998-11e2-a985-57c82EXAMPLE&lt;/RequestId&gt;
81               &lt;/ResponseMetadata&gt;
82             &lt;/SetDesiredCapacityResponse&gt;
83         """
84     def test_honor_cooldown(self):
85         self.set_http_response(status_code=200)
86         self.service_connection.set_desired_capacity('foo', 10, True)
87         self.assert_request_parameters({
88             'Action': 'SetDesiredCapacity',
89             'AutoScalingGroupName': 'foo',
90             'DesiredCapacity': 10,
91             'HonorCooldown': 'true',
92         }, ignore_params_values=['Version'])
93 class TestScheduledGroup(AWSMockServiceTestCase):
94     connection_class = AutoScaleConnection
95     def setUp(self):
96         super(TestScheduledGroup, self).setUp()
97     def default_body(self):
98         return b"""
99             &lt;PutScheduledUpdateGroupActionResponse&gt;
100                 &lt;ResponseMetadata&gt;
101                   &lt;RequestId&gt;requestid&lt;/RequestId&gt;
102                 &lt;/ResponseMetadata&gt;
103             &lt;/PutScheduledUpdateGroupActionResponse&gt;
104         """
105     def test_scheduled_group_creation(self):
106         self.set_http_response(status_code=200)
107         self.service_connection.create_scheduled_group_action('foo',
108                                                               'scheduled-foo',
109                                                               desired_capacity=1,
110                                                               start_time=datetime(2013, 1, 1, 22, 55, 31),
111                                                               end_time=datetime(2013, 2, 1, 22, 55, 31),
112                                                               min_size=1,
113                                                               max_size=2,
114                                                               recurrence='0 10 * * *')
115         self.assert_request_parameters({
116             'Action': 'PutScheduledUpdateGroupAction',
117             'AutoScalingGroupName': 'foo',
118             'ScheduledActionName': 'scheduled-foo',
119             'MaxSize': 2,
120             'MinSize': 1,
121             'DesiredCapacity': 1,
122             'StartTime': '2013-01-01T22:55:31',
123             'Recurrence': '0 10 * * *',
124         }, ignore_params_values=<font color="#980517"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>['Version'])
125 class TestParseAutoScaleGroupResponse(AWSMockServiceTestCase):
126     connection_class = AutoScaleConnection
127     def default_body(self):
128         return b"""
129           &lt;DescribeAutoScalingGroupsResult&gt;
130              &lt;AutoScalingGroups&gt;
131                &lt;member&gt;
132                  &lt;Tags/&gt;
133                  &lt;SuspendedProcesses/&gt;
134                  &lt;AutoScalingGroupName&gt;test_group&lt;/AutoScalingGroupName&gt;
135                  &lt;HealthCheckType&gt;EC2&lt;/HealthCheckType&gt;
136                  &lt;CreatedTime&gt;2012-09-27T20:19:47.082Z&lt;/CreatedTime&gt;
137                  &lt;EnabledMetrics/&gt;
138                  &lt;LaunchConfigurationName&gt;test_launchconfig&lt;/LaunchConfigurationName&gt;
139                  &lt;Instances&gt;
140                    &lt;member&gt;
141                      &lt;HealthStatus&gt;Healthy&lt;/HealthStatus&gt;
142                      &lt;AvailabilityZone&gt;us-east-1a&lt;/AvailabilityZone&gt;
143                      &lt;InstanceId&gt;i-z118d054&lt;/InstanceId&gt;
144                      &lt;LaunchConfigurationName&gt;test_launchconfig&lt;/LaunchConfigurationName&gt;
145                      &lt;LifecycleState&gt;InService&lt;/LifecycleState&gt;
146                    &lt;/member&gt;
147                  &lt;/Instances&gt;
148                  &lt;DesiredCapacity&gt;1&lt;/DesiredCapacity&gt;
149                  &lt;AvailabilityZones&gt;
150                    &lt;member&gt;us-east-1c&lt;/member&gt;
151                    &lt;member&gt;us-east-1a&lt;/member&gt;
152                  &lt;/AvailabilityZones&gt;
153                  &lt;LoadBalancerNames/&gt;
154                  &lt;MinSize&gt;1&lt;/MinSize&gt;
155                  &lt;VPCZoneIdentifier/&gt;
156                  &lt;HealthCheckGracePeriod&gt;0&lt;/HealthCheckGracePeriod&gt;
157                  &lt;DefaultCooldown&gt;300&lt;/DefaultCooldown&gt;
158                  &lt;AutoScalingGroupARN&gt;myarn&lt;/AutoScalingGroupARN&gt;
159                  &lt;TerminationPolicies&gt;
160                    &lt;member&gt;OldestInstance&lt;/member&gt;
161                    &lt;member&gt;OldestLaunchConfiguration&lt;/member&gt;
162                  &lt;/TerminationPolicies&gt;
163                  &lt;MaxSize&gt;2&lt;/MaxSize&gt;
164                  &lt;InstanceId&gt;Something&lt;/InstanceId&gt;
165                &lt;/member&gt;
166              &lt;/AutoScalingGroups&gt;
167           &lt;/DescribeAutoScalingGroupsResult&gt;
168         """
169     def test_get_all_groups_is_parsed_correctly(self):
170         self.set_http_response(status_code=200)
171         response = self.service_connection.get_all_groups(names=['test_group'])
172         as_group = response[0]
173         self.assertEqual(as_group.availability_zones, ['us-east-1c', 'us-east-1a'])
174         self<font color="#6cc417"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>.assertEqual(as_group.default_cooldown, 300)
175         self.assertEqual(as_group.desired_capacity, 1)
176         self.assertEqual(as_group.enabled_metrics, [])
177         self.assertEqual(as_group.health_check_period, 0)
178         self.assertEqual(as_group.</b></font>health_check_type, 'EC2')
179         self.assertEqual(as_group.launch_config_name, 'test_launchconfig')
180         self.assertEqual(as_group.load_balancers, [])
181         self.assertEqual(as_group.min_size, 1)
182         self.assertEqual(as_group.max_size, 2)
183         self.assertEqual(as_group.name, 'test_group')
184         self.assertEqual(as_group.tags, [])
185         self.assertEqual(as_group.termination_policies,
186                          [<font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>'OldestInstance', 'OldestLaunchConfiguration'])
187         self.assertEqual(as_group.instance_id, 'Something')
188 class TestDescribeTerminationPolicies(AWSMockServiceTestCase):
189     connection_class = AutoScaleConnection
190     def default_body(self):
191         return b"""
192           &lt;DescribeTerminationPolicyTypesResponse&gt;
193             &lt;DescribeTerminationPolicyTypesResult&gt;
194               &lt;TerminationPolicyTypes&gt;
195                 &lt;member&gt;ClosestToNextInstanceHour&lt;/member&gt;
196                 &lt;member&gt;Default&lt;/member&gt;
197                 &lt;member&gt;NewestInstance&lt;/member&gt;
198                 &lt;member&gt;OldestInstance&lt;/member&gt;
199                 &lt;member&gt;OldestLaunchConfiguration&lt;/member&gt;
200               &lt;/TerminationPolicyTypes&gt;
201             &lt;/DescribeTerminationPolicyTypesResult&gt;
202             &lt;ResponseMetadata&gt;
203               &lt;RequestId&gt;requestid&lt;/RequestId&gt;
204             &lt;/ResponseMetadata&gt;
205           &lt;/DescribeTerminationPolicyTypesResponse&gt;
206         """
207     def test_autoscaling_group_with_termination_policies(self):
208         self.set_http_response(status_code=200)
209         self.assertListEqual(
210             response,
211             ['<font color="#f63526"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>ClosestToNextInstanceHour'</b></font>, 'Default',
212              'NewestInstance', 'OldestInstance', 'OldestLaunchConfiguration'])
213 class TestLaunchConfigurationDescribe(AWSMockServiceTestCase):
214     connection_class = AutoScaleConnection
215     def default_body(self):
216         return b"""
217         &lt;DescribeLaunchConfigurationsResponse&gt;
218           &lt;DescribeLaunchConfigurationsResult&gt;
219             &lt;LaunchConfigurations&gt;
220               &lt;member&gt;
221                 &lt;AssociatePublicIpAddress&gt;true&lt;/AssociatePublicIpAddress&gt;
222                 &lt;SecurityGroups/&gt;
223                 &lt;CreatedTime&gt;2013-01-21T23:04:42.200Z&lt;/CreatedTime&gt;
224                 &lt;KernelId/&gt;
225                 &lt;LaunchConfigurationName&gt;my-test-lc&lt;/LaunchConfigurationName&gt;
226                 &lt;UserData/&gt;
227                 &lt;InstanceType&gt;m1.small&lt;/InstanceType&gt;
228                 &lt;LaunchConfigurationARN&gt;arn:aws:autoscaling:us-east-1:803981987763:launchConfiguration:9dbbbf87-6141-428a-a409-0752edbe6cad:launchConfigurationName/my-test-lc&lt;/LaunchConfigurationARN&gt;
229                 &lt;BlockDeviceMappings/&gt;
230                 &lt;ImageId&gt;ami-514ac838&lt;/ImageId&gt;
231                 &lt;KeyName/&gt;
232                 &lt;RamdiskId/&gt;
233                 &lt;InstanceMonitoring&gt;
234                   &lt;Enabled&gt;true&lt;/Enabled&gt;
235                 &lt;/InstanceMonitoring&gt;
236                 &lt;EbsOptimized&gt;false&lt;/EbsOptimized&gt;
237                 &lt;ClassicLinkVPCId&gt;vpc-12345&lt;/ClassicLinkVPCId&gt;
238                 &lt;ClassicLinkVPCSecurityGroups&gt;
239                     &lt;member&gt;sg-1234&lt;/member&gt;
240                 &lt;/ClassicLinkVPCSecurityGroups&gt;
241               &lt;/member&gt;
242             &lt;/LaunchConfigurations&gt;
243           &lt;/DescribeLaunchConfigurationsResult&gt;
244           &lt;ResponseMetadata&gt;
245             &lt;RequestId&gt;d05a22f8-b690-11e2-bf8e-2113fEXAMPLE&lt;/RequestId&gt;
246           &lt;/ResponseMetadata&gt;
247         &lt;/DescribeLaunchConfigurationsResponse&gt;
248         """
249     def test_get_all_launch_configurations(self):
250         self.set_http_response(status_code=200)
251         response = self.service_connection.get_all_launch_configurations()
252         self.assertTrue(isinstance(</b></font>response, list))
253         self.assertEqual(len(response), 1)
254         self.assertTrue(isinstance(response[0], LaunchConfiguration))
255         self.assertEqual(response[0].associate_public_ip_address, True)
256         self.assertEqual(response[0].name, "my-test-lc")
257         self.assertEqual(response[0].instance_type, "m1.small")
258         self.assertEqual(response[0].launch_configuration_arn, "arn:aws:autoscaling:us-east-1:803981987763:launchConfiguration:9dbbbf87-6141-428a-a409-0752edbe6cad:launchConfigurationName/my-test-lc")
259         self.assertEqual(response[0].image_id, "ami-514ac838")
260         self.assertTrue(isinstance(response[0].instance_monitoring, launchconfig.InstanceMonitoring))
261         self.assertEqual(response[0].instance_monitoring.enabled, 'true')
262         self.assertEqual(response[0].ebs_optimized, False)
263         self.assertEqual(response[0].block_device_mappings, [])
264         self.assertEqual(response[0].classic_link_vpc_id, 'vpc-12345')
265         self.assertEqual(response[0].classic_link_vpc_security_groups,
266                          ['sg-1234'])
267         self.assert_request_parameters({
268             'Action': 'DescribeLaunchConfigurations',
269         }, ignore_params_values=<font color="#8c8774"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>['Version'])
270     def test_get_all_configuration_limited(self):
271         self.set_http_response(status_code=200)
272         response = self.service_connection.get_all_launch_configurations(max_records=10, names=["my-test1"</b></font>, "my-test2"])
273         self.assert_request_parameters({
274             'Action': 'DescribeLaunchConfigurations',
275             'MaxRecords': 10,
276             'LaunchConfigurationNames.member.1': 'my-test1',
277             'LaunchConfigurationNames.member.2': 'my-test2'
278         }, ignore_params_values=['Version'])
279 class TestLaunchConfiguration(AWSMockServiceTestCase):
280     connection_class = AutoScaleConnection
281     def default_body(self):
282         return b"""
283         &lt;DescribeLaunchConfigurationsResponse&gt;
284         &lt;/DescribeLaunchConfigurationsResponse&gt;
285         """
286     def test_launch_config(self):
287         self.set_http_response(status_code=200)
288         dev_sdf = EBSBlockDeviceType(snapshot_id='snap-12345')
289         bdm = BlockDeviceMapping()
290         bdm['/dev/sdf'] = dev_sdf
291         lc = launchconfig.LaunchConfiguration(
292             connection=self.service_connection,
293             name='launch_config',
294             image_id='123456',
295             instance_type='m1.large',
296             user_data='#!/bin/bash',
297             security_groups=['group1'],
298             spot_price='price',
299             block_device_mappings=[bdm],
300             associate_public_ip_address=True,
301             volume_type='atype',
302             delete_on_termination=False,
303             iops=3000,
304             classic_link_vpc_id='vpc-1234',
305             classic_link_vpc_security_groups=['classic_link_group']
306         )
307         response = self.service_connection.create_launch_configuration(lc)
308         self.assert_request_parameters({
309             'Action': 'CreateLaunchConfiguration',
310             'BlockDeviceMappings.member.1.DeviceName': '/dev/sdf',
311             'BlockDeviceMappings.member.1.Ebs.DeleteOnTermination': 'false',
312             'BlockDeviceMappings.member.1.Ebs.SnapshotId': 'snap-12345',
313             'EbsOptimized': 'false',
314             'LaunchConfigurationName': 'launch_config',
315             'ImageId': '123456',
316             'UserData': base64.b64encode(b'#!/bin/bash').decode('utf-8'),
317             'InstanceMonitoring.Enabled': 'false',
318             'InstanceType': 'm1.large',
319             'SecurityGroups.member.1': 'group1',
320             'SpotPrice': 'price',
321             'AssociatePublicIpAddress': 'true',
322             'VolumeType': 'atype',
323             'DeleteOnTermination': 'false',
324             'Iops': 3000,
325             'ClassicLinkVPCId': 'vpc-1234',
326             'ClassicLinkVPCSecurityGroups.member.1': 'classic_link_group'
327         }, ignore_params_values=['Version'])
328 class TestCreateAutoScalePolicy(AWSMockServiceTestCase):
329     connection_class = AutoScaleConnection
330     def setUp(self):
331         super(TestCreateAutoScalePolicy, self).setUp()
332     def default_body(self):
333         return b"""
334             &lt;PutScalingPolicyResponse xmlns="http://autoscaling.amazonaws.com\
335             /doc/2011-01-01/"&gt;
336               &lt;PutScalingPolicyResult&gt;
337                 &lt;PolicyARN&gt;arn:aws:autoscaling:us-east-1:803981987763:scaling\
338                 Policy:b0dcf5e8
339             -02e6-4e31-9719-0675d0dc31ae:autoScalingGroupName/my-test-asg:\
340             policyName/my-scal
341             eout-policy&lt;/PolicyARN&gt;
342               &lt;/PutScalingPolicyResult&gt;
343               &lt;ResponseMetadata&gt;
344                 &lt;RequestId&gt;3cfc6fef-c08b-11e2-a697-2922EXAMPLE&lt;/RequestId&gt;
345               &lt;/ResponseMetadata&gt;
346             &lt;/PutScalingPolicyResponse&gt;
347         """
348     def test_scaling_policy_with_min_adjustment_step(self):
349         self.set_http_response(status_code=200)
350         policy = ScalingPolicy(
351             name='foo', as_name='bar',
352             adjustment_type='PercentChangeInCapacity', scaling_adjustment=50,
353             min_adjustment_step=30)
354         self.service_connection.create_scaling_policy(policy)
355         self.assert_request_parameters({
356             'Action': 'PutScalingPolicy',
357             'PolicyName': 'foo',
358             'AutoScalingGroupName': 'bar',
359             'AdjustmentType': 'PercentChangeInCapacity',
360             'ScalingAdjustment': 50,
361             'MinAdjustmentStep': 30
362         }, ignore_params_values=['Version'])
363     def test_scaling_policy_with_wrong_adjustment_type(self):
364         self.set_http_response(status_code=200)
365         policy = ScalingPolicy(
366             name='foo', as_name='bar',
367             adjustment_type='ChangeInCapacity', scaling_adjustment=50,
368             min_adjustment_step=30)
369         self.service_connection.create_scaling_policy(policy)
370         self.assert_request_parameters({
371             'Action': 'PutScalingPolicy',
372             'PolicyName': 'foo',
373             'AutoScalingGroupName': 'bar',
374             'AdjustmentType': 'ChangeInCapacity',
375             'ScalingAdjustment': 50
376         }, ignore_params_values=['Version'])
377     def test_scaling_policy_without_min_adjustment_step(self):
378         self.set_http_response(status_code=200)
379         policy = ScalingPolicy(
380             name='foo', as_name='bar',
381             adjustment_type='PercentChangeInCapacity', scaling_adjustment=50)
382         self.service_connection.create_scaling_policy(policy)
383         self.assert_request_parameters({
384             'Action': 'PutScalingPolicy',
385             'PolicyName': 'foo',
386             'AutoScalingGroupName': 'bar',
387             'AdjustmentType': 'PercentChangeInCapacity',
388             'ScalingAdjustment': 50
389         }, ignore_params_values=['Version'])
390 class TestPutNotificationConfiguration(AWSMockServiceTestCase):
391     connection_class = AutoScaleConnection
392     def setUp(self):
393         super(TestPutNotificationConfiguration, self).setUp()
394     def default_body(self):
395         return b"""
396             &lt;PutNotificationConfigurationResponse&gt;
397               &lt;ResponseMetadata&gt;
398                 &lt;RequestId&gt;requestid&lt;/RequestId&gt;
399               &lt;/ResponseMetadata&gt;
400             &lt;/PutNotificationConfigurationResponse&gt;
401         """
402     def test_autoscaling_group_put_notification_configuration(self):
403         self.set_http_response(status_code=200)
404         autoscale = AutoScalingGroup(
405             name='ana', launch_config='lauch_config',
406             min_size=1, max_size=2,
407             termination_policies=['OldestInstance', 'OldestLaunchConfiguration'])
408         self.service_connection.put_notification_configuration(autoscale, 'arn:aws:sns:us-east-1:19890506:AutoScaling-Up', ['autoscaling:EC2_INSTANCE_LAUNCH'])
409         self.assert_request_parameters({
410             'Action': 'PutNotificationConfiguration',
411             'AutoScalingGroupName': 'ana',
412             'NotificationTypes.member.1': 'autoscaling:EC2_INSTANCE_LAUNCH',
413             'TopicARN': 'arn:aws:sns:us-east-1:19890506:AutoScaling-Up',
414         }, ignore_params_values=['Version'])
415 class TestDeleteNotificationConfiguration(AWSMockServiceTestCase):
416     connection_class = AutoScaleConnection
417     def setUp(self):
418         super(TestDeleteNotificationConfiguration, self).setUp()
419     def default_body(self):
420         return b"""
421             &lt;DeleteNotificationConfigurationResponse&gt;
422               &lt;ResponseMetadata&gt;
423                 &lt;RequestId&gt;requestid&lt;/RequestId&gt;
424               &lt;/ResponseMetadata&gt;
425             &lt;/DeleteNotificationConfigurationResponse&gt;
426         """
427     def test_autoscaling_group_put_notification_configuration(self):
428         self.set_http_response(status_code=200)
429         autoscale = AutoScalingGroup(
430             name='ana', launch_config='lauch_config',
431             min_size=1, max_size=2,
432             termination_policies=['OldestInstance', 'OldestLaunchConfiguration'])
433         self.service_connection.delete_notification_configuration(autoscale, 'arn:aws:sns:us-east-1:19890506:AutoScaling-Up')
434         self.assert_request_parameters({
435             'Action': 'DeleteNotificationConfiguration',
436             'AutoScalingGroupName': 'ana',
437             'TopicARN': 'arn:aws:sns:us-east-1:19890506:AutoScaling-Up',
438         }, ignore_params_values=['Version'])
439 class TestAutoScalingTag(AWSMockServiceTestCase):
440     connection_class = AutoScaleConnection
441     def default_body(self):
442         return b"""
443         &lt;CreateOrUpdateTagsResponse&gt;
444             &lt;ResponseMetadata&gt;
445                 &lt;RequestId&gt;requestId&lt;/RequestId&gt;
446             &lt;/ResponseMetadata&gt;
447         &lt;/CreateOrUpdateTagsResponse&gt;
448         """
449     def test_create_or_update_tags(self):
450         self.set_http_response(status_code=200)
451         tags = [
452             Tag(
453                 connection=self.service_connection,
454                 key='alpha',
455                 value='tango',
456                 resource_id='sg-00000000',
457                 resource_type='auto-scaling-group',
458                 propagate_at_launch=True
459             ),
460             Tag(
461                 connection=self.service_connection,
462                 key='bravo',
463                 value='sierra',
464                 resource_id='sg-00000000',
465                 resource_type='auto-scaling-group',
466                 propagate_at_launch=False
467             )]
468         response = self.service_connection.create_or_update_tags(tags)
469         self.assert_request_parameters({
470             'Action': 'CreateOrUpdateTags',
471             'Tags.member.1.ResourceType': 'auto-scaling-group',
472             'Tags.member.1.ResourceId': 'sg-00000000',
473             'Tags.member.1.Key': 'alpha',
474             'Tags.member.1.Value': 'tango',
475             'Tags.member.1.PropagateAtLaunch': 'true',
476             'Tags.member.2.ResourceType': 'auto-scaling-group',
477             'Tags.member.2.ResourceId': 'sg-00000000',
478             'Tags.member.2.Key': 'bravo',
479             'Tags.member.2.Value': 'sierra',
480             'Tags.member.2.PropagateAtLaunch': 'false'
481         }, ignore_params_values=['Version'])
482     def test_endElement(self):
483         for i in [
484             ('Key', 'mykey', 'key'),
485             ('Value', 'myvalue', 'value'),
486             ('ResourceType', 'auto-scaling-group', 'resource_type'),
487             ('ResourceId', 'sg-01234567', 'resource_id'),
488             ('PropagateAtLaunch', 'true', 'propagate_at_launch')]:
489                 self.check_tag_attributes_set(i[0], i[1], i[2])
490     def check_tag_attributes_set(self, name, value, attr):
491         tag = Tag()
492         tag.endElement(name, value, None)
493         if value == 'true':
494             self.assertEqual(getattr(tag, attr), True)
495         else:
496             self.assertEqual(getattr(tag, attr), value)
497 class TestAttachInstances(AWSMockServiceTestCase):
498     connection_class = AutoScaleConnection
499     def setUp(self):
500         super(TestAttachInstances, self).setUp()
501     def default_body(self):
502         return b"""
503             &lt;AttachInstancesResponse&gt;
504               &lt;ResponseMetadata&gt;
505                 &lt;RequestId&gt;requestid&lt;/RequestId&gt;
506               &lt;/ResponseMetadata&gt;
507             &lt;/AttachInstancesResponse&gt;
508         """
509     def test_attach_instances(self):
510         self.set_http_response(status_code=200)
511         self.service_connection.attach_instances(
512             'autoscale',
513             ['inst2', 'inst1', 'inst4']
514         )
515         self.assert_request_parameters({
516             'Action': 'AttachInstances',
517             'AutoScalingGroupName': 'autoscale',
518             'InstanceIds.member.1': 'inst2',
519             'InstanceIds.member.2': 'inst1',
520             'InstanceIds.member.3': 'inst4',
521         }, ignore_params_values=['Version'])
522 class TestDetachInstances(AWSMockServiceTestCase):
523     connection_class = AutoScaleConnection
524     def setUp(self):
525         super(TestDetachInstances, self).setUp()
526     def default_body(self):
527         return b"""
528             &lt;DetachInstancesResponse&gt;
529               &lt;ResponseMetadata&gt;
530                 &lt;RequestId&gt;requestid&lt;/RequestId&gt;
531               &lt;/ResponseMetadata&gt;
532             &lt;/DetachInstancesResponse&gt;
533         """
534     def test_detach_instances(self):
535         self.set_http_response(status_code=200)
536         self.service_connection.detach_instances(
537             'autoscale',
538             ['inst2', 'inst1', 'inst4']
539         )
540         self.assert_request_parameters({
541             'Action': 'DetachInstances',
542             'AutoScalingGroupName': 'autoscale',
543             'InstanceIds.member.1': 'inst2',
544             'InstanceIds.member.2': 'inst1',
545             'InstanceIds.member.3': 'inst4',
546             'ShouldDecrementDesiredCapacity': 'true',
547         }, ignore_params_values=['Version'])
548     def test_detach_instances_with_decrement_desired_capacity(self):
549         self.set_http_response(status_code=200)
550         self.service_connection.detach_instances(
551             'autoscale',
552             ['inst2', 'inst1', 'inst4'],
553             True
554         )
555         self.assert_request_parameters({
556             'Action': 'DetachInstances',
557             'AutoScalingGroupName': 'autoscale',
558             'InstanceIds.member.1': 'inst2',
559             'InstanceIds.member.2': 'inst1',
560             'InstanceIds.member.3': 'inst4',
561             'ShouldDecrementDesiredCapacity': 'true',
562         }, ignore_params_values=['Version'])
563     def test_detach_instances_without_decrement_desired_capacity(self):
564         self.set_http_response(status_code=200)
565         self.service_connection.detach_instances(
566             'autoscale',
567             ['inst2', 'inst1', 'inst4'],
568             False
569         )
570         self.assert_request_parameters({
571             'Action': 'DetachInstances',
572             'AutoScalingGroupName': 'autoscale',
573             'InstanceIds.member.1': 'inst2',
574             'InstanceIds.member.2': 'inst1',
575             'InstanceIds.member.3': 'inst4',
576             'ShouldDecrementDesiredCapacity': 'false',
577         }, ignore_params_values=['Version'])
578 class TestGetAccountLimits(AWSMockServiceTestCase):
579     connection_class = AutoScaleConnection
580         super(TestGetAccountLimits, self).setUp()
581     <font color="#53858b"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>def default_body(self):
582         return b"""
583             &lt;DescribeAccountLimitsAnswer&gt;
584               &lt;MaxNumberOfAutoScalingGroups&gt;6&lt;/MaxNumberOfAutoScalingGroups&gt;
585               &lt;MaxNumberOfLaunchConfigurations&gt;3&lt;/MaxNumberOfLaunchConfigurations&gt;
586               &lt;ResponseMetadata&gt;
587                 &lt;RequestId&gt;requestid&lt;/RequestId&gt;
588               &lt;/ResponseMetadata&gt;
589             &lt;/DescribeAccountLimitsAnswer&gt;
590         """
591     def test_autoscaling_group_put_notification_configuration(self):
592         self.set_http_response(status_code=200)
593         limits = self.service_connection.get_account_limits()
594         self.assert_request_parameters({
595             'Action': 'DescribeAccountLimits',
596         }, ignore_params_values=['Version'])
597         self.</b></font>assertEqual(limits.max_autoscaling_groups, 6)
598         self.assertEqual(limits.max_launch_configurations, 3)
599 class TestGetAdjustmentTypes(AWSMockServiceTestCase):
600     connection_class = AutoScaleConnection
601         super(TestGetAdjustmentTypes, self).setUp()
602     <font color="#151b8d"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>def default_body(self):
603         return b"""
604             &lt;DescribeAdjustmentTypesResponse xmlns="http://autoscaling.amazonaws.com/doc/201-01-01/"&gt;
605               &lt;DescribeAdjustmentTypesResult&gt;
606                 &lt;AdjustmentTypes&gt;
607                   &lt;member&gt;
608                     &lt;AdjustmentType&gt;ChangeInCapacity&lt;/AdjustmentType&gt;
609                   &lt;/member&gt;
610                   &lt;member&gt;
611                     &lt;AdjustmentType&gt;ExactCapacity&lt;/AdjustmentType&gt;
612                   &lt;/member&gt;
613                   &lt;member&gt;
614                     &lt;AdjustmentType&gt;PercentChangeInCapacity&lt;/AdjustmentType&gt;
615                   &lt;/member&gt;
616                 &lt;/AdjustmentTypes&gt;
617               &lt;/DescribeAdjustmentTypesResult&gt;
618               &lt;ResponseMetadata&gt;
619                 &lt;RequestId&gt;requestId&lt;/RequestId&gt;
620               &lt;/ResponseMetadata&gt;
621             &lt;/DescribeAdjustmentTypesResponse&gt;
622         """
623     def test_autoscaling_adjustment_types(self):
624         self.set_http_response(status_code=200)
625         response = self.service_connection.get_all_adjustment_types()
626         self.assert_request_parameters(</b></font>{
627             'Action': 'DescribeAdjustmentTypes'
628         }, ignore_params_values=['Version'])
629         self.assertTrue(isinstance(response, list))
630         self.assertEqual(response[0].adjustment_type, "ChangeInCapacity")
631         self.assertEqual(response[1].adjustment_type, "ExactCapacity")
632         self.assertEqual(response[2].adjustment_type, "PercentChangeInCapacity")
633 class TestLaunchConfigurationDescribeWithBlockDeviceTypes(AWSMockServiceTestCase):
634     connection_class = AutoScaleConnection
635     def default_body(self):
636         return b"""
637         &lt;DescribeLaunchConfigurationsResponse&gt;
638           &lt;DescribeLaunchConfigurationsResult&gt;
639             &lt;LaunchConfigurations&gt;
640               &lt;member&gt;
641                 &lt;AssociatePublicIpAddress&gt;true&lt;/AssociatePublicIpAddress&gt;
642                 &lt;SecurityGroups/&gt;
643                 &lt;CreatedTime&gt;2013-01-21T23:04:42.200Z&lt;/CreatedTime&gt;
644                 &lt;KernelId/&gt;
645                 &lt;LaunchConfigurationName&gt;my-test-lc&lt;/LaunchConfigurationName&gt;
646                 &lt;UserData/&gt;
647                 &lt;InstanceType&gt;m1.small&lt;/InstanceType&gt;
648                 &lt;LaunchConfigurationARN&gt;arn:aws:autoscaling:us-east-1:803981987763:launchConfiguration:9dbbbf87-6141-428a-a409-0752edbe6cad:launchConfigurationName/my-test-lc&lt;/LaunchConfigurationARN&gt;
649                 &lt;BlockDeviceMappings&gt;
650                   &lt;member&gt;
651                     &lt;DeviceName&gt;/dev/xvdp&lt;/DeviceName&gt;
652                     &lt;Ebs&gt;
653                       &lt;SnapshotId&gt;snap-1234abcd&lt;/SnapshotId&gt;
654                       &lt;Iops&gt;1000&lt;/Iops&gt;
655                       &lt;DeleteOnTermination&gt;true&lt;/DeleteOnTermination&gt;
656                       &lt;VolumeType&gt;io1&lt;/VolumeType&gt;
657                       &lt;VolumeSize&gt;100&lt;/VolumeSize&gt;
658                     &lt;/Ebs&gt;
659                   &lt;/member&gt;
660                   &lt;member&gt;
661                     &lt;VirtualName&gt;ephemeral1&lt;/VirtualName&gt;
662                     &lt;DeviceName&gt;/dev/xvdc&lt;/DeviceName&gt;
663                   &lt;/member&gt;
664                   &lt;member&gt;
665                     &lt;VirtualName&gt;ephemeral0&lt;/VirtualName&gt;
666                     &lt;DeviceName&gt;/dev/xvdb&lt;/DeviceName&gt;
667                   &lt;/member&gt;
668                   &lt;member&gt;
669                     &lt;DeviceName&gt;/dev/xvdh&lt;/DeviceName&gt;
670                     &lt;Ebs&gt;
671                       &lt;Iops&gt;2000&lt;/Iops&gt;
672                       &lt;DeleteOnTermination&gt;false&lt;/DeleteOnTermination&gt;
673                       &lt;VolumeType&gt;io1&lt;/VolumeType&gt;
674                       &lt;VolumeSize&gt;200&lt;/VolumeSize&gt;
675                     &lt;/Ebs&gt;
676                   &lt;/member&gt;
677                 &lt;/BlockDeviceMappings&gt;
678                 &lt;ImageId&gt;ami-514ac838&lt;/ImageId&gt;
679                 &lt;KeyName/&gt;
680                 &lt;RamdiskId/&gt;
681                 &lt;InstanceMonitoring&gt;
682                   &lt;Enabled&gt;true&lt;/Enabled&gt;
683                 &lt;/InstanceMonitoring&gt;
684                 &lt;EbsOptimized&gt;false&lt;/EbsOptimized&gt;
685               &lt;/member&gt;
686             &lt;/LaunchConfigurations&gt;
687           &lt;/DescribeLaunchConfigurationsResult&gt;
688           &lt;ResponseMetadata&gt;
689             &lt;RequestId&gt;d05a22f8-b690-11e2-bf8e-2113fEXAMPLE&lt;/RequestId&gt;
690           &lt;/ResponseMetadata&gt;
691         &lt;/DescribeLaunchConfigurationsResponse&gt;
692         """
693     def test_get_all_launch_configurations_with_block_device_types(self):
694         self.set_http_response(status_code=200)
695         self.service_connection.use_block_device_types = True
696         response = self.service_connection.get_all_launch_configurations()
697         self.assertTrue(isinstance(response, list))
698         self.assertEqual(len(response), 1)
699         self.assertTrue(isinstance(response[0], LaunchConfiguration))
700         self.assertEqual(response[0].associate_public_ip_address, True)
701         self.assertEqual(response[0].name, "my-test-lc")
702         self.assertEqual(response[0].instance_type, "m1.small")
703         self.assertEqual(response[0].launch_configuration_arn, "arn:aws:autoscaling:us-east-1:803981987763:launchConfiguration:9dbbbf87-6141-428a-a409-0752edbe6cad:launchConfigurationName/my-test-lc")
704         self.assertEqual(response[0].image_id, "ami-514ac838")
705         self.assertTrue(isinstance(response[0].instance_monitoring, launchconfig.InstanceMonitoring))
706         self.assertEqual(response[0].instance_monitoring.enabled, 'true')
707         self.assertEqual(response[0].ebs_optimized, False)
708         self.assertEqual(response[0].block_device_mappings['/dev/xvdb'].ephemeral_name, 'ephemeral0')
709         self.assertEqual(response[0].block_device_mappings['/dev/xvdc'].ephemeral_name, 'ephemeral1')
710         self.assertEqual(response[0].block_device_mappings['/dev/xvdp'].snapshot_id, 'snap-1234abcd')
711         self.assertEqual(response[0].block_device_mappings['/dev/xvdp'].delete_on_termination, True)
712         self.assertEqual(response[0].block_device_mappings['/dev/xvdp'].iops, 1000)
713         self.assertEqual(response[0].block_device_mappings['/dev/xvdp'].size, 100)
714         self.assertEqual(response[0].block_device_mappings['/dev/xvdp'].volume_type, 'io1')
715         self.assertEqual(response[0].block_device_mappings['/dev/xvdh'].delete_on_termination, False)
716         self.assertEqual(response[0].block_device_mappings['/dev/xvdh'].iops, 2000)
717         self.assertEqual(response[0].block_device_mappings['/dev/xvdh'].size, 200)
718         self.assertEqual(response[0].block_device_mappings['/dev/xvdh'].volume_type, 'io1')
719         self.assert_request_parameters({
720             'Action': 'DescribeLaunchConfigurations',
721         }, ignore_params_values=['Version'])
722     def test_get_all_configuration_limited(self):
723         self.set_http_response(status_code=200)
724         response = self.service_connection.get_all_launch_configurations(max_records=10, names=["my-test1", "my-test2"])
725         self.assert_request_parameters({
726             'Action': 'DescribeLaunchConfigurations',
727             'MaxRecords': 10,
728             'LaunchConfigurationNames.member.1': 'my-test1',
729             'LaunchConfigurationNames.member.2': 'my-test2'
730         }, ignore_params_values=['Version'])
731 if __name__ == '__main__':
732     unittest.main()
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
