<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for test_vpc.py &amp; test_group.py</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for test_vpc.py &amp; test_group.py
      </h3>
<h1 align="center">
        18.7%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>test_vpc.py (32.112675%)<th>test_group.py (13.255814%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(39-66)<td><a href="#" name="0">(237-267)</a><td align="center"><font color="#ff0000">22</font>
<tr onclick='openModal("#f63526")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#f63526"><font color="#f63526">-</font><td><a href="#" name="1">(140-174)<td><a href="#" name="1">(267-314)</a><td align="center"><font color="#d00000">18</font>
<tr onclick='openModal("#980517")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#980517"><font color="#980517">-</font><td><a href="#" name="2">(101-120)<td><a href="#" name="2">(169-221)</a><td align="center"><font color="#d00000">18</font>
<tr onclick='openModal("#53858b")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#53858b"><font color="#53858b">-</font><td><a href="#" name="3">(84-98)<td><a href="#" name="3">(706-723)</a><td align="center"><font color="#b90000">16</font>
<tr onclick='openModal("#6cc417")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#6cc417"><font color="#6cc417">-</font><td><a href="#" name="4">(73-77)<td><a href="#" name="4">(224-228)</a><td align="center"><font color="#ad0000">15</font>
<tr onclick='openModal("#151b8d")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#151b8d"><font color="#151b8d">-</font><td><a href="#" name="5">(29-36)<td><a href="#" name="5">(733-758)</a><td align="center"><font color="#960000">13</font>
<tr onclick='openModal("#8c8774")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#8c8774"><font color="#8c8774">-</font><td><a href="#" name="6">(266-279)<td><a href="#" name="6">(333-338)</a><td align="center"><font color="#8b0000">12</font>
</td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>test_vpc.py</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
from tests.unit import unittest
from tests.unit import AWSMockServiceTestCase
from boto.vpc import VPCConnection, VPC
from boto.ec2.securitygroup import SecurityGroup
DESCRIBE_VPCS = b'''&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;DescribeVpcsResponse xmlns="http://ec2.amazonaws.com/doc/2013-02-01/"&gt;
    &lt;requestId&gt;623040d1-b51c-40bc-8080-93486f38d03d&lt;/requestId&gt;
    &lt;vpcSet&gt;
        &lt;item&gt;
            &lt;vpcId&gt;vpc-12345678&lt;/vpcId&gt;
            &lt;state&gt;available&lt;/state&gt;
            &lt;cidrBlock&gt;172.16.0.0/16&lt;/cidrBlock&gt;
            &lt;dhcpOptionsId&gt;dopt-12345678&lt;/dhcpOptionsId&gt;
            &lt;instanceTenancy&gt;default&lt;/instanceTenancy&gt;
            &lt;isDefault&gt;false&lt;/isDefault&gt;
        &lt;/item&gt;
    &lt;/vpcSet&gt;
&lt;/DescribeVpcsResponse&gt;'''
class TestDescribeVPCs(AWSMockServiceTestCase):
<a name="5"></a>
    connection_class = VPCConnection
    <font color="#151b8d"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>def default_body(self):
        return DESCRIBE_VPCS
    def test_get_vpcs(self):
        self.set_http_response(status_code=200)
        api_response = self.service_connection.get_all_vpcs()
<a name="0"></a>        self.assertEqual(</b></font>len(api_response), 1)
        vpc = api_response[0]
        self.assertFalse(vpc<font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>.is_default)
        self.assertEqual(vpc.instance_tenancy, 'default')
class TestCreateVpc(AWSMockServiceTestCase):
    connection_class = VPCConnection
    def default_body(self):
        return b"""
            &lt;CreateVpcResponse xmlns="http://ec2.amazonaws.com/doc/2013-10-01/"&gt;
               &lt;requestId&gt;7a62c49f-347e-4fc4-9331-6e8eEXAMPLE&lt;/requestId&gt;
               &lt;vpc&gt;
                  &lt;vpcId&gt;vpc-1a2b3c4d&lt;/vpcId&gt;
                  &lt;state&gt;pending&lt;/state&gt;
                  &lt;cidrBlock&gt;10.0.0.0/16&lt;/cidrBlock&gt;
                  &lt;dhcpOptionsId&gt;dopt-1a2b3c4d2&lt;/dhcpOptionsId&gt;
                  &lt;instanceTenancy&gt;default&lt;/instanceTenancy&gt;
                  &lt;tagSet/&gt;
               &lt;/vpc&gt;
            &lt;/CreateVpcResponse&gt;
        """
    def test_create_vpc(self):
        self.set_http_response(status_code=200)
        api_response = self.service_connection.create_vpc('10.0.0.0/16', 'default')
        self.assert_request_parameters({
            'Action'</b></font>: 'CreateVpc',
            'InstanceTenancy': 'default',
            'CidrBlock': '10.0.0.0/16'},
            ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
<a name="4"></a>                                  'SignatureVersion', 'Timestamp',
                                  'Version'])
        self.assertIsInstance(api_response, VPC)
        self<font color="#6cc417"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>.assertEquals(api_response.id, 'vpc-1a2b3c4d')
        self.assertEquals(api_response.state, 'pending')
        self.assertEquals(api_response.cidr_block, '10.0.0.0/16')
        self.assertEquals(api_response.dhcp_options_id, 'dopt-1a2b3c4d2')
        self.assertEquals(api_response.</b></font>instance_tenancy, 'default')
class TestDeleteVpc(AWSMockServiceTestCase):
<a name="3"></a>
    connection_class = VPCConnection
    <font color="#53858b"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>def default_body(self):
        return b"""
            &lt;DeleteVpcResponse xmlns="http://ec2.amazonaws.com/doc/2013-10-01/"&gt;
               &lt;requestId&gt;7a62c49f-347e-4fc4-9331-6e8eEXAMPLE&lt;/requestId&gt;
               &lt;return&gt;true&lt;/return&gt;
            &lt;/DeleteVpcResponse&gt;
        """
    def test_delete_vpc(self):
        self.set_http_response(status_code=200)
        api_response = self.service_connection.delete_vpc('vpc-1a2b3c4d')
        self.assert_request_parameters({
            'Action': 'DeleteVpc',
            'VpcId': 'vpc-1a2b3c4d'},
<a name="2"></a>            ignore_params_values=['AWSAccessKeyId'</b></font>, 'SignatureMethod',
                                  'SignatureVersion', 'Timestamp',
                                  'Version'])
        self.assertEquals(<font color="#980517"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>api_response, True)
class TestModifyVpcAttribute(AWSMockServiceTestCase):
    connection_class = VPCConnection
    def default_body(self):
        return b"""
            &lt;ModifyVpcAttributeResponse xmlns="http://ec2.amazonaws.com/doc/2013-10-01/"&gt;
               &lt;requestId&gt;7a62c49f-347e-4fc4-9331-6e8eEXAMPLE&lt;/requestId&gt;
               &lt;return&gt;true&lt;/return&gt;
            &lt;/ModifyVpcAttributeResponse&gt;
        """
    def test_modify_vpc_attribute_dns_support(self):
        self.set_http_response(status_code=200)
        api_response = self.service_connection.modify_vpc_attribute(
            'vpc-1a2b3c4d', enable_dns_support=True)
        self.assert_request_parameters(</b></font>{
            'Action': 'ModifyVpcAttribute',
            'VpcId': 'vpc-1a2b3c4d',
            'EnableDnsSupport.Value': 'true'},
            ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
                                  'SignatureVersion', 'Timestamp',
                                  'Version'])
        self.assertEquals(api_response, True)
    def test_modify_vpc_attribute_dns_hostnames(self):
        self.set_http_response(status_code=200)
        api_response = self.service_connection.modify_vpc_attribute(
            'vpc-1a2b3c4d', enable_dns_hostnames=True)
        self.assert_request_parameters({
            'Action': 'ModifyVpcAttribute',
            'VpcId': 'vpc-1a2b3c4d',
            'EnableDnsHostnames.Value': 'true'},
<a name="1"></a>            ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
                                  'SignatureVersion', 'Timestamp',
                                  'Version'])
        self.assertEquals(<font color="#f63526"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>api_response, True)
class TestGetAllClassicLinkVpc(AWSMockServiceTestCase):
    connection_class = VPCConnection
    def default_body(self):
        return b"""
            &lt;DescribeVpcClassicLinkResponse xmlns="http://ec2.amazonaws.com/doc/2014-09-01/"&gt;
                &lt;requestId&gt;2484655d-d669-4950-bf55-7ba559805d36&lt;/requestId&gt;
                &lt;vpcSet&gt;
                    &lt;item&gt;
                        &lt;vpcId&gt;vpc-6226ab07&lt;/vpcId&gt;
                        &lt;classicLinkEnabled&gt;false&lt;/classicLinkEnabled&gt;
                        &lt;tagSet&gt;
                            &lt;item&gt;
                                &lt;key&gt;Name&lt;/key&gt;
                                &lt;value&gt;hello&lt;/value&gt;[
                            &lt;/item&gt;
                        &lt;/tagSet&gt;
                    &lt;/item&gt;
                    &lt;item&gt;
                        &lt;vpcId&gt;vpc-9d24f8f8&lt;/vpcId&gt;
                        &lt;classicLinkEnabled&gt;true&lt;/classicLinkEnabled&gt;
                        &lt;tagSet/&gt;
                    &lt;/item&gt;
                &lt;/vpcSet&gt;
            &lt;/DescribeVpcClassicLinkResponse&gt;
        """
    def test_get_all_classic_link_vpcs(self):
        self.set_http_response(status_code=200)
        response = self.service_connection.get_all_classic_link_vpcs()
        self.assertEqual(len(</b></font>response), 2)
        vpc = response[0]
        self.assertEqual(vpc.id, 'vpc-6226ab07')
        self.assertEqual(vpc.classic_link_enabled, 'false')
        self.assertEqual(vpc.tags, {'Name': 'hello'})
    def test_get_all_classic_link_vpcs_params(self):
        self.set_http_response(status_code=200)
        self.service_connection.get_all_classic_link_vpcs(
            vpc_ids=['id1', 'id2'],
            filters={'GroupId': 'sg-9b4343fe'},
            dry_run=True,
        )
        self.assert_request_parameters({
            'Action': 'DescribeVpcClassicLink',
            'VpcId.1': 'id1',
            'VpcId.2': 'id2',
            'Filter.1.Name': 'GroupId',
            'Filter.1.Value.1': 'sg-9b4343fe',
            'DryRun': 'true'},
            ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
                                  'SignatureVersion', 'Timestamp', 'Version'])
class TestVpcClassicLink(AWSMockServiceTestCase):
    connection_class = VPCConnection
    def setUp(self):
        super(TestVpcClassicLink, self).setUp()
        self.vpc = VPC(self.service_connection)
        self.vpc_id = 'myid'
        self.vpc.id = self.vpc_id
class TestAttachClassicLinkVpc(TestVpcClassicLink):
    def default_body(self):
        return b"""
            &lt;AttachClassicLinkVpcResponse xmlns="http://ec2.amazonaws.com/doc/2014-09-01/"&gt;
                &lt;requestId&gt;88673bdf-cd16-40bf-87a1-6132fec47257&lt;/requestId&gt;
                &lt;return&gt;true&lt;/return&gt;
            &lt;/AttachClassicLinkVpcResponse&gt;
        """
    def test_attach_classic_link_instance_string_groups(self):
        groups = ['sg-foo', 'sg-bar']
        self.set_http_response(status_code=200)
        response = self.vpc.attach_classic_instance(
            instance_id='my_instance_id',
            groups=groups,
            dry_run=True
        )
        self.assertTrue(response)
        self.assert_request_parameters({
            'Action': 'AttachClassicLinkVpc',
            'VpcId': self.vpc_id,
            'InstanceId': 'my_instance_id',
            'SecurityGroupId.1': 'sg-foo',
            'SecurityGroupId.2': 'sg-bar',
            'DryRun': 'true'},
            ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
                                  'SignatureVersion', 'Timestamp', 'Version'])
    def test_attach_classic_link_instance_object_groups(self):
        sec_group_1 = SecurityGroup()
        sec_group_1.id = 'sg-foo'
        sec_group_2 = SecurityGroup()
        sec_group_2.id = 'sg-bar'
        groups = [sec_group_1, sec_group_2]
        self.set_http_response(status_code=200)
        response = self.vpc.attach_classic_instance(
            instance_id='my_instance_id',
            groups=groups,
            dry_run=True
        )
        self.assertTrue(response)
        self.assert_request_parameters({
            'Action': 'AttachClassicLinkVpc',
            'VpcId': self.vpc_id,
            'InstanceId': 'my_instance_id',
            'SecurityGroupId.1': 'sg-foo',
            'SecurityGroupId.2': 'sg-bar',
            'DryRun': 'true'},
            ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
                                  'SignatureVersion', 'Timestamp', 'Version'])
<a name="6"></a>
class TestDetachClassicLinkVpc(TestVpcClassicLink):
    def default_body(self):
        r<font color="#8c8774"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>eturn b"""
            &lt;DetachClassicLinkVpcResponse xmlns="http://ec2.amazonaws.com/doc/2014-09-01/"&gt;
                &lt;requestId&gt;5565033d-1321-4eef-b121-6aa46f152ed7&lt;/requestId&gt;
                &lt;return&gt;true&lt;/return&gt;
            &lt;/DetachClassicLinkVpcResponse&gt;
        """
    def test_detach_classic_link_instance(self):
        self.set_http_response(status_code=200)
        response = self.vpc.detach_classic_instance(
            instance_id='my_instance_id',
            dry_run=True
        )
        self.</b></font>assertTrue(response)
        self.assert_request_parameters({
            'Action': 'DetachClassicLinkVpc',
            'VpcId': self.vpc_id,
            'InstanceId': 'my_instance_id',
            'DryRun': 'true'},
            ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
                                  'SignatureVersion', 'Timestamp', 'Version'])
class TestEnableClassicLinkVpc(TestVpcClassicLink):
    def default_body(self):
        return b"""
            &lt;EnableVpcClassicLinkResponse xmlns="http://ec2.amazonaws.com/doc/2014-09-01/"&gt; 
                &lt;requestId&gt;4ab2b2b3-a267-4366-a070-bab853b5927d&lt;/requestId&gt;
                &lt;return&gt;true&lt;/return&gt;
            &lt;/EnableVpcClassicLinkResponse&gt;
        """
    def test_enable_classic_link(self):
        self.set_http_response(status_code=200)
        response = self.vpc.enable_classic_link(
            dry_run=True
        )
        self.assertTrue(response)
        self.assert_request_parameters({
            'Action': 'EnableVpcClassicLink',
            'VpcId': self.vpc_id,
            'DryRun': 'true'},
            ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
                                  'SignatureVersion', 'Timestamp', 'Version'])
class TestDisableClassicLinkVpc(TestVpcClassicLink):
    def default_body(self):
        return b"""
            &lt;DisableVpcClassicLinkResponse xmlns="http://ec2.amazonaws.com/doc/2014-09-01/"&gt;
                &lt;requestId&gt;4ab2b2b3-a267-4366-a070-bab853b5927d&lt;/requestId&gt;
                &lt;return&gt;true&lt;/return&gt;
            &lt;/DisableVpcClassicLinkResponse&gt;
        """
    def test_enable_classic_link(self):
        self.set_http_response(status_code=200)
        response = self.vpc.disable_classic_link(
            dry_run=True
        )
        self.assertTrue(response)
        self.assert_request_parameters({
            'Action': 'DisableVpcClassicLink',
            'VpcId': self.vpc_id,
            'DryRun': 'true'},
            ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
                                  'SignatureVersion', 'Timestamp', 'Version'])
class TestUpdateClassicLinkVpc(TestVpcClassicLink):
    def default_body(self):
        return b"""
            &lt;DescribeVpcClassicLinkResponse xmlns="http://ec2.amazonaws.com/doc/2014-09-01/"&gt;
                &lt;requestId&gt;2484655d-d669-4950-bf55-7ba559805d36&lt;/requestId&gt;
                &lt;vpcSet&gt;
                    &lt;item&gt;
                        &lt;vpcId&gt;myid&lt;/vpcId&gt;
                        &lt;classicLinkEnabled&gt;true&lt;/classicLinkEnabled&gt;
                         &lt;tagSet/&gt;
                    &lt;/item&gt;
                &lt;/vpcSet&gt;
            &lt;/DescribeVpcClassicLinkResponse&gt;
        """
    def test_vpc_update_classic_link_enabled(self):
        self.vpc.classic_link_enabled = False
        self.set_http_response(status_code=200)
        self.vpc.update_classic_link_enabled(
            dry_run=True,
            validate=True
        )
        self.assert_request_parameters({
            'Action': 'DescribeVpcClassicLink',
            'VpcId.1': self.vpc_id,
            'DryRun': 'true'},
            ignore_params_values=['AWSAccessKeyId', 'SignatureMethod',
                                  'SignatureVersion', 'Timestamp', 'Version'])
        self.assertEqual(self.vpc.classic_link_enabled, 'true')
if __name__ == '__main__':
    unittest.main()
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>test_group.py</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
import base64
from datetime import datetime
from tests.unit import unittest
from tests.unit import AWSMockServiceTestCase
from boto.ec2.autoscale import AutoScaleConnection
from boto.ec2.autoscale.group import AutoScalingGroup
from boto.ec2.autoscale.policy import ScalingPolicy
from boto.ec2.autoscale.tag import Tag
from boto.ec2.blockdevicemapping import EBSBlockDeviceType, BlockDeviceMapping
from boto.ec2.autoscale import launchconfig, LaunchConfiguration
class TestAutoScaleGroup(AWSMockServiceTestCase):
    connection_class = AutoScaleConnection
    def setUp(self):
        super(TestAutoScaleGroup, self).setUp()
    def default_body(self):
        return b"""
            &lt;CreateLaunchConfigurationResponse&gt;
              &lt;ResponseMetadata&gt;
                &lt;RequestId&gt;requestid&lt;/RequestId&gt;
              &lt;/ResponseMetadata&gt;
            &lt;/CreateLaunchConfigurationResponse&gt;
        """
    def test_autoscaling_group_with_termination_policies(self):
        self.set_http_response(status_code=200)
        autoscale = AutoScalingGroup(
            name='foo', launch_config='lauch_config',
            min_size=1, max_size=2,
            termination_policies=['OldestInstance', 'OldestLaunchConfiguration'],
            instance_id='test-id')
        self.service_connection.create_auto_scaling_group(autoscale)
        self.assert_request_parameters({
            'Action': 'CreateAutoScalingGroup',
            'AutoScalingGroupName': 'foo',
            'LaunchConfigurationName': 'lauch_config',
            'MaxSize': 2,
            'MinSize': 1,
            'TerminationPolicies.member.1': 'OldestInstance',
            'TerminationPolicies.member.2': 'OldestLaunchConfiguration',
            'InstanceId': 'test-id',
        }, ignore_params_values=['Version'])
    def test_autoscaling_group_single_vpc_zone_identifier(self):
        self.set_http_response(status_code=200)
        autoscale = AutoScalingGroup(
            name='foo',
            vpc_zone_identifier='vpc_zone_1')
        self.service_connection.create_auto_scaling_group(autoscale)
        self.assert_request_parameters({
            'Action': 'CreateAutoScalingGroup',
            'AutoScalingGroupName': 'foo',
            'VPCZoneIdentifier': 'vpc_zone_1',
        }, ignore_params_values=['MaxSize', 'MinSize', 'LaunchConfigurationName', 'Version'])
    def test_autoscaling_group_vpc_zone_identifier_list(self):
        self.set_http_response(status_code=200)
        autoscale = AutoScalingGroup(
            name='foo',
            vpc_zone_identifier=['vpc_zone_1', 'vpc_zone_2'])
        self.service_connection.create_auto_scaling_group(autoscale)
        self.assert_request_parameters({
            'Action': 'CreateAutoScalingGroup',
            'AutoScalingGroupName': 'foo',
            'VPCZoneIdentifier': 'vpc_zone_1,vpc_zone_2',
        }, ignore_params_values=['MaxSize', 'MinSize', 'LaunchConfigurationName', 'Version'])
    def test_autoscaling_group_vpc_zone_identifier_multi(self):
        self.set_http_response(status_code=200)
        autoscale = AutoScalingGroup(
            name='foo',
            vpc_zone_identifier='vpc_zone_1,vpc_zone_2')
        self.service_connection.create_auto_scaling_group(autoscale)
        self.assert_request_parameters({
            'Action': 'CreateAutoScalingGroup',
            'AutoScalingGroupName': 'foo',
            'VPCZoneIdentifier': 'vpc_zone_1,vpc_zone_2',
        }, ignore_params_values=['MaxSize', 'MinSize', 'LaunchConfigurationName', 'Version'])
class TestAutoScaleGroupHonorCooldown(AWSMockServiceTestCase):
    connection_class = AutoScaleConnection
    def default_body(self):
        return b"""
            &lt;SetDesiredCapacityResponse&gt;
              &lt;ResponseMetadata&gt;
                &lt;RequestId&gt;9fb7e2db-6998-11e2-a985-57c82EXAMPLE&lt;/RequestId&gt;
              &lt;/ResponseMetadata&gt;
            &lt;/SetDesiredCapacityResponse&gt;
        """
    def test_honor_cooldown(self):
        self.set_http_response(status_code=200)
        self.service_connection.set_desired_capacity('foo', 10, True)
        self.assert_request_parameters({
            'Action': 'SetDesiredCapacity',
            'AutoScalingGroupName': 'foo',
            'DesiredCapacity': 10,
            'HonorCooldown': 'true',
        }, ignore_params_values=['Version'])
class TestScheduledGroup(AWSMockServiceTestCase):
    connection_class = AutoScaleConnection
    def setUp(self):
        super(TestScheduledGroup, self).setUp()
    def default_body(self):
        return b"""
            &lt;PutScheduledUpdateGroupActionResponse&gt;
                &lt;ResponseMetadata&gt;
                  &lt;RequestId&gt;requestid&lt;/RequestId&gt;
                &lt;/ResponseMetadata&gt;
            &lt;/PutScheduledUpdateGroupActionResponse&gt;
        """
    def test_scheduled_group_creation(self):
        self.set_http_response(status_code=200)
        self.service_connection.create_scheduled_group_action('foo',
                                                              'scheduled-foo',
                                                              desired_capacity=1,
                                                              start_time=datetime(2013, 1, 1, 22, 55, 31),
                                                              end_time=datetime(2013, 2, 1, 22, 55, 31),
                                                              min_size=1,
                                                              max_size=2,
                                                              recurrence='0 10 * * *')
        self.assert_request_parameters({
            'Action': 'PutScheduledUpdateGroupAction',
            'AutoScalingGroupName': 'foo',
            'ScheduledActionName': 'scheduled-foo',
            'MaxSize': 2,
            'MinSize': 1,
            'DesiredCapacity': 1,
<a name="2"></a>            'EndTime': '2013-02-01T22:55:31',
            'StartTime': '2013-01-01T22:55:31',
            'Recurrence': '0 10 * * *',
        }, ignore_params_values=<font color="#980517"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>['Version'])
class TestParseAutoScaleGroupResponse(AWSMockServiceTestCase):
    connection_class = AutoScaleConnection
    def default_body(self):
        return b"""
          &lt;DescribeAutoScalingGroupsResult&gt;
             &lt;AutoScalingGroups&gt;
               &lt;member&gt;
                 &lt;Tags/&gt;
                 &lt;SuspendedProcesses/&gt;
                 &lt;AutoScalingGroupName&gt;test_group&lt;/AutoScalingGroupName&gt;
                 &lt;HealthCheckType&gt;EC2&lt;/HealthCheckType&gt;
                 &lt;CreatedTime&gt;2012-09-27T20:19:47.082Z&lt;/CreatedTime&gt;
                 &lt;EnabledMetrics/&gt;
                 &lt;LaunchConfigurationName&gt;test_launchconfig&lt;/LaunchConfigurationName&gt;
                 &lt;Instances&gt;
                   &lt;member&gt;
                     &lt;HealthStatus&gt;Healthy&lt;/HealthStatus&gt;
                     &lt;AvailabilityZone&gt;us-east-1a&lt;/AvailabilityZone&gt;
                     &lt;InstanceId&gt;i-z118d054&lt;/InstanceId&gt;
                     &lt;LaunchConfigurationName&gt;test_launchconfig&lt;/LaunchConfigurationName&gt;
                     &lt;LifecycleState&gt;InService&lt;/LifecycleState&gt;
                   &lt;/member&gt;
                 &lt;/Instances&gt;
                 &lt;DesiredCapacity&gt;1&lt;/DesiredCapacity&gt;
                 &lt;AvailabilityZones&gt;
                   &lt;member&gt;us-east-1c&lt;/member&gt;
                   &lt;member&gt;us-east-1a&lt;/member&gt;
                 &lt;/AvailabilityZones&gt;
                 &lt;LoadBalancerNames/&gt;
                 &lt;MinSize&gt;1&lt;/MinSize&gt;
                 &lt;VPCZoneIdentifier/&gt;
                 &lt;HealthCheckGracePeriod&gt;0&lt;/HealthCheckGracePeriod&gt;
                 &lt;DefaultCooldown&gt;300&lt;/DefaultCooldown&gt;
                 &lt;AutoScalingGroupARN&gt;myarn&lt;/AutoScalingGroupARN&gt;
                 &lt;TerminationPolicies&gt;
                   &lt;member&gt;OldestInstance&lt;/member&gt;
                   &lt;member&gt;OldestLaunchConfiguration&lt;/member&gt;
                 &lt;/TerminationPolicies&gt;
                 &lt;MaxSize&gt;2&lt;/MaxSize&gt;
                 &lt;InstanceId&gt;Something&lt;/InstanceId&gt;
               &lt;/member&gt;
             &lt;/AutoScalingGroups&gt;
          &lt;/DescribeAutoScalingGroupsResult&gt;
        """
    def test_get_all_groups_is_parsed_correctly(self):
        self.set_http_response(status_code=200)
        response = self.service_connection.get_all_groups(names=['test_group'])
<a name="4"></a>        self.assertEqual(</b></font>len(response), 1, response)
        as_group = response[0]
        self.assertEqual(as_group.availability_zones, ['us-east-1c', 'us-east-1a'])
        self<font color="#6cc417"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>.assertEqual(as_group.default_cooldown, 300)
        self.assertEqual(as_group.desired_capacity, 1)
        self.assertEqual(as_group.enabled_metrics, [])
        self.assertEqual(as_group.health_check_period, 0)
        self.assertEqual(as_group.</b></font>health_check_type, 'EC2')
        self.assertEqual(as_group.launch_config_name, 'test_launchconfig')
        self.assertEqual(as_group.load_balancers, [])
        self.assertEqual(as_group.min_size, 1)
        self.assertEqual(as_group.max_size, 2)
        self.assertEqual(as_group.name, 'test_group')
<a name="0"></a>        self.assertEqual(as_group.suspended_processes, [])
        self.assertEqual(as_group.tags, [])
        self.assertEqual(as_group.termination_policies,
                         [<font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>'OldestInstance', 'OldestLaunchConfiguration'])
        self.assertEqual(as_group.instance_id, 'Something')
class TestDescribeTerminationPolicies(AWSMockServiceTestCase):
    connection_class = AutoScaleConnection
    def default_body(self):
        return b"""
          &lt;DescribeTerminationPolicyTypesResponse&gt;
            &lt;DescribeTerminationPolicyTypesResult&gt;
              &lt;TerminationPolicyTypes&gt;
                &lt;member&gt;ClosestToNextInstanceHour&lt;/member&gt;
                &lt;member&gt;Default&lt;/member&gt;
                &lt;member&gt;NewestInstance&lt;/member&gt;
                &lt;member&gt;OldestInstance&lt;/member&gt;
                &lt;member&gt;OldestLaunchConfiguration&lt;/member&gt;
              &lt;/TerminationPolicyTypes&gt;
            &lt;/DescribeTerminationPolicyTypesResult&gt;
            &lt;ResponseMetadata&gt;
              &lt;RequestId&gt;requestid&lt;/RequestId&gt;
            &lt;/ResponseMetadata&gt;
          &lt;/DescribeTerminationPolicyTypesResponse&gt;
        """
    def test_autoscaling_group_with_termination_policies(self):
        self.set_http_response(status_code=200)
<a name="1"></a>        response = self.service_connection.get_termination_policies()
        self.assertListEqual(
            response,
            ['<font color="#f63526"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>ClosestToNextInstanceHour'</b></font>, 'Default',
             'NewestInstance', 'OldestInstance', 'OldestLaunchConfiguration'])
class TestLaunchConfigurationDescribe(AWSMockServiceTestCase):
    connection_class = AutoScaleConnection
    def default_body(self):
        return b"""
        &lt;DescribeLaunchConfigurationsResponse&gt;
          &lt;DescribeLaunchConfigurationsResult&gt;
            &lt;LaunchConfigurations&gt;
              &lt;member&gt;
                &lt;AssociatePublicIpAddress&gt;true&lt;/AssociatePublicIpAddress&gt;
                &lt;SecurityGroups/&gt;
                &lt;CreatedTime&gt;2013-01-21T23:04:42.200Z&lt;/CreatedTime&gt;
                &lt;KernelId/&gt;
                &lt;LaunchConfigurationName&gt;my-test-lc&lt;/LaunchConfigurationName&gt;
                &lt;UserData/&gt;
                &lt;InstanceType&gt;m1.small&lt;/InstanceType&gt;
                &lt;LaunchConfigurationARN&gt;arn:aws:autoscaling:us-east-1:803981987763:launchConfiguration:9dbbbf87-6141-428a-a409-0752edbe6cad:launchConfigurationName/my-test-lc&lt;/LaunchConfigurationARN&gt;
                &lt;BlockDeviceMappings/&gt;
                &lt;ImageId&gt;ami-514ac838&lt;/ImageId&gt;
                &lt;KeyName/&gt;
                &lt;RamdiskId/&gt;
                &lt;InstanceMonitoring&gt;
                  &lt;Enabled&gt;true&lt;/Enabled&gt;
                &lt;/InstanceMonitoring&gt;
                &lt;EbsOptimized&gt;false&lt;/EbsOptimized&gt;
                &lt;ClassicLinkVPCId&gt;vpc-12345&lt;/ClassicLinkVPCId&gt;
                &lt;ClassicLinkVPCSecurityGroups&gt;
                    &lt;member&gt;sg-1234&lt;/member&gt;
                &lt;/ClassicLinkVPCSecurityGroups&gt;
              &lt;/member&gt;
            &lt;/LaunchConfigurations&gt;
          &lt;/DescribeLaunchConfigurationsResult&gt;
          &lt;ResponseMetadata&gt;
            &lt;RequestId&gt;d05a22f8-b690-11e2-bf8e-2113fEXAMPLE&lt;/RequestId&gt;
          &lt;/ResponseMetadata&gt;
        &lt;/DescribeLaunchConfigurationsResponse&gt;
        """
    def test_get_all_launch_configurations(self):
        self.set_http_response(status_code=200)
        response = self.service_connection.get_all_launch_configurations()
        self.assertTrue(isinstance(</b></font>response, list))
        self.assertEqual(len(response), 1)
        self.assertTrue(isinstance(response[0], LaunchConfiguration))
        self.assertEqual(response[0].associate_public_ip_address, True)
        self.assertEqual(response[0].name, "my-test-lc")
        self.assertEqual(response[0].instance_type, "m1.small")
        self.assertEqual(response[0].launch_configuration_arn, "arn:aws:autoscaling:us-east-1:803981987763:launchConfiguration:9dbbbf87-6141-428a-a409-0752edbe6cad:launchConfigurationName/my-test-lc")
        self.assertEqual(response[0].image_id, "ami-514ac838")
        self.assertTrue(isinstance(response[0].instance_monitoring, launchconfig.InstanceMonitoring))
        self.assertEqual(response[0].instance_monitoring.enabled, 'true')
        self.assertEqual(response[0].ebs_optimized, False)
        self.assertEqual(response[0].block_device_mappings, [])
        self.assertEqual(response[0].classic_link_vpc_id, 'vpc-12345')
        self.assertEqual(response[0].classic_link_vpc_security_groups,
                         ['sg-1234'])
<a name="6"></a>
        self.assert_request_parameters({
            'Action': 'DescribeLaunchConfigurations',
        }, ignore_params_values=<font color="#8c8774"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>['Version'])
    def test_get_all_configuration_limited(self):
        self.set_http_response(status_code=200)
        response = self.service_connection.get_all_launch_configurations(max_records=10, names=["my-test1"</b></font>, "my-test2"])
        self.assert_request_parameters({
            'Action': 'DescribeLaunchConfigurations',
            'MaxRecords': 10,
            'LaunchConfigurationNames.member.1': 'my-test1',
            'LaunchConfigurationNames.member.2': 'my-test2'
        }, ignore_params_values=['Version'])
class TestLaunchConfiguration(AWSMockServiceTestCase):
    connection_class = AutoScaleConnection
    def default_body(self):
        return b"""
        &lt;DescribeLaunchConfigurationsResponse&gt;
        &lt;/DescribeLaunchConfigurationsResponse&gt;
        """
    def test_launch_config(self):
        self.set_http_response(status_code=200)
        dev_sdf = EBSBlockDeviceType(snapshot_id='snap-12345')
        bdm = BlockDeviceMapping()
        bdm['/dev/sdf'] = dev_sdf
        lc = launchconfig.LaunchConfiguration(
            connection=self.service_connection,
            name='launch_config',
            image_id='123456',
            instance_type='m1.large',
            user_data='#!/bin/bash',
            security_groups=['group1'],
            spot_price='price',
            block_device_mappings=[bdm],
            associate_public_ip_address=True,
            volume_type='atype',
            delete_on_termination=False,
            iops=3000,
            classic_link_vpc_id='vpc-1234',
            classic_link_vpc_security_groups=['classic_link_group']
        )
        response = self.service_connection.create_launch_configuration(lc)
        self.assert_request_parameters({
            'Action': 'CreateLaunchConfiguration',
            'BlockDeviceMappings.member.1.DeviceName': '/dev/sdf',
            'BlockDeviceMappings.member.1.Ebs.DeleteOnTermination': 'false',
            'BlockDeviceMappings.member.1.Ebs.SnapshotId': 'snap-12345',
            'EbsOptimized': 'false',
            'LaunchConfigurationName': 'launch_config',
            'ImageId': '123456',
            'UserData': base64.b64encode(b'#!/bin/bash').decode('utf-8'),
            'InstanceMonitoring.Enabled': 'false',
            'InstanceType': 'm1.large',
            'SecurityGroups.member.1': 'group1',
            'SpotPrice': 'price',
            'AssociatePublicIpAddress': 'true',
            'VolumeType': 'atype',
            'DeleteOnTermination': 'false',
            'Iops': 3000,
            'ClassicLinkVPCId': 'vpc-1234',
            'ClassicLinkVPCSecurityGroups.member.1': 'classic_link_group'
        }, ignore_params_values=['Version'])
class TestCreateAutoScalePolicy(AWSMockServiceTestCase):
    connection_class = AutoScaleConnection
    def setUp(self):
        super(TestCreateAutoScalePolicy, self).setUp()
    def default_body(self):
        return b"""
            &lt;PutScalingPolicyResponse xmlns="http://autoscaling.amazonaws.com\
            /doc/2011-01-01/"&gt;
              &lt;PutScalingPolicyResult&gt;
                &lt;PolicyARN&gt;arn:aws:autoscaling:us-east-1:803981987763:scaling\
                Policy:b0dcf5e8
            -02e6-4e31-9719-0675d0dc31ae:autoScalingGroupName/my-test-asg:\
            policyName/my-scal
            eout-policy&lt;/PolicyARN&gt;
              &lt;/PutScalingPolicyResult&gt;
              &lt;ResponseMetadata&gt;
                &lt;RequestId&gt;3cfc6fef-c08b-11e2-a697-2922EXAMPLE&lt;/RequestId&gt;
              &lt;/ResponseMetadata&gt;
            &lt;/PutScalingPolicyResponse&gt;
        """
    def test_scaling_policy_with_min_adjustment_step(self):
        self.set_http_response(status_code=200)
        policy = ScalingPolicy(
            name='foo', as_name='bar',
            adjustment_type='PercentChangeInCapacity', scaling_adjustment=50,
            min_adjustment_step=30)
        self.service_connection.create_scaling_policy(policy)
        self.assert_request_parameters({
            'Action': 'PutScalingPolicy',
            'PolicyName': 'foo',
            'AutoScalingGroupName': 'bar',
            'AdjustmentType': 'PercentChangeInCapacity',
            'ScalingAdjustment': 50,
            'MinAdjustmentStep': 30
        }, ignore_params_values=['Version'])
    def test_scaling_policy_with_wrong_adjustment_type(self):
        self.set_http_response(status_code=200)
        policy = ScalingPolicy(
            name='foo', as_name='bar',
            adjustment_type='ChangeInCapacity', scaling_adjustment=50,
            min_adjustment_step=30)
        self.service_connection.create_scaling_policy(policy)
        self.assert_request_parameters({
            'Action': 'PutScalingPolicy',
            'PolicyName': 'foo',
            'AutoScalingGroupName': 'bar',
            'AdjustmentType': 'ChangeInCapacity',
            'ScalingAdjustment': 50
        }, ignore_params_values=['Version'])
    def test_scaling_policy_without_min_adjustment_step(self):
        self.set_http_response(status_code=200)
        policy = ScalingPolicy(
            name='foo', as_name='bar',
            adjustment_type='PercentChangeInCapacity', scaling_adjustment=50)
        self.service_connection.create_scaling_policy(policy)
        self.assert_request_parameters({
            'Action': 'PutScalingPolicy',
            'PolicyName': 'foo',
            'AutoScalingGroupName': 'bar',
            'AdjustmentType': 'PercentChangeInCapacity',
            'ScalingAdjustment': 50
        }, ignore_params_values=['Version'])
class TestPutNotificationConfiguration(AWSMockServiceTestCase):
    connection_class = AutoScaleConnection
    def setUp(self):
        super(TestPutNotificationConfiguration, self).setUp()
    def default_body(self):
        return b"""
            &lt;PutNotificationConfigurationResponse&gt;
              &lt;ResponseMetadata&gt;
                &lt;RequestId&gt;requestid&lt;/RequestId&gt;
              &lt;/ResponseMetadata&gt;
            &lt;/PutNotificationConfigurationResponse&gt;
        """
    def test_autoscaling_group_put_notification_configuration(self):
        self.set_http_response(status_code=200)
        autoscale = AutoScalingGroup(
            name='ana', launch_config='lauch_config',
            min_size=1, max_size=2,
            termination_policies=['OldestInstance', 'OldestLaunchConfiguration'])
        self.service_connection.put_notification_configuration(autoscale, 'arn:aws:sns:us-east-1:19890506:AutoScaling-Up', ['autoscaling:EC2_INSTANCE_LAUNCH'])
        self.assert_request_parameters({
            'Action': 'PutNotificationConfiguration',
            'AutoScalingGroupName': 'ana',
            'NotificationTypes.member.1': 'autoscaling:EC2_INSTANCE_LAUNCH',
            'TopicARN': 'arn:aws:sns:us-east-1:19890506:AutoScaling-Up',
        }, ignore_params_values=['Version'])
class TestDeleteNotificationConfiguration(AWSMockServiceTestCase):
    connection_class = AutoScaleConnection
    def setUp(self):
        super(TestDeleteNotificationConfiguration, self).setUp()
    def default_body(self):
        return b"""
            &lt;DeleteNotificationConfigurationResponse&gt;
              &lt;ResponseMetadata&gt;
                &lt;RequestId&gt;requestid&lt;/RequestId&gt;
              &lt;/ResponseMetadata&gt;
            &lt;/DeleteNotificationConfigurationResponse&gt;
        """
    def test_autoscaling_group_put_notification_configuration(self):
        self.set_http_response(status_code=200)
        autoscale = AutoScalingGroup(
            name='ana', launch_config='lauch_config',
            min_size=1, max_size=2,
            termination_policies=['OldestInstance', 'OldestLaunchConfiguration'])
        self.service_connection.delete_notification_configuration(autoscale, 'arn:aws:sns:us-east-1:19890506:AutoScaling-Up')
        self.assert_request_parameters({
            'Action': 'DeleteNotificationConfiguration',
            'AutoScalingGroupName': 'ana',
            'TopicARN': 'arn:aws:sns:us-east-1:19890506:AutoScaling-Up',
        }, ignore_params_values=['Version'])
class TestAutoScalingTag(AWSMockServiceTestCase):
    connection_class = AutoScaleConnection
    def default_body(self):
        return b"""
        &lt;CreateOrUpdateTagsResponse&gt;
            &lt;ResponseMetadata&gt;
                &lt;RequestId&gt;requestId&lt;/RequestId&gt;
            &lt;/ResponseMetadata&gt;
        &lt;/CreateOrUpdateTagsResponse&gt;
        """
    def test_create_or_update_tags(self):
        self.set_http_response(status_code=200)
        tags = [
            Tag(
                connection=self.service_connection,
                key='alpha',
                value='tango',
                resource_id='sg-00000000',
                resource_type='auto-scaling-group',
                propagate_at_launch=True
            ),
            Tag(
                connection=self.service_connection,
                key='bravo',
                value='sierra',
                resource_id='sg-00000000',
                resource_type='auto-scaling-group',
                propagate_at_launch=False
            )]
        response = self.service_connection.create_or_update_tags(tags)
        self.assert_request_parameters({
            'Action': 'CreateOrUpdateTags',
            'Tags.member.1.ResourceType': 'auto-scaling-group',
            'Tags.member.1.ResourceId': 'sg-00000000',
            'Tags.member.1.Key': 'alpha',
            'Tags.member.1.Value': 'tango',
            'Tags.member.1.PropagateAtLaunch': 'true',
            'Tags.member.2.ResourceType': 'auto-scaling-group',
            'Tags.member.2.ResourceId': 'sg-00000000',
            'Tags.member.2.Key': 'bravo',
            'Tags.member.2.Value': 'sierra',
            'Tags.member.2.PropagateAtLaunch': 'false'
        }, ignore_params_values=['Version'])
    def test_endElement(self):
        for i in [
            ('Key', 'mykey', 'key'),
            ('Value', 'myvalue', 'value'),
            ('ResourceType', 'auto-scaling-group', 'resource_type'),
            ('ResourceId', 'sg-01234567', 'resource_id'),
            ('PropagateAtLaunch', 'true', 'propagate_at_launch')]:
                self.check_tag_attributes_set(i[0], i[1], i[2])
    def check_tag_attributes_set(self, name, value, attr):
        tag = Tag()
        tag.endElement(name, value, None)
        if value == 'true':
            self.assertEqual(getattr(tag, attr), True)
        else:
            self.assertEqual(getattr(tag, attr), value)
class TestAttachInstances(AWSMockServiceTestCase):
    connection_class = AutoScaleConnection
    def setUp(self):
        super(TestAttachInstances, self).setUp()
    def default_body(self):
        return b"""
            &lt;AttachInstancesResponse&gt;
              &lt;ResponseMetadata&gt;
                &lt;RequestId&gt;requestid&lt;/RequestId&gt;
              &lt;/ResponseMetadata&gt;
            &lt;/AttachInstancesResponse&gt;
        """
    def test_attach_instances(self):
        self.set_http_response(status_code=200)
        self.service_connection.attach_instances(
            'autoscale',
            ['inst2', 'inst1', 'inst4']
        )
        self.assert_request_parameters({
            'Action': 'AttachInstances',
            'AutoScalingGroupName': 'autoscale',
            'InstanceIds.member.1': 'inst2',
            'InstanceIds.member.2': 'inst1',
            'InstanceIds.member.3': 'inst4',
        }, ignore_params_values=['Version'])
class TestDetachInstances(AWSMockServiceTestCase):
    connection_class = AutoScaleConnection
    def setUp(self):
        super(TestDetachInstances, self).setUp()
    def default_body(self):
        return b"""
            &lt;DetachInstancesResponse&gt;
              &lt;ResponseMetadata&gt;
                &lt;RequestId&gt;requestid&lt;/RequestId&gt;
              &lt;/ResponseMetadata&gt;
            &lt;/DetachInstancesResponse&gt;
        """
    def test_detach_instances(self):
        self.set_http_response(status_code=200)
        self.service_connection.detach_instances(
            'autoscale',
            ['inst2', 'inst1', 'inst4']
        )
        self.assert_request_parameters({
            'Action': 'DetachInstances',
            'AutoScalingGroupName': 'autoscale',
            'InstanceIds.member.1': 'inst2',
            'InstanceIds.member.2': 'inst1',
            'InstanceIds.member.3': 'inst4',
            'ShouldDecrementDesiredCapacity': 'true',
        }, ignore_params_values=['Version'])
    def test_detach_instances_with_decrement_desired_capacity(self):
        self.set_http_response(status_code=200)
        self.service_connection.detach_instances(
            'autoscale',
            ['inst2', 'inst1', 'inst4'],
            True
        )
        self.assert_request_parameters({
            'Action': 'DetachInstances',
            'AutoScalingGroupName': 'autoscale',
            'InstanceIds.member.1': 'inst2',
            'InstanceIds.member.2': 'inst1',
            'InstanceIds.member.3': 'inst4',
            'ShouldDecrementDesiredCapacity': 'true',
        }, ignore_params_values=['Version'])
    def test_detach_instances_without_decrement_desired_capacity(self):
        self.set_http_response(status_code=200)
        self.service_connection.detach_instances(
            'autoscale',
            ['inst2', 'inst1', 'inst4'],
            False
        )
        self.assert_request_parameters({
            'Action': 'DetachInstances',
            'AutoScalingGroupName': 'autoscale',
            'InstanceIds.member.1': 'inst2',
            'InstanceIds.member.2': 'inst1',
            'InstanceIds.member.3': 'inst4',
            'ShouldDecrementDesiredCapacity': 'false',
        }, ignore_params_values=['Version'])
class TestGetAccountLimits(AWSMockServiceTestCase):
    connection_class = AutoScaleConnection
<a name="3"></a>    def setUp(self):
        super(TestGetAccountLimits, self).setUp()
    <font color="#53858b"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>def default_body(self):
        return b"""
            &lt;DescribeAccountLimitsAnswer&gt;
              &lt;MaxNumberOfAutoScalingGroups&gt;6&lt;/MaxNumberOfAutoScalingGroups&gt;
              &lt;MaxNumberOfLaunchConfigurations&gt;3&lt;/MaxNumberOfLaunchConfigurations&gt;
              &lt;ResponseMetadata&gt;
                &lt;RequestId&gt;requestid&lt;/RequestId&gt;
              &lt;/ResponseMetadata&gt;
            &lt;/DescribeAccountLimitsAnswer&gt;
        """
    def test_autoscaling_group_put_notification_configuration(self):
        self.set_http_response(status_code=200)
        limits = self.service_connection.get_account_limits()
        self.assert_request_parameters({
            'Action': 'DescribeAccountLimits',
        }, ignore_params_values=['Version'])
        self.</b></font>assertEqual(limits.max_autoscaling_groups, 6)
        self.assertEqual(limits.max_launch_configurations, 3)
class TestGetAdjustmentTypes(AWSMockServiceTestCase):
    connection_class = AutoScaleConnection
<a name="5"></a>    def setUp(self):
        super(TestGetAdjustmentTypes, self).setUp()
    <font color="#151b8d"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>def default_body(self):
        return b"""
            &lt;DescribeAdjustmentTypesResponse xmlns="http://autoscaling.amazonaws.com/doc/201-01-01/"&gt;
              &lt;DescribeAdjustmentTypesResult&gt;
                &lt;AdjustmentTypes&gt;
                  &lt;member&gt;
                    &lt;AdjustmentType&gt;ChangeInCapacity&lt;/AdjustmentType&gt;
                  &lt;/member&gt;
                  &lt;member&gt;
                    &lt;AdjustmentType&gt;ExactCapacity&lt;/AdjustmentType&gt;
                  &lt;/member&gt;
                  &lt;member&gt;
                    &lt;AdjustmentType&gt;PercentChangeInCapacity&lt;/AdjustmentType&gt;
                  &lt;/member&gt;
                &lt;/AdjustmentTypes&gt;
              &lt;/DescribeAdjustmentTypesResult&gt;
              &lt;ResponseMetadata&gt;
                &lt;RequestId&gt;requestId&lt;/RequestId&gt;
              &lt;/ResponseMetadata&gt;
            &lt;/DescribeAdjustmentTypesResponse&gt;
        """
    def test_autoscaling_adjustment_types(self):
        self.set_http_response(status_code=200)
        response = self.service_connection.get_all_adjustment_types()
        self.assert_request_parameters(</b></font>{
            'Action': 'DescribeAdjustmentTypes'
        }, ignore_params_values=['Version'])
        self.assertTrue(isinstance(response, list))
        self.assertEqual(response[0].adjustment_type, "ChangeInCapacity")
        self.assertEqual(response[1].adjustment_type, "ExactCapacity")
        self.assertEqual(response[2].adjustment_type, "PercentChangeInCapacity")
class TestLaunchConfigurationDescribeWithBlockDeviceTypes(AWSMockServiceTestCase):
    connection_class = AutoScaleConnection
    def default_body(self):
        return b"""
        &lt;DescribeLaunchConfigurationsResponse&gt;
          &lt;DescribeLaunchConfigurationsResult&gt;
            &lt;LaunchConfigurations&gt;
              &lt;member&gt;
                &lt;AssociatePublicIpAddress&gt;true&lt;/AssociatePublicIpAddress&gt;
                &lt;SecurityGroups/&gt;
                &lt;CreatedTime&gt;2013-01-21T23:04:42.200Z&lt;/CreatedTime&gt;
                &lt;KernelId/&gt;
                &lt;LaunchConfigurationName&gt;my-test-lc&lt;/LaunchConfigurationName&gt;
                &lt;UserData/&gt;
                &lt;InstanceType&gt;m1.small&lt;/InstanceType&gt;
                &lt;LaunchConfigurationARN&gt;arn:aws:autoscaling:us-east-1:803981987763:launchConfiguration:9dbbbf87-6141-428a-a409-0752edbe6cad:launchConfigurationName/my-test-lc&lt;/LaunchConfigurationARN&gt;
                &lt;BlockDeviceMappings&gt;
                  &lt;member&gt;
                    &lt;DeviceName&gt;/dev/xvdp&lt;/DeviceName&gt;
                    &lt;Ebs&gt;
                      &lt;SnapshotId&gt;snap-1234abcd&lt;/SnapshotId&gt;
                      &lt;Iops&gt;1000&lt;/Iops&gt;
                      &lt;DeleteOnTermination&gt;true&lt;/DeleteOnTermination&gt;
                      &lt;VolumeType&gt;io1&lt;/VolumeType&gt;
                      &lt;VolumeSize&gt;100&lt;/VolumeSize&gt;
                    &lt;/Ebs&gt;
                  &lt;/member&gt;
                  &lt;member&gt;
                    &lt;VirtualName&gt;ephemeral1&lt;/VirtualName&gt;
                    &lt;DeviceName&gt;/dev/xvdc&lt;/DeviceName&gt;
                  &lt;/member&gt;
                  &lt;member&gt;
                    &lt;VirtualName&gt;ephemeral0&lt;/VirtualName&gt;
                    &lt;DeviceName&gt;/dev/xvdb&lt;/DeviceName&gt;
                  &lt;/member&gt;
                  &lt;member&gt;
                    &lt;DeviceName&gt;/dev/xvdh&lt;/DeviceName&gt;
                    &lt;Ebs&gt;
                      &lt;Iops&gt;2000&lt;/Iops&gt;
                      &lt;DeleteOnTermination&gt;false&lt;/DeleteOnTermination&gt;
                      &lt;VolumeType&gt;io1&lt;/VolumeType&gt;
                      &lt;VolumeSize&gt;200&lt;/VolumeSize&gt;
                    &lt;/Ebs&gt;
                  &lt;/member&gt;
                &lt;/BlockDeviceMappings&gt;
                &lt;ImageId&gt;ami-514ac838&lt;/ImageId&gt;
                &lt;KeyName/&gt;
                &lt;RamdiskId/&gt;
                &lt;InstanceMonitoring&gt;
                  &lt;Enabled&gt;true&lt;/Enabled&gt;
                &lt;/InstanceMonitoring&gt;
                &lt;EbsOptimized&gt;false&lt;/EbsOptimized&gt;
              &lt;/member&gt;
            &lt;/LaunchConfigurations&gt;
          &lt;/DescribeLaunchConfigurationsResult&gt;
          &lt;ResponseMetadata&gt;
            &lt;RequestId&gt;d05a22f8-b690-11e2-bf8e-2113fEXAMPLE&lt;/RequestId&gt;
          &lt;/ResponseMetadata&gt;
        &lt;/DescribeLaunchConfigurationsResponse&gt;
        """
    def test_get_all_launch_configurations_with_block_device_types(self):
        self.set_http_response(status_code=200)
        self.service_connection.use_block_device_types = True
        response = self.service_connection.get_all_launch_configurations()
        self.assertTrue(isinstance(response, list))
        self.assertEqual(len(response), 1)
        self.assertTrue(isinstance(response[0], LaunchConfiguration))
        self.assertEqual(response[0].associate_public_ip_address, True)
        self.assertEqual(response[0].name, "my-test-lc")
        self.assertEqual(response[0].instance_type, "m1.small")
        self.assertEqual(response[0].launch_configuration_arn, "arn:aws:autoscaling:us-east-1:803981987763:launchConfiguration:9dbbbf87-6141-428a-a409-0752edbe6cad:launchConfigurationName/my-test-lc")
        self.assertEqual(response[0].image_id, "ami-514ac838")
        self.assertTrue(isinstance(response[0].instance_monitoring, launchconfig.InstanceMonitoring))
        self.assertEqual(response[0].instance_monitoring.enabled, 'true')
        self.assertEqual(response[0].ebs_optimized, False)
        self.assertEqual(response[0].block_device_mappings['/dev/xvdb'].ephemeral_name, 'ephemeral0')
        self.assertEqual(response[0].block_device_mappings['/dev/xvdc'].ephemeral_name, 'ephemeral1')
        self.assertEqual(response[0].block_device_mappings['/dev/xvdp'].snapshot_id, 'snap-1234abcd')
        self.assertEqual(response[0].block_device_mappings['/dev/xvdp'].delete_on_termination, True)
        self.assertEqual(response[0].block_device_mappings['/dev/xvdp'].iops, 1000)
        self.assertEqual(response[0].block_device_mappings['/dev/xvdp'].size, 100)
        self.assertEqual(response[0].block_device_mappings['/dev/xvdp'].volume_type, 'io1')
        self.assertEqual(response[0].block_device_mappings['/dev/xvdh'].delete_on_termination, False)
        self.assertEqual(response[0].block_device_mappings['/dev/xvdh'].iops, 2000)
        self.assertEqual(response[0].block_device_mappings['/dev/xvdh'].size, 200)
        self.assertEqual(response[0].block_device_mappings['/dev/xvdh'].volume_type, 'io1')
        self.assert_request_parameters({
            'Action': 'DescribeLaunchConfigurations',
        }, ignore_params_values=['Version'])
    def test_get_all_configuration_limited(self):
        self.set_http_response(status_code=200)
        response = self.service_connection.get_all_launch_configurations(max_records=10, names=["my-test1", "my-test2"])
        self.assert_request_parameters({
            'Action': 'DescribeLaunchConfigurations',
            'MaxRecords': 10,
            'LaunchConfigurationNames.member.1': 'my-test1',
            'LaunchConfigurationNames.member.2': 'my-test2'
        }, ignore_params_values=['Version'])
if __name__ == '__main__':
    unittest.main()
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
