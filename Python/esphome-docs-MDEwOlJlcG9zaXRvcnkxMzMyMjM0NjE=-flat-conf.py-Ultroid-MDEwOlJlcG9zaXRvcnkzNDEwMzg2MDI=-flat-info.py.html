
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 7.82122905027933%, Tokens: 14, <button onclick='openModal()' class='match'></button></h2>
        <div class="column">
            <h3>esphome-docs-MDEwOlJlcG9zaXRvcnkxMzMyMjM0NjE=-flat-conf.py</h3>
            <pre><code>1  #!/usr/bin/env python3
2  import hashlib
3  import os
4  import sys
<span onclick='openModal()' class='match'>5  sys.path.append(os.path.abspath("."))
6  extensions = [
7      "github",
8      "seo",
9      "components",
10      "sitemap",
11  ]
12  templates_path = ["_templates"]
13  source_suffix = ".rst"
14  master_doc = "index"
15  project = "ESPHome"
16  copyright = "2022, Nabu Casa"
17  html_show_copyright = False
18  html_show_sphinx = False
</span>19  author = "ESPHome"
20  version = "2023.5"
21  release = "2023.5.5"
22  language = "en"
23  exclude_patterns = [
24      "_build",
25      "Thumbs.db",
26      ".DS_Store",
27      "env",
28      "venv",
29      "ENV",
30      ".venv",
31      ".env",
32  ]
33  html_extra_path = [
34      "_redirects",
35  ]
36  pygments_style = "xcode"
37  highlight_language = "yaml"
38  primary_domain = None
39  todo_include_todos = False
40  html_theme = "alabaster"
41  html_baseurl = os.getenv("BASE_URL", "https://esphome.io")
42  with open("_static/custom.css", "rb") as f:
43      custom_css_hash = hashlib.md5(f.read()).hexdigest()[:8]
44  html_theme_options = {
45      "logo_name": False,
46      "show_related": False,
47      "sidebar_collapse": True,
48      "fixed_sidebar": True,
49      "show_powered_by": False,
50  }
51  html_context = {
52      "custom_css_hash": custom_css_hash,
53  }
54  html_logo = "images/logo-text.svg"
55  html_copy_source = True
56  html_show_sourcelink = False
57  html_last_updated_fmt = None
58  html_use_smartypants = False
59  html_title = "ESPHome"
60  html_static_path = ["_static"]
61  html_sidebars = {
62      "**": [
63          "searchbox.html",
64          "localtoc.html",
65          "contact.html",
66      ]
67  }
68  htmlhelp_basename = "esphomedoc"
69  latex_elements = {
70  }
71  latex_documents = [
72      (master_doc, "esphome.tex", "ESPHome Documentation", author, "manual"),
73  ]
74  latex_engine = "xelatex"
75  man_pages = [(master_doc, "esphome", "ESPHome Documentation", [author], 1)]
76  texinfo_documents = [
77      (
78          master_doc,
79          "esphome",
80          "ESPHome Documentation",
81          author,
82          "esphome",
83          "One line description of project.",
84          "Miscellaneous",
85      ),
86  ]
87  linkcheck_ignore = [r"https://github.com/.*", r"https://discord.gg/.*"]
</code></pre>
        </div>
        <div class="column">
            <h3>Ultroid-MDEwOlJlcG9zaXRvcnkzNDEwMzg2MDI=-flat-info.py</h3>
            <pre><code>1  import math
2  from telethon.tl import functions, types
3  from .. import LOGS
4  async def get_uinfo(e):
5      user, data = None, None
6      reply = await e.get_reply_message()
7      if reply:
8          user = await e.client.get_entity(reply.sender_id)
9          data = e.pattern_match.group(1)
10      else:
11          ok = e.pattern_match.group(1).split(maxsplit=1)
12          if len(ok) > 1:
13              data = ok[1]
14          try:
15              user = await e.client.get_entity(await e.client.parse_id(ok[0]))
16          except IndexError:
17              pass
18          except ValueError as er:
19              await e.eor(str(er))
20              return None, None
21      return user, data
22  async def get_chat_info(chat, event):
23      if isinstance(chat, types.Channel):
24          chat_info = await event.client(functions.channels.GetFullChannelRequest(chat))
25      elif isinstance(chat, types.Chat):
26          chat_info = await event.client(functions.messages.GetFullChatRequest(chat))
27      else:
28          return await event.eor("`Use this for Group/Channel.`")
29      full = chat_info.full_chat
30      chat_photo = full.chat_photo
31      broadcast = getattr(chat, "broadcast", False)
32      chat_type = "Channel" if broadcast else "Group"
33      chat_title = chat.title
34      try:
<span onclick='openModal()' class='match'>35          msg_info = await event.client(
36              functions.messages.GetHistoryRequest(
37                  peer=chat.id,
38                  offset_id=0,
39                  offset_date=None,
40                  add_offset=-0,
41                  limit=0,
42                  max_id=0,
43                  min_id=0,
44                  hash=0,
</span>45              )
46          )
47      except Exception as er:
48          msg_info = None
49          if not event.client._bot:
50              LOGS.exception(er)
51      first_msg_valid = bool(
52          msg_info and msg_info.messages and msg_info.messages[0].id == 1
53      )
54      creator_valid = bool(first_msg_valid and msg_info.users)
55      creator_id = msg_info.users[0].id if creator_valid else None
56      creator_firstname = (
57          msg_info.users[0].first_name
58          if creator_valid and msg_info.users[0].first_name is not None
59          else "Deleted Account"
60      )
61      creator_username = (
62          msg_info.users[0].username
63          if creator_valid and msg_info.users[0].username is not None
64          else None
65      )
66      created = msg_info.messages[0].date if first_msg_valid else None
67      if not isinstance(chat.photo, types.ChatPhotoEmpty):
68          dc_id = chat.photo.dc_id
69      else:
70          dc_id = "Null"
71      restricted_users = getattr(full, "banned_count", None)
72      members = getattr(full, "participants_count", chat.participants_count)
73      admins = getattr(full, "admins_count", None)
74      banned_users = getattr(full, "kicked_count", None)
75      members_online = getattr(full, "online_count", 0)
76      group_stickers = (
77          full.stickerset.title if getattr(full, "stickerset", None) else None
78      )
79      messages_viewable = msg_info.count if msg_info else None
80      messages_sent = getattr(full, "read_inbox_max_id", None)
81      messages_sent_alt = getattr(full, "read_outbox_max_id", None)
82      exp_count = getattr(full, "pts", None)
83      supergroup = "<b>Yes</b>" if getattr(chat, "megagroup", None) else "No"
84      creator_username = "@{}".format(creator_username) if creator_username else None
85      if admins is None:
86          try:
87              participants_admins = await event.client(
88                  functions.channels.GetParticipantsRequest(
89                      channel=chat.id,
90                      filter=types.ChannelParticipantsAdmins(),
91                      offset=0,
92                      limit=0,
93                      hash=0,
94                  )
95              )
96              admins = participants_admins.count if participants_admins else None
97          except Exception as e:
98              LOGS.info(f"Exception: {e}")
99      caption = "‚ÑπÔ∏è <b>[<u>CHAT INFO</u>]</b>\n"
100      caption += f"üÜî <b>ID:</b> <code>{chat.id}</code>\n"
101      if chat_title is not None:
102          caption += f"üìõ <b>{chat_type} name:</b> <code>{chat_title}</code>\n"
103      if chat.username:
104          caption += f"üîó <b>Link:</b> @{chat.username}\n"
105      else:
106          caption += f"üó≥ <b>{chat_type} type:</b> Private\n"
107      if creator_username:
108          caption += f"üñå <b>Creator:</b> {creator_username}\n"
109      elif creator_valid:
110          caption += f'üñå <b>Creator:</b> <a href="tg://user?id={creator_id}">{creator_firstname}</a>\n'
111      if created:
112          caption += f"üñå <b>Created:</b> <code>{created.date().strftime('%b %d, %Y')} - {created.time()}</code>\n"
113      else:
114          caption += f"üñå <b>Created:</b> <code>{chat.date.date().strftime('%b %d, %Y')} - {chat.date.time()}</code> ‚ö†\n"
115      caption += f"üó° <b>Data Centre ID:</b> {dc_id}\n"
116      if exp_count is not None:
117          chat_level = int((1 + math.sqrt(1 + 7 * exp_count / 14)) / 2)
118          caption += f"‚≠êÔ∏è <b>{chat_type} level:</b> <code>{chat_level}</code>\n"
119      if messages_viewable is not None:
120          caption += f"üí¨ <b>Viewable messages:</b> <code>{messages_viewable}</code>\n"
121      if messages_sent:
122          caption += f"üí¨ <b>Messages sent:</b> <code>{messages_sent}</code>\n"
123      elif messages_sent_alt:
124          caption += f"üí¨ <b>Messages sent:</b> <code>{messages_sent_alt}</code> ‚ö†\n"
125      if members is not None:
126          caption += f"üë• <b>Members:</b> <code>{members}</code>\n"
127      if admins:
128          caption += f"üëÆ <b>Administrators:</b> <code>{admins}</code>\n"
129      if full.bot_info:
130          caption += f"ü§ñ <b>Bots:</b> <code>{len(full.bot_info)}</code>\n"
131      if members_online:
132          caption += f"üëÄ <b>Currently online:</b> <code>{members_online}</code>\n"
133      if restricted_users is not None:
134          caption += f"üîï <b>Restricted users:</b> <code>{restricted_users}</code>\n"
135      if banned_users:
136          caption += f"üì® <b>Banned users:</b> <code>{banned_users}</code>\n"
137      if group_stickers:
138          caption += f'üìπ <b>{chat_type} stickers:</b> <a href="t.me/addstickers/{full.stickerset.short_name}">{group_stickers}</a>\n'
139      if not broadcast:
140          if getattr(chat, "slowmode_enabled", None):
141              caption += f"üëâ <b>Slow mode:</b> <code>True</code>"
142              caption += f", üïê <code>{full.slowmode_seconds}s</code>\n"
143          else:
144              caption += f"ü¶∏‚Äç‚ôÇ <b>Supergroup:</b> {supergroup}\n"
145      if getattr(chat, "restricted", None):
146          caption += f"üéå <b>Restricted:</b> {chat.restricted}\n"
147          rist = chat.restriction_reason[0]
148          caption += f"> Platform: {rist.platform}\n"
149          caption += f"> Reason: {rist.reason}\n"
150          caption += f"> Text: {rist.text}\n\n"
151      if getattr(chat, "scam", None):
152          caption += "‚ö† <b>Scam:</b> <b>Yes</b>\n"
153      if getattr(chat, "verified", None):
154          caption += f"‚úÖ <b>Verified by Telegram:</b> <code>Yes</code>\n\n"
155      if full.about:
156          caption += f"üóí <b>Description:</b> \n<code>{full.about}</code>\n"
157      return chat_photo, caption
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from esphome-docs-MDEwOlJlcG9zaXRvcnkxMzMyMjM0NjE=-flat-conf.py</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from Ultroid-MDEwOlJlcG9zaXRvcnkzNDEwMzg2MDI=-flat-info.py</div>
                </div>
                <div class="column column_space"><pre><code>5  sys.path.append(os.path.abspath("."))
6  extensions = [
7      "github",
8      "seo",
9      "components",
10      "sitemap",
11  ]
12  templates_path = ["_templates"]
13  source_suffix = ".rst"
14  master_doc = "index"
15  project = "ESPHome"
16  copyright = "2022, Nabu Casa"
17  html_show_copyright = False
18  html_show_sphinx = False
</pre></code></div>
                <div class="column column_space"><pre><code>35          msg_info = await event.client(
36              functions.messages.GetHistoryRequest(
37                  peer=chat.id,
38                  offset_id=0,
39                  offset_date=None,
40                  add_offset=-0,
41                  limit=0,
42                  max_id=0,
43                  min_id=0,
44                  hash=0,
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    