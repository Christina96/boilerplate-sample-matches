
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 12.840466926070038%, Tokens: 9, <button onclick='openModal()' class='match'></button></h2>
        <div class="column">
            <h3>Ultroid-MDEwOlJlcG9zaXRvcnkzNDEwMzg2MDI=-flat-words.py</h3>
            <pre><code>1  import io
2  from pyUltroid.fns.misc import get_synonyms_or_antonyms
3  from pyUltroid.fns.tools import async_searcher
4  from . import get_string, ultroid_cmd
5  @ultroid_cmd(pattern="meaning( (.*)|$)", manager=True)
6  async def mean(event):
7      wrd = event.pattern_match.group(1).strip()
8      if not wrd:
9          return await event.eor(get_string("wrd_4"))
10      url = f"https://api.dictionaryapi.dev/api/v2/entries/en/{wrd}"
11      out = await async_searcher(url, re_json=True)
12      try:
13          return await event.eor(f'**{out["title"]}**')
14      except (KeyError, TypeError):
15          pass
16      defi = out[0]["meanings"][0]["definitions"][0]
17      ex = defi["example"] if defi.get("example") else "None"
18      text = get_string("wrd_1").format(wrd, defi["definition"], ex)
19      if defi.get("synonyms"):
20          text += (
21              f"\n\n• **{get_string('wrd_5')} :**"
22              + "".join(f" {a}," for a in defi["synonyms"])[:-1][:10]
23          )
24      if defi.get("antonyms"):
25          text += (
26              f"\n\n**{get_string('wrd_6')} :**"
27              + "".join(f" {a}," for a in defi["antonyms"])[:-1][:10]
28          )
29      if len(text) > 4096:
30          with io.BytesIO(str.encode(text)) as fle:
31              fle.name = f"{wrd}-meanings.txt"
32              await event.reply(
33                  file=fle,
34                  force_document=True,
35                  caption=f"Meanings of {wrd}",
36              )
37              await event.delete()
38      else:
39          await event.eor(text)
40  @ultroid_cmd(
41      pattern="(syno|anto)nym",
42  )
43  async def mean(event):
44      task = event.pattern_match.group(1) + "nyms"
<span onclick='openModal()' class='match'>45      try:
46          wrd = event.text.split(maxsplit=1)[1]
47      except IndexError:
</span>48          return await event.eor("Give Something to search..")
49      try:
50          ok = await get_synonyms_or_antonyms(wrd, task)
51          x = get_string("wrd_2" if task == "synonyms" else "wrd_3").format(wrd)
52          for c, i in enumerate(ok, start=1):
53              x += f"**{c}.** `{i}`\n"
54          if len(x) > 4096:
55              with io.BytesIO(str.encode(x)) as fle:
56                  fle.name = f"{wrd}-{task}.txt"
57                  await event.client.send_file(
58                      event.chat_id,
59                      fle,
60                      force_document=True,
61                      allow_cache=False,
62                      caption=f"{task} of {wrd}",
63                      reply_to=event.reply_to_msg_id,
64                  )
65                  await event.delete()
66          else:
67              await event.eor(x)
68      except Exception as e:
69          await event.eor(
70              get_string("wrd_7" if task == "synonyms" else "wrd_8").format(e)
71          )
72  @ultroid_cmd(pattern="ud (.*)")
73  async def _(event):
74      word = event.pattern_match.group(1).strip()
75      if not word:
76          return await event.eor(get_string("autopic_1"))
77      out = await async_searcher(
78          "http://api.urbandictionary.com/v0/define", params={"term": word}, re_json=True
79      )
80      try:
81          out = out["list"][0]
82      except IndexError:
83          return await event.eor(get_string("autopic_2").format(word))
84      await event.eor(
85          get_string("wrd_1").format(out["word"], out["definition"], out["example"]),
86      )
</code></pre>
        </div>
        <div class="column">
            <h3>Ultroid-MDEwOlJlcG9zaXRvcnkzNDEwMzg2MDI=-flat-warn.py</h3>
            <pre><code>1  from pyUltroid.dB.warn_db import add_warn, reset_warn, warns
2  from . import eor, get_string, inline_mention, udB, ultroid_cmd
3  @ultroid_cmd(
4      pattern="warn( (.*)|$)",
5      manager=True,
6      groups_only=True,
7      admins_only=True,
8  )
9  async def warn(e):
10      ultroid_bot = e.client
11      reply = await e.get_reply_message()
12      if len(e.text) > 5 and " " not in e.text[5]:
13          return
14      if reply:
15          user = reply.sender_id
16          reason = e.text[5:] if e.pattern_match.group(1).strip() else "unknown"
17      else:
18          try:
19              user = e.text.split()[1]
20              if user.startswith("@"):
21                  ok = await ultroid_bot.get_entity(user)
22                  user = ok.id
23              else:
24                  user = int(user)
25          except BaseException:
26              return await e.eor("Reply To A User", time=5)
<span onclick='openModal()' class='match'>27          try:
28              reason = e.text.split(maxsplit=2)[-1]
29          except BaseException:
</span>30              reason = "unknown"
31      count, r = warns(e.chat_id, user)
32      r = f"{r}|$|{reason}" if r else reason
33      try:
34          x = udB.get_key("SETWARN")
35          number, action = int(x.split()[0]), x.split()[1]
36      except BaseException:
37          number, action = 3, "kick"
38      if ("ban" or "kick" or "mute") not in action:
39          action = "kick"
40      if count + 1 >= number:
41          if "ban" in action:
42              try:
43                  await ultroid_bot.edit_permissions(e.chat_id, user, view_messages=False)
44              except BaseException:
45                  return await e.eor("`Something Went Wrong.`", time=5)
46          elif "kick" in action:
47              try:
48                  await ultroid_bot.kick_participant(e.chat_id, user)
49              except BaseException:
50                  return await e.eor("`Something Went Wrong.`", time=5)
51          elif "mute" in action:
52              try:
53                  await ultroid_bot.edit_permissions(
54                      e.chat_id, user, until_date=None, send_messages=False
55                  )
56              except BaseException:
57                  return await e.eor("`Something Went Wrong.`", time=5)
58          add_warn(e.chat_id, user, count + 1, r)
59          c, r = warns(e.chat_id, user)
60          ok = await ultroid_bot.get_entity(user)
61          user = inline_mention(ok)
62          r = r.split("|$|")
63          text = f"User {user} Got {action} Due to {count+1} Warns.\n\n"
64          for x in range(c):
65              text += f"•**{x+1}.** {r[x]}\n"
66          await e.eor(text)
67          return reset_warn(e.chat_id, ok.id)
68      add_warn(e.chat_id, user, count + 1, r)
69      ok = await ultroid_bot.get_entity(user)
70      user = inline_mention(ok)
71      await eor(
72          e,
73          f"**WARNING :** {count+1}/{number}\n**To :**{user}\n**Be Careful !!!**\n\n**Reason** : {reason}",
74      )
75  @ultroid_cmd(
76      pattern="resetwarn( (.*)|$)",
77      manager=True,
78      groups_only=True,
79      admins_only=True,
80  )
81  async def rwarn(e):
82      reply = await e.get_reply_message()
83      if reply:
84          user = reply.sender_id
85      else:
86          try:
87              user = e.text.split()[1]
88              if user.startswith("@"):
89                  ok = await e.client.get_entity(user)
90                  user = ok.id
91              else:
92                  user = int(user)
93          except BaseException:
94              return await e.eor("Reply To user")
95      reset_warn(e.chat_id, user)
96      ok = await e.client.get_entity(user)
97      user = inline_mention(ok)
98      await e.eor(f"Cleared All Warns of {user}.")
99  @ultroid_cmd(
100      pattern="warns( (.*)|$)",
101      manager=True,
102      groups_only=True,
103      admins_only=True,
104  )
105  async def twarns(e):
106      reply = await e.get_reply_message()
107      if reply:
108          user = reply.from_id.user_id
109      else:
110          try:
111              user = e.text.split()[1]
112              if user.startswith("@"):
113                  ok = await e.client.get_entity(user)
114                  user = ok.id
115              else:
116                  user = int(user)
117          except BaseException:
118              return await e.eor("Reply To A User", time=5)
119      c, r = warns(e.chat_id, user)
120      if c and r:
121          ok = await e.client.get_entity(user)
122          user = inline_mention(ok)
123          r = r.split("|$|")
124          text = f"User {user} Got {c} Warns.\n\n"
125          for x in range(c):
126              text += f"•**{x+1}.** {r[x]}\n"
127          await e.eor(text)
128      else:
129          await e.eor("`No Warnings`")
130  @ultroid_cmd(pattern="setwarn( (.*)|$)", manager=True)
131  async def warnset(e):
132      ok = e.pattern_match.group(1).strip()
133      if not ok:
134          return await e.eor("stuff")
135      if "|" in ok:
136          try:
137              number, action = int(ok.split()[0]), ok.split()[1]
138          except BaseException:
139              return await e.eor(get_string("schdl_2"), time=5)
140          if ("ban" or "kick" or "mute") not in action:
141              return await e.eor("`Only mute / ban / kick option suported`", time=5)
142          udB.set_key("SETWARN", f"{number} {action}")
143          await e.eor(f"Done Your Warn Count is now {number} and Action is {action}")
144      else:
145          await e.eor(get_string("schdl_2"), time=5)
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from Ultroid-MDEwOlJlcG9zaXRvcnkzNDEwMzg2MDI=-flat-words.py</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from Ultroid-MDEwOlJlcG9zaXRvcnkzNDEwMzg2MDI=-flat-warn.py</div>
                </div>
                <div class="column column_space"><pre><code>45      try:
46          wrd = event.text.split(maxsplit=1)[1]
47      except IndexError:
</pre></code></div>
                <div class="column column_space"><pre><code>27          try:
28              reason = e.text.split(maxsplit=2)[-1]
29          except BaseException:
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    