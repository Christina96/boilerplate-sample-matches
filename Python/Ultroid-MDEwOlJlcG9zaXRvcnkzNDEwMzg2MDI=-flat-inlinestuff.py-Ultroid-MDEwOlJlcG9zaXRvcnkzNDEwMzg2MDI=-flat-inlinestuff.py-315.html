
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Tokens: 17, <button onclick='openModal()' class='match'>CODE CLONE</button></h2>
        <div class="column">
            <h3>Ultroid-MDEwOlJlcG9zaXRvcnkzNDEwMzg2MDI=-flat-inlinestuff.py</h3>
            <pre><code>1  import base64
2  import inspect
3  from datetime import datetime
4  from html import unescape
5  from random import choice
6  from re import compile as re_compile
7  from bs4 import BeautifulSoup as bs
8  from telethon import Button
9  from telethon.tl.alltlobjects import LAYER, tlobjects
10  from telethon.tl.types import DocumentAttributeAudio as Audio
11  from telethon.tl.types import InputWebDocument as wb
12  from pyUltroid.fns.misc import google_search
13  from pyUltroid.fns.tools import (
14      _webupload_cache,
15      async_searcher,
16      get_ofox,
17      saavn_search,
18      webuploader,
19  )
20  from . import *
21  from . import _ult_cache
22  SUP_BUTTONS = [
23      [
24          Button.url(&quot;‚Ä¢ Repo ‚Ä¢&quot;, url=&quot;https://github.com/TeamUltroid/Ultroid&quot;),
25          Button.url(&quot;‚Ä¢ Support ‚Ä¢&quot;, url=&quot;t.me/UltroidSupportChat&quot;),
26      ],
27  ]
28  ofox = &quot;https://graph.org/file/231f0049fcd722824f13b.jpg&quot;
29  gugirl = &quot;https://graph.org/file/0df54ae4541abca96aa11.jpg&quot;
30  ultpic = &quot;https://graph.org/file/4136aa1650bc9d4109cc5.jpg&quot;
31  apis = [
32      &quot;QUl6YVN5QXlEQnNZM1dSdEI1WVBDNmFCX3c4SkF5NlpkWE5jNkZV&quot;,
33      &quot;QUl6YVN5QkYwenhMbFlsUE1wOXh3TVFxVktDUVJxOERnZHJMWHNn&quot;,
34      &quot;QUl6YVN5RGRPS253blB3VklRX2xiSDVzWUU0Rm9YakFLSVFWMERR&quot;,
35  ]
36  @in_pattern(&quot;ofox&quot;, owner=True)
37  async def _(e):
38      try:
39          match = e.text.split(&quot; &quot;, maxsplit=1)[1]
40      except IndexError:
41          kkkk = e.builder.article(
42              title=&quot;Enter Device Codename&quot;,
43              thumb=wb(ofox, 0, &quot;image/jpeg&quot;, []),
44              text=&quot;**OF·¥èxü¶äR·¥á·¥Ñ·¥è·¥†·¥á Ä è**\n\nYou didn&#x27;t search anything&quot;,
45              buttons=Button.switch_inline(&quot;S·¥á·¥Ä Ä·¥Ñ ú A…¢·¥Ä…™…¥&quot;, query=&quot;ofox &quot;, same_peer=True),
46          )
47          return await e.answer([kkkk])
48      device, releases = await get_ofox(match)
49      if device.get(&quot;detail&quot;) is None:
50          fox = []
51          fullname = device[&quot;full_name&quot;]
52          codename = device[&quot;codename&quot;]
53          str(device[&quot;supported&quot;])
54          maintainer = device[&quot;maintainer&quot;][&quot;name&quot;]
55          link = f&quot;https://orangefox.download/device/{codename}&quot;
56          for data in releases[&quot;data&quot;]:
57              release = data[&quot;type&quot;]
58              version = data[&quot;version&quot;]
59              size = humanbytes(data[&quot;size&quot;])
60              release_date = datetime.utcfromtimestamp(data[&quot;date&quot;]).strftime(&quot;%Y-%m-%d&quot;)
61              text = f&quot;[\xad]({ofox})**O Ä·¥Ä…¥…¢·¥áF·¥èx R·¥á·¥Ñ·¥è·¥†·¥á Ä è F·¥è Ä**\n\n&quot;
62              text += f&quot;`  F·¥ú ü ü N·¥Ä·¥ç·¥á: {fullname}`\n&quot;
63              text += f&quot;`  C·¥è·¥Ö·¥á…¥·¥Ä·¥ç·¥á: {codename}`\n&quot;
64              text += f&quot;`  M·¥Ä…™…¥·¥õ·¥Ä…™…¥·¥á Ä: {maintainer}`\n&quot;
65              text += f&quot;`  B·¥ú…™ ü·¥Ö T è·¥ò·¥á: {release}`\n&quot;
66              text += f&quot;`  V·¥á Äs…™·¥è…¥: {version}`\n&quot;
<span onclick='openModal()' class='match'>67              text += f&quot;`  S…™·¥¢·¥á: {size}`\n&quot;
68              text += f&quot;`  B·¥ú…™ ü·¥Ö D·¥Ä·¥õ·¥á: {release_date}`&quot;
69              fox.append(
70                  await e.builder.article(
71                      title=f&quot;{fullname}&quot;,
</span>72                      description=f&quot;{version}\n{release_date}&quot;,
73                      text=text,
74                      thumb=wb(ofox, 0, &quot;image/jpeg&quot;, []),
75                      link_preview=True,
76                      buttons=[
77                          Button.url(&quot;D·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö&quot;, url=f&quot;{link}&quot;),
78                          Button.switch_inline(
79                              &quot;S·¥á·¥Ä Ä·¥Ñ ú A…¢·¥Ä…™…¥&quot;, query=&quot;ofox &quot;, same_peer=True
80                          ),
81                      ],
82                  )
83              )
84          await e.answer(
85              fox, switch_pm=&quot;OrangeFox Recovery Search.&quot;, switch_pm_param=&quot;start&quot;
86          )
87      else:
88          await e.answer(
89              [], switch_pm=&quot;OrangeFox Recovery Search.&quot;, switch_pm_param=&quot;start&quot;
90          )
91  @in_pattern(&quot;fl2lnk ?(.*)&quot;, owner=True)
92  async def _(e):
93      match = e.pattern_match.group(1)
94      chat_id, msg_id = match.split(&quot;:&quot;)
95      filename = _webupload_cache[int(chat_id)][int(msg_id)]
96      if &quot;/&quot; in filename:
97          filename = filename.split(&quot;/&quot;)[-1]
98      __cache = f&quot;{chat_id}:{msg_id}&quot;
99      buttons = [
100          [
101              Button.inline(&quot;anonfiles&quot;, data=f&quot;flanonfiles//{__cache}&quot;),
102              Button.inline(&quot;transfer&quot;, data=f&quot;fltransfer//{__cache}&quot;),
103          ],
104          [
105              Button.inline(&quot;bayfiles&quot;, data=f&quot;flbayfiles//{__cache}&quot;),
106              Button.inline(&quot;x0.at&quot;, data=f&quot;flx0.at//{__cache}&quot;),
107          ],
108          [
109              Button.inline(&quot;file.io&quot;, data=f&quot;flfile.io//{__cache}&quot;),
110              Button.inline(&quot;siasky&quot;, data=f&quot;flsiasky//{__cache}&quot;),
111          ],
112      ]
113      try:
114          lnk = [
115              await e.builder.article(
116                  title=f&quot;Upload {filename}&quot;,
117                  text=f&quot;**File:**\n{filename}&quot;,
118                  buttons=buttons,
119              )
120          ]
121      except BaseException as er:
122          LOGS.exception(er)
123          lnk = [
124              await e.builder.article(
125                  title=&quot;fl2lnk&quot;,
126                  text=&quot;File not found&quot;,
127              )
128          ]
129      await e.answer(lnk, switch_pm=&quot;File to Link.&quot;, switch_pm_param=&quot;start&quot;)
130  @callback(
131      re_compile(
132          &quot;fl(.*)&quot;,
133      ),
134      owner=True,
135  )
136  async def _(e):
137      t = (e.data).decode(&quot;UTF-8&quot;)
138      data = t[2:]
139      host = data.split(&quot;//&quot;)[0]
140      chat_id, msg_id = data.split(&quot;//&quot;)[1].split(&quot;:&quot;)
141      filename = _webupload_cache[int(chat_id)][int(msg_id)]
142      if &quot;/&quot; in filename:
143          filename = filename.split(&quot;/&quot;)[-1]
144      await e.edit(f&quot;Uploading `{filename}` on {host}&quot;)
145      link = (await webuploader(chat_id, msg_id, host)).strip().replace(&quot;\n&quot;, &quot;&quot;)
146      await e.edit(f&quot;Uploaded `{filename}` on {host}.&quot;, buttons=Button.url(&quot;View&quot;, link))
147  @in_pattern(&quot;repo&quot;, owner=True)
148  async def repo(e):
149      res = [
150          await e.builder.article(
151              title=&quot;Ultroid Userbot&quot;,
152              description=&quot;Userbot | Telethon&quot;,
153              thumb=wb(ultpic, 0, &quot;image/jpeg&quot;, []),
154              text=&quot;‚Ä¢ **ULTROID USERBOT** ‚Ä¢&quot;,
155              buttons=SUP_BUTTONS,
156          ),
157      ]
158      await e.answer(res, switch_pm=&quot;Ultroid Repo.&quot;, switch_pm_param=&quot;start&quot;)
159  @in_pattern(&quot;go&quot;, owner=True)
160  async def gsearch(q_event):
161      try:
162          match = q_event.text.split(maxsplit=1)[1]
163      except IndexError:
164          return await q_event.answer(
165              [], switch_pm=&quot;Google Search. Enter a query!&quot;, switch_pm_param=&quot;start&quot;
166          )
167      searcher = []
168      gresults = await google_search(match)
169      for i in gresults:
170          try:
171              title = i[&quot;title&quot;]
172              link = i[&quot;link&quot;]
173              desc = i[&quot;description&quot;]
174              searcher.append(
175                  await q_event.builder.article(
176                      title=title,
177                      description=desc,
178                      thumb=wb(gugirl, 0, &quot;image/jpeg&quot;, []),
179                      text=f&quot;**G·¥è·¥è…¢ ü·¥á S·¥á·¥Ä Ä·¥Ñ ú**\n\n**‚Ä¢‚Ä¢T…™·¥õ ü·¥á‚Ä¢‚Ä¢**\n`{title}`\n\n**‚Ä¢‚Ä¢D·¥ás·¥Ñ Ä…™·¥ò·¥õ…™·¥è…¥‚Ä¢‚Ä¢**\n`{desc}`&quot;,
180                      link_preview=False,
181                      buttons=[
182                          [Button.url(&quot;L…™…¥·¥ã&quot;, url=f&quot;{link}&quot;)],
183                          [
184                              Button.switch_inline(
185                                  &quot;S·¥á·¥Ä Ä·¥Ñ ú A…¢·¥Ä…™…¥&quot;,
186                                  query=&quot;go &quot;,
187                                  same_peer=True,
188                              ),
189                              Button.switch_inline(
190                                  &quot;S ú·¥Ä Ä·¥á&quot;,
191                                  query=f&quot;go {match}&quot;,
192                                  same_peer=False,
193                              ),
194                          ],
195                      ],
196                  ),
197              )
198          except IndexError:
199              break
200      await q_event.answer(searcher, switch_pm=&quot;Google Search.&quot;, switch_pm_param=&quot;start&quot;)
201  @in_pattern(&quot;mods&quot;, owner=True)
202  async def _(e):
203      try:
204          quer = e.text.split(&quot; &quot;, maxsplit=1)[1]
205      except IndexError:
206          return await e.answer(
207              [], switch_pm=&quot;Mod Apps Search. Enter app name!&quot;, switch_pm_param=&quot;start&quot;
208          )
209      start = 0 * 3 + 1
210      da = base64.b64decode(choice(apis)).decode(&quot;ascii&quot;)
211      url = f&quot;https://www.googleapis.com/customsearch/v1?key={da}&amp;cx=25b3b50edb928435b&amp;q={quer}&amp;start={start}&quot;
212      data = await async_searcher(url, re_json=True)
213      search_items = data.get(&quot;items&quot;, [])
214      modss = []
215      for a in search_items:
216          title = a.get(&quot;title&quot;)
217          desc = a.get(&quot;snippet&quot;)
218          link = a.get(&quot;link&quot;)
219          text = f&quot;**‚Ä¢‚Ä¢T…™·¥õ ü·¥á‚Ä¢‚Ä¢** `{title}`\n\n&quot;
220          text += f&quot;**D·¥ás·¥Ñ Ä…™·¥ò·¥õ…™·¥è…¥** `{desc}`&quot;
221          modss.append(
222              await e.builder.article(
223                  title=title,
224                  description=desc,
225                  text=text,
226                  link_preview=True,
227                  buttons=[
228                      [Button.url(&quot;D·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö&quot;, url=f&quot;{link}&quot;)],
229                      [
230                          Button.switch_inline(
231                              &quot;M·¥è Ä·¥á M·¥è·¥Ös&quot;,
232                              query=&quot;mods &quot;,
233                              same_peer=True,
234                          ),
235                          Button.switch_inline(
236                              &quot;S ú·¥Ä Ä·¥á&quot;,
237                              query=f&quot;mods {quer}&quot;,
238                              same_peer=False,
239                          ),
240                      ],
241                  ],
242              ),
243          )
244      await e.answer(modss, switch_pm=&quot;Search Mod Applications.&quot;, switch_pm_param=&quot;start&quot;)
245  APP_CACHE = {}
246  RECENTS = {}
247  PLAY_API = &quot;https://googleplay.onrender.com/api/apps?q=&quot;
248  @in_pattern(&quot;app&quot;, owner=True)
249  async def _(e):
250      try:
251          f = e.text.split(maxsplit=1)[1].lower()
252      except IndexError:
253          get_string(&quot;instu_1&quot;)
254          res = []
255          if APP_CACHE and RECENTS.get(e.sender_id):
256              res.extend(
257                  APP_CACHE[a][0] for a in RECENTS[e.sender_id] if APP_CACHE.get(a)
258              )
259          return await e.answer(
260              res, switch_pm=get_string(&quot;instu_2&quot;), switch_pm_param=&quot;start&quot;
261          )
262      try:
263          return await e.answer(
264              APP_CACHE[f], switch_pm=&quot;Application Searcher.&quot;, switch_pm_param=&quot;start&quot;
265          )
266      except KeyError:
267          pass
268      foles = []
269      url = PLAY_API + f.replace(&quot; &quot;, &quot;+&quot;)
270      aap = await async_searcher(url, re_json=True)
271      for z in aap[&quot;results&quot;][:50]:
272          url = &quot;https://play.google.com/store/apps/details?id=&quot; + z[&quot;appId&quot;]
273          name = z[&quot;title&quot;]
274          desc = unescape(z[&quot;summary&quot;])[:300].replace(&quot;&lt;br&gt;&quot;, &quot;\n&quot;) + &quot;...&quot;
275          dev = z[&quot;developer&quot;][&quot;devId&quot;]
276          text = f&quot;**‚Ä¢‚Ä¢A·¥ò·¥ò N·¥Ä·¥ç·¥á‚Ä¢‚Ä¢** [{name}]({url})\n&quot;
277          text += f&quot;**‚Ä¢‚Ä¢D·¥á·¥†·¥á ü·¥è·¥ò·¥á Ä‚Ä¢‚Ä¢** `{dev}`\n&quot;
278          text += f&quot;**‚Ä¢‚Ä¢D·¥ás·¥Ñ Ä…™·¥ò·¥õ…™·¥è…¥‚Ä¢‚Ä¢**\n`{desc}`&quot;
279          foles.append(
280              await e.builder.article(
281                  title=name,
282                  description=dev,
283                  thumb=wb(z[&quot;icon&quot;], 0, &quot;image/jpeg&quot;, []),
284                  text=text,
285                  link_preview=True,
286                  buttons=[
287                      [Button.url(&quot;L…™…¥·¥ã&quot;, url=url)],
288                      [
289                          Button.switch_inline(
290                              &quot;M·¥è Ä·¥á A·¥ò·¥òs&quot;,
291                              query=&quot;app &quot;,
292                              same_peer=True,
293                          ),
294                          Button.switch_inline(
295                              &quot;S ú·¥Ä Ä·¥á&quot;,
296                              query=f&quot;app {f}&quot;,
297                              same_peer=False,
298                          ),
299                      ],
300                  ],
301              ),
302          )
303      APP_CACHE.update({f: foles})
304      if RECENTS.get(e.sender_id):
305          RECENTS[e.sender_id].append(f)
306      else:
307          RECENTS.update({e.sender_id: [f]})
308      await e.answer(foles, switch_pm=&quot;Application Searcher.&quot;, switch_pm_param=&quot;start&quot;)
309  PISTON_URI = &quot;https://emkc.org/api/v2/piston/&quot;
310  PISTON_LANGS = {}
311  @in_pattern(&quot;run&quot;, owner=True)
312  async def piston_run(event):
313      try:
314          lang = event.text.split()[1]
315          code = event.text.split(maxsplit=2)[2]
316      except IndexError:
317          result = await event.builder.article(
318              title=&quot;Bad Query&quot;,
319              description=&quot;Usage: [Language] [code]&quot;,
320              thumb=wb(
321                  &quot;https://graph.org/file/e33c57fc5f1044547e4d8.jpg&quot;, 0, &quot;image/jpeg&quot;, []
322              ),
323              text=f&#x27;**Inline Usage**\n\n`@{asst.me.username} run python print(&quot;hello world&quot;)`\n\n[Language List](https://graph.org/Ultroid-09-01-6)&#x27;,
324          )
325          return await event.answer([result])
326      if not PISTON_LANGS:
327          se = await async_searcher(f&quot;{PISTON_URI}runtimes&quot;, re_json=True)
328          PISTON_LANGS.update({lang.pop(&quot;language&quot;): lang for lang in se})
329      if lang in PISTON_LANGS.keys():
330          version = PISTON_LANGS[lang][&quot;version&quot;]
331      else:
332          result = await event.builder.article(
333              title=&quot;Unsupported Language&quot;,
334              description=&quot;Usage: [Language] [code]&quot;,
335              thumb=wb(
336                  &quot;https://graph.org/file/e33c57fc5f1044547e4d8.jpg&quot;, 0, &quot;image/jpeg&quot;, []
337              ),
338              text=f&#x27;**Inline Usage**\n\n`@{asst.me.username} run python print(&quot;hello world&quot;)`\n\n[Language List](https://graph.org/Ultroid-09-01-6)&#x27;,
339          )
340          return await event.answer([result])
341      output = await async_searcher(
342          f&quot;{PISTON_URI}execute&quot;,
343          post=True,
344          json={
345              &quot;language&quot;: lang,
346              &quot;version&quot;: version,
347              &quot;files&quot;: [{&quot;content&quot;: code}],
348          },
349          re_json=True,
350      )
351      output = output[&quot;run&quot;][&quot;output&quot;] or get_string(&quot;instu_4&quot;)
352      if len(output) &gt; 3000:
353          output = f&quot;{output[:3000]}...&quot;
354      result = await event.builder.article(
355          title=&quot;Result&quot;,
356          description=output,
357          text=f&quot;‚Ä¢ **Language:**\n`{lang}`\n\n‚Ä¢ **Code:**\n`{code}`\n\n‚Ä¢ **Result:**\n`{output}`&quot;,
358          thumb=wb(
359              &quot;https://graph.org/file/871ee4a481f58117dccc4.jpg&quot;, 0, &quot;image/jpeg&quot;, []
360          ),
361          buttons=Button.switch_inline(&quot;Fork&quot;, query=event.text, same_peer=True),
362      )
363      await event.answer([result], switch_pm=&quot;‚Ä¢ Piston ‚Ä¢&quot;, switch_pm_param=&quot;start&quot;)
364  FDROID_ = {}
365  @in_pattern(&quot;fdroid&quot;, owner=True)
366  async def do_magic(event):
367      try:
368          match = event.text.split(&quot; &quot;, maxsplit=1)[1].lower()
369      except IndexError:
370          return await event.answer(
371              [], switch_pm=&quot;Enter Query to Search&quot;, switch_pm_param=&quot;start&quot;
372          )
373      if FDROID_.get(match):
374          return await event.answer(
375              FDROID_[match], switch_pm=f&quot;‚Ä¢ Results for {match}&quot;, switch_pm_param=&quot;start&quot;
376          )
377      link = &quot;https://search.f-droid.org/?q=&quot; + match.replace(&quot; &quot;, &quot;+&quot;)
378      content = await async_searcher(link, re_content=True)
379      BSC = bs(content, &quot;html.parser&quot;, from_encoding=&quot;utf-8&quot;)
380      ress = []
381      for dat in BSC.find_all(&quot;a&quot;, &quot;package-header&quot;)[:10]:
382          image = dat.find(&quot;img&quot;, &quot;package-icon&quot;)[&quot;src&quot;]
383          if image.endswith(&quot;/&quot;):
384              image = &quot;https://graph.org/file/a8dd4a92c5a53a89d0eff.jpg&quot;
385          title = dat.find(&quot;h4&quot;, &quot;package-name&quot;).text.strip()
386          desc = dat.find(&quot;span&quot;, &quot;package-summary&quot;).text.strip()
387          text = f&quot;‚Ä¢ **Name :** `{title}`\n\n&quot;
388          text += f&quot;‚Ä¢ **Description :** `{desc}`\n&quot;
389          text += f&quot;‚Ä¢ **License :** `{dat.find(&#x27;span&#x27;, &#x27;package-license&#x27;).text.strip()}`&quot;
390          imga = wb(image, 0, &quot;image/jpeg&quot;, [])
391          ress.append(
392              await event.builder.article(
393                  title=title,
394                  type=&quot;photo&quot;,
395                  description=desc,
396                  text=text,
397                  content=imga,
398                  thumb=imga,
399                  include_media=True,
400                  buttons=[
401                      Button.inline(
402                          &quot;‚Ä¢ Download ‚Ä¢&quot;, &quot;fd&quot; + dat[&quot;href&quot;].split(&quot;packages/&quot;)[-1]
403                      ),
404                      Button.switch_inline(&quot;‚Ä¢ Share ‚Ä¢&quot;, query=event.text),
405                  ],
406              )
407          )
408      msg = f&quot;Showing {len(ress)} Results!&quot; if ress else &quot;No Results Found&quot;
409      FDROID_.update({match: ress})
410      await event.answer(ress, switch_pm=msg, switch_pm_param=&quot;start&quot;)
411  _bearer_collected = [
412      &quot;AAAAAAAAAAAAAAAAAAAAALIKKgEAAAAA1DRuS%2BI7ZRKiagD6KHYmreaXomo%3DP5Vaje4UTtEkODg0fX7nCh5laSrchhtLxeyEqxXpv0w9ZKspLD&quot;,
413      &quot;AAAAAAAAAAAAAAAAAAAAAL5iUAEAAAAAmo6FYRjqdKlI3cNziIm%2BHUQB9Xs%3DS31pj0mxARMTOk2g9dvQ1yP9wknvY4FPBPUlE00smJcncw4dPR&quot;,
414      &quot;AAAAAAAAAAAAAAAAAAAAAN6sVgEAAAAAMMjMMWrwgGyv7YQOWN%2FSAsO5SGM%3Dg8MG9Jq93Rlllaok6eht7HvRCruN4Vpzp4NaVsZaaHHWSTzKI8&quot;,
415  ]
416  @in_pattern(&quot;twitter&quot;, owner=True)
417  async def twitter_search(event):
418      try:
419          match = event.text.split(maxsplit=1)[1].lower()
420      except IndexError:
421          return await event.answer(
422              [], switch_pm=&quot;Enter Query to Search&quot;, switch_pm_param=&quot;start&quot;
423          )
424      try:
425          return await event.answer(
426              _ult_cache[&quot;twitter&quot;][match],
427              switch_pm=&quot;‚Ä¢ Twitter Search ‚Ä¢&quot;,
428              switch_pm_param=&quot;start&quot;,
429          )
430      except KeyError:
431          pass
432      headers = {&quot;Authorization&quot;: f&quot;bearer {choice(_bearer_collected)}&quot;}
433      res = await async_searcher(
434          f&quot;https://api.twitter.com/1.1/users/search.json?q={match}&quot;,
435          headers=headers,
436          re_json=True,
437      )
438      reso = []
439      for user in res:
440          thumb = wb(user[&quot;profile_image_url_https&quot;], 0, &quot;image/jpeg&quot;, [])
441          if user.get(&quot;profile_banner_url&quot;):
442              url = user[&quot;profile_banner_url&quot;]
443              text = f&quot;[\xad]({url})‚Ä¢ **Name :** `{user[&#x27;name&#x27;]}`\n&quot;
444          else:
445              text = f&quot;‚Ä¢ **Name :** `{user[&#x27;name&#x27;]}`\n&quot;
446          text += f&quot;‚Ä¢ **Description :** `{user[&#x27;description&#x27;]}`\n&quot;
447          text += f&quot;‚Ä¢ **Username :** `@{user[&#x27;screen_name&#x27;]}`\n&quot;
448          text += f&quot;‚Ä¢ **Followers :** `{user[&#x27;followers_count&#x27;]}`    ‚Ä¢ **Following :** `{user[&#x27;friends_count&#x27;]}`\n&quot;
449          pro_ = &quot;https://twitter.com/&quot; + user[&quot;screen_name&quot;]
450          text += f&quot;‚Ä¢ **Link :** [Click Here]({pro_})\n_&quot;
451          reso.append(
452              await event.builder.article(
453                  title=user[&quot;name&quot;],
454                  description=user[&quot;description&quot;],
455                  url=pro_,
456                  text=text,
457                  thumb=thumb,
458              )
459          )
460      swi_ = f&quot;üê¶ Showing {len(reso)} Results!&quot; if reso else &quot;No User Found :(&quot;
461      await event.answer(reso, switch_pm=swi_, switch_pm_param=&quot;start&quot;)
462      if _ult_cache.get(&quot;twitter&quot;):
463          _ult_cache[&quot;twitter&quot;].update({match: reso})
464      else:
465          _ult_cache.update({&quot;twitter&quot;: {match: reso}})
466  _savn_cache = {}
467  @in_pattern(&quot;saavn&quot;, owner=True)
468  async def savn_s(event):
469      try:
470          query = event.text.split(maxsplit=1)[1].lower()
471      except IndexError:
472          return await event.answer(
473              [], switch_pm=&quot;Enter Query to search üîç&quot;, switch_pm_param=&quot;start&quot;
474          )
475      if query in _savn_cache:
476          return await event.answer(
477              _savn_cache[query],
478              switch_pm=f&quot;Showing Results for {query}&quot;,
479              switch_pm_param=&quot;start&quot;,
480          )
481      results = await saavn_search(query)
482      swi = &quot;üéµ Saavn Search&quot; if results else &quot;No Results Found!&quot;
483      res = []
484      for song in results:
485          thumb = wb(song[&quot;image&quot;], 0, &quot;image/jpeg&quot;, [])
486          text = f&quot;‚Ä¢ **Title :** {song[&#x27;title&#x27;]}&quot;
487          text += f&quot;\n‚Ä¢ **Year :** {song[&#x27;year&#x27;]}&quot;
488          text += f&quot;\n‚Ä¢ **Lang :** {song[&#x27;language&#x27;]}&quot;
489          text += f&quot;\n‚Ä¢ **Artist :** {song[&#x27;artists&#x27;]}&quot;
490          text += f&quot;\n‚Ä¢ **Release Date :** {song[&#x27;release_date&#x27;]}&quot;
491          res.append(
492              await event.builder.article(
493                  title=song[&quot;title&quot;],
494                  description=song[&quot;artists&quot;],
495                  type=&quot;audio&quot;,
496                  text=text,
497                  include_media=True,
498                  buttons=Button.switch_inline(
499                      &quot;Search Again üîç&quot;, query=&quot;saavn&quot;, same_peer=True
500                  ),
501                  thumb=thumb,
502                  content=wb(
503                      song[&quot;url&quot;],
504                      0,
505                      &quot;audio/mp4&quot;,
506                      [
507                          Audio(
508                              title=song[&quot;title&quot;],
509                              duration=int(song[&quot;duration&quot;]),
510                              performer=song[&quot;artists&quot;],
511                          )
512                      ],
513                  ),
514              )
515          )
516      await event.answer(res, switch_pm=swi, switch_pm_param=&quot;start&quot;)
517      _savn_cache.update({query: res})
518  @in_pattern(&quot;tl&quot;, owner=True)
519  async def inline_tl(ult):
520      try:
521          match = ult.text.split(maxsplit=1)[1]
522      except IndexError:
523          text = f&quot;**Telegram TlObjects Searcher.**\n__(Don&#x27;t use if you don&#x27;t know what it is!)__\n\n‚Ä¢ Example Usage\n`@{asst.me.username} tl GetFullUserRequest`&quot;
524          return await ult.answer(
525              [
526                  await ult.builder.article(
527                      title=&quot;How to Use?&quot;,
528                      description=&quot;Tl Searcher by Ultroid&quot;,
529                      url=&quot;https://t.me/TeamUltroid&quot;,
530                      text=text,
531                  )
532              ],
533              switch_pm=&quot;Tl Search üîç&quot;,
534              switch_pm_param=&quot;start&quot;,
535          )
536      res = []
537      for key in tlobjects.values():
538          if match.lower() in key.__name__.lower():
539              tyyp = &quot;Function&quot; if &quot;tl.functions.&quot; in str(key) else &quot;Type&quot;
540              text = f&quot;**Name:** `{key.__name__}`\n&quot;
541              text += f&quot;**Category:** `{tyyp}`\n&quot;
542              text += f&quot;\n`from {key.__module__} import {key.__name__}`\n\n&quot;
543              if args := str(inspect.signature(key))[1:][:-1]:
544                  text += &quot;**Parameter:**\n&quot;
545                  for para in args.split(&quot;,&quot;):
546                      text += &quot; &quot; * 4 + &quot;`&quot; + para + &quot;`\n&quot;
547              text += f&quot;\n**Layer:** `{LAYER}`&quot;
548              res.append(
549                  await ult.builder.article(
550                      title=key.__name__,
551                      description=tyyp,
552                      url=&quot;https://t.me/TeamUltroid&quot;,
553                      text=text[:4000],
554                  )
555              )
556      mo = f&quot;Showing {len(res)} results!&quot; if res else f&quot;No Results for {match}!&quot;
557      await ult.answer(res[:50], switch_pm=mo, switch_pm_param=&quot;start&quot;)
558  InlinePlugin.update(
559      {
560          &quot;P ü·¥Ä è S·¥õ·¥è Ä·¥á A·¥ò·¥òs&quot;: &quot;app telegram&quot;,
561          &quot;M·¥è·¥Ö·¥Ö·¥á·¥Ö A·¥ò·¥òs&quot;: &quot;mods minecraft&quot;,
562          &quot;S·¥á·¥Ä Ä·¥Ñ ú O…¥ G·¥è·¥è…¢ ü·¥á&quot;: &quot;go TeamUltroid&quot;,
563          &quot;W ú…™S·¥ò·¥á Ä&quot;: &quot;wspr @username Helloüéâ&quot;,
564          &quot;Y·¥è·¥úT·¥ú ô·¥á D·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö·¥á Ä&quot;: &quot;yt Ed Sheeran Perfect&quot;,
565          &quot;Piston Eval&quot;: &quot;run javascript console.log(&#x27;Hello Ultroid&#x27;)&quot;,
566          &quot;O Ä·¥Ä…¥…¢·¥áF·¥èxü¶ä&quot;: &quot;ofox beryllium&quot;,
567          &quot;T·¥°…™·¥õ·¥õ·¥á Ä Us·¥á Ä&quot;: &quot;twitter theultroid&quot;,
568          &quot;F·¥Ö Ä·¥è…™·¥Ö S·¥á·¥Ä Ä·¥Ñ ú&quot;: &quot;fdroid telegram&quot;,
569          &quot;S·¥Ä·¥Ä·¥†…¥ s·¥á·¥Ä Ä·¥Ñ ú&quot;: &quot;saavn&quot;,
570          &quot;T ü S·¥á·¥Ä Ä·¥Ñ ú&quot;: &quot;tl&quot;,
571      }
572  )
</code></pre>
        </div>
        <div class="column">
            <h3>Ultroid-MDEwOlJlcG9zaXRvcnkzNDEwMzg2MDI=-flat-inlinestuff.py</h3>
            <pre><code>1  import base64
2  import inspect
3  from datetime import datetime
4  from html import unescape
5  from random import choice
6  from re import compile as re_compile
7  from bs4 import BeautifulSoup as bs
8  from telethon import Button
9  from telethon.tl.alltlobjects import LAYER, tlobjects
10  from telethon.tl.types import DocumentAttributeAudio as Audio
11  from telethon.tl.types import InputWebDocument as wb
12  from pyUltroid.fns.misc import google_search
13  from pyUltroid.fns.tools import (
14      _webupload_cache,
15      async_searcher,
16      get_ofox,
17      saavn_search,
18      webuploader,
19  )
20  from . import *
21  from . import _ult_cache
22  SUP_BUTTONS = [
23      [
24          Button.url(&quot;‚Ä¢ Repo ‚Ä¢&quot;, url=&quot;https://github.com/TeamUltroid/Ultroid&quot;),
25          Button.url(&quot;‚Ä¢ Support ‚Ä¢&quot;, url=&quot;t.me/UltroidSupportChat&quot;),
26      ],
27  ]
28  ofox = &quot;https://graph.org/file/231f0049fcd722824f13b.jpg&quot;
29  gugirl = &quot;https://graph.org/file/0df54ae4541abca96aa11.jpg&quot;
30  ultpic = &quot;https://graph.org/file/4136aa1650bc9d4109cc5.jpg&quot;
31  apis = [
32      &quot;QUl6YVN5QXlEQnNZM1dSdEI1WVBDNmFCX3c4SkF5NlpkWE5jNkZV&quot;,
33      &quot;QUl6YVN5QkYwenhMbFlsUE1wOXh3TVFxVktDUVJxOERnZHJMWHNn&quot;,
34      &quot;QUl6YVN5RGRPS253blB3VklRX2xiSDVzWUU0Rm9YakFLSVFWMERR&quot;,
35  ]
36  @in_pattern(&quot;ofox&quot;, owner=True)
37  async def _(e):
38      try:
39          match = e.text.split(&quot; &quot;, maxsplit=1)[1]
40      except IndexError:
41          kkkk = e.builder.article(
42              title=&quot;Enter Device Codename&quot;,
43              thumb=wb(ofox, 0, &quot;image/jpeg&quot;, []),
44              text=&quot;**OF·¥èxü¶äR·¥á·¥Ñ·¥è·¥†·¥á Ä è**\n\nYou didn&#x27;t search anything&quot;,
45              buttons=Button.switch_inline(&quot;S·¥á·¥Ä Ä·¥Ñ ú A…¢·¥Ä…™…¥&quot;, query=&quot;ofox &quot;, same_peer=True),
46          )
47          return await e.answer([kkkk])
48      device, releases = await get_ofox(match)
49      if device.get(&quot;detail&quot;) is None:
50          fox = []
51          fullname = device[&quot;full_name&quot;]
52          codename = device[&quot;codename&quot;]
53          str(device[&quot;supported&quot;])
54          maintainer = device[&quot;maintainer&quot;][&quot;name&quot;]
55          link = f&quot;https://orangefox.download/device/{codename}&quot;
56          for data in releases[&quot;data&quot;]:
57              release = data[&quot;type&quot;]
58              version = data[&quot;version&quot;]
59              size = humanbytes(data[&quot;size&quot;])
60              release_date = datetime.utcfromtimestamp(data[&quot;date&quot;]).strftime(&quot;%Y-%m-%d&quot;)
61              text = f&quot;[\xad]({ofox})**O Ä·¥Ä…¥…¢·¥áF·¥èx R·¥á·¥Ñ·¥è·¥†·¥á Ä è F·¥è Ä**\n\n&quot;
62              text += f&quot;`  F·¥ú ü ü N·¥Ä·¥ç·¥á: {fullname}`\n&quot;
63              text += f&quot;`  C·¥è·¥Ö·¥á…¥·¥Ä·¥ç·¥á: {codename}`\n&quot;
64              text += f&quot;`  M·¥Ä…™…¥·¥õ·¥Ä…™…¥·¥á Ä: {maintainer}`\n&quot;
65              text += f&quot;`  B·¥ú…™ ü·¥Ö T è·¥ò·¥á: {release}`\n&quot;
66              text += f&quot;`  V·¥á Äs…™·¥è…¥: {version}`\n&quot;
67              text += f&quot;`  S…™·¥¢·¥á: {size}`\n&quot;
68              text += f&quot;`  B·¥ú…™ ü·¥Ö D·¥Ä·¥õ·¥á: {release_date}`&quot;
69              fox.append(
70                  await e.builder.article(
71                      title=f&quot;{fullname}&quot;,
72                      description=f&quot;{version}\n{release_date}&quot;,
73                      text=text,
74                      thumb=wb(ofox, 0, &quot;image/jpeg&quot;, []),
75                      link_preview=True,
76                      buttons=[
77                          Button.url(&quot;D·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö&quot;, url=f&quot;{link}&quot;),
78                          Button.switch_inline(
79                              &quot;S·¥á·¥Ä Ä·¥Ñ ú A…¢·¥Ä…™…¥&quot;, query=&quot;ofox &quot;, same_peer=True
80                          ),
81                      ],
82                  )
83              )
84          await e.answer(
85              fox, switch_pm=&quot;OrangeFox Recovery Search.&quot;, switch_pm_param=&quot;start&quot;
86          )
87      else:
88          await e.answer(
89              [], switch_pm=&quot;OrangeFox Recovery Search.&quot;, switch_pm_param=&quot;start&quot;
90          )
91  @in_pattern(&quot;fl2lnk ?(.*)&quot;, owner=True)
92  async def _(e):
93      match = e.pattern_match.group(1)
94      chat_id, msg_id = match.split(&quot;:&quot;)
95      filename = _webupload_cache[int(chat_id)][int(msg_id)]
96      if &quot;/&quot; in filename:
97          filename = filename.split(&quot;/&quot;)[-1]
98      __cache = f&quot;{chat_id}:{msg_id}&quot;
99      buttons = [
100          [
101              Button.inline(&quot;anonfiles&quot;, data=f&quot;flanonfiles//{__cache}&quot;),
102              Button.inline(&quot;transfer&quot;, data=f&quot;fltransfer//{__cache}&quot;),
103          ],
104          [
105              Button.inline(&quot;bayfiles&quot;, data=f&quot;flbayfiles//{__cache}&quot;),
106              Button.inline(&quot;x0.at&quot;, data=f&quot;flx0.at//{__cache}&quot;),
107          ],
108          [
109              Button.inline(&quot;file.io&quot;, data=f&quot;flfile.io//{__cache}&quot;),
110              Button.inline(&quot;siasky&quot;, data=f&quot;flsiasky//{__cache}&quot;),
111          ],
112      ]
113      try:
114          lnk = [
115              await e.builder.article(
116                  title=f&quot;Upload {filename}&quot;,
117                  text=f&quot;**File:**\n{filename}&quot;,
118                  buttons=buttons,
119              )
120          ]
121      except BaseException as er:
122          LOGS.exception(er)
123          lnk = [
124              await e.builder.article(
125                  title=&quot;fl2lnk&quot;,
126                  text=&quot;File not found&quot;,
127              )
128          ]
129      await e.answer(lnk, switch_pm=&quot;File to Link.&quot;, switch_pm_param=&quot;start&quot;)
130  @callback(
131      re_compile(
132          &quot;fl(.*)&quot;,
133      ),
134      owner=True,
135  )
136  async def _(e):
137      t = (e.data).decode(&quot;UTF-8&quot;)
138      data = t[2:]
139      host = data.split(&quot;//&quot;)[0]
140      chat_id, msg_id = data.split(&quot;//&quot;)[1].split(&quot;:&quot;)
141      filename = _webupload_cache[int(chat_id)][int(msg_id)]
142      if &quot;/&quot; in filename:
143          filename = filename.split(&quot;/&quot;)[-1]
144      await e.edit(f&quot;Uploading `{filename}` on {host}&quot;)
145      link = (await webuploader(chat_id, msg_id, host)).strip().replace(&quot;\n&quot;, &quot;&quot;)
146      await e.edit(f&quot;Uploaded `{filename}` on {host}.&quot;, buttons=Button.url(&quot;View&quot;, link))
147  @in_pattern(&quot;repo&quot;, owner=True)
148  async def repo(e):
149      res = [
150          await e.builder.article(
151              title=&quot;Ultroid Userbot&quot;,
152              description=&quot;Userbot | Telethon&quot;,
153              thumb=wb(ultpic, 0, &quot;image/jpeg&quot;, []),
154              text=&quot;‚Ä¢ **ULTROID USERBOT** ‚Ä¢&quot;,
155              buttons=SUP_BUTTONS,
156          ),
157      ]
158      await e.answer(res, switch_pm=&quot;Ultroid Repo.&quot;, switch_pm_param=&quot;start&quot;)
159  @in_pattern(&quot;go&quot;, owner=True)
160  async def gsearch(q_event):
161      try:
162          match = q_event.text.split(maxsplit=1)[1]
163      except IndexError:
164          return await q_event.answer(
165              [], switch_pm=&quot;Google Search. Enter a query!&quot;, switch_pm_param=&quot;start&quot;
166          )
167      searcher = []
168      gresults = await google_search(match)
169      for i in gresults:
170          try:
171              title = i[&quot;title&quot;]
172              link = i[&quot;link&quot;]
173              desc = i[&quot;description&quot;]
174              searcher.append(
175                  await q_event.builder.article(
176                      title=title,
177                      description=desc,
178                      thumb=wb(gugirl, 0, &quot;image/jpeg&quot;, []),
179                      text=f&quot;**G·¥è·¥è…¢ ü·¥á S·¥á·¥Ä Ä·¥Ñ ú**\n\n**‚Ä¢‚Ä¢T…™·¥õ ü·¥á‚Ä¢‚Ä¢**\n`{title}`\n\n**‚Ä¢‚Ä¢D·¥ás·¥Ñ Ä…™·¥ò·¥õ…™·¥è…¥‚Ä¢‚Ä¢**\n`{desc}`&quot;,
180                      link_preview=False,
181                      buttons=[
182                          [Button.url(&quot;L…™…¥·¥ã&quot;, url=f&quot;{link}&quot;)],
183                          [
184                              Button.switch_inline(
185                                  &quot;S·¥á·¥Ä Ä·¥Ñ ú A…¢·¥Ä…™…¥&quot;,
186                                  query=&quot;go &quot;,
187                                  same_peer=True,
188                              ),
189                              Button.switch_inline(
190                                  &quot;S ú·¥Ä Ä·¥á&quot;,
191                                  query=f&quot;go {match}&quot;,
192                                  same_peer=False,
193                              ),
194                          ],
195                      ],
196                  ),
197              )
198          except IndexError:
199              break
200      await q_event.answer(searcher, switch_pm=&quot;Google Search.&quot;, switch_pm_param=&quot;start&quot;)
201  @in_pattern(&quot;mods&quot;, owner=True)
202  async def _(e):
203      try:
204          quer = e.text.split(&quot; &quot;, maxsplit=1)[1]
205      except IndexError:
206          return await e.answer(
207              [], switch_pm=&quot;Mod Apps Search. Enter app name!&quot;, switch_pm_param=&quot;start&quot;
208          )
209      start = 0 * 3 + 1
210      da = base64.b64decode(choice(apis)).decode(&quot;ascii&quot;)
211      url = f&quot;https://www.googleapis.com/customsearch/v1?key={da}&amp;cx=25b3b50edb928435b&amp;q={quer}&amp;start={start}&quot;
212      data = await async_searcher(url, re_json=True)
213      search_items = data.get(&quot;items&quot;, [])
214      modss = []
215      for a in search_items:
216          title = a.get(&quot;title&quot;)
217          desc = a.get(&quot;snippet&quot;)
218          link = a.get(&quot;link&quot;)
219          text = f&quot;**‚Ä¢‚Ä¢T…™·¥õ ü·¥á‚Ä¢‚Ä¢** `{title}`\n\n&quot;
220          text += f&quot;**D·¥ás·¥Ñ Ä…™·¥ò·¥õ…™·¥è…¥** `{desc}`&quot;
221          modss.append(
222              await e.builder.article(
223                  title=title,
224                  description=desc,
225                  text=text,
226                  link_preview=True,
227                  buttons=[
228                      [Button.url(&quot;D·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö&quot;, url=f&quot;{link}&quot;)],
229                      [
230                          Button.switch_inline(
231                              &quot;M·¥è Ä·¥á M·¥è·¥Ös&quot;,
232                              query=&quot;mods &quot;,
233                              same_peer=True,
234                          ),
235                          Button.switch_inline(
236                              &quot;S ú·¥Ä Ä·¥á&quot;,
237                              query=f&quot;mods {quer}&quot;,
238                              same_peer=False,
239                          ),
240                      ],
241                  ],
242              ),
243          )
244      await e.answer(modss, switch_pm=&quot;Search Mod Applications.&quot;, switch_pm_param=&quot;start&quot;)
245  APP_CACHE = {}
246  RECENTS = {}
247  PLAY_API = &quot;https://googleplay.onrender.com/api/apps?q=&quot;
248  @in_pattern(&quot;app&quot;, owner=True)
249  async def _(e):
250      try:
251          f = e.text.split(maxsplit=1)[1].lower()
252      except IndexError:
253          get_string(&quot;instu_1&quot;)
254          res = []
255          if APP_CACHE and RECENTS.get(e.sender_id):
256              res.extend(
257                  APP_CACHE[a][0] for a in RECENTS[e.sender_id] if APP_CACHE.get(a)
258              )
259          return await e.answer(
260              res, switch_pm=get_string(&quot;instu_2&quot;), switch_pm_param=&quot;start&quot;
261          )
262      try:
263          return await e.answer(
264              APP_CACHE[f], switch_pm=&quot;Application Searcher.&quot;, switch_pm_param=&quot;start&quot;
265          )
266      except KeyError:
267          pass
268      foles = []
269      url = PLAY_API + f.replace(&quot; &quot;, &quot;+&quot;)
270      aap = await async_searcher(url, re_json=True)
271      for z in aap[&quot;results&quot;][:50]:
272          url = &quot;https://play.google.com/store/apps/details?id=&quot; + z[&quot;appId&quot;]
273          name = z[&quot;title&quot;]
274          desc = unescape(z[&quot;summary&quot;])[:300].replace(&quot;&lt;br&gt;&quot;, &quot;\n&quot;) + &quot;...&quot;
275          dev = z[&quot;developer&quot;][&quot;devId&quot;]
276          text = f&quot;**‚Ä¢‚Ä¢A·¥ò·¥ò N·¥Ä·¥ç·¥á‚Ä¢‚Ä¢** [{name}]({url})\n&quot;
277          text += f&quot;**‚Ä¢‚Ä¢D·¥á·¥†·¥á ü·¥è·¥ò·¥á Ä‚Ä¢‚Ä¢** `{dev}`\n&quot;
278          text += f&quot;**‚Ä¢‚Ä¢D·¥ás·¥Ñ Ä…™·¥ò·¥õ…™·¥è…¥‚Ä¢‚Ä¢**\n`{desc}`&quot;
279          foles.append(
280              await e.builder.article(
281                  title=name,
282                  description=dev,
283                  thumb=wb(z[&quot;icon&quot;], 0, &quot;image/jpeg&quot;, []),
284                  text=text,
285                  link_preview=True,
286                  buttons=[
287                      [Button.url(&quot;L…™…¥·¥ã&quot;, url=url)],
288                      [
289                          Button.switch_inline(
290                              &quot;M·¥è Ä·¥á A·¥ò·¥òs&quot;,
291                              query=&quot;app &quot;,
292                              same_peer=True,
293                          ),
294                          Button.switch_inline(
295                              &quot;S ú·¥Ä Ä·¥á&quot;,
296                              query=f&quot;app {f}&quot;,
297                              same_peer=False,
298                          ),
299                      ],
300                  ],
301              ),
302          )
303      APP_CACHE.update({f: foles})
304      if RECENTS.get(e.sender_id):
305          RECENTS[e.sender_id].append(f)
306      else:
307          RECENTS.update({e.sender_id: [f]})
308      await e.answer(foles, switch_pm=&quot;Application Searcher.&quot;, switch_pm_param=&quot;start&quot;)
309  PISTON_URI = &quot;https://emkc.org/api/v2/piston/&quot;
310  PISTON_LANGS = {}
311  @in_pattern(&quot;run&quot;, owner=True)
312  async def piston_run(event):
313      try:
314          lang = event.text.split()[1]
315          code = event.text.split(maxsplit=2)[2]
316      except IndexError:
317          result = await event.builder.article(
318              title=&quot;Bad Query&quot;,
319              description=&quot;Usage: [Language] [code]&quot;,
320              thumb=wb(
321                  &quot;https://graph.org/file/e33c57fc5f1044547e4d8.jpg&quot;, 0, &quot;image/jpeg&quot;, []
322              ),
323              text=f&#x27;**Inline Usage**\n\n`@{asst.me.username} run python print(&quot;hello world&quot;)`\n\n[Language List](https://graph.org/Ultroid-09-01-6)&#x27;,
324          )
325          return await event.answer([result])
326      if not PISTON_LANGS:
327          se = await async_searcher(f&quot;{PISTON_URI}runtimes&quot;, re_json=True)
328          PISTON_LANGS.update({lang.pop(&quot;language&quot;): lang for lang in se})
329      if lang in PISTON_LANGS.keys():
330          version = PISTON_LANGS[lang][&quot;version&quot;]
331      else:
332          result = await event.builder.article(
333              title=&quot;Unsupported Language&quot;,
334              description=&quot;Usage: [Language] [code]&quot;,
335              thumb=wb(
336                  &quot;https://graph.org/file/e33c57fc5f1044547e4d8.jpg&quot;, 0, &quot;image/jpeg&quot;, []
337              ),
338              text=f&#x27;**Inline Usage**\n\n`@{asst.me.username} run python print(&quot;hello world&quot;)`\n\n[Language List](https://graph.org/Ultroid-09-01-6)&#x27;,
339          )
340          return await event.answer([result])
341      output = await async_searcher(
342          f&quot;{PISTON_URI}execute&quot;,
343          post=True,
344          json={
345              &quot;language&quot;: lang,
346              &quot;version&quot;: version,
347              &quot;files&quot;: [{&quot;content&quot;: code}],
348          },
349          re_json=True,
350      )
351      output = output[&quot;run&quot;][&quot;output&quot;] or get_string(&quot;instu_4&quot;)
352      if len(output) &gt; 3000:
353          output = f&quot;{output[:3000]}...&quot;
354      result = await event.builder.article(
355          title=&quot;Result&quot;,
356          description=output,
357          text=f&quot;‚Ä¢ **Language:**\n`{lang}`\n\n‚Ä¢ **Code:**\n`{code}`\n\n‚Ä¢ **Result:**\n`{output}`&quot;,
358          thumb=wb(
359              &quot;https://graph.org/file/871ee4a481f58117dccc4.jpg&quot;, 0, &quot;image/jpeg&quot;, []
360          ),
361          buttons=Button.switch_inline(&quot;Fork&quot;, query=event.text, same_peer=True),
362      )
363      await event.answer([result], switch_pm=&quot;‚Ä¢ Piston ‚Ä¢&quot;, switch_pm_param=&quot;start&quot;)
364  FDROID_ = {}
365  @in_pattern(&quot;fdroid&quot;, owner=True)
366  async def do_magic(event):
367      try:
368          match = event.text.split(&quot; &quot;, maxsplit=1)[1].lower()
369      except IndexError:
370          return await event.answer(
371              [], switch_pm=&quot;Enter Query to Search&quot;, switch_pm_param=&quot;start&quot;
372          )
373      if FDROID_.get(match):
374          return await event.answer(
375              FDROID_[match], switch_pm=f&quot;‚Ä¢ Results for {match}&quot;, switch_pm_param=&quot;start&quot;
376          )
377      link = &quot;https://search.f-droid.org/?q=&quot; + match.replace(&quot; &quot;, &quot;+&quot;)
378      content = await async_searcher(link, re_content=True)
379      BSC = bs(content, &quot;html.parser&quot;, from_encoding=&quot;utf-8&quot;)
380      ress = []
381      for dat in BSC.find_all(&quot;a&quot;, &quot;package-header&quot;)[:10]:
382          image = dat.find(&quot;img&quot;, &quot;package-icon&quot;)[&quot;src&quot;]
383          if image.endswith(&quot;/&quot;):
384              image = &quot;https://graph.org/file/a8dd4a92c5a53a89d0eff.jpg&quot;
385          title = dat.find(&quot;h4&quot;, &quot;package-name&quot;).text.strip()
386          desc = dat.find(&quot;span&quot;, &quot;package-summary&quot;).text.strip()
387          text = f&quot;‚Ä¢ **Name :** `{title}`\n\n&quot;
388          text += f&quot;‚Ä¢ **Description :** `{desc}`\n&quot;
389          text += f&quot;‚Ä¢ **License :** `{dat.find(&#x27;span&#x27;, &#x27;package-license&#x27;).text.strip()}`&quot;
390          imga = wb(image, 0, &quot;image/jpeg&quot;, [])
391          ress.append(
392              await event.builder.article(
393                  title=title,
394                  type=&quot;photo&quot;,
395                  description=desc,
396                  text=text,
397                  content=imga,
398                  thumb=imga,
399                  include_media=True,
400                  buttons=[
401                      Button.inline(
402                          &quot;‚Ä¢ Download ‚Ä¢&quot;, &quot;fd&quot; + dat[&quot;href&quot;].split(&quot;packages/&quot;)[-1]
403                      ),
404                      Button.switch_inline(&quot;‚Ä¢ Share ‚Ä¢&quot;, query=event.text),
405                  ],
406              )
407          )
408      msg = f&quot;Showing {len(ress)} Results!&quot; if ress else &quot;No Results Found&quot;
409      FDROID_.update({match: ress})
410      await event.answer(ress, switch_pm=msg, switch_pm_param=&quot;start&quot;)
411  _bearer_collected = [
412      &quot;AAAAAAAAAAAAAAAAAAAAALIKKgEAAAAA1DRuS%2BI7ZRKiagD6KHYmreaXomo%3DP5Vaje4UTtEkODg0fX7nCh5laSrchhtLxeyEqxXpv0w9ZKspLD&quot;,
413      &quot;AAAAAAAAAAAAAAAAAAAAAL5iUAEAAAAAmo6FYRjqdKlI3cNziIm%2BHUQB9Xs%3DS31pj0mxARMTOk2g9dvQ1yP9wknvY4FPBPUlE00smJcncw4dPR&quot;,
414      &quot;AAAAAAAAAAAAAAAAAAAAAN6sVgEAAAAAMMjMMWrwgGyv7YQOWN%2FSAsO5SGM%3Dg8MG9Jq93Rlllaok6eht7HvRCruN4Vpzp4NaVsZaaHHWSTzKI8&quot;,
415  ]
416  @in_pattern(&quot;twitter&quot;, owner=True)
417  async def twitter_search(event):
418      try:
419          match = event.text.split(maxsplit=1)[1].lower()
420      except IndexError:
421          return await event.answer(
422              [], switch_pm=&quot;Enter Query to Search&quot;, switch_pm_param=&quot;start&quot;
423          )
424      try:
425          return await event.answer(
426              _ult_cache[&quot;twitter&quot;][match],
427              switch_pm=&quot;‚Ä¢ Twitter Search ‚Ä¢&quot;,
428              switch_pm_param=&quot;start&quot;,
429          )
430      except KeyError:
431          pass
432      headers = {&quot;Authorization&quot;: f&quot;bearer {choice(_bearer_collected)}&quot;}
433      res = await async_searcher(
434          f&quot;https://api.twitter.com/1.1/users/search.json?q={match}&quot;,
435          headers=headers,
436          re_json=True,
437      )
438      reso = []
439      for user in res:
440          thumb = wb(user[&quot;profile_image_url_https&quot;], 0, &quot;image/jpeg&quot;, [])
441          if user.get(&quot;profile_banner_url&quot;):
442              url = user[&quot;profile_banner_url&quot;]
443              text = f&quot;[\xad]({url})‚Ä¢ **Name :** `{user[&#x27;name&#x27;]}`\n&quot;
444          else:
445              text = f&quot;‚Ä¢ **Name :** `{user[&#x27;name&#x27;]}`\n&quot;
446          text += f&quot;‚Ä¢ **Description :** `{user[&#x27;description&#x27;]}`\n&quot;
447          text += f&quot;‚Ä¢ **Username :** `@{user[&#x27;screen_name&#x27;]}`\n&quot;
448          text += f&quot;‚Ä¢ **Followers :** `{user[&#x27;followers_count&#x27;]}`    ‚Ä¢ **Following :** `{user[&#x27;friends_count&#x27;]}`\n&quot;
449          pro_ = &quot;https://twitter.com/&quot; + user[&quot;screen_name&quot;]
450          text += f&quot;‚Ä¢ **Link :** [Click Here]({pro_})\n_&quot;
451          reso.append(
452              await event.builder.article(
453                  title=user[&quot;name&quot;],
454                  description=user[&quot;description&quot;],
455                  url=pro_,
456                  text=text,
457                  thumb=thumb,
458              )
459          )
460      swi_ = f&quot;üê¶ Showing {len(reso)} Results!&quot; if reso else &quot;No User Found :(&quot;
461      await event.answer(reso, switch_pm=swi_, switch_pm_param=&quot;start&quot;)
462      if _ult_cache.get(&quot;twitter&quot;):
463          _ult_cache[&quot;twitter&quot;].update({match: reso})
464      else:
465          _ult_cache.update({&quot;twitter&quot;: {match: reso}})
466  _savn_cache = {}
467  @in_pattern(&quot;saavn&quot;, owner=True)
468  async def savn_s(event):
469      try:
470          query = event.text.split(maxsplit=1)[1].lower()
471      except IndexError:
472          return await event.answer(
473              [], switch_pm=&quot;Enter Query to search üîç&quot;, switch_pm_param=&quot;start&quot;
474          )
475      if query in _savn_cache:
476          return await event.answer(
477              _savn_cache[query],
478              switch_pm=f&quot;Showing Results for {query}&quot;,
479              switch_pm_param=&quot;start&quot;,
480          )
481      results = await saavn_search(query)
482      swi = &quot;üéµ Saavn Search&quot; if results else &quot;No Results Found!&quot;
483      res = []
484      for song in results:
485          thumb = wb(song[&quot;image&quot;], 0, &quot;image/jpeg&quot;, [])
486          text = f&quot;‚Ä¢ **Title :** {song[&#x27;title&#x27;]}&quot;
487          text += f&quot;\n‚Ä¢ **Year :** {song[&#x27;year&#x27;]}&quot;
488          text += f&quot;\n‚Ä¢ **Lang :** {song[&#x27;language&#x27;]}&quot;
<span onclick='openModal()' class='match'>489          text += f&quot;\n‚Ä¢ **Artist :** {song[&#x27;artists&#x27;]}&quot;
490          text += f&quot;\n‚Ä¢ **Release Date :** {song[&#x27;release_date&#x27;]}&quot;
491          res.append(
492              await event.builder.article(
493                  title=song[&quot;title&quot;],
</span>494                  description=song[&quot;artists&quot;],
495                  type=&quot;audio&quot;,
496                  text=text,
497                  include_media=True,
498                  buttons=Button.switch_inline(
499                      &quot;Search Again üîç&quot;, query=&quot;saavn&quot;, same_peer=True
500                  ),
501                  thumb=thumb,
502                  content=wb(
503                      song[&quot;url&quot;],
504                      0,
505                      &quot;audio/mp4&quot;,
506                      [
507                          Audio(
508                              title=song[&quot;title&quot;],
509                              duration=int(song[&quot;duration&quot;]),
510                              performer=song[&quot;artists&quot;],
511                          )
512                      ],
513                  ),
514              )
515          )
516      await event.answer(res, switch_pm=swi, switch_pm_param=&quot;start&quot;)
517      _savn_cache.update({query: res})
518  @in_pattern(&quot;tl&quot;, owner=True)
519  async def inline_tl(ult):
520      try:
521          match = ult.text.split(maxsplit=1)[1]
522      except IndexError:
523          text = f&quot;**Telegram TlObjects Searcher.**\n__(Don&#x27;t use if you don&#x27;t know what it is!)__\n\n‚Ä¢ Example Usage\n`@{asst.me.username} tl GetFullUserRequest`&quot;
524          return await ult.answer(
525              [
526                  await ult.builder.article(
527                      title=&quot;How to Use?&quot;,
528                      description=&quot;Tl Searcher by Ultroid&quot;,
529                      url=&quot;https://t.me/TeamUltroid&quot;,
530                      text=text,
531                  )
532              ],
533              switch_pm=&quot;Tl Search üîç&quot;,
534              switch_pm_param=&quot;start&quot;,
535          )
536      res = []
537      for key in tlobjects.values():
538          if match.lower() in key.__name__.lower():
539              tyyp = &quot;Function&quot; if &quot;tl.functions.&quot; in str(key) else &quot;Type&quot;
540              text = f&quot;**Name:** `{key.__name__}`\n&quot;
541              text += f&quot;**Category:** `{tyyp}`\n&quot;
542              text += f&quot;\n`from {key.__module__} import {key.__name__}`\n\n&quot;
543              if args := str(inspect.signature(key))[1:][:-1]:
544                  text += &quot;**Parameter:**\n&quot;
545                  for para in args.split(&quot;,&quot;):
546                      text += &quot; &quot; * 4 + &quot;`&quot; + para + &quot;`\n&quot;
547              text += f&quot;\n**Layer:** `{LAYER}`&quot;
548              res.append(
549                  await ult.builder.article(
550                      title=key.__name__,
551                      description=tyyp,
552                      url=&quot;https://t.me/TeamUltroid&quot;,
553                      text=text[:4000],
554                  )
555              )
556      mo = f&quot;Showing {len(res)} results!&quot; if res else f&quot;No Results for {match}!&quot;
557      await ult.answer(res[:50], switch_pm=mo, switch_pm_param=&quot;start&quot;)
558  InlinePlugin.update(
559      {
560          &quot;P ü·¥Ä è S·¥õ·¥è Ä·¥á A·¥ò·¥òs&quot;: &quot;app telegram&quot;,
561          &quot;M·¥è·¥Ö·¥Ö·¥á·¥Ö A·¥ò·¥òs&quot;: &quot;mods minecraft&quot;,
562          &quot;S·¥á·¥Ä Ä·¥Ñ ú O…¥ G·¥è·¥è…¢ ü·¥á&quot;: &quot;go TeamUltroid&quot;,
563          &quot;W ú…™S·¥ò·¥á Ä&quot;: &quot;wspr @username Helloüéâ&quot;,
564          &quot;Y·¥è·¥úT·¥ú ô·¥á D·¥è·¥°…¥ ü·¥è·¥Ä·¥Ö·¥á Ä&quot;: &quot;yt Ed Sheeran Perfect&quot;,
565          &quot;Piston Eval&quot;: &quot;run javascript console.log(&#x27;Hello Ultroid&#x27;)&quot;,
566          &quot;O Ä·¥Ä…¥…¢·¥áF·¥èxü¶ä&quot;: &quot;ofox beryllium&quot;,
567          &quot;T·¥°…™·¥õ·¥õ·¥á Ä Us·¥á Ä&quot;: &quot;twitter theultroid&quot;,
568          &quot;F·¥Ö Ä·¥è…™·¥Ö S·¥á·¥Ä Ä·¥Ñ ú&quot;: &quot;fdroid telegram&quot;,
569          &quot;S·¥Ä·¥Ä·¥†…¥ s·¥á·¥Ä Ä·¥Ñ ú&quot;: &quot;saavn&quot;,
570          &quot;T ü S·¥á·¥Ä Ä·¥Ñ ú&quot;: &quot;tl&quot;,
571      }
572  )
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from Ultroid-MDEwOlJlcG9zaXRvcnkzNDEwMzg2MDI=-flat-inlinestuff.py</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from Ultroid-MDEwOlJlcG9zaXRvcnkzNDEwMzg2MDI=-flat-inlinestuff.py</div>
                </div>
                <div class="column column_space"><pre><code>67              text += f&quot;`  S…™·¥¢·¥á: {size}`\n&quot;
68              text += f&quot;`  B·¥ú…™ ü·¥Ö D·¥Ä·¥õ·¥á: {release_date}`&quot;
69              fox.append(
70                  await e.builder.article(
71                      title=f&quot;{fullname}&quot;,
</pre></code></div>
                <div class="column column_space"><pre><code>489          text += f&quot;\n‚Ä¢ **Artist :** {song[&#x27;artists&#x27;]}&quot;
490          text += f&quot;\n‚Ä¢ **Release Date :** {song[&#x27;release_date&#x27;]}&quot;
491          res.append(
492              await event.builder.article(
493                  title=song[&quot;title&quot;],
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    