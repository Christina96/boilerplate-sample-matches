
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Tokens: 802, <button onclick='openModal()' class='match'>CODE CLONE</button></h2>
        <div class="column">
            <h3>google-api-python-client-MDEwOlJlcG9zaXRvcnkxNTc0OTI2OQ==-flat-describe_9.py</h3>
            <pre><code>1  #!/usr/bin/python
2  from __future__ import print_function
3  __author__ = &quot;jcgregorio@google.com (Joe Gregorio)&quot;
4  import argparse
5  import collections
6  import json
7  import pathlib
8  import re
9  import string
10  import sys
11  import uritemplate
12  from googleapiclient.discovery import DISCOVERY_URI, build_from_document
13  from googleapiclient.http import build_http
14  DISCOVERY_DOC_DIR = (
15      pathlib.Path(__file__).resolve().parent
16      / &quot;googleapiclient&quot;
17      / &quot;discovery_cache&quot;
18      / &quot;documents&quot;
19  )
20  CSS = 
21  METHOD_TEMPLATE = 
22  COLLECTION_LINK = 
23  METHOD_LINK = 
24  BASE = pathlib.Path(__file__).resolve().parent / &quot;docs&quot; / &quot;dyn&quot;
25  DIRECTORY_URI = &quot;https://www.googleapis.com/discovery/v1/apis&quot;
26  parser = argparse.ArgumentParser(description=__doc__)
27  parser.add_argument(
28      &quot;--discovery_uri_template&quot;,
29      default=DISCOVERY_URI,
30      help=&quot;URI Template for discovery.&quot;,
31  )
32  parser.add_argument(
33      &quot;--discovery_uri&quot;,
34      default=&quot;&quot;,
35      help=(
36          &quot;URI of discovery document. If supplied then only &quot;
37          &quot;this API will be documented.&quot;
38      ),
39  )
40  parser.add_argument(
41      &quot;--directory_uri&quot;,
42      default=DIRECTORY_URI,
43      help=(&quot;URI of directory document. Unused if --discovery_uri&quot; &quot; is supplied.&quot;),
44  )
45  parser.add_argument(
46      &quot;--dest&quot;, default=BASE, help=&quot;Directory name to write documents into.&quot;
47  )
48  def safe_version(version):
49      return version.replace(&quot;.&quot;, &quot;_&quot;)
50  def unsafe_version(version):
51      return version.replace(&quot;_&quot;, &quot;.&quot;)
52  def method_params(doc):
53      doclines = doc.splitlines()
54      if &quot;Args:&quot; in doclines:
55          begin = doclines.index(&quot;Args:&quot;)
56          if &quot;Returns:&quot; in doclines[begin + 1 :]:
57              end = doclines.index(&quot;Returns:&quot;, begin)
58              args = doclines[begin + 1 : end]
59          else:
60              args = doclines[begin + 1 :]
61          parameters = []
62          sorted_parameters = []
63          pname = None
64          desc = &quot;&quot;
65          def add_param(pname, desc):
66              if pname is None:
67                  return
68              if &quot;(required)&quot; not in desc:
69                  pname = pname + &quot;=None&quot;
70                  parameters.append(pname)
71              else:
72                  sorted_parameters.append(pname)
73          for line in args:
74              m = re.search(r&quot;^\s+([a-zA-Z0-9_]+): (.*)&quot;, line)
75              if m is None:
76                  desc += line
77                  continue
78              add_param(pname, desc)
79              pname = m.group(1)
80              desc = m.group(2)
81          add_param(pname, desc)
82          sorted_parameters.extend(sorted(parameters))
83          sorted_parameters = &quot;, &quot;.join(sorted_parameters)
84      else:
85          sorted_parameters = &quot;&quot;
86      return sorted_parameters
87  def method(name, doc):
88      import html
89      params = method_params(doc)
90      doc = html.escape(doc)
91      return string.Template(METHOD_TEMPLATE).substitute(
92          name=name, params=params, doc=doc
93      )
94  def breadcrumbs(path, root_discovery):
95      parts = path.split(&quot;.&quot;)
96      crumbs = []
97      accumulated = []
98      for i, p in enumerate(parts):
99          prefix = &quot;.&quot;.join(accumulated)
100          if prefix:
101              prefix += &quot;.&quot;
102          display = p
103          if i == 0:
104              display = root_discovery.get(&quot;title&quot;, display)
105          crumbs.append(&#x27;&lt;a href=&quot;{}.html&quot;&gt;{}&lt;/a&gt;&#x27;.format(prefix + p, display))
106          accumulated.append(p)
107      return &quot; . &quot;.join(crumbs)
108  def document_collection(resource, path, root_discovery, discovery, css=CSS):
109      collections = []
110      methods = []
111      resource_name = path.split(&quot;.&quot;)[-2]
112      html = [
113          &quot;&lt;html&gt;&lt;body&gt;&quot;,
114          css,
115          &quot;&lt;h1&gt;%s&lt;/h1&gt;&quot; % breadcrumbs(path[:-1], root_discovery),
116          &quot;&lt;h2&gt;Instance Methods&lt;/h2&gt;&quot;,
117      ]
118      for name in dir(resource):
119          if not name.startswith(&quot;_&quot;) and callable(getattr(resource, name)):
120              if hasattr(getattr(resource, name), &quot;__is_resource__&quot;):
121                  collections.append(name)
122              else:
123                  methods.append(name)
124      if collections:
125          for name in collections:
126              if not name.startswith(&quot;_&quot;) and callable(getattr(resource, name)):
127                  href = path + name + &quot;.html&quot;
128                  html.append(
129                      string.Template(COLLECTION_LINK).substitute(href=href, name=name)
130                  )
131      if methods:
132          for name in methods:
133              if not name.startswith(&quot;_&quot;) and callable(getattr(resource, name)):
134                  doc = getattr(resource, name).__doc__
135                  params = method_params(doc)
136                  firstline = doc.splitlines()[0]
137                  html.append(
138                      string.Template(METHOD_LINK).substitute(
139                          name=name, params=params, firstline=firstline
140                      )
141                  )
142      if methods:
143          html.append(&quot;&lt;h3&gt;Method Details&lt;/h3&gt;&quot;)
144          for name in methods:
<span onclick='openModal()' class='match'>145              dname = name.rsplit(&quot;_&quot;)[0]
146              html.append(method(name, getattr(resource, name).__doc__))
147      html.append(&quot;&lt;/body&gt;&lt;/html&gt;&quot;)
148      return &quot;\n&quot;.join(html)
149  def document_collection_recursive(
150      resource,
151      path,
152      root_discovery,
153      discovery,
154      doc_destination_dir,
155      artifact_destination_dir=DISCOVERY_DOC_DIR,
156  ):
157      html = document_collection(resource, path, root_discovery, discovery)
158      f = open(pathlib.Path(doc_destination_dir).joinpath(path + &quot;html&quot;), &quot;w&quot;)
159      f.write(html)
160      f.close()
161      for name in dir(resource):
162          if (
163              not name.startswith(&quot;_&quot;)
164              and callable(getattr(resource, name))
165              and hasattr(getattr(resource, name), &quot;__is_resource__&quot;)
166              and discovery != {}
167          ):
168              dname = name.rsplit(&quot;_&quot;)[0]
169              collection = getattr(resource, name)()
170              document_collection_recursive(
171                  collection,
172                  path + name + &quot;.&quot;,
173                  root_discovery,
174                  discovery[&quot;resources&quot;].get(dname, {}),
175                  doc_destination_dir,
176                  artifact_destination_dir,
177              )
178  def document_api(
179      name, version, uri, doc_destination_dir, artifact_destination_dir=DISCOVERY_DOC_DIR
180  ):
181      http = build_http()
182      resp, content = http.request(
183          uri
184          or uritemplate.expand(
185              FLAGS.discovery_uri_template, {&quot;api&quot;: name, &quot;apiVersion&quot;: version}
186          )
187      )
188      if resp.status == 200:
189          discovery = json.loads(content)
190          service = build_from_document(discovery)
191          doc_name = &quot;{}.{}.json&quot;.format(name, version)
192          discovery_file_path = artifact_destination_dir / doc_name
193          revision = None
194          pathlib.Path(discovery_file_path).touch(exist_ok=True)
195          with open(discovery_file_path, &quot;r+&quot;) as f:
196              try:
197                  json_data = json.load(f)
198                  revision = json_data[&quot;revision&quot;]
199              except json.JSONDecodeError:
200                  revision = None
201              if revision is None or discovery[&quot;revision&quot;] &gt;= revision:
202                  f.seek(0)
203                  json.dump(discovery, f, indent=2, sort_keys=True)
204                  f.truncate()
205      elif resp.status == 404:
206          print(
207              &quot;Warning: {} {} not found. HTTP Code: {}&quot;.format(name, version, resp.status)
208          )
209          return
210      else:
211          print(
212              &quot;Warning: {} {} could not be built. HTTP Code: {}&quot;.format(
213                  name, version, resp.status
214              )
215          )
216          return
217      document_collection_recursive(
218          service,
219          &quot;{}_{}.&quot;.format(name, safe_version(version)),
220          discovery,
221          discovery,
222          doc_destination_dir,
223          artifact_destination_dir,
224      )
225  def document_api_from_discovery_document(
226      discovery_url, doc_destination_dir, artifact_destination_dir=DISCOVERY_DOC_DIR
227  ):
228      http = build_http()
229      response, content = http.request(discovery_url)
230      discovery = json.loads(content)
231      service = build_from_document(discovery)
232      name = discovery[&quot;version&quot;]
233      version = safe_version(discovery[&quot;version&quot;])
234      document_collection_recursive(
235          service,
236          &quot;{}_{}.&quot;.format(name, version),
237          discovery,
238          discovery,
239          doc_destination_dir,
240          artifact_destination_dir,
241      )
242  def generate_all_api_documents(
243      directory_uri=DIRECTORY_URI,
244      doc_destination_dir=BASE,
245      artifact_destination_dir=DISCOVERY_DOC_DIR,
246  ):
247      api_directory = collections.defaultdict(list)
248      http = build_http()
249      resp, content = http.request(directory_uri)
250      if resp.status == 200:
251          directory = json.loads(content)[&quot;items&quot;]
252          for api in directory:
253              document_api(
254                  api[&quot;name&quot;],
255                  api[&quot;version&quot;],
256                  api[&quot;discoveryRestUrl&quot;],
257                  doc_destination_dir,
258                  artifact_destination_dir,
259              )
260              api_directory[api[&quot;name&quot;]].append(api[&quot;version&quot;])
261          for api in api_directory:
262              api_directory[api] = sorted(api_directory[api])
263          api_directory = collections.OrderedDict(
264              sorted(api_directory.items(), key=lambda x: x[0])
265          )
266          markdown = []
267          for api, versions in api_directory.items():
268              markdown.append(&quot;## %s&quot; % api)
269              for version in versions:
270                  markdown.append(
271                      &quot;* [%s](http://googleapis.github.io/google-api-python-client/docs/dyn/%s_%s.html)&quot;
272                      % (version, api, safe_version(version))
273                  )
274              markdown.append(&quot;\n&quot;)
275          with open(doc_destination_dir / &quot;index.md&quot;, &quot;w&quot;) as f:
276              markdown = &quot;\n&quot;.join(markdown)
277              f.write(markdown)
278      else:
279          sys.exit(&quot;Failed to load the discovery document.&quot;)
280  if __name__ == &quot;__main__&quot;:
281      FLAGS = parser.parse_args(sys.argv[1:])
282      if FLAGS.discovery_uri:
283          document_api_from_discovery_document(
284              discovery_url=FLAGS.discovery_uri,
285              doc_destination_dir=FLAGS.dest,
286          )
287      else:
288          generate_all_api_documents(
289              directory_uri=FLAGS.directory_uri,
290              doc_destination_dir=FLAGS.dest,
291          )
</span></code></pre>
        </div>
        <div class="column">
            <h3>google-api-python-client-MDEwOlJlcG9zaXRvcnkxNTc0OTI2OQ==-flat-describe.py</h3>
            <pre><code>1  #!/usr/bin/python
2  from __future__ import print_function
3  __author__ = &quot;jcgregorio@google.com (Joe Gregorio)&quot;
4  import argparse
5  import collections
6  import json
7  import pathlib
8  import re
9  import string
10  import sys
11  import uritemplate
12  from googleapiclient.discovery import DISCOVERY_URI, build_from_document
13  from googleapiclient.http import build_http
14  DISCOVERY_DOC_DIR = (
15      pathlib.Path(__file__).resolve().parent
16      / &quot;googleapiclient&quot;
17      / &quot;discovery_cache&quot;
18      / &quot;documents&quot;
19  )
20  CSS = 
21  METHOD_TEMPLATE = 
22  COLLECTION_LINK = 
23  METHOD_LINK = 
24  BASE = pathlib.Path(__file__).resolve().parent / &quot;docs&quot; / &quot;dyn&quot;
25  DIRECTORY_URI = &quot;https://www.googleapis.com/discovery/v1/apis&quot;
26  parser = argparse.ArgumentParser(description=__doc__)
27  parser.add_argument(
28      &quot;--discovery_uri_template&quot;,
29      default=DISCOVERY_URI,
30      help=&quot;URI Template for discovery.&quot;,
31  )
32  parser.add_argument(
33      &quot;--discovery_uri&quot;,
34      default=&quot;&quot;,
35      help=(
36          &quot;URI of discovery document. If supplied then only &quot;
37          &quot;this API will be documented.&quot;
38      ),
39  )
40  parser.add_argument(
41      &quot;--directory_uri&quot;,
42      default=DIRECTORY_URI,
43      help=(&quot;URI of directory document. Unused if --discovery_uri&quot; &quot; is supplied.&quot;),
44  )
45  parser.add_argument(
46      &quot;--dest&quot;, default=BASE, help=&quot;Directory name to write documents into.&quot;
47  )
48  def safe_version(version):
49      return version.replace(&quot;.&quot;, &quot;_&quot;)
50  def unsafe_version(version):
51      return version.replace(&quot;_&quot;, &quot;.&quot;)
52  def method_params(doc):
53      doclines = doc.splitlines()
54      if &quot;Args:&quot; in doclines:
55          begin = doclines.index(&quot;Args:&quot;)
56          if &quot;Returns:&quot; in doclines[begin + 1 :]:
57              end = doclines.index(&quot;Returns:&quot;, begin)
58              args = doclines[begin + 1 : end]
59          else:
60              args = doclines[begin + 1 :]
61          parameters = []
62          sorted_parameters = []
63          pname = None
64          desc = &quot;&quot;
65          def add_param(pname, desc):
66              if pname is None:
67                  return
68              if &quot;(required)&quot; not in desc:
69                  pname = pname + &quot;=None&quot;
70                  parameters.append(pname)
71              else:
72                  sorted_parameters.append(pname)
73          for line in args:
74              m = re.search(r&quot;^\s+([a-zA-Z0-9_]+): (.*)&quot;, line)
75              if m is None:
76                  desc += line
77                  continue
78              add_param(pname, desc)
79              pname = m.group(1)
80              desc = m.group(2)
81          add_param(pname, desc)
82          sorted_parameters.extend(sorted(parameters))
83          sorted_parameters = &quot;, &quot;.join(sorted_parameters)
84      else:
85          sorted_parameters = &quot;&quot;
86      return sorted_parameters
87  def method(name, doc):
88      import html
89      params = method_params(doc)
90      doc = html.escape(doc)
91      return string.Template(METHOD_TEMPLATE).substitute(
92          name=name, params=params, doc=doc
93      )
94  def breadcrumbs(path, root_discovery):
95      parts = path.split(&quot;.&quot;)
96      crumbs = []
97      accumulated = []
98      for i, p in enumerate(parts):
99          prefix = &quot;.&quot;.join(accumulated)
100          if prefix:
101              prefix += &quot;.&quot;
102          display = p
103          if i == 0:
104              display = root_discovery.get(&quot;title&quot;, display)
105          crumbs.append(&#x27;&lt;a href=&quot;{}.html&quot;&gt;{}&lt;/a&gt;&#x27;.format(prefix + p, display))
106          accumulated.append(p)
107      return &quot; . &quot;.join(crumbs)
108  def document_collection(resource, path, root_discovery, discovery, css=CSS):
109      collections = []
110      methods = []
111      resource_name = path.split(&quot;.&quot;)[-2]
112      html = [
113          &quot;&lt;html&gt;&lt;body&gt;&quot;,
114          css,
115          &quot;&lt;h1&gt;%s&lt;/h1&gt;&quot; % breadcrumbs(path[:-1], root_discovery),
116          &quot;&lt;h2&gt;Instance Methods&lt;/h2&gt;&quot;,
117      ]
118      for name in dir(resource):
119          if not name.startswith(&quot;_&quot;) and callable(getattr(resource, name)):
120              if hasattr(getattr(resource, name), &quot;__is_resource__&quot;):
121                  collections.append(name)
122              else:
123                  methods.append(name)
124      if collections:
125          for name in collections:
126              if not name.startswith(&quot;_&quot;) and callable(getattr(resource, name)):
127                  href = path + name + &quot;.html&quot;
128                  html.append(
129                      string.Template(COLLECTION_LINK).substitute(href=href, name=name)
130                  )
131      if methods:
132          for name in methods:
133              if not name.startswith(&quot;_&quot;) and callable(getattr(resource, name)):
134                  doc = getattr(resource, name).__doc__
135                  params = method_params(doc)
136                  firstline = doc.splitlines()[0]
137                  html.append(
138                      string.Template(METHOD_LINK).substitute(
139                          name=name, params=params, firstline=firstline
140                      )
141                  )
142      if methods:
143          html.append(&quot;&lt;h3&gt;Method Details&lt;/h3&gt;&quot;)
144          for name in methods:
<span onclick='openModal()' class='match'>145              dname = name.rsplit(&quot;_&quot;)[0]
146              html.append(method(name, getattr(resource, name).__doc__))
147      html.append(&quot;&lt;/body&gt;&lt;/html&gt;&quot;)
148      return &quot;\n&quot;.join(html)
149  def document_collection_recursive(
150      resource,
151      path,
152      root_discovery,
153      discovery,
154      doc_destination_dir,
155      artifact_destination_dir=DISCOVERY_DOC_DIR,
156  ):
157      html = document_collection(resource, path, root_discovery, discovery)
158      f = open(pathlib.Path(doc_destination_dir).joinpath(path + &quot;html&quot;), &quot;w&quot;)
159      f.write(html)
160      f.close()
161      for name in dir(resource):
162          if (
163              not name.startswith(&quot;_&quot;)
164              and callable(getattr(resource, name))
165              and hasattr(getattr(resource, name), &quot;__is_resource__&quot;)
166              and discovery != {}
167          ):
168              dname = name.rsplit(&quot;_&quot;)[0]
169              collection = getattr(resource, name)()
170              document_collection_recursive(
171                  collection,
172                  path + name + &quot;.&quot;,
173                  root_discovery,
174                  discovery[&quot;resources&quot;].get(dname, {}),
175                  doc_destination_dir,
176                  artifact_destination_dir,
177              )
178  def document_api(
179      name, version, uri, doc_destination_dir, artifact_destination_dir=DISCOVERY_DOC_DIR
180  ):
181      http = build_http()
182      resp, content = http.request(
183          uri
184          or uritemplate.expand(
185              FLAGS.discovery_uri_template, {&quot;api&quot;: name, &quot;apiVersion&quot;: version}
186          )
187      )
188      if resp.status == 200:
189          discovery = json.loads(content)
190          service = build_from_document(discovery)
191          doc_name = &quot;{}.{}.json&quot;.format(name, version)
192          discovery_file_path = artifact_destination_dir / doc_name
193          revision = None
194          pathlib.Path(discovery_file_path).touch(exist_ok=True)
195          with open(discovery_file_path, &quot;r+&quot;) as f:
196              try:
197                  json_data = json.load(f)
198                  revision = json_data[&quot;revision&quot;]
199              except json.JSONDecodeError:
200                  revision = None
201              if revision is None or discovery[&quot;revision&quot;] &gt;= revision:
202                  f.seek(0)
203                  json.dump(discovery, f, indent=2, sort_keys=True)
204                  f.truncate()
205      elif resp.status == 404:
206          print(
207              &quot;Warning: {} {} not found. HTTP Code: {}&quot;.format(name, version, resp.status)
208          )
209          return
210      else:
211          print(
212              &quot;Warning: {} {} could not be built. HTTP Code: {}&quot;.format(
213                  name, version, resp.status
214              )
215          )
216          return
217      document_collection_recursive(
218          service,
219          &quot;{}_{}.&quot;.format(name, safe_version(version)),
220          discovery,
221          discovery,
222          doc_destination_dir,
223          artifact_destination_dir,
224      )
225  def document_api_from_discovery_document(
226      discovery_url, doc_destination_dir, artifact_destination_dir=DISCOVERY_DOC_DIR
227  ):
228      http = build_http()
229      response, content = http.request(discovery_url)
230      discovery = json.loads(content)
231      service = build_from_document(discovery)
232      name = discovery[&quot;version&quot;]
233      version = safe_version(discovery[&quot;version&quot;])
234      document_collection_recursive(
235          service,
236          &quot;{}_{}.&quot;.format(name, version),
237          discovery,
238          discovery,
239          doc_destination_dir,
240          artifact_destination_dir,
241      )
242  def generate_all_api_documents(
243      directory_uri=DIRECTORY_URI,
244      doc_destination_dir=BASE,
245      artifact_destination_dir=DISCOVERY_DOC_DIR,
246  ):
247      api_directory = collections.defaultdict(list)
248      http = build_http()
249      resp, content = http.request(directory_uri)
250      if resp.status == 200:
251          directory = json.loads(content)[&quot;items&quot;]
252          for api in directory:
253              document_api(
254                  api[&quot;name&quot;],
255                  api[&quot;version&quot;],
256                  api[&quot;discoveryRestUrl&quot;],
257                  doc_destination_dir,
258                  artifact_destination_dir,
259              )
260              api_directory[api[&quot;name&quot;]].append(api[&quot;version&quot;])
261          for api in api_directory:
262              api_directory[api] = sorted(api_directory[api])
263          api_directory = collections.OrderedDict(
264              sorted(api_directory.items(), key=lambda x: x[0])
265          )
266          markdown = []
267          for api, versions in api_directory.items():
268              markdown.append(&quot;## %s&quot; % api)
269              for version in versions:
270                  markdown.append(
271                      &quot;* [%s](http://googleapis.github.io/google-api-python-client/docs/dyn/%s_%s.html)&quot;
272                      % (version, api, safe_version(version))
273                  )
274              markdown.append(&quot;\n&quot;)
275          with open(doc_destination_dir / &quot;index.md&quot;, &quot;w&quot;) as f:
276              markdown = &quot;\n&quot;.join(markdown)
277              f.write(markdown)
278      else:
279          sys.exit(&quot;Failed to load the discovery document.&quot;)
280  if __name__ == &quot;__main__&quot;:
281      FLAGS = parser.parse_args(sys.argv[1:])
282      if FLAGS.discovery_uri:
283          document_api_from_discovery_document(
284              discovery_url=FLAGS.discovery_uri,
285              doc_destination_dir=FLAGS.dest,
286          )
287      else:
288          generate_all_api_documents(
289              directory_uri=FLAGS.directory_uri,
290              doc_destination_dir=FLAGS.dest,
291          )
</span></code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from google-api-python-client-MDEwOlJlcG9zaXRvcnkxNTc0OTI2OQ==-flat-describe_9.py</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from google-api-python-client-MDEwOlJlcG9zaXRvcnkxNTc0OTI2OQ==-flat-describe.py</div>
                </div>
                <div class="column column_space"><pre><code>145              dname = name.rsplit(&quot;_&quot;)[0]
146              html.append(method(name, getattr(resource, name).__doc__))
147      html.append(&quot;&lt;/body&gt;&lt;/html&gt;&quot;)
148      return &quot;\n&quot;.join(html)
149  def document_collection_recursive(
150      resource,
151      path,
152      root_discovery,
153      discovery,
154      doc_destination_dir,
155      artifact_destination_dir=DISCOVERY_DOC_DIR,
156  ):
157      html = document_collection(resource, path, root_discovery, discovery)
158      f = open(pathlib.Path(doc_destination_dir).joinpath(path + &quot;html&quot;), &quot;w&quot;)
159      f.write(html)
160      f.close()
161      for name in dir(resource):
162          if (
163              not name.startswith(&quot;_&quot;)
164              and callable(getattr(resource, name))
165              and hasattr(getattr(resource, name), &quot;__is_resource__&quot;)
166              and discovery != {}
167          ):
168              dname = name.rsplit(&quot;_&quot;)[0]
169              collection = getattr(resource, name)()
170              document_collection_recursive(
171                  collection,
172                  path + name + &quot;.&quot;,
173                  root_discovery,
174                  discovery[&quot;resources&quot;].get(dname, {}),
175                  doc_destination_dir,
176                  artifact_destination_dir,
177              )
178  def document_api(
179      name, version, uri, doc_destination_dir, artifact_destination_dir=DISCOVERY_DOC_DIR
180  ):
181      http = build_http()
182      resp, content = http.request(
183          uri
184          or uritemplate.expand(
185              FLAGS.discovery_uri_template, {&quot;api&quot;: name, &quot;apiVersion&quot;: version}
186          )
187      )
188      if resp.status == 200:
189          discovery = json.loads(content)
190          service = build_from_document(discovery)
191          doc_name = &quot;{}.{}.json&quot;.format(name, version)
192          discovery_file_path = artifact_destination_dir / doc_name
193          revision = None
194          pathlib.Path(discovery_file_path).touch(exist_ok=True)
195          with open(discovery_file_path, &quot;r+&quot;) as f:
196              try:
197                  json_data = json.load(f)
198                  revision = json_data[&quot;revision&quot;]
199              except json.JSONDecodeError:
200                  revision = None
201              if revision is None or discovery[&quot;revision&quot;] &gt;= revision:
202                  f.seek(0)
203                  json.dump(discovery, f, indent=2, sort_keys=True)
204                  f.truncate()
205      elif resp.status == 404:
206          print(
207              &quot;Warning: {} {} not found. HTTP Code: {}&quot;.format(name, version, resp.status)
208          )
209          return
210      else:
211          print(
212              &quot;Warning: {} {} could not be built. HTTP Code: {}&quot;.format(
213                  name, version, resp.status
214              )
215          )
216          return
217      document_collection_recursive(
218          service,
219          &quot;{}_{}.&quot;.format(name, safe_version(version)),
220          discovery,
221          discovery,
222          doc_destination_dir,
223          artifact_destination_dir,
224      )
225  def document_api_from_discovery_document(
226      discovery_url, doc_destination_dir, artifact_destination_dir=DISCOVERY_DOC_DIR
227  ):
228      http = build_http()
229      response, content = http.request(discovery_url)
230      discovery = json.loads(content)
231      service = build_from_document(discovery)
232      name = discovery[&quot;version&quot;]
233      version = safe_version(discovery[&quot;version&quot;])
234      document_collection_recursive(
235          service,
236          &quot;{}_{}.&quot;.format(name, version),
237          discovery,
238          discovery,
239          doc_destination_dir,
240          artifact_destination_dir,
241      )
242  def generate_all_api_documents(
243      directory_uri=DIRECTORY_URI,
244      doc_destination_dir=BASE,
245      artifact_destination_dir=DISCOVERY_DOC_DIR,
246  ):
247      api_directory = collections.defaultdict(list)
248      http = build_http()
249      resp, content = http.request(directory_uri)
250      if resp.status == 200:
251          directory = json.loads(content)[&quot;items&quot;]
252          for api in directory:
253              document_api(
254                  api[&quot;name&quot;],
255                  api[&quot;version&quot;],
256                  api[&quot;discoveryRestUrl&quot;],
257                  doc_destination_dir,
258                  artifact_destination_dir,
259              )
260              api_directory[api[&quot;name&quot;]].append(api[&quot;version&quot;])
261          for api in api_directory:
262              api_directory[api] = sorted(api_directory[api])
263          api_directory = collections.OrderedDict(
264              sorted(api_directory.items(), key=lambda x: x[0])
265          )
266          markdown = []
267          for api, versions in api_directory.items():
268              markdown.append(&quot;## %s&quot; % api)
269              for version in versions:
270                  markdown.append(
271                      &quot;* [%s](http://googleapis.github.io/google-api-python-client/docs/dyn/%s_%s.html)&quot;
272                      % (version, api, safe_version(version))
273                  )
274              markdown.append(&quot;\n&quot;)
275          with open(doc_destination_dir / &quot;index.md&quot;, &quot;w&quot;) as f:
276              markdown = &quot;\n&quot;.join(markdown)
277              f.write(markdown)
278      else:
279          sys.exit(&quot;Failed to load the discovery document.&quot;)
280  if __name__ == &quot;__main__&quot;:
281      FLAGS = parser.parse_args(sys.argv[1:])
282      if FLAGS.discovery_uri:
283          document_api_from_discovery_document(
284              discovery_url=FLAGS.discovery_uri,
285              doc_destination_dir=FLAGS.dest,
286          )
287      else:
288          generate_all_api_documents(
289              directory_uri=FLAGS.directory_uri,
290              doc_destination_dir=FLAGS.dest,
291          )
</pre></code></div>
                <div class="column column_space"><pre><code>145              dname = name.rsplit(&quot;_&quot;)[0]
146              html.append(method(name, getattr(resource, name).__doc__))
147      html.append(&quot;&lt;/body&gt;&lt;/html&gt;&quot;)
148      return &quot;\n&quot;.join(html)
149  def document_collection_recursive(
150      resource,
151      path,
152      root_discovery,
153      discovery,
154      doc_destination_dir,
155      artifact_destination_dir=DISCOVERY_DOC_DIR,
156  ):
157      html = document_collection(resource, path, root_discovery, discovery)
158      f = open(pathlib.Path(doc_destination_dir).joinpath(path + &quot;html&quot;), &quot;w&quot;)
159      f.write(html)
160      f.close()
161      for name in dir(resource):
162          if (
163              not name.startswith(&quot;_&quot;)
164              and callable(getattr(resource, name))
165              and hasattr(getattr(resource, name), &quot;__is_resource__&quot;)
166              and discovery != {}
167          ):
168              dname = name.rsplit(&quot;_&quot;)[0]
169              collection = getattr(resource, name)()
170              document_collection_recursive(
171                  collection,
172                  path + name + &quot;.&quot;,
173                  root_discovery,
174                  discovery[&quot;resources&quot;].get(dname, {}),
175                  doc_destination_dir,
176                  artifact_destination_dir,
177              )
178  def document_api(
179      name, version, uri, doc_destination_dir, artifact_destination_dir=DISCOVERY_DOC_DIR
180  ):
181      http = build_http()
182      resp, content = http.request(
183          uri
184          or uritemplate.expand(
185              FLAGS.discovery_uri_template, {&quot;api&quot;: name, &quot;apiVersion&quot;: version}
186          )
187      )
188      if resp.status == 200:
189          discovery = json.loads(content)
190          service = build_from_document(discovery)
191          doc_name = &quot;{}.{}.json&quot;.format(name, version)
192          discovery_file_path = artifact_destination_dir / doc_name
193          revision = None
194          pathlib.Path(discovery_file_path).touch(exist_ok=True)
195          with open(discovery_file_path, &quot;r+&quot;) as f:
196              try:
197                  json_data = json.load(f)
198                  revision = json_data[&quot;revision&quot;]
199              except json.JSONDecodeError:
200                  revision = None
201              if revision is None or discovery[&quot;revision&quot;] &gt;= revision:
202                  f.seek(0)
203                  json.dump(discovery, f, indent=2, sort_keys=True)
204                  f.truncate()
205      elif resp.status == 404:
206          print(
207              &quot;Warning: {} {} not found. HTTP Code: {}&quot;.format(name, version, resp.status)
208          )
209          return
210      else:
211          print(
212              &quot;Warning: {} {} could not be built. HTTP Code: {}&quot;.format(
213                  name, version, resp.status
214              )
215          )
216          return
217      document_collection_recursive(
218          service,
219          &quot;{}_{}.&quot;.format(name, safe_version(version)),
220          discovery,
221          discovery,
222          doc_destination_dir,
223          artifact_destination_dir,
224      )
225  def document_api_from_discovery_document(
226      discovery_url, doc_destination_dir, artifact_destination_dir=DISCOVERY_DOC_DIR
227  ):
228      http = build_http()
229      response, content = http.request(discovery_url)
230      discovery = json.loads(content)
231      service = build_from_document(discovery)
232      name = discovery[&quot;version&quot;]
233      version = safe_version(discovery[&quot;version&quot;])
234      document_collection_recursive(
235          service,
236          &quot;{}_{}.&quot;.format(name, version),
237          discovery,
238          discovery,
239          doc_destination_dir,
240          artifact_destination_dir,
241      )
242  def generate_all_api_documents(
243      directory_uri=DIRECTORY_URI,
244      doc_destination_dir=BASE,
245      artifact_destination_dir=DISCOVERY_DOC_DIR,
246  ):
247      api_directory = collections.defaultdict(list)
248      http = build_http()
249      resp, content = http.request(directory_uri)
250      if resp.status == 200:
251          directory = json.loads(content)[&quot;items&quot;]
252          for api in directory:
253              document_api(
254                  api[&quot;name&quot;],
255                  api[&quot;version&quot;],
256                  api[&quot;discoveryRestUrl&quot;],
257                  doc_destination_dir,
258                  artifact_destination_dir,
259              )
260              api_directory[api[&quot;name&quot;]].append(api[&quot;version&quot;])
261          for api in api_directory:
262              api_directory[api] = sorted(api_directory[api])
263          api_directory = collections.OrderedDict(
264              sorted(api_directory.items(), key=lambda x: x[0])
265          )
266          markdown = []
267          for api, versions in api_directory.items():
268              markdown.append(&quot;## %s&quot; % api)
269              for version in versions:
270                  markdown.append(
271                      &quot;* [%s](http://googleapis.github.io/google-api-python-client/docs/dyn/%s_%s.html)&quot;
272                      % (version, api, safe_version(version))
273                  )
274              markdown.append(&quot;\n&quot;)
275          with open(doc_destination_dir / &quot;index.md&quot;, &quot;w&quot;) as f:
276              markdown = &quot;\n&quot;.join(markdown)
277              f.write(markdown)
278      else:
279          sys.exit(&quot;Failed to load the discovery document.&quot;)
280  if __name__ == &quot;__main__&quot;:
281      FLAGS = parser.parse_args(sys.argv[1:])
282      if FLAGS.discovery_uri:
283          document_api_from_discovery_document(
284              discovery_url=FLAGS.discovery_uri,
285              doc_destination_dir=FLAGS.dest,
286          )
287      else:
288          generate_all_api_documents(
289              directory_uri=FLAGS.directory_uri,
290              doc_destination_dir=FLAGS.dest,
291          )
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    