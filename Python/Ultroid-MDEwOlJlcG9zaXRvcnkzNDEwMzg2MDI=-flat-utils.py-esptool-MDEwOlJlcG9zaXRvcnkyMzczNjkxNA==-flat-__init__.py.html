
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 7.739307535641547%, Tokens: 9</h2>
        <div class="column">
            <h3>Ultroid-MDEwOlJlcG9zaXRvcnkzNDEwMzg2MDI=-flat-utils.py</h3>
            <pre><code>1  from importlib import util
2  from sys import modules
3  configPaths = [
4      "ub",
5      "var",
6      "support",
7      "userbot",
8      "telebot",
9      "fridaybot",
10      "uniborg.util",
11      "telebot.utils",
12      "userbot.utils",
13      "userbot.events",
14      "userbot.config",
15      "fridaybot.utils",
16      "fridaybot.Config",
17      "userbot.uniborgConfig",
18  ]
19  def load_addons(plugin_name):
<span onclick='openModal()' class='match'>20      base_name = plugin_name.split("/")[-1].split("\\")[-1].replace(".py", "")
20      base_name = plugin_name.split("/")[-1].split("\\")[-1].replace(".py", "")
</span>21      if base_name.startswith("__"):
22          return
23      from pyUltroid import fns
24      from .. import HNDLR, LOGS, asst, udB, ultroid_bot
25      from .._misc import _supporter as config
26      from .._misc._assistant import asst_cmd, callback, in_pattern
27      from .._misc._decorators import ultroid_cmd
28      from .._misc._supporter import Config, admin_cmd, sudo_cmd
29      from .._misc._wrappers import eod, eor
30      from ..configs import Var
31      from ..dB._core import HELP
32      name = plugin_name.replace("/", ".").replace("\\", ".").replace(".py", "")
33      spec = util.spec_from_file_location(name, plugin_name)
34      mod = util.module_from_spec(spec)
35      for path in configPaths:
36          modules[path] = config
37      modules["pyUltroid.functions"] = fns
38      mod.LOG_CHANNEL = udB.get_key("LOG_CHANNEL")
39      mod.udB = udB
40      mod.asst = asst
41      mod.tgbot = asst
42      mod.ultroid_bot = ultroid_bot
43      mod.ub = ultroid_bot
44      mod.bot = ultroid_bot
45      mod.ultroid = ultroid_bot
46      mod.borg = ultroid_bot
47      mod.telebot = ultroid_bot
48      mod.jarvis = ultroid_bot
49      mod.friday = ultroid_bot
50      mod.eod = eod
51      mod.edit_delete = eod
52      mod.LOGS = LOGS
53      mod.in_pattern = in_pattern
54      mod.hndlr = HNDLR
55      mod.handler = HNDLR
56      mod.HNDLR = HNDLR
57      mod.CMD_HNDLR = HNDLR
58      mod.Config = Config
59      mod.Var = Var
60      mod.eor = eor
61      mod.edit_or_reply = eor
62      mod.asst_cmd = asst_cmd
63      mod.ultroid_cmd = ultroid_cmd
64      mod.on_cmd = ultroid_cmd
65      mod.callback = callback
66      mod.Redis = udB.get_key
67      mod.admin_cmd = admin_cmd
68      mod.sudo_cmd = sudo_cmd
69      mod.HELP = HELP.get("Addons", {})
70      mod.CMD_HELP = HELP.get("Addons", {})
71      spec.loader.exec_module(mod)
72      modules[name] = mod
73      doc = modules[name].__doc__.format(i=HNDLR) if modules[name].__doc__ else ""
74      if "Addons" in HELP.keys():
75          update_cmd = HELP["Addons"]
76          try:
77              update_cmd.update({base_name: doc})
78          except BaseException:
79              pass
80      else:
81          try:
82              HELP.update({"Addons": {base_name: doc}})
83          except BaseException as em:
84              pass
</code></pre>
        </div>
        <div class="column">
            <h3>esptool-MDEwOlJlcG9zaXRvcnkyMzczNjkxNA==-flat-__init__.py</h3>
            <pre><code>1  import argparse
2  import os
3  import sys
4  from collections import namedtuple
5  from io import StringIO
6  import espefuse.efuse.esp32 as esp32_efuse
7  import espefuse.efuse.esp32c2 as esp32c2_efuse
8  import espefuse.efuse.esp32c3 as esp32c3_efuse
9  import espefuse.efuse.esp32c6 as esp32c6_efuse
10  import espefuse.efuse.esp32h2 as esp32h2_efuse
11  import espefuse.efuse.esp32h2beta1 as esp32h2beta1_efuse
12  import espefuse.efuse.esp32s2 as esp32s2_efuse
13  import espefuse.efuse.esp32s3 as esp32s3_efuse
14  import espefuse.efuse.esp32s3beta2 as esp32s3beta2_efuse
15  import esptool
16  DefChip = namedtuple("DefChip", ["chip_name", "efuse_lib", "chip_class"])
17  SUPPORTED_BURN_COMMANDS = [
18      "read_protect_efuse",
19      "write_protect_efuse",
20      "burn_efuse",
21      "burn_block_data",
22      "burn_bit",
23      "burn_key",
24      "burn_key_digest",
25      "burn_custom_mac",
26      "set_flash_voltage",
27      "execute_scripts",
28  ]
29  SUPPORTED_COMMANDS = [
30      "summary",
31      "dump",
32      "get_custom_mac",
33      "adc_info",
34      "check_error",
35  ] + SUPPORTED_BURN_COMMANDS
<span onclick='openModal()' class='match'>36  SUPPORTED_CHIPS = {
37      "esp32": DefChip("ESP32", esp32_efuse, esptool.targets.ESP32ROM),
38      "esp32c2": DefChip("ESP32-C2", esp32c2_efuse, esptool.targets.ESP32C2ROM),
39      "esp32c3": DefChip("ESP32-C3", esp32c3_efuse, esptool.targets.ESP32C3ROM),
</span>40      "esp32c6": DefChip("ESP32-C6", esp32c6_efuse, esptool.targets.ESP32C6ROM),
41      "esp32h2": DefChip("ESP32-H2", esp32h2_efuse, esptool.targets.ESP32H2ROM),
42      "esp32h2beta1": DefChip(
43          "ESP32-H2(beta1)", esp32h2beta1_efuse, esptool.targets.ESP32H2BETA1ROM
44      ),
45      "esp32s2": DefChip("ESP32-S2", esp32s2_efuse, esptool.targets.ESP32S2ROM),
46      "esp32s3": DefChip("ESP32-S3", esp32s3_efuse, esptool.targets.ESP32S3ROM),
47      "esp32s3beta2": DefChip(
48          "ESP32-S3(beta2)", esp32s3beta2_efuse, esptool.targets.ESP32S3BETA2ROM
49      ),
50  }
51  def get_esp(
52      port,
53      baud,
54      connect_mode,
55      chip="auto",
56      skip_connect=False,
57      virt=False,
58      debug=False,
59      virt_efuse_file=None,
60  ):
61      if chip not in ["auto"] + list(SUPPORTED_CHIPS.keys()):
62          raise esptool.FatalError("get_esp: Unsupported chip (%s)" % chip)
63      if virt:
64          efuse = SUPPORTED_CHIPS.get(chip, SUPPORTED_CHIPS["esp32"]).efuse_lib
65          esp = efuse.EmulateEfuseController(virt_efuse_file, debug)
66      else:
67          if chip == "auto" and not skip_connect:
68              esp = esptool.cmds.detect_chip(port, baud, connect_mode)
69          else:
70              esp = SUPPORTED_CHIPS.get(chip, SUPPORTED_CHIPS["esp32"]).chip_class(
71                  port if not skip_connect else StringIO(), baud
72              )
73              if not skip_connect:
74                  esp.connect(connect_mode)
75      return esp
76  def get_efuses(esp, skip_connect=False, debug_mode=False, do_not_confirm=False):
77      for name in SUPPORTED_CHIPS:
78          if SUPPORTED_CHIPS[name].chip_name == esp.CHIP_NAME:
79              efuse = SUPPORTED_CHIPS[name].efuse_lib
80              return (
81                  efuse.EspEfuses(esp, skip_connect, debug_mode, do_not_confirm),
82                  efuse.operations,
83              )
84      else:
85          raise esptool.FatalError("get_efuses: Unsupported chip (%s)" % esp.CHIP_NAME)
86  def split_on_groups(all_args):
87      groups = []
88      cmd = []
89      used_cmds = []
90      for item in all_args:
91          if item in SUPPORTED_COMMANDS:
92              used_cmds.append(item)
93              if cmd != []:
94                  groups.append(cmd)
95              cmd = []
96          cmd.append(item)
97      if cmd:
98          groups.append(cmd)
99      return groups, used_cmds
100  def main(custom_commandline=None, esp=None):
101      external_esp = esp is not None
102      init_parser = argparse.ArgumentParser(
103          description="espefuse.py v%s - [ESP32xx] efuse get/set tool"
104          % esptool.__version__,
105          prog="espefuse",
106          add_help=False,
107      )
108      init_parser.add_argument(
109          "--chip",
110          "-c",
111          help="Target chip type",
112          choices=["auto"] + list(SUPPORTED_CHIPS.keys()),
113          default=os.environ.get("ESPTOOL_CHIP", "auto"),
114      )
115      init_parser.add_argument(
116          "--baud",
117          "-b",
118          help="Serial port baud rate used when flashing/reading",
119          type=esptool.arg_auto_int,
120          default=os.environ.get("ESPTOOL_BAUD", esptool.loader.ESPLoader.ESP_ROM_BAUD),
121      )
122      init_parser.add_argument(
123          "--port",
124          "-p",
125          help="Serial port device",
126          default=os.environ.get("ESPTOOL_PORT", esptool.loader.ESPLoader.DEFAULT_PORT),
127      )
128      init_parser.add_argument(
129          "--before",
130          help="What to do before connecting to the chip",
131          choices=["default_reset", "usb_reset", "no_reset", "no_reset_no_sync"],
132          default="default_reset",
133      )
134      init_parser.add_argument(
135          "--debug",
136          "-d",
137          help="Show debugging information (loglevel=DEBUG)",
138          action="store_true",
139      )
140      init_parser.add_argument(
141          "--virt",
142          help="For host tests, the tool will work in the virtual mode "
143          "(without connecting to a chip).",
144          action="store_true",
145      )
146      init_parser.add_argument(
147          "--path-efuse-file",
148          help="For host tests, saves efuse memory to file.",
149          type=str,
150          default=None,
151      )
152      init_parser.add_argument(
153          "--do-not-confirm",
154          help="Do not pause for confirmation before permanently writing efuses. "
155          "Use with caution.",
156          action="store_true",
157      )
158      common_args, remaining_args = init_parser.parse_known_args(custom_commandline)
159      debug_mode = common_args.debug or ("dump" in remaining_args)
160      just_print_help = [
161          True for arg in remaining_args if arg in ["--help", "-h"]
162      ] or remaining_args == []
163      print("espefuse.py v{}".format(esptool.__version__))
164      if not external_esp:
165          try:
166              esp = get_esp(
167                  common_args.port,
168                  common_args.baud,
169                  common_args.before,
170                  common_args.chip,
171                  just_print_help,
172                  common_args.virt,
173                  common_args.debug,
174                  common_args.path_efuse_file,
175              )
176          except esptool.FatalError as e:
177              raise esptool.FatalError(
178                  f"{e}\nPlease make sure that you have specified "
179                  "the right port with the --port argument"
180              )
181      efuses, efuse_operations = get_efuses(
182          esp, just_print_help, debug_mode, common_args.do_not_confirm
183      )
184      parser = argparse.ArgumentParser(parents=[init_parser])
185      subparsers = parser.add_subparsers(
186          dest="operation", help="Run espefuse.py {command} -h for additional help"
187      )
188      efuse_operations.add_commands(subparsers, efuses)
189      grouped_remaining_args, used_cmds = split_on_groups(remaining_args)
190      if len(grouped_remaining_args) == 0:
191          parser.print_help()
192          parser.exit(1)
193      there_are_multiple_burn_commands_in_args = (
194          sum(cmd in SUPPORTED_BURN_COMMANDS for cmd in used_cmds) > 1
195      )
196      if there_are_multiple_burn_commands_in_args:
197          efuses.batch_mode_cnt += 1
198      try:
199          for rem_args in grouped_remaining_args:
200              args, unused_args = parser.parse_known_args(rem_args, namespace=common_args)
201              if args.operation is None:
202                  parser.print_help()
203                  parser.exit(1)
204              assert (
205                  len(unused_args) == 0
206              ), 'Not all commands were recognized "{}"'.format(unused_args)
207              operation_func = vars(efuse_operations)[args.operation]
208              print('\n=== Run "{}" command ==='.format(args.operation))
209              if hasattr(args, "show_sensitive_info"):
210                  if args.show_sensitive_info or args.debug:
211                      args.show_sensitive_info = True
212                  else:
213                      print("Sensitive data will be hidden (see --show-sensitive-info)")
214              operation_func(esp, efuses, args)
215          if there_are_multiple_burn_commands_in_args:
216              efuses.batch_mode_cnt -= 1
217              if not efuses.burn_all(check_batch_mode=True):
218                  raise esptool.FatalError("BURN was not done")
219      finally:
220          if not external_esp and not common_args.virt and esp._port:
221              esp._port.close()
222  def _main():
223      try:
224          main()
225      except esptool.FatalError as e:
226          print("\nA fatal error occurred: %s" % e)
227          sys.exit(2)
228  if __name__ == "__main__":
229      _main()
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from Ultroid-MDEwOlJlcG9zaXRvcnkzNDEwMzg2MDI=-flat-utils.py</div>
                <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from esptool-MDEwOlJlcG9zaXRvcnkyMzczNjkxNA==-flat-__init__.py</div>
                <div class="column column_space"><pre><code>20      base_name = plugin_name.split("/")[-1].split("\\")[-1].replace(".py", "")
20      base_name = plugin_name.split("/")[-1].split("\\")[-1].replace(".py", "")
</pre></code></div>
                <div class="column column_space"><pre><code>36  SUPPORTED_CHIPS = {
37      "esp32": DefChip("ESP32", esp32_efuse, esptool.targets.ESP32ROM),
38      "esp32c2": DefChip("ESP32-C2", esp32c2_efuse, esptool.targets.ESP32C2ROM),
39      "esp32c3": DefChip("ESP32-C3", esp32c3_efuse, esptool.targets.ESP32C3ROM),
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    