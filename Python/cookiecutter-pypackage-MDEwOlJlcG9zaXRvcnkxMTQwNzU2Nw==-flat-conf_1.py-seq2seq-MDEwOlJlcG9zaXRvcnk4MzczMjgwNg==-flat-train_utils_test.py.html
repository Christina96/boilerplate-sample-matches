
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>Code Files</title>
            <style>
                .column {
                    width: 47%;
                    float: left;
                    padding: 12px;
                    border: 2px solid #ffd0d0;
                }
        
                .modal {
                    display: none;
                    position: fixed;
                    z-index: 1;
                    left: 0;
                    top: 0;
                    width: 100%;
                    height: 100%;
                    overflow: auto;
                    background-color: rgb(0, 0, 0);
                    background-color: rgba(0, 0, 0, 0.4);
                }
    
                .modal-content {
                    height: 250%;
                    background-color: #fefefe;
                    margin: 5% auto;
                    padding: 20px;
                    border: 1px solid #888;
                    width: 80%;
                }
    
                .close {
                    color: #aaa;
                    float: right;
                    font-size: 20px;
                    font-weight: bold;
                    text-align: right;
                }
    
                .close:hover, .close:focus {
                    color: black;
                    text-decoration: none;
                    cursor: pointer;
                }
    
                .row {
                    float: right;
                    width: 100%;
                }
    
                .column_space  {
                    white - space: pre-wrap;
                }
                 
                pre {
                    width: 100%;
                    overflow-y: auto;
                    background: #f8fef2;
                }
                
                .match {
                    cursor:pointer; 
                    background-color:#00ffbb;
                }
        </style>
    </head>
    <body>
        <h2>Similarity: 4.986149584487535%, Tokens: 9, <button onclick='openModal()' class='match'></button></h2>
        <div class="column">
            <h3>cookiecutter-pypackage-MDEwOlJlcG9zaXRvcnkxMTQwNzU2Nw==-flat-conf_1.py</h3>
            <pre><code>1  #!/usr/bin/env python
2  import os
3  import sys
4  sys.path.insert(0, os.path.abspath('..'))
5  import {{ cookiecutter.project_slug }}
6  extensions = ['sphinx.ext.autodoc', 'sphinx.ext.viewcode']
7  templates_path = ['_templates']
8  source_suffix = '.rst'
9  master_doc = 'index'
10  project = '{{ cookiecutter.project_name }}'
11  copyright = "{% now 'local', '%Y' %}, {{ cookiecutter.full_name }}"
12  author = "{{ cookiecutter.full_name }}"
<span onclick='openModal()' class='match'>13  version = {{ cookiecutter.project_slug }}.__version__
14  release = {{ cookiecutter.project_slug }}.__version__
15  language = None
</span>16  exclude_patterns = ['_build', 'Thumbs.db', '.DS_Store']
17  pygments_style = 'sphinx'
18  todo_include_todos = False
19  html_theme = 'alabaster'
20  html_static_path = ['_static']
21  htmlhelp_basename = '{{ cookiecutter.project_slug }}doc'
22  latex_elements = {
23  }
24  latex_documents = [
25      (master_doc, '{{ cookiecutter.project_slug }}.tex',
26       '{{ cookiecutter.project_name }} Documentation',
27       '{{ cookiecutter.full_name }}', 'manual'),
28  ]
29  man_pages = [
30      (master_doc, '{{ cookiecutter.project_slug }}',
31       '{{ cookiecutter.project_name }} Documentation',
32       [author], 1)
33  ]
34  texinfo_documents = [
35      (master_doc, '{{ cookiecutter.project_slug }}',
36       '{{ cookiecutter.project_name }} Documentation',
37       author,
38       '{{ cookiecutter.project_slug }}',
39       'One line description of project.',
40       'Miscellaneous'),
41  ]
</code></pre>
        </div>
        <div class="column">
            <h3>seq2seq-MDEwOlJlcG9zaXRvcnk4MzczMjgwNg==-flat-train_utils_test.py</h3>
            <pre><code>1  from __future__ import absolute_import
2  from __future__ import division
3  from __future__ import print_function
4  from __future__ import unicode_literals
5  import tempfile
6  import tensorflow as tf
7  import numpy as np
8  from seq2seq.contrib import rnn_cell
9  from seq2seq.data import input_pipeline
10  from seq2seq.test import utils as test_utils
11  from seq2seq.training import utils as training_utils
12  class TestGetRNNCell(tf.test.TestCase):
13    def test_single_layer(self):
14      cell = training_utils.get_rnn_cell(
15          cell_class="BasicLSTMCell", cell_params={"num_units": 16}, num_layers=1)
16      self.assertIsInstance(cell, tf.contrib.rnn.BasicLSTMCell)
17      self.assertEqual(cell.output_size, 16)
18    def test_multi_layer(self):
19      cell = training_utils.get_rnn_cell(
20          cell_class="BasicLSTMCell", cell_params={"num_units": 16}, num_layers=2)
21      self.assertIsInstance(cell, rnn_cell.ExtendedMultiRNNCell)
22      self.assertEqual(cell.output_size, 16)
23    def test_full_class_path(self):
24      cell = training_utils.get_rnn_cell(
25          cell_class="tensorflow.contrib.rnn.BasicRNNCell",
26          cell_params={"num_units": 16},
27          num_layers=1)
28      self.assertIsInstance(cell, tf.contrib.rnn.BasicRNNCell)
29      self.assertEqual(cell.output_size, 16)
30    def test_dropout(self):
31      cell = training_utils.get_rnn_cell(
32          cell_class="BasicLSTMCell",
33          cell_params={"num_units": 16},
34          num_layers=1,
35          dropout_input_keep_prob=0.5)
36      self.assertIsInstance(cell, tf.contrib.rnn.DropoutWrapper)
37      self.assertEqual(cell.output_size, 16)
38    def test_extra_args(self):
39      with self.assertRaises(ValueError):
40        training_utils.get_rnn_cell(
41            cell_class="LSTMCell",
42            cell_params={"num_units": 16,
43                         "use_peepholesERROR": True},
44            num_layers=1)
45      cell = training_utils.get_rnn_cell(
46          cell_class="LSTMCell",
47          cell_params={"num_units": 8,
48                       "use_peepholes": True,
49                       "forget_bias": 0.5},
50          num_layers=1)
51      self.assertIsInstance(cell, tf.contrib.rnn.LSTMCell)
52      self.assertEqual(cell._use_peepholes, True)
53      self.assertEqual(cell._forget_bias, 0.5)
54      self.assertEqual(cell.output_size, 8)
55  class TestTrainOptions(tf.test.TestCase):
56    def setUp(self):
57      super(TestTrainOptions, self).setUp()
58      self.model_dir = tempfile.mkdtemp()
59      self.model_params = {"num_layers": 4}
60      self.model_class = "AttentionSeq2Seq"
61    def test_read_write(self):
62      saved_opts = training_utils.TrainOptions(
63          model_class=self.model_class, model_params=self.model_params)
64      saved_opts.dump(self.model_dir)
65      loaded_opt = training_utils.TrainOptions.load(model_dir=self.model_dir)
66      self.assertEqual(saved_opts.model_params, loaded_opt.model_params)
67      self.assertEqual(saved_opts.model_class, loaded_opt.model_class)
68  class TestInputFn(tf.test.TestCase):
69    def _test_with_args(self, **kwargs):
70      sources_file, targets_file = test_utils.create_temp_parallel_data(
71          sources=["Hello World ."], targets=["Goodbye ."])
72      pipeline = input_pipeline.ParallelTextInputPipeline(
73          params={
<span onclick='openModal()' class='match'>74              "source_files": [sources_file.name],
75              "target_files": [targets_file.name]
76          },
77          mode=tf.contrib.learn.ModeKeys.TRAIN)
78      input_fn = training_utils.create_input_fn(pipeline=pipeline, **kwargs)
</span>79      features, labels = input_fn()
80      with self.test_session() as sess:
81        with tf.contrib.slim.queues.QueueRunners(sess):
82          features_, labels_ = sess.run([features, labels])
83      self.assertEqual(
84          set(features_.keys()), set(["source_tokens", "source_len"]))
85      self.assertEqual(set(labels_.keys()), set(["target_tokens", "target_len"]))
86    def test_without_buckets(self):
87      self._test_with_args(batch_size=10)
88    def test_wit_buckets(self):
89      self._test_with_args(batch_size=10, bucket_boundaries=[0, 5, 10])
90  class TestLRDecay(tf.test.TestCase):
91    def test_no_decay(self):
92      decay_fn = training_utils.create_learning_rate_decay_fn(
93          decay_type=None, decay_steps=5, decay_rate=2.0)
94      self.assertEqual(decay_fn, None)
95      decay_fn = training_utils.create_learning_rate_decay_fn(
96          decay_type="", decay_steps=5, decay_rate=2.0)
97      self.assertEqual(decay_fn, None)
98    def test_decay_without_min(self):
99      decay_fn = training_utils.create_learning_rate_decay_fn(
100          decay_type="exponential_decay",
101          decay_steps=10,
102          decay_rate=0.9,
103          start_decay_at=100,
104          stop_decay_at=1000,
105          staircase=False)
106      initial_lr = 1.0
107      with self.test_session() as sess:
108        np.testing.assert_equal(sess.run(decay_fn(initial_lr, 50)), initial_lr)
109        np.testing.assert_almost_equal(
110            sess.run(decay_fn(initial_lr, 115)), initial_lr * 0.9**(15.0 / 10.0))
111        np.testing.assert_almost_equal(
112            sess.run(decay_fn(initial_lr, 5000)), initial_lr * 0.9**(
113                (1000.0 - 100.0) / 10.0))
114    def test_decay_with_min(self):
115      decay_fn = training_utils.create_learning_rate_decay_fn(
116          decay_type="exponential_decay",
117          decay_steps=10,
118          decay_rate=0.9,
119          start_decay_at=100,
120          stop_decay_at=1000.0,
121          min_learning_rate=0.01,
122          staircase=False)
123      initial_lr = 1.0
124      with self.test_session() as sess:
125        np.testing.assert_almost_equal(sess.run(decay_fn(initial_lr, 900)), 0.01)
126  if __name__ == '__main__':
127    tf.test.main()
</code></pre>
        </div>
    
        <!-- The Modal -->
        <div id="myModal" class="modal">
            <div class="modal-content">
                <span class="row close">&times;</span>
                <div class='row'>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from cookiecutter-pypackage-MDEwOlJlcG9zaXRvcnkxMTQwNzU2Nw==-flat-conf_1.py</div>
                    <div class="column" style="font-weight: bold;text-decoration: underline">Fragment from seq2seq-MDEwOlJlcG9zaXRvcnk4MzczMjgwNg==-flat-train_utils_test.py</div>
                </div>
                <div class="column column_space"><pre><code>13  version = {{ cookiecutter.project_slug }}.__version__
14  release = {{ cookiecutter.project_slug }}.__version__
15  language = None
</pre></code></div>
                <div class="column column_space"><pre><code>74              "source_files": [sources_file.name],
75              "target_files": [targets_file.name]
76          },
77          mode=tf.contrib.learn.ModeKeys.TRAIN)
78      input_fn = training_utils.create_input_fn(pipeline=pipeline, **kwargs)
</pre></code></div>
            </div>
        </div>
        <script>
        // Get the modal
        var modal = document.getElementById("myModal");
        
        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");
        
        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];
        
        // When the user clicks the button, open the modal
        function openModal(){
          modal.style.display = "block";
        }
        
        // When the user clicks on <span> (x), close the modal
        span.onclick = function() {
        modal.style.display = "none";
        }
        
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
        if (event.target == modal) {
        modal.style.display = "none";
        } }
        
        </script>
    </body>
    </html>
    