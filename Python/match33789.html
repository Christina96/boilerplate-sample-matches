<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>Matches for vcenter_1.py &amp; test_slackware_service.py</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<style>.modal {display: none;position: fixed;z-index: 1;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgb(0, 0, 0);background-color: rgba(0, 0, 0, 0.4);}  .modal-content {height: 250%;background-color: #fefefe;margin: 5% auto;padding: 20px;border: 1px solid #888;width: 80%;}  .close {color: #aaa;float: right;font-size: 20px;font-weight: bold;}  .close:hover, .close:focus {color: black;text-decoration: none;cursor: pointer;}  .column {float: left;width: 50%;}  .row:after {content: ;display: table;clear: both;}  #column1, #column2 {white-space: pre-wrap;}</style></head>
<body>
<div style="align-items: center; display: flex; justify-content: space-around;">
<div>
<h3 align="center">
Matches for vcenter_1.py &amp; test_slackware_service.py
      </h3>
<h1 align="center">
        7.4%
      </h1>
<center>
<a href="#" target="_top">
          INDEX
        </a>
<span>-</span>
<a href="#" target="_top">
          HELP
        </a>
</center>
</div>
<div>
<table bgcolor="#d0d0d0" border="1" cellspacing="0">
<tr><th><th>vcenter_1.py (21.052631%)<th>test_slackware_service.py (4.5283017%)<th>Tokens
<tr onclick='openModal("#0000ff")' onmouseleave='this.style.backgroundColor = "#D0D0D0"' onmouseover='this.style.backgroundColor = "yellow"' style="cursor:pointer"><td bgcolor="#0000ff"><font color="#0000ff">-</font><td><a href="#" name="0">(41-43)<td><a href="#" name="0">(40-42)</a><td align="center"><font color="#ff0000">12</font>
</td></td></a></td></td></tr></th></th></th></th></tr></table>
</div>
</div>
<hr/>
<div style="display: flex;">
<div style="flex-grow: 1;">
<h3>
<center>
<span>vcenter_1.py</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 from salt.utils.schema import ArrayItem, BooleanItem, IntegerItem, Schema, StringItem
2 class VCenterEntitySchema(Schema):
3     title = "VCenter Entity Schema"
4     description = "VCenter entity schema"
5     type = StringItem(
6         title="Type",
7         description="Specifies the entity type",
8         required=True,
9         enum=["vcenter"],
10     )
11     vcenter = StringItem(
12         title="vCenter", description="Specifies the vcenter hostname", required=True
13     )
14 class VCenterProxySchema(Schema):
15 <a name="0"></a>    title = "VCenter Proxy Connection Schema"
16     description = "Schema that describes the connection to a VCenter"
17     additional_properties = False
18     proxytype <font color="#0000ff"><a href="#"><img align="right" alt="other" border="0" src="forward.gif"/></a><b>= StringItem(required=True, enum=["vcenter"])
19     vcenter = StringItem(required=True, pattern=r"[^\s]+")
20     mechanism = StringItem(required=True, enum=</b></font>["userpass", "sspi"])
21     username = StringItem()
22     passwords = ArrayItem(min_items=1, items=StringItem(), unique_items=True)
23     verify_ssl = BooleanItem()
24     ca_bundle = StringItem()
25     domain = StringItem()
26     principal = StringItem(default="host")
27     protocol = StringItem(default="https")
28     port = IntegerItem(minimum=1)
</pre>
</div>
<div style="flex-grow: 1;">
<h3>
<center>
<span>test_slackware_service.py</span>
<span> - </span>
<span></span>
</center>
</h3>
<hr/>
<pre>
1 import os
2 import pytest
3 import salt.modules.slackware_service as slackware_service
4 from tests.support.mock import MagicMock, patch
5 @pytest.fixture
6 def configure_loader_modules():
7     return {slackware_service: {}}
8 @pytest.fixture
9 def mocked_rcd():
10     glob_output = [
11         "/etc/rc.d/rc.S",  # system rc file
12         "/etc/rc.d/rc.M",  # system rc file
13         "/etc/rc.d/rc.lxc",  # enabled
14         "/etc/rc.d/rc.modules",  # system rc file
15         "/etc/rc.d/rc.ntpd",  # enabled
16         "/etc/rc.d/rc.rpc",  # disabled
17         "/etc/rc.d/rc.salt-master",  # enabled
18         "/etc/rc.d/rc.salt-minion",  # disabled
19         "/etc/rc.d/rc.something.conf",  # config rc file
20         "/etc/rc.d/rc.sshd",  # disabled
21     ]
22     access_output = [
23         True,  # lxc
24         True,  # ntpd
25         False,  # rpc
26         True,  # salt-master
27         False,  # salt-minion
28     ]
29     glob_mock <font color="#0000ff"><div style="position:absolute;left:0"><a href="#"><img align="left" alt="other" border="0" src="back.gif"/></a></div><b>= patch("glob.glob", autospec=True, return_value=glob_output)
30     os_path_exists_mock = patch("os.path.exists", autospec=True, return_value=True)
31     os_access_mock = patch("os.access", autospec=True, side_effect=</b></font>access_output)
32     return glob_mock, os_path_exists_mock, os_access_mock
33 def test_get_all_rc_services_minus_system_and_config_files(mocked_rcd):
34     services_all = ["lxc", "ntpd", "rpc", "salt-master", "salt-minion", "sshd"]
35     glob_mock, os_path_exists_mock, os_access_mock = mocked_rcd
36     with glob_mock, os_path_exists_mock, os_access_mock:
37         assert slackware_service.get_all() == services_all
38 def test_if_only_executable_rc_files_are_returned_by_get_enabled(mocked_rcd):
39     services_enabled = ["lxc", "ntpd", "salt-master"]
40     glob_mock, os_path_exists_mock, os_access_mock = mocked_rcd
41     with glob_mock, os_path_exists_mock, os_access_mock:
42         assert slackware_service.get_enabled() == services_enabled
43 def test_if_only_not_executable_rc_files_are_returned_by_get_disabled(mocked_rcd):
44     services_disabled = ["rpc", "salt-minion", "sshd"]
45     glob_mock, os_path_exists_mock, os_access_mock = mocked_rcd
46     with glob_mock, os_path_exists_mock, os_access_mock:
47         assert slackware_service.get_disabled() == services_disabled
48 def test_if_a_rc_service_file_in_rcd_is_listed_as_available(mocked_rcd):
49     glob_mock, os_path_exists_mock, os_access_mock = mocked_rcd
50     with glob_mock, os_path_exists_mock, os_access_mock:
51         assert slackware_service.available("lxc")
52 def test_if_a_rc_service_file_not_in_rcd_is_not_listed_as_available(mocked_rcd):
53     glob_mock, os_path_exists_mock, os_access_mock = mocked_rcd
54     with glob_mock, os_path_exists_mock, os_access_mock:
55         assert not slackware_service.available("docker")
56 def test_if_a_rc_service_file_not_in_rcd_is_listed_as_missing(mocked_rcd):
57     glob_mock, os_path_exists_mock, os_access_mock = mocked_rcd
58     with glob_mock, os_path_exists_mock, os_access_mock:
59         assert slackware_service.missing("docker")
60 def test_if_a_rc_service_file_in_rcd_is_not_listed_as_missing(mocked_rcd):
61     glob_mock, os_path_exists_mock, os_access_mock = mocked_rcd
62     with glob_mock, os_path_exists_mock, os_access_mock:
63         assert not slackware_service.missing("lxc")
64 def test_service_start():
65     mock = MagicMock(return_value=True)
66     with patch.dict(slackware_service.__salt__, {"cmd.retcode": mock}):
67         assert not slackware_service.start("name")
68 def test_service_stop():
69     mock = MagicMock(return_value=True)
70     with patch.dict(slackware_service.__salt__, {"cmd.retcode": mock}):
71         assert not slackware_service.stop("name")
72 def test_service_restart():
73     mock = MagicMock(return_value=True)
74     with patch.dict(slackware_service.__salt__, {"cmd.retcode": mock}):
75         assert not slackware_service.restart("name")
76 def test_service_reload_():
77     mock = MagicMock(return_value=True)
78     with patch.dict(slackware_service.__salt__, {"cmd.retcode": mock}):
79         assert not slackware_service.reload_("name")
80 def test_service_force_reload():
81     mock = MagicMock(return_value=True)
82     with patch.dict(slackware_service.__salt__, {"cmd.retcode": mock}):
83         assert not slackware_service.force_reload("name")
84 def test_service_status():
85     mock = MagicMock(return_value=True)
86     with patch.dict(slackware_service.__salt__, {"cmd.retcode": mock}):
87         assert not slackware_service.status("name")
88 def test_if_executable_bit_is_set_when_enable_a_disabled_service():
89     os_path_exists_mock = patch("os.path.exists", autospec=True, return_value=True)
90     os_chmod = MagicMock(autospec=True, return_value=True)
91     os_chmod_mock = patch("os.chmod", os_chmod)
92     os_stat_result = os.stat_result(
93         (0o100644, 142555, 64770, 1, 0, 0, 1340, 1597376187, 1597376188, 1597376189)
94     )
95     os_stat_mock = patch("os.stat", autospec=True, return_value=os_stat_result)
96     with os_path_exists_mock, os_chmod_mock, os_stat_mock:
97         slackware_service.enable("svc_to_enable")
98         os_chmod.assert_called_with("/etc/rc.d/rc.svc_to_enable", 0o100755)
99 def test_if_executable_bit_is_unset_when_disable_an_enabled_service():
100     os_path_exists_mock = patch("os.path.exists", autospec=True, return_value=True)
101     os_chmod = MagicMock(autospec=True, return_value=True)
102     os_chmod_mock = patch("os.chmod", os_chmod)
103     os_stat_result = os.stat_result(
104         (0o100755, 142555, 64770, 1, 0, 0, 1340, 1597376187, 1597376188, 1597376189)
105     )
106     os_stat_mock = patch("os.stat", autospec=True, return_value=os_stat_result)
107     with os_path_exists_mock, os_chmod_mock, os_stat_mock:
108         slackware_service.disable("svc_to_disable")
109         os_chmod.assert_called_with("/etc/rc.d/rc.svc_to_disable", 0o100644)
110 def test_if_an_enabled_service_is_not_disabled():
111     os_path_exists_mock = patch("os.path.exists", autospec=True, return_value=True)
112     os_access_mock = patch("os.access", autospec=True, return_value=True)
113     with os_path_exists_mock, os_access_mock:
114         assert slackware_service.enabled("lxc")
115         assert not slackware_service.disabled("lxc")
116 def test_if_a_disabled_service_is_not_enabled():
117     os_path_exists_mock = patch("os.path.exists", autospec=True, return_value=True)
118     os_access_mock = patch("os.access", autospec=True, return_value=False)
119     with os_path_exists_mock, os_access_mock:
120         assert slackware_service.disabled("rpc")
121         assert not slackware_service.enabled("rpc")
</pre>
</div>
</div>
<div class="modal" id="myModal" style="display:none;"><div class="modal-content"><span class="close">x</span><p></p><div class="row"><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 1</div><div class="column" style="font-weight: bold;text-decoration: underline">Fragment from File 2</div></div><div class="row"><div class="column" id="column1">Column 1</div><div class="column" id="column2">Column 2</div></div></div></div><script>var modal=document.getElementById("myModal"),span=document.getElementsByClassName("close")[0];span.onclick=function(){modal.style.display="none"};window.onclick=function(a){a.target==modal&&(modal.style.display="none")};function openModal(a){console.log("the color is "+a);let b=getCodes(a);console.log(b);var c=document.getElementById("column1");c.innerText=b[0];var d=document.getElementById("column2");d.innerText=b[1];c.style.color=a;c.style.fontWeight="bold";d.style.fontWeight="bold";d.style.color=a;var e=document.getElementById("myModal");e.style.display="block"}function getCodes(a){for(var b=document.getElementsByTagName("font"),c=[],d=0;d<b.length;d++)b[d].attributes.color.nodeValue===a&&"-"!==b[d].innerText&&c.push(b[d].innerText);return c}</script><script>const params=window.location.search;const urlParams=new URLSearchParams(params);const searchText=urlParams.get('lines');let lines=searchText.split(',');for(let line of lines){const elements=document.getElementsByTagName('td');for(let i=0;i<elements.length;i++){if(elements[i].innerText.includes(line)){elements[i].style.background='green';break;}}}</script></body>
</html>
